<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>libetn_iot_sdk: Connection and Status APIs</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libetn_iot_sdk
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d6/dce/group__connection__status__apis.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Connection and Status APIs<div class="ingroups"><a class="el" href="../../d3/d15/group__eaton__iot__sdk__apis.html">Eaton IoT SDK APIs</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Collaboration diagram for Connection and Status APIs:</div>
<div class="dyncontent">
<center><table><tr><td><img src="../../d6/dce/group__connection__status__apis.png" border="0" alt="" usemap="#d6_2dce_2group____connection____status____apis"/>
<map name="d6_2dce_2group____connection____status____apis" id="d6_2dce_2group____connection____status____apis">
<area shape="rect" id="node2" href="../../d3/d15/group__eaton__iot__sdk__apis.html" title="Eaton IoT SDK APIs" alt="" coords="5,5,152,32"/></map>
</td></tr></table></center>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d65/structiot__connection__options.html">iot_connection_options</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure containing device connection options used to initialize a connection with IoT Hub.  <a href="../../df/d65/structiot__connection__options.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d8a/structiot__connection__status.html">iot_connection_status</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Structure containing the status of a device connection with IoT Hub.  <a href="../../d7/d8a/structiot__connection__status.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga46c73bec3f14cba2453d334b2dabf459"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d38/iot__device_8h.html#ab998a158fc458cb8f09b1928c8f3e7ac">IOT_DEVICE_HANDLE</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dce/group__connection__status__apis.html#ga46c73bec3f14cba2453d334b2dabf459">iot_open</a> (const <a class="el" href="../../db/d38/iot__device_8h.html#a25a6c789cb39666bbb28c4a1fbcc3508">IOT_CONNECTION_OPTIONS</a> *connectionOptions, int *status, void *owner_context)</td></tr>
<tr class="memdesc:ga46c73bec3f14cba2453d334b2dabf459"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opens a connection with IoT Hub.  <a href="#ga46c73bec3f14cba2453d334b2dabf459">More...</a><br/></td></tr>
<tr class="separator:ga46c73bec3f14cba2453d334b2dabf459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8c45f91af9b8f5c2cff6cb86a63bb2a9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dce/group__connection__status__apis.html#ga8c45f91af9b8f5c2cff6cb86a63bb2a9">iot_close</a> (<a class="el" href="../../db/d38/iot__device_8h.html#ab998a158fc458cb8f09b1928c8f3e7ac">IOT_DEVICE_HANDLE</a> deviceHandle)</td></tr>
<tr class="memdesc:ga8c45f91af9b8f5c2cff6cb86a63bb2a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes a connection with IoT Hub.  <a href="#ga8c45f91af9b8f5c2cff6cb86a63bb2a9">More...</a><br/></td></tr>
<tr class="separator:ga8c45f91af9b8f5c2cff6cb86a63bb2a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1db1921b8cca62f215c0e89907870e05"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dce/group__connection__status__apis.html#ga1db1921b8cca62f215c0e89907870e05">iot_getStatus</a> (<a class="el" href="../../db/d38/iot__device_8h.html#ab998a158fc458cb8f09b1928c8f3e7ac">IOT_DEVICE_HANDLE</a> deviceHandle, <a class="el" href="../../db/d38/iot__device_8h.html#a92dc5f25e1aa5223011c3a220285dea7">IOT_CONNECTION_STATUS</a> *connectionStatus)</td></tr>
<tr class="memdesc:ga1db1921b8cca62f215c0e89907870e05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the status of the connection.  <a href="#ga1db1921b8cca62f215c0e89907870e05">More...</a><br/></td></tr>
<tr class="separator:ga1db1921b8cca62f215c0e89907870e05"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>See <a class="el" href="../../d5/df1/md__src_product-ref1_px-toolkit_etn_source_libetn_iot_sdk_docs_iot_device_sdk.html#md_connection_status_apis">Connection and Status overview</a> </p>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga46c73bec3f14cba2453d334b2dabf459"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d38/iot__device_8h.html#ab998a158fc458cb8f09b1928c8f3e7ac">IOT_DEVICE_HANDLE</a> iot_open </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../db/d38/iot__device_8h.html#a25a6c789cb39666bbb28c4a1fbcc3508">IOT_CONNECTION_OPTIONS</a> *&#160;</td>
          <td class="paramname"><em>connectionOptions</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>owner_context</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Opens a connection with IoT Hub. </p>
<p>Each device connecting to IoT Hub must first be registered with Azure via PX White, and assigned a unique device UUID in the form: 00000000-0000-0000-0000-000000000000. Once registered, a device will be assigned a unique connection string by PX White.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">connectionOptions</td><td>Device connection options (refer to <a class="el" href="../../df/d65/structiot__connection__options.html" title="Structure containing device connection options used to initialize a connection with IoT Hub...">iot_connection_options</a>). </td></tr>
    <tr><td class="paramname">status</td><td>The status of the open request (refer to iot_device_error_codes). </td></tr>
    <tr><td class="paramname">owner_context</td><td>Optional Opaque pointer to the owning device's context (eg, class instance).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>IOT_DEVICE_HANDLE A handle to the device connection or NULL if the connection failed. </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d53/iot__device_8c_source.html#l00012">12</a> of file <a class="el" href="../../d3/d53/iot__device_8c_source.html">iot_device.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dce/group__connection__status__apis_ga46c73bec3f14cba2453d334b2dabf459_cgraph.png" border="0" usemap="#d6/dce/group__connection__status__apis_ga46c73bec3f14cba2453d334b2dabf459_cgraph" alt=""/></div>
<map name="d6/dce/group__connection__status__apis_ga46c73bec3f14cba2453d334b2dabf459_cgraph" id="d6/dce/group__connection__status__apis_ga46c73bec3f14cba2453d334b2dabf459_cgraph">
<area shape="rect" id="node2" href="../../da/df5/sample__iot__device__platform_8h.html#acf078e78a20194af4c0ef876a0482e6d" title="Installs signal handler to change logging level at runtime. " alt="" coords="179,5,355,32"/><area shape="rect" id="node3" href="../../db/d38/iot__device_8h.html#a58e52939589949b01f5d8331104faf3d" title="initializeGlobalVariables" alt="" coords="177,56,357,83"/><area shape="rect" id="node4" href="../../db/d38/iot__device_8h.html#a691334f415f47abff9462bc8cfb59467" title="validateConnectionOptions" alt="" coords="167,107,366,133"/><area shape="rect" id="node6" href="../../db/d38/iot__device_8h.html#afc8be1b98ada9c4a0e7a6066624a418b" title="initializePlatform" alt="" coords="199,157,334,184"/><area shape="rect" id="node8" href="../../db/d38/iot__device_8h.html#add198833d2efd5d233574f3a42cfe02c" title="Initializes an IoT Hub connection structure, given its options. " alt="" coords="191,208,342,235"/><area shape="rect" id="node12" href="../../db/d38/iot__device_8h.html#a114af9213f8072155f55804d67b12361" title="Thread to process messages on the work queue. " alt="" coords="203,276,330,303"/><area shape="rect" id="node14" href="../../db/d38/iot__device_8h.html#a731f145a725ced7338a094cdd34f8a65" title="Callback routine to process inbound (Azure Cloud&#45;to&#45;Device) device commands, internal to the SDK..." alt="" coords="134,397,399,424"/><area shape="rect" id="node5" href="../../db/d38/iot__device_8h.html#ad389b9344ca814e4f9f569a67dab28e1" title="connectionExists" alt="" coords="507,81,639,108"/><area shape="rect" id="node7" href="../../d2/d1d/pxred__device__platform_8h.html#a8008bed7c86021ffea8921bf624f96cb" title="Do product&#45;specific initialization as part of iot_open(. " alt="" coords="520,132,627,159"/><area shape="rect" id="node9" href="../../db/d38/iot__device_8h.html#ab33099524cf9db03e05a9607e905bbf5" title="Allocates and initializes the members of the IoT Hub connection structure, given its options and defa..." alt="" coords="496,183,651,209"/><area shape="rect" id="node10" href="../../db/d38/iot__device_8h.html#a763e5d88e5f0c481d435c28923a0ac15" title="Callback routine to process connection status changes. " alt="" coords="455,233,691,260"/><area shape="rect" id="node11" href="../../db/d38/iot__device_8h.html#a85410bdb4640c21c4d16fea9293095af" title="Thread to process connection status changes. " alt="" coords="747,233,983,260"/><area shape="rect" id="node13" href="../../d2/d1d/pxred__device__platform_8h.html#a5dcd02d00868057ec3720e0ae50717fc" title="Do a platform&#45;specific sleep to pace the message thread. " alt="" coords="477,285,670,326"/><area shape="rect" id="node15" href="../../db/d38/iot__device_8h.html#a938f2415df7c8ed31d35b4f9178bf692" title="serializeDeviceCommandResponse" alt="" coords="448,351,699,377"/><area shape="rect" id="node18" href="../../db/d38/iot__device_8h.html#af559794637a3c0e6a4654b59a05bc669" title="deserializeCommand" alt="" coords="493,444,653,471"/><area shape="rect" id="node27" href="../../db/d38/iot__device_8h.html#a4a447a0e94935ac00ffb7aca9eb40a5e" title="Destroys a list of items while also freeing the memory allocated for each item. " alt="" coords="495,495,652,537"/><area shape="rect" id="node16" href="../../db/d38/iot__device_8h.html#a07d8b97dd7461e57a15470f6e5930d23" title="addIntNumericField" alt="" coords="791,343,939,369"/><area shape="rect" id="node17" href="../../db/d38/iot__device_8h.html#a5173731f1b948708dbf37f99bee9bbea" title="addStringField" alt="" coords="808,292,923,319"/><area shape="rect" id="node19" href="../../d5/da4/group__message__handling__apis.html#ga8e16b7dd16600a83e535fd0d10769e44" title="Retrieve the number of tokens in a json string. " alt="" coords="780,495,951,521"/><area shape="rect" id="node20" href="../../d9/d66/iot__json__parser_8h.html#a8d4a8b3ce5c3d600feea38615b5f9aa6" title="Initializes the given JSON parser structure. " alt="" coords="824,545,907,572"/><area shape="rect" id="node21" href="../../d9/d66/iot__json__parser_8h.html#a774f985a9750a10c7e88304e30191e03" title="Run JSON parser. " alt="" coords="817,393,914,420"/><area shape="rect" id="node22" href="../../d9/d66/iot__json__parser_8h.html#a01be804f97b4f95b725cc1768fe35f2b" title="Allocates and initializes a fresh unused token from the token pull (array), one beyond the last initi..." alt="" coords="1243,469,1379,496"/><area shape="rect" id="node26" href="../../d9/d66/iot__json__parser_8h.html#a03247c935b62f6e95978538be5a6d4fe" title="Tests if a JSON tag is equal to a search string. " alt="" coords="833,444,898,471"/><area shape="rect" id="node23" href="../../da/d44/iot__json__parser_8c.html#a568f184e45bb9718270088e1e05a4264" title="Fills next token with JSON string. " alt="" coords="1043,419,1184,445"/><area shape="rect" id="node25" href="../../da/d44/iot__json__parser_8c.html#a4d1f29464811e2bbf5506fbe5c7ee9de" title="Fills next available token with JSON primitive. " alt="" coords="1032,368,1195,395"/><area shape="rect" id="node24" href="../../da/d44/iot__json__parser_8c.html#a20b875e37a2a5c88888c6d80068715be" title="Fills token type and boundaries. " alt="" coords="1250,393,1371,420"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga8c45f91af9b8f5c2cff6cb86a63bb2a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iot_close </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d38/iot__device_8h.html#ab998a158fc458cb8f09b1928c8f3e7ac">IOT_DEVICE_HANDLE</a>&#160;</td>
          <td class="paramname"><em>deviceHandle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes a connection with IoT Hub. </p>
<p>After a connection has been closed, no further messages will be sent or received from IoT Hub.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deviceHandle</td><td>A handle to the device connection.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool True if the connection successfully closed else False. </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d53/iot__device_8c_source.html#l00131">131</a> of file <a class="el" href="../../d3/d53/iot__device_8c_source.html">iot_device.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dce/group__connection__status__apis_ga8c45f91af9b8f5c2cff6cb86a63bb2a9_cgraph.png" border="0" usemap="#d6/dce/group__connection__status__apis_ga8c45f91af9b8f5c2cff6cb86a63bb2a9_cgraph" alt=""/></div>
<map name="d6/dce/group__connection__status__apis_ga8c45f91af9b8f5c2cff6cb86a63bb2a9_cgraph" id="d6/dce/group__connection__status__apis_ga8c45f91af9b8f5c2cff6cb86a63bb2a9_cgraph">
<area shape="rect" id="node2" href="../../db/d38/iot__device_8h.html#a0403205a70b39d5e559730cc8c17ab86" title="Returns the IOT_DEVICE_CONNECTION associated with an IOT_DEVICE_HANDLE. " alt="" coords="143,5,259,32"/><area shape="rect" id="node3" href="../../db/d38/iot__device_8h.html#a8f963b47df1b2d323210e7630734edc1" title="deleteConnection" alt="" coords="133,56,269,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ga1db1921b8cca62f215c0e89907870e05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool iot_getStatus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d38/iot__device_8h.html#ab998a158fc458cb8f09b1928c8f3e7ac">IOT_DEVICE_HANDLE</a>&#160;</td>
          <td class="paramname"><em>deviceHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d38/iot__device_8h.html#a92dc5f25e1aa5223011c3a220285dea7">IOT_CONNECTION_STATUS</a> *&#160;</td>
          <td class="paramname"><em>connectionStatus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the status of the connection. </p>
<p>If possible, will get the low-level status as well and incorporate that in the connectionStatus.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deviceHandle</td><td>A handle to the device connection. </td></tr>
    <tr><td class="paramname">connectionStatus</td><td>A structure containing the connection status (refer to <a class="el" href="../../d7/d8a/structiot__connection__status.html" title="Structure containing the status of a device connection with IoT Hub. ">iot_connection_status</a>). Note: The passed in address of the connection status is populated with the latest connection information.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool True if connection status was successfully retrieved else False. </dd></dl>

<p>Definition at line <a class="el" href="../../d3/d53/iot__device_8c_source.html#l00493">493</a> of file <a class="el" href="../../d3/d53/iot__device_8c_source.html">iot_device.c</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dce/group__connection__status__apis_ga1db1921b8cca62f215c0e89907870e05_cgraph.png" border="0" usemap="#d6/dce/group__connection__status__apis_ga1db1921b8cca62f215c0e89907870e05_cgraph" alt=""/></div>
<map name="d6/dce/group__connection__status__apis_ga1db1921b8cca62f215c0e89907870e05_cgraph" id="d6/dce/group__connection__status__apis_ga1db1921b8cca62f215c0e89907870e05_cgraph">
<area shape="rect" id="node2" href="../../db/d38/iot__device_8h.html#a0403205a70b39d5e559730cc8c17ab86" title="Returns the IOT_DEVICE_CONNECTION associated with an IOT_DEVICE_HANDLE. " alt="" coords="163,5,279,32"/></map>
</div>
</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri May 7 2021 20:26:07 for libetn_iot_sdk by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
