<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>modbus_server: CRegisterMapping Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">modbus_server
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classCRegisterMapping.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="classCRegisterMapping-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CRegisterMapping Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>A mapping between CDS data and one or more Modbus registers.  
 <a href="classCRegisterMapping.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="register__mapping_8hpp_source.html">register_mapping.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CRegisterMapping:</div>
<div class="dyncontent">
<div class="center"><img src="classCRegisterMapping__inherit__graph.png" border="0" usemap="#CRegisterMapping_inherit__map" alt="Inheritance graph"/></div>
<map name="CRegisterMapping_inherit__map" id="CRegisterMapping_inherit__map">
<area shape="rect" id="node2" href="classCFloatMapping.html" title="A floating&#45;point mapping between a CDS parameter and one or more Modbus registers. " alt="" coords="5,285,160,421"/><area shape="rect" id="node3" href="classCIntMapping.html" title="An integral mapping between a CDS parameter and one or more Modbus registers. " alt="" coords="184,278,339,429"/><area shape="rect" id="node4" href="classCStringMapping.html" title="A string mapping between a CDS parameter and one or more Modbus registers. " alt="" coords="363,285,523,421"/><area shape="rect" id="node5" href="classCTimeMapping.html" title="An integral mapping between a CDS parameter and one or more Modbus registers. " alt="" coords="547,278,701,429"/></map>
</div>
<div class="dynheader">
Collaboration diagram for CRegisterMapping:</div>
<div class="dyncontent">
<div class="center"><img src="classCRegisterMapping__coll__graph.png" border="0" usemap="#CRegisterMapping_coll__map" alt="Collaboration graph"/></div>
<map name="CRegisterMapping_coll__map" id="CRegisterMapping_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aadbb9bea1713965d2eb8ed71628816d0"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRegisterMapping.html#aadbb9bea1713965d2eb8ed71628816d0">~CRegisterMapping</a> ()</td></tr>
<tr class="memdesc:aadbb9bea1713965d2eb8ed71628816d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor, a virtual.  <a href="#aadbb9bea1713965d2eb8ed71628816d0">More...</a><br/></td></tr>
<tr class="separator:aadbb9bea1713965d2eb8ed71628816d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a461badfa8bf5969b6044f650da45547b"><td class="memItemLeft" align="right" valign="top">regvec_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRegisterMapping.html#a461badfa8bf5969b6044f650da45547b">to_registers</a> (const px::CValue &amp;val) const </td></tr>
<tr class="memdesc:a461badfa8bf5969b6044f650da45547b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translate a CDS value into a Modbus register range.  <a href="#a461badfa8bf5969b6044f650da45547b">More...</a><br/></td></tr>
<tr class="separator:a461badfa8bf5969b6044f650da45547b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf56971ea0b61880e6e6692a0468e19b"><td class="memItemLeft" align="right" valign="top">px::CValue&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRegisterMapping.html#acf56971ea0b61880e6e6692a0468e19b">from_registers</a> (const regvec_t &amp;val) const </td></tr>
<tr class="memdesc:acf56971ea0b61880e6e6692a0468e19b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translate a range of Modbus registers into a CDS value.  <a href="#acf56971ea0b61880e6e6692a0468e19b">More...</a><br/></td></tr>
<tr class="separator:acf56971ea0b61880e6e6692a0468e19b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1919f6284d7878845655eff73eb6bb4e"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRegisterMapping.html#a1919f6284d7878845655eff73eb6bb4e">reg_count</a> () const </td></tr>
<tr class="memdesc:a1919f6284d7878845655eff73eb6bb4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine the number of Modbus registers used by this mapping.  <a href="#a1919f6284d7878845655eff73eb6bb4e">More...</a><br/></td></tr>
<tr class="separator:a1919f6284d7878845655eff73eb6bb4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a579939f56a4e1d133d9f11df5c1f60fe"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classCProfileMapping.html">CProfileMapping</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRegisterMapping.html#a579939f56a4e1d133d9f11df5c1f60fe">reverse_map</a> () const =0</td></tr>
<tr class="memdesc:a579939f56a4e1d133d9f11df5c1f60fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reverse translate into profile mapping from value, units and configuration.  <a href="#a579939f56a4e1d133d9f11df5c1f60fe">More...</a><br/></td></tr>
<tr class="separator:a579939f56a4e1d133d9f11df5c1f60fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aea22bac438993b8d2f7ff53956acf053"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classCRegisterMapping.html">CRegisterMapping</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRegisterMapping.html#aea22bac438993b8d2f7ff53956acf053">create</a> (const <a class="el" href="classpx_1_1proto_1_1PedsEntry.html">px::proto::PedsEntry</a> &amp;cfg)</td></tr>
<tr class="memdesc:aea22bac438993b8d2f7ff53956acf053"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class factory.  <a href="#aea22bac438993b8d2f7ff53956acf053">More...</a><br/></td></tr>
<tr class="separator:aea22bac438993b8d2f7ff53956acf053"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:afd30923022525559769634946eae4368"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afd30923022525559769634946eae4368"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRegisterMapping.html#afd30923022525559769634946eae4368">_size</a></td></tr>
<tr class="memdesc:afd30923022525559769634946eae4368"><td class="mdescLeft">&#160;</td><td class="mdescRight">The size (in bytes) of data stored within the register(s) for this element. <br/></td></tr>
<tr class="separator:afd30923022525559769634946eae4368"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a68a83af6d04c8bd9cd99bfb9cccec4af"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRegisterMapping.html#a68a83af6d04c8bd9cd99bfb9cccec4af">_swap_bytes</a></td></tr>
<tr class="memdesc:a68a83af6d04c8bd9cd99bfb9cccec4af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Data within a register is normally big-endian (MSB first).  <a href="#a68a83af6d04c8bd9cd99bfb9cccec4af">More...</a><br/></td></tr>
<tr class="separator:a68a83af6d04c8bd9cd99bfb9cccec4af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67faa9681d5cdf47e82c687da7cd4c9d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRegisterMapping.html#a67faa9681d5cdf47e82c687da7cd4c9d">_swap_words</a></td></tr>
<tr class="memdesc:a67faa9681d5cdf47e82c687da7cd4c9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Word order of the data for this element, i.e.  <a href="#a67faa9681d5cdf47e82c687da7cd4c9d">More...</a><br/></td></tr>
<tr class="separator:a67faa9681d5cdf47e82c687da7cd4c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:aec840112a89b073acfc124c7b374725f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRegisterMapping.html#aec840112a89b073acfc124c7b374725f">CRegisterMapping</a> (const <a class="el" href="classpx_1_1proto_1_1PedsEntry.html">px::proto::PedsEntry</a> &amp;cfg)</td></tr>
<tr class="memdesc:aec840112a89b073acfc124c7b374725f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#aec840112a89b073acfc124c7b374725f">More...</a><br/></td></tr>
<tr class="separator:aec840112a89b073acfc124c7b374725f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa42880dbeea111b24679baa3947aa1e1"><td class="memItemLeft" align="right" valign="top">virtual regvec_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRegisterMapping.html#aa42880dbeea111b24679baa3947aa1e1">translate</a> (const px::CValue &amp;val) const =0</td></tr>
<tr class="memdesc:aa42880dbeea111b24679baa3947aa1e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translate a CDS value into a Modbus register range.  <a href="#aa42880dbeea111b24679baa3947aa1e1">More...</a><br/></td></tr>
<tr class="separator:aa42880dbeea111b24679baa3947aa1e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58cb3946246b5692f427a914821e713d"><td class="memItemLeft" align="right" valign="top">virtual px::CValue&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCRegisterMapping.html#a58cb3946246b5692f427a914821e713d">translate</a> (const regvec_t &amp;val) const =0</td></tr>
<tr class="memdesc:a58cb3946246b5692f427a914821e713d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Translate a range of Modbus registers into a CDS value.  <a href="#a58cb3946246b5692f427a914821e713d">More...</a><br/></td></tr>
<tr class="separator:a58cb3946246b5692f427a914821e713d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A mapping between CDS data and one or more Modbus registers. </p>
<p>Data from the CDS can be mapped in various ways into some part of one or more 16-bit Modbus registers, to be located within the exposed Modbus register address space. This class implements the translation between the Toolkit's internal data, and the un-typed register data used by Modbus.</p>
<p>Translation is bi-directional. Translation from Toolkit data into Modbus register data is more common, since that occurs for every READ operation. Translation from Modbus register data into Toolkit data occurs for every WRITE operation. </p>

<p>Definition at line <a class="el" href="register__mapping_8hpp_source.html#l00031">31</a> of file <a class="el" href="register__mapping_8hpp_source.html">register_mapping.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aadbb9bea1713965d2eb8ed71628816d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CRegisterMapping::~CRegisterMapping </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default destructor, a virtual. </p>
<p>Needed when functions are freed or memory leak will occur. </p>

<p>Definition at line <a class="el" href="register__mapping_8cpp_source.html#l00066">66</a> of file <a class="el" href="register__mapping_8cpp_source.html">register_mapping.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aec840112a89b073acfc124c7b374725f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CRegisterMapping::CRegisterMapping </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classpx_1_1proto_1_1PedsEntry.html">px::proto::PedsEntry</a> &amp;&#160;</td>
          <td class="paramname"><em>cfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cfg</td><td>The configuration node for this mapping, as parsed from the EDS file</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">generic_err</td><td>The defined mapping is invalid in some way </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="register__mapping_8cpp_source.html#l00114">114</a> of file <a class="el" href="register__mapping_8cpp_source.html">register_mapping.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aea22bac438993b8d2f7ff53956acf053"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCRegisterMapping.html">CRegisterMapping</a> * CRegisterMapping::create </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classpx_1_1proto_1_1PedsEntry.html">px::proto::PedsEntry</a> &amp;&#160;</td>
          <td class="paramname"><em>cfg</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Class factory. </p>
<p>This function should always be used by external callers (i.e. not sub-classes of this class) to create a new register mapping object. The appropriate sub-type is chosen and constructed from the passed EDS data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cfg</td><td>The configuration node for this mapping, as parsed from the Peds file</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">generic_err</td><td>The defined mapping is invalid in some way </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="register__mapping_8cpp_source.html#l00015">15</a> of file <a class="el" href="register__mapping_8cpp_source.html">register_mapping.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a461badfa8bf5969b6044f650da45547b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">regvec_t CRegisterMapping::to_registers </td>
          <td>(</td>
          <td class="paramtype">const px::CValue &amp;&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Translate a CDS value into a Modbus register range. </p>
<p>Note that this wraps the lower-level <a class="el" href="classCRegisterMapping.html#aa42880dbeea111b24679baa3947aa1e1" title="Translate a CDS value into a Modbus register range. ">translate()</a> call, and performs things like byte-swapping and word-swapping if needed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>The source value (e.g. as read from the CDS)</td></tr>
    <tr><td class="paramname">TODO:cfg</td><td>The dynamic config data for this parameter</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An array of one or more Modbus registers containing the translated value </dd></dl>

<p>Definition at line <a class="el" href="register__mapping_8cpp_source.html#l00078">78</a> of file <a class="el" href="register__mapping_8cpp_source.html">register_mapping.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCRegisterMapping_a461badfa8bf5969b6044f650da45547b_cgraph.png" border="0" usemap="#classCRegisterMapping_a461badfa8bf5969b6044f650da45547b_cgraph" alt=""/></div>
<map name="classCRegisterMapping_a461badfa8bf5969b6044f650da45547b_cgraph" id="classCRegisterMapping_a461badfa8bf5969b6044f650da45547b_cgraph">
<area shape="rect" id="node2" href="classCRegisterMapping.html#aa42880dbeea111b24679baa3947aa1e1" title="Translate a CDS value into a Modbus register range. " alt="" coords="213,12,419,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acf56971ea0b61880e6e6692a0468e19b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">px::CValue CRegisterMapping::from_registers </td>
          <td>(</td>
          <td class="paramtype">const regvec_t &amp;&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Translate a range of Modbus registers into a CDS value. </p>
<p>Note that this wraps the lower-level <a class="el" href="classCRegisterMapping.html#aa42880dbeea111b24679baa3947aa1e1" title="Translate a CDS value into a Modbus register range. ">translate()</a> call, and performs things like byte-swapping and word-swapping if needed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>An array of one or more source registers, as provided by a Modbus client</td></tr>
    <tr><td class="paramname">TODO:cfg</td><td>The dynamic config data for this parameter</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A CDS element containing the translated value </dd></dl>

<p>Definition at line <a class="el" href="register__mapping_8cpp_source.html#l00090">90</a> of file <a class="el" href="register__mapping_8cpp_source.html">register_mapping.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCRegisterMapping_acf56971ea0b61880e6e6692a0468e19b_cgraph.png" border="0" usemap="#classCRegisterMapping_acf56971ea0b61880e6e6692a0468e19b_cgraph" alt=""/></div>
<map name="classCRegisterMapping_acf56971ea0b61880e6e6692a0468e19b_cgraph" id="classCRegisterMapping_acf56971ea0b61880e6e6692a0468e19b_cgraph">
<area shape="rect" id="node2" href="classCRegisterMapping.html#aa42880dbeea111b24679baa3947aa1e1" title="Translate a CDS value into a Modbus register range. " alt="" coords="232,12,437,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1919f6284d7878845655eff73eb6bb4e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t CRegisterMapping::reg_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine the number of Modbus registers used by this mapping. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of registers used by this mapping </dd></dl>

<p>Definition at line <a class="el" href="register__mapping_8cpp_source.html#l00102">102</a> of file <a class="el" href="register__mapping_8cpp_source.html">register_mapping.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a579939f56a4e1d133d9f11df5c1f60fe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="classCProfileMapping.html">CProfileMapping</a> CRegisterMapping::reverse_map </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reverse translate into profile mapping from value, units and configuration. </p>
<dl class="section return"><dt>Returns</dt><dd>The profile mapping. </dd></dl>

<p>Implemented in <a class="el" href="classCIntMapping.html#a2a5122762b11ae882e3b1fe28b97e268">CIntMapping</a>, <a class="el" href="classCTimeMapping.html#a5bacc5c42a5c4c5ad67f945875172547">CTimeMapping</a>, <a class="el" href="classCStringMapping.html#a5221da87e6791380b3941bfb5c502dfc">CStringMapping</a>, and <a class="el" href="classCFloatMapping.html#a47dd6898bbea563920356c3eb8b492e0">CFloatMapping</a>.</p>

</div>
</div>
<a class="anchor" id="aa42880dbeea111b24679baa3947aa1e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual regvec_t CRegisterMapping::translate </td>
          <td>(</td>
          <td class="paramtype">const px::CValue &amp;&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Translate a CDS value into a Modbus register range. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>The source value (e.g. as read from the CDS)</td></tr>
    <tr><td class="paramname">TODO:cfg</td><td>The dynamic config data for this parameter</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>An array of one or more Modbus registers containing the translated value</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">generic_err</td><td>An error occurred that prevented translation </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classCIntMapping.html#aab056604867adb75fb11be3adee6f741">CIntMapping</a>, <a class="el" href="classCTimeMapping.html#a85a3449cc12b4a25322a1b1badf767ce">CTimeMapping</a>, <a class="el" href="classCFloatMapping.html#a0a8f42f5a0d011c777ee18a8f0ad2800">CFloatMapping</a>, and <a class="el" href="classCStringMapping.html#ae311a600777ed4e6657e94a9b779fb30">CStringMapping</a>.</p>

</div>
</div>
<a class="anchor" id="a58cb3946246b5692f427a914821e713d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual px::CValue CRegisterMapping::translate </td>
          <td>(</td>
          <td class="paramtype">const regvec_t &amp;&#160;</td>
          <td class="paramname"><em>val</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Translate a range of Modbus registers into a CDS value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val</td><td>An array of one or more source registers, as provided by a Modbus client</td></tr>
    <tr><td class="paramname">TODO:cfg</td><td>The dynamic config data for this parameter</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A CDS element containing the translated value</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">generic_err</td><td>An error occurred that prevented translation </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="classCIntMapping.html#ac5bc51a1b0c4f2e8c7164eaecd4d8fd3">CIntMapping</a>, <a class="el" href="classCTimeMapping.html#ae8408900edf48adf5f7687f0a5e039e4">CTimeMapping</a>, <a class="el" href="classCFloatMapping.html#ad3ba4b7c6e3f0572079ab56f8a96aa47">CFloatMapping</a>, and <a class="el" href="classCStringMapping.html#a84fee58d73a5d9098ef8781c772948a6">CStringMapping</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a68a83af6d04c8bd9cd99bfb9cccec4af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CRegisterMapping::_swap_bytes</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Data within a register is normally big-endian (MSB first). </p>
<p>But if this flag is set to true, the bytes are swapped to be little-endian (LSB first). </p>

<p>Definition at line <a class="el" href="register__mapping_8hpp_source.html#l00167">167</a> of file <a class="el" href="register__mapping_8hpp_source.html">register_mapping.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a67faa9681d5cdf47e82c687da7cd4c9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CRegisterMapping::_swap_words</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Word order of the data for this element, i.e. </p>
<p>whether the register at _addr is the most or least significant. Normally false, which indicates that the most significant word is first (at _addr); if true, the order of all registers is reversed. </p>

<p>Definition at line <a class="el" href="register__mapping_8hpp_source.html#l00175">175</a> of file <a class="el" href="register__mapping_8hpp_source.html">register_mapping.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="register__mapping_8hpp_source.html">register_mapping.hpp</a></li>
<li><a class="el" href="register__mapping_8cpp_source.html">register_mapping.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classCRegisterMapping.html">CRegisterMapping</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:25:38 for modbus_server by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
