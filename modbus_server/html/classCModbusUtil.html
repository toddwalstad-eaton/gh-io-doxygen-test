<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>modbus_server: CModbusUtil Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">modbus_server
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classCModbusUtil.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="classCModbusUtil-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CModbusUtil Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Provide common utility functions for MODBUS data server.  
 <a href="classCModbusUtil.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="modbus__util_8hpp_source.html">modbus_util.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for CModbusUtil:</div>
<div class="dyncontent">
<div class="center"><img src="classCModbusUtil__coll__graph.png" border="0" usemap="#CModbusUtil_coll__map" alt="Collaboration graph"/></div>
<map name="CModbusUtil_coll__map" id="CModbusUtil_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCModbusUtil_1_1convert__opts__s.html">convert_opts_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCModbusUtil_1_1peds__conv__opts__s.html">peds_conv_opts_s</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aebafd941aaae39918c8ceb52f86b96be"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusUtil.html#aebafd941aaae39918c8ceb52f86b96be">convert_dir_json_to_peds</a> (const <a class="el" href="structCModbusUtil_1_1peds__conv__opts__s.html">peds_conv_opts_t</a> &amp;peds_conv_opts, const <a class="el" href="structaddr__fields__s.html">addr_fields_t</a> &amp;addr_fields, unsigned int mcss, const bool recursive=false)</td></tr>
<tr class="memdesc:aebafd941aaae39918c8ceb52f86b96be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert all Device EDS JSON files in a directory into Peds files in Peds directory.  <a href="#aebafd941aaae39918c8ceb52f86b96be">More...</a><br/></td></tr>
<tr class="separator:aebafd941aaae39918c8ceb52f86b96be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9f7c6dcafc32ae0459319ead5ae5f3a"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusUtil.html#ab9f7c6dcafc32ae0459319ead5ae5f3a">transform_dir_ped_json_to_peds</a> (<a class="el" href="classCEDSList.html#a554a2ed700d1d487ef1fc30d5ce3de20">CEDSList::global_sorted_map_t</a> &amp;global_sorted_map, const <a class="el" href="structCModbusUtil_1_1convert__opts__s.html">convert_opts_t</a> &amp;global_opts, const bool recursive=false)</td></tr>
<tr class="memdesc:ab9f7c6dcafc32ae0459319ead5ae5f3a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transform all Ped JSON files in a directory into binary Ped files in Peds directory.  <a href="#ab9f7c6dcafc32ae0459319ead5ae5f3a">More...</a><br/></td></tr>
<tr class="separator:ab9f7c6dcafc32ae0459319ead5ae5f3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf8c2c52c3af6d17430838d25ed34857"><td class="memItemLeft" align="right" valign="top">static std::unordered_map<br class="typebreak"/>
&lt; px::string, px::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusUtil.html#acf8c2c52c3af6d17430838d25ed34857">get_dir_paths</a> (const px::string &amp;dir)</td></tr>
<tr class="memdesc:acf8c2c52c3af6d17430838d25ed34857"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve all directories under a path.  <a href="#acf8c2c52c3af6d17430838d25ed34857">More...</a><br/></td></tr>
<tr class="separator:acf8c2c52c3af6d17430838d25ed34857"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff5e6e1294c8b8f645faa6a616e1f31d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusUtil.html#aff5e6e1294c8b8f645faa6a616e1f31d">get_files_from_dir</a> (std::vector&lt; px::string &gt; &amp;files, const px::string &amp;dir, const px::string &amp;ext, const bool full_path=true, const bool recursive=false)</td></tr>
<tr class="memdesc:aff5e6e1294c8b8f645faa6a616e1f31d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve all files with specified extension from a directory.  <a href="#aff5e6e1294c8b8f645faa6a616e1f31d">More...</a><br/></td></tr>
<tr class="separator:aff5e6e1294c8b8f645faa6a616e1f31d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa99389369b43dd04c92285ef5f039581"><td class="memItemLeft" align="right" valign="top">static px::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusUtil.html#aa99389369b43dd04c92285ef5f039581">replace_file_extension</a> (const px::string &amp;file, const px::string &amp;new_ext)</td></tr>
<tr class="memdesc:aa99389369b43dd04c92285ef5f039581"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace file extension, return the new file name.  <a href="#aa99389369b43dd04c92285ef5f039581">More...</a><br/></td></tr>
<tr class="separator:aa99389369b43dd04c92285ef5f039581"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a308d6e5bd7976a54536f6a19c56599ea"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusUtil.html#a308d6e5bd7976a54536f6a19c56599ea">replace_forbidden_filename_chars</a> (px::string &amp;name)</td></tr>
<tr class="memdesc:a308d6e5bd7976a54536f6a19c56599ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Replace any forbidden filename charaters in a string.  <a href="#a308d6e5bd7976a54536f6a19c56599ea">More...</a><br/></td></tr>
<tr class="separator:a308d6e5bd7976a54536f6a19c56599ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab6797866f3d9c73dc46d63069b6c6487"><td class="memItemLeft" align="right" valign="top">static px::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusUtil.html#ab6797866f3d9c73dc46d63069b6c6487">get_dir_name_from_path</a> (const px::string &amp;file_path)</td></tr>
<tr class="memdesc:ab6797866f3d9c73dc46d63069b6c6487"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the directory name from a file path.  <a href="#ab6797866f3d9c73dc46d63069b6c6487">More...</a><br/></td></tr>
<tr class="separator:ab6797866f3d9c73dc46d63069b6c6487"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b3e5220081a83203126098dea272e43"><td class="memItemLeft" align="right" valign="top">static px::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusUtil.html#a1b3e5220081a83203126098dea272e43">get_file_name_from_path</a> (const px::string &amp;file_path)</td></tr>
<tr class="memdesc:a1b3e5220081a83203126098dea272e43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the file name from a file full path.  <a href="#a1b3e5220081a83203126098dea272e43">More...</a><br/></td></tr>
<tr class="separator:a1b3e5220081a83203126098dea272e43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a050b83c8a08e3d3b7e501a9d16ca3504"><td class="memItemLeft" align="right" valign="top">static px::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusUtil.html#a050b83c8a08e3d3b7e501a9d16ca3504">get_dynamic_peds_name</a> (const boost::filesystem::path &amp;peds_dir, const px::id_t &amp;dev_id, const px::string &amp;canonical_model_name)</td></tr>
<tr class="memdesc:a050b83c8a08e3d3b7e501a9d16ca3504"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate dynamic PEDs file name based on Device ID and canonical name.  <a href="#a050b83c8a08e3d3b7e501a9d16ca3504">More...</a><br/></td></tr>
<tr class="separator:a050b83c8a08e3d3b7e501a9d16ca3504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e88aa5cef4d314c3101bdb11e13a379"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusUtil.html#a0e88aa5cef4d314c3101bdb11e13a379">does_file_exist</a> (const px::string &amp;file_path_name)</td></tr>
<tr class="memdesc:a0e88aa5cef4d314c3101bdb11e13a379"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a given file exists or not.  <a href="#a0e88aa5cef4d314c3101bdb11e13a379">More...</a><br/></td></tr>
<tr class="separator:a0e88aa5cef4d314c3101bdb11e13a379"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a813d13977ef0fe88a8280796396ca606"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusUtil.html#a813d13977ef0fe88a8280796396ca606">does_directory_exist</a> (const px::string &amp;dir_path_name)</td></tr>
<tr class="memdesc:a813d13977ef0fe88a8280796396ca606"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if a given directory exists or not.  <a href="#a813d13977ef0fe88a8280796396ca606">More...</a><br/></td></tr>
<tr class="separator:a813d13977ef0fe88a8280796396ca606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a810fa100a70e436cbe20cbdc3305933d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusUtil.html#a810fa100a70e436cbe20cbdc3305933d">delete_file</a> (const px::string &amp;file_path_name)</td></tr>
<tr class="memdesc:a810fa100a70e436cbe20cbdc3305933d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the specified file.  <a href="#a810fa100a70e436cbe20cbdc3305933d">More...</a><br/></td></tr>
<tr class="separator:a810fa100a70e436cbe20cbdc3305933d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbcdfb057913d79049f5f7377a334dd0"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusUtil.html#adbcdfb057913d79049f5f7377a334dd0">create_peds_file_from_json_file</a> (const px::string &amp;peds_file, const px::string &amp;json_file)</td></tr>
<tr class="memdesc:adbcdfb057913d79049f5f7377a334dd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a Peds file from a JSON file.  <a href="#adbcdfb057913d79049f5f7377a334dd0">More...</a><br/></td></tr>
<tr class="separator:adbcdfb057913d79049f5f7377a334dd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6af1e1d43d44e906f140f6711ae5c582"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusUtil.html#a6af1e1d43d44e906f140f6711ae5c582">get_register_count</a> (px::datatype data_type)</td></tr>
<tr class="memdesc:a6af1e1d43d44e906f140f6711ae5c582"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get register count for a data-type.  <a href="#a6af1e1d43d44e906f140f6711ae5c582">More...</a><br/></td></tr>
<tr class="separator:a6af1e1d43d44e906f140f6711ae5c582"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Provide common utility functions for MODBUS data server. </p>

<p>Definition at line <a class="el" href="modbus__util_8hpp_source.html#l00043">43</a> of file <a class="el" href="modbus__util_8hpp_source.html">modbus_util.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aebafd941aaae39918c8ceb52f86b96be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CModbusUtil::convert_dir_json_to_peds </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structCModbusUtil_1_1peds__conv__opts__s.html">peds_conv_opts_t</a> &amp;&#160;</td>
          <td class="paramname"><em>peds_conv_opts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structaddr__fields__s.html">addr_fields_t</a> &amp;&#160;</td>
          <td class="paramname"><em>addr_fields</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>mcss</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>recursive</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert all Device EDS JSON files in a directory into Peds files in Peds directory. </p>
<p>If conversion is per model, model names are used as file titles. If conversion is per JSON, JSON file titles are used as Peds file titles. By default, the conversion is per JSON file.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">options</td><td>- Vector of strings where: [0] The source directory with Device EDS JSON files. [1] The destination directory for Peds files. [2] The Peds name. (e.g. "Efficient", "Fixed", etc) [3] The maximum channel string size [4] The EDS output list file name.</td></tr>
  </table>
  </dd>
</dl>
<p>True to recurse subdirectories; false for just directory specified. </p>

<p>Definition at line <a class="el" href="modbus__util_8cpp_source.html#l00026">26</a> of file <a class="el" href="modbus__util_8cpp_source.html">modbus_util.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCModbusUtil_aebafd941aaae39918c8ceb52f86b96be_cgraph.png" border="0" usemap="#classCModbusUtil_aebafd941aaae39918c8ceb52f86b96be_cgraph" alt=""/></div>
<map name="classCModbusUtil_aebafd941aaae39918c8ceb52f86b96be_cgraph" id="classCModbusUtil_aebafd941aaae39918c8ceb52f86b96be_cgraph">
<area shape="rect" id="node2" href="classCModbusUtil.html#ab9f7c6dcafc32ae0459319ead5ae5f3a" title="Transform all Ped JSON files in a directory into binary Ped files in Peds directory. " alt="" coords="216,286,392,327"/><area shape="rect" id="node15" href="classCEDSList.html#a0d2d9946360cb97200bc8eaaac8100c5" title="getter for is_initialized " alt="" coords="219,352,389,379"/><area shape="rect" id="node3" href="classCModbusUtil.html#a813d13977ef0fe88a8280796396ca606" title="Check if a given directory exists or not. " alt="" coords="440,5,648,46"/><area shape="rect" id="node4" href="classCModbusUtil.html#aff5e6e1294c8b8f645faa6a616e1f31d" title="Retrieve all files with specified extension from a directory. " alt="" coords="461,70,627,111"/><area shape="rect" id="node5" href="classCGlobalEDS.html#ac971b9cb09a8d54cbd010e08225ed2c7" title="getter for is_initialized " alt="" coords="449,136,639,163"/><area shape="rect" id="node6" href="classCModbusUtil.html#a1b3e5220081a83203126098dea272e43" title="Get the file name from a file full path. " alt="" coords="464,187,624,229"/><area shape="rect" id="node7" href="classCModbusUtil.html#aa99389369b43dd04c92285ef5f039581" title="Replace file extension, return the new file name. " alt="" coords="464,253,624,294"/><area shape="rect" id="node8" href="classCGlobalEDS.html#a4dd058e59c51ca2e44ca85ea567aad37" title="Convert a specific JSON file to Peds binary format. " alt="" coords="444,318,644,359"/><area shape="rect" id="node11" href="classCGlobalEDS.html#a67ff982d7c6f8b461625c5ba4491bc6e" title="getter for the PEDS file name (no path) " alt="" coords="461,384,627,411"/><area shape="rect" id="node12" href="classCGlobalEDS.html#a1c7979cb0a3fdd708dcbf5382a0b5460" title="getter for the EDS descriptione " alt="" coords="455,435,633,461"/><area shape="rect" id="node13" href="classCGlobalEDS.html#a1dd6d5395d81a2000259254ac91b6203" title="getter for the PEDS name (same as canonical name) " alt="" coords="453,485,635,512"/><area shape="rect" id="node14" href="classCGlobalEDS.html#a97902c0cfa47c1b9dea5291ed5741af7" title="getter for the EDS file name (no path) " alt="" coords="465,536,623,563"/><area shape="rect" id="node9" href="classCGlobalEDS.html#a8708bc16f1628dea41cc0dcb10989594" title="Create the Peds object. " alt="" coords="713,289,861,330"/><area shape="rect" id="node10" href="classCModbusUtil.html#a810fa100a70e436cbe20cbdc3305933d" title="Delete the specified file. " alt="" coords="697,355,877,381"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab9f7c6dcafc32ae0459319ead5ae5f3a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CModbusUtil::transform_dir_ped_json_to_peds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCEDSList.html#a554a2ed700d1d487ef1fc30d5ce3de20">CEDSList::global_sorted_map_t</a> &amp;&#160;</td>
          <td class="paramname"><em>global_sorted_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structCModbusUtil_1_1convert__opts__s.html">convert_opts_t</a> &amp;&#160;</td>
          <td class="paramname"><em>global_opts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>recursive</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Transform all Ped JSON files in a directory into binary Ped files in Peds directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">options</td><td>- Vector of strings where: [0] The source directory with Device EDS JSON files. [1] The destination directory for Peds files. [2] The EDS list file name.</td></tr>
  </table>
  </dd>
</dl>
<p>True to recurse subdirectories; false for just directory specified.</p>
<dl class="section return"><dt>Returns</dt><dd>0 if no errors, 1 if error occurred. </dd></dl>

<p>Definition at line <a class="el" href="modbus__util_8cpp_source.html#l00188">188</a> of file <a class="el" href="modbus__util_8cpp_source.html">modbus_util.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCModbusUtil_ab9f7c6dcafc32ae0459319ead5ae5f3a_cgraph.png" border="0" usemap="#classCModbusUtil_ab9f7c6dcafc32ae0459319ead5ae5f3a_cgraph" alt=""/></div>
<map name="classCModbusUtil_ab9f7c6dcafc32ae0459319ead5ae5f3a_cgraph" id="classCModbusUtil_ab9f7c6dcafc32ae0459319ead5ae5f3a_cgraph">
<area shape="rect" id="node2" href="classCModbusUtil.html#a813d13977ef0fe88a8280796396ca606" title="Check if a given directory exists or not. " alt="" coords="229,5,437,46"/><area shape="rect" id="node3" href="classCModbusUtil.html#aff5e6e1294c8b8f645faa6a616e1f31d" title="Retrieve all files with specified extension from a directory. " alt="" coords="250,70,417,111"/><area shape="rect" id="node4" href="classCGlobalEDS.html#ac971b9cb09a8d54cbd010e08225ed2c7" title="getter for is_initialized " alt="" coords="239,136,428,163"/><area shape="rect" id="node5" href="classCModbusUtil.html#a1b3e5220081a83203126098dea272e43" title="Get the file name from a file full path. " alt="" coords="253,187,413,229"/><area shape="rect" id="node6" href="classCModbusUtil.html#aa99389369b43dd04c92285ef5f039581" title="Replace file extension, return the new file name. " alt="" coords="253,253,413,294"/><area shape="rect" id="node7" href="classCGlobalEDS.html#a4dd058e59c51ca2e44ca85ea567aad37" title="Convert a specific JSON file to Peds binary format. " alt="" coords="233,318,433,359"/><area shape="rect" id="node10" href="classCGlobalEDS.html#a67ff982d7c6f8b461625c5ba4491bc6e" title="getter for the PEDS file name (no path) " alt="" coords="251,384,416,411"/><area shape="rect" id="node11" href="classCGlobalEDS.html#a1c7979cb0a3fdd708dcbf5382a0b5460" title="getter for the EDS descriptione " alt="" coords="244,435,423,461"/><area shape="rect" id="node12" href="classCGlobalEDS.html#a1dd6d5395d81a2000259254ac91b6203" title="getter for the PEDS name (same as canonical name) " alt="" coords="242,485,425,512"/><area shape="rect" id="node13" href="classCGlobalEDS.html#a97902c0cfa47c1b9dea5291ed5741af7" title="getter for the EDS file name (no path) " alt="" coords="255,536,412,563"/><area shape="rect" id="node8" href="classCGlobalEDS.html#a8708bc16f1628dea41cc0dcb10989594" title="Create the Peds object. " alt="" coords="502,289,650,330"/><area shape="rect" id="node9" href="classCModbusUtil.html#a810fa100a70e436cbe20cbdc3305933d" title="Delete the specified file. " alt="" coords="486,355,666,381"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acf8c2c52c3af6d17430838d25ed34857"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt; px::string, px::string &gt; CModbusUtil::get_dir_paths </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>dir</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve all directories under a path. </p>
<dl class="section return"><dt>Returns</dt><dd>A list of directory name. </dd></dl>

<p>Definition at line <a class="el" href="modbus__util_8cpp_source.html#l00242">242</a> of file <a class="el" href="modbus__util_8cpp_source.html">modbus_util.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aff5e6e1294c8b8f645faa6a616e1f31d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CModbusUtil::get_files_from_dir </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; px::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>files</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>ext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>full_path</em> = <code>true</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>recursive</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Retrieve all files with specified extension from a directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir</td><td>The directory (full path) to retrieve EDS files from.</td></tr>
    <tr><td class="paramname">ext</td><td>The file extension, for example ".json".</td></tr>
  </table>
  </dd>
</dl>
<p>True for the full path; false for file name only.</p>
<p>True to recurse subdirectories; false for just directory specified.</p>
<dl class="section return"><dt>Returns</dt><dd>A collection of files with specified extension. </dd></dl>

<p>Definition at line <a class="el" href="modbus__util_8cpp_source.html#l00263">263</a> of file <a class="el" href="modbus__util_8cpp_source.html">modbus_util.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa99389369b43dd04c92285ef5f039581"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::string CModbusUtil::replace_file_extension </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>new_ext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Replace file extension, return the new file name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>The file with original extension.</td></tr>
    <tr><td class="paramname">ext</td><td>The new file extension, for example ".json".</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A file name with new extension. </dd></dl>

<p>Definition at line <a class="el" href="modbus__util_8cpp_source.html#l00327">327</a> of file <a class="el" href="modbus__util_8cpp_source.html">modbus_util.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a308d6e5bd7976a54536f6a19c56599ea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CModbusUtil::replace_forbidden_filename_chars </td>
          <td>(</td>
          <td class="paramtype">px::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Replace any forbidden filename charaters in a string. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">out]</td><td>name string to test and replace illegal filename characters. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="modbus__util_8cpp_source.html#l00385">385</a> of file <a class="el" href="modbus__util_8cpp_source.html">modbus_util.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab6797866f3d9c73dc46d63069b6c6487"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::string CModbusUtil::get_dir_name_from_path </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>file_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the directory name from a file path. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_path</td><td>The file path.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The directory of file. </dd></dl>

<p>Definition at line <a class="el" href="modbus__util_8cpp_source.html#l00365">365</a> of file <a class="el" href="modbus__util_8cpp_source.html">modbus_util.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1b3e5220081a83203126098dea272e43"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::string CModbusUtil::get_file_name_from_path </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>file_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the file name from a file full path. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_path</td><td>The file full path.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The name of file. </dd></dl>

<p>Definition at line <a class="el" href="modbus__util_8cpp_source.html#l00375">375</a> of file <a class="el" href="modbus__util_8cpp_source.html">modbus_util.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a050b83c8a08e3d3b7e501a9d16ca3504"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::string CModbusUtil::get_dynamic_peds_name </td>
          <td>(</td>
          <td class="paramtype">const boost::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>peds_dir</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::id_t &amp;&#160;</td>
          <td class="paramname"><em>dev_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>canonical_model_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate dynamic PEDs file name based on Device ID and canonical name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">peds_dir</td><td>The default directory for dynamic PEDs files. </td></tr>
    <tr><td class="paramname">dev_id</td><td>The device ID. </td></tr>
    <tr><td class="paramname">canonical_model_name</td><td>The device canonical model name. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="modbus__util_8cpp_source.html#l00402">402</a> of file <a class="el" href="modbus__util_8cpp_source.html">modbus_util.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCModbusUtil_a050b83c8a08e3d3b7e501a9d16ca3504_cgraph.png" border="0" usemap="#classCModbusUtil_a050b83c8a08e3d3b7e501a9d16ca3504_cgraph" alt=""/></div>
<map name="classCModbusUtil_a050b83c8a08e3d3b7e501a9d16ca3504_cgraph" id="classCModbusUtil_a050b83c8a08e3d3b7e501a9d16ca3504_cgraph">
<area shape="rect" id="node2" href="classCModbusUtil.html#a308d6e5bd7976a54536f6a19c56599ea" title="Replace any forbidden filename charaters in a string. " alt="" coords="251,5,448,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0e88aa5cef4d314c3101bdb11e13a379"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CModbusUtil::does_file_exist </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>file_path_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if a given file exists or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_path_name</td><td>The full path name of the file to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return true if the file exists, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="modbus__util_8cpp_source.html#l00338">338</a> of file <a class="el" href="modbus__util_8cpp_source.html">modbus_util.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a813d13977ef0fe88a8280796396ca606"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CModbusUtil::does_directory_exist </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>dir_path_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if a given directory exists or not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dir_path_name</td><td>The full path name of the directory to check.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Return true if the directory exists, false otherwise. </dd></dl>

<p>Definition at line <a class="el" href="modbus__util_8cpp_source.html#l00357">357</a> of file <a class="el" href="modbus__util_8cpp_source.html">modbus_util.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a810fa100a70e436cbe20cbdc3305933d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CModbusUtil::delete_file </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>file_path_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete the specified file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file_path_name</td><td>The full path name of the file to check. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="modbus__util_8cpp_source.html#l00346">346</a> of file <a class="el" href="modbus__util_8cpp_source.html">modbus_util.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="adbcdfb057913d79049f5f7377a334dd0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static bool CModbusUtil::create_peds_file_from_json_file </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>peds_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>json_file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a Peds file from a JSON file. </p>
<p>The JSON file must exist. The Peds file will be override if it exists already.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">peds_file</td><td>The full path-name of the PedS file to be created.</td></tr>
    <tr><td class="paramname">json_file</td><td>The full path-name of the source JSON file.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the operation is successful, false otherwise. </dd></dl>

</div>
</div>
<a class="anchor" id="a6af1e1d43d44e906f140f6711ae5c582"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CModbusUtil::get_register_count </td>
          <td>(</td>
          <td class="paramtype">px::datatype&#160;</td>
          <td class="paramname"><em>data_type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get register count for a data-type. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data_type</td><td>The date type.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of registers for this data type. </dd></dl>

<p>Definition at line <a class="el" href="modbus__util_8cpp_source.html#l00431">431</a> of file <a class="el" href="modbus__util_8cpp_source.html">modbus_util.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="modbus__util_8hpp_source.html">modbus_util.hpp</a></li>
<li><a class="el" href="modbus__util_8cpp_source.html">modbus_util.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classCModbusUtil.html">CModbusUtil</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:25:38 for modbus_server by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
