<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>modbus_server: modbus_protocol_handler.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">modbus_server
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('modbus__protocol__handler_8hpp_source.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">modbus_protocol_handler.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef _MODBUS_PROTOCOL_HANDLER_HPP</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define _MODBUS_PROTOCOL_HANDLER_HPP</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;deque&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;</div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;px/asio/protocol/protocol_handler.hpp&quot;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;px/type/string.hpp&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;px/type/mono_time.hpp&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;modbus_types.hpp&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;modbus_cds_handle.hpp&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &lt;boost/asio/io_service.hpp&gt;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="keyword">class </span><a class="code" href="classCModbusCdsHandle.html">CModbusCdsHandle</a>;</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="keyword">class </span><a class="code" href="classCModbusAdu.html">CModbusAdu</a>;</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="keyword">class </span><a class="code" href="classCModbusPdu.html">CModbusPdu</a>;</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">class </span><a class="code" href="classCModbusConfig.html">CModbusConfig</a>;</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">class </span><a class="code" href="classCModbusDeviceConfig.html">CModbusDeviceConfig</a>;</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="keyword">class </span><a class="code" href="classCModbusFunctionHandler.html">CModbusFunctionHandler</a>;</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="keyword">namespace </span>px {</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="keyword">namespace </span>asio {</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="keyword">class </span>CIoTimer;</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="keyword">class </span><a class="code" href="classpx_1_1asio_1_1CIoTransactor.html">CIoTransactor</a>;</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;}</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;}</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno"><a class="line" href="classCModbusProtocolHandler.html">   34</a></span>&#160;<span class="keyword">class </span><a class="code" href="classCModbusProtocolHandler.html">CModbusProtocolHandler</a></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        : <span class="keyword">public</span> <a class="code" href="classpx_1_1asio_1_1CProtocolHandler.html">px::asio::CProtocolHandler</a>,</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <span class="keyword">public</span> std::enable_shared_from_this&lt;CModbusProtocolHandler&gt;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;{</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <a class="code" href="classCModbusProtocolHandler.html#ac4b7f055e9cacd2a3c602d03bc3fc1fa">CModbusProtocolHandler</a>( <a class="code" href="classpx_1_1asio_1_1CIoTransactor.html">px::asio::CIoTransactor</a> *transactor = <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classCModbusProtocolHandler.html#a167e58300a5c207d7aefa17d7a8ee1cc">~CModbusProtocolHandler</a>();</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCModbusProtocolHandler.html#afebe09737bd7484dd3ee5c906b536504">respond</a>() = 0;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classCModbusProtocolHandler.html#af97c9cdd07ad1513be7d23f521708481">err</a>( modbus_err_t <a class="code" href="classCModbusProtocolHandler.html#af97c9cdd07ad1513be7d23f521708481">err</a> );</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        <span class="keyword">virtual</span> <a class="code" href="classCModbusCdsHandle.html">CModbusCdsHandle</a> &amp;<a class="code" href="classCModbusProtocolHandler.html#aa1c96cb4737fe636467479a33d5d0087">get_cds_handle</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keyword">virtual</span> std::shared_ptr&lt;px::asio::CProtocolHandler&gt; <a class="code" href="classCModbusProtocolHandler.html#ac4d61d008dd3cdd936c4c4e174ca5a81">clone</a>( <a class="code" href="classpx_1_1asio_1_1CIoTransactor.html">px::asio::CIoTransactor</a> *<a class="code" href="classpx_1_1asio_1_1CIoTransactor.html">CIoTransactor</a> ) <span class="keyword">const</span> = 0;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="comment">//  subscriptions that are still existent in CDS handler so we don&#39;t go</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment"></span>        <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCModbusProtocolHandler.html#a932406e8113a4541f03f1401df94ed65">close</a>();</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="code" href="classCModbusConfig.html">CModbusConfig</a> &amp;<a class="code" href="classCModbusProtocolHandler.html#ab2c243ea29eb8a4cd160a5fff827748e">get_config</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        boost::asio::io_service &amp;<a class="code" href="classCModbusProtocolHandler.html#aba7b25b772dca8c36f202ffdd6ce88a7">get_io_service</a>() <span class="keyword">const</span>;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00131"></a><span class="lineno"><a class="line" href="classCModbusProtocolHandler.html#a6d4542cf716a5d29b318ee5bfab799c5">  131</a></span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> px::string <a class="code" href="classCModbusProtocolHandler.html#a6d4542cf716a5d29b318ee5bfab799c5">protocol</a>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno"><a class="line" href="classCModbusProtocolHandler.html#a8255e50af76129a8547e59eb3a748dfa">  136</a></span>&#160;        std::shared_ptr&lt;px::asio::CIoTimer&gt; <a class="code" href="classCModbusProtocolHandler.html#a8255e50af76129a8547e59eb3a748dfa">timer</a>;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="line" href="classCModbusProtocolHandler.html#a757c483ea7aaa1f3beeb78d524a3ba03">  141</a></span>&#160;        px::string <a class="code" href="classCModbusProtocolHandler.html#a757c483ea7aaa1f3beeb78d524a3ba03">token</a>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="keywordtype">bool</span> <a class="code" href="classCModbusProtocolHandler.html#af29e2e20414e5e283cf88eedb80f8588">parse_request</a>();</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordtype">void</span> <a class="code" href="classCModbusProtocolHandler.html#a970858790d84432db7e2dfcee47c7b60">handle_request</a>( <a class="code" href="classCModbusPdu.html">CModbusPdu</a> &amp;pdu, <a class="code" href="classCModbusDeviceConfig.html">CModbusDeviceConfig</a> &amp;cfg, <span class="keywordtype">bool</span> nan_to_zero );</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classCModbusProtocolHandler.html#a296e6204b7b793414e28ca0e4301ec5a">execute</a>() = 0;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno"><a class="line" href="classCModbusProtocolHandler.html#a35b30bf678de123e0ff24b035c5c6a7a">  184</a></span>&#160;        <span class="keyword">static</span> <span class="keyword">const</span> uint32_t <a class="code" href="classCModbusProtocolHandler.html#a35b30bf678de123e0ff24b035c5c6a7a">max_transaction_age_ms</a> = 60000;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno"><a class="line" href="classCModbusProtocolHandler.html#a6f9a77455512396667c82fdf845c23ce">  198</a></span>&#160;        std::deque&lt;std::pair&lt;px::CMonoTime, uint32_t&gt; &gt; <a class="code" href="classCModbusProtocolHandler.html#a6f9a77455512396667c82fdf845c23ce">idle_transaction_ids</a>;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno"><a class="line" href="classCModbusProtocolHandler.html#a0a8c4797bee7a65ea61cd5f6748700f4">  203</a></span>&#160;        std::unique_ptr&lt;CModbusAdu&gt; <a class="code" href="classCModbusProtocolHandler.html#a0a8c4797bee7a65ea61cd5f6748700f4">_adu</a>;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;};</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="preprocessor">#endif  // end of header</span></div>
<div class="ttc" id="classCModbusFunctionHandler_html"><div class="ttname"><a href="classCModbusFunctionHandler.html">CModbusFunctionHandler</a></div><div class="ttdoc">Modbus Function Handler. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__function__handler_8hpp_source.html#l00019">modbus_function_handler.hpp:19</a></div></div>
<div class="ttc" id="classCModbusProtocolHandler_html_af97c9cdd07ad1513be7d23f521708481"><div class="ttname"><a href="classCModbusProtocolHandler.html#af97c9cdd07ad1513be7d23f521708481">CModbusProtocolHandler::err</a></div><div class="ttdeci">void err(modbus_err_t err)</div><div class="ttdoc">Send a Modbus exception response. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__protocol__handler_8cpp_source.html#l00202">modbus_protocol_handler.cpp:202</a></div></div>
<div class="ttc" id="classCModbusProtocolHandler_html_a167e58300a5c207d7aefa17d7a8ee1cc"><div class="ttname"><a href="classCModbusProtocolHandler.html#a167e58300a5c207d7aefa17d7a8ee1cc">CModbusProtocolHandler::~CModbusProtocolHandler</a></div><div class="ttdeci">virtual ~CModbusProtocolHandler()</div><div class="ttdoc">Destructor. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__protocol__handler_8cpp_source.html#l00030">modbus_protocol_handler.cpp:30</a></div></div>
<div class="ttc" id="classCModbusProtocolHandler_html_a35b30bf678de123e0ff24b035c5c6a7a"><div class="ttname"><a href="classCModbusProtocolHandler.html#a35b30bf678de123e0ff24b035c5c6a7a">CModbusProtocolHandler::max_transaction_age_ms</a></div><div class="ttdeci">static const uint32_t max_transaction_age_ms</div><div class="ttdoc">Maximum time a transaction will be tracked, in milliseconds. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__protocol__handler_8hpp_source.html#l00184">modbus_protocol_handler.hpp:184</a></div></div>
<div class="ttc" id="classCModbusProtocolHandler_html_aa1c96cb4737fe636467479a33d5d0087"><div class="ttname"><a href="classCModbusProtocolHandler.html#aa1c96cb4737fe636467479a33d5d0087">CModbusProtocolHandler::get_cds_handle</a></div><div class="ttdeci">virtual CModbusCdsHandle &amp; get_cds_handle() const </div><div class="ttdoc">Get a handle to the cds. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__protocol__handler_8cpp_source.html#l00189">modbus_protocol_handler.cpp:189</a></div></div>
<div class="ttc" id="classCModbusProtocolHandler_html_ac4b7f055e9cacd2a3c602d03bc3fc1fa"><div class="ttname"><a href="classCModbusProtocolHandler.html#ac4b7f055e9cacd2a3c602d03bc3fc1fa">CModbusProtocolHandler::CModbusProtocolHandler</a></div><div class="ttdeci">CModbusProtocolHandler(px::asio::CIoTransactor *transactor=nullptr)</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__protocol__handler_8cpp_source.html#l00021">modbus_protocol_handler.cpp:21</a></div></div>
<div class="ttc" id="classCModbusDeviceConfig_html"><div class="ttname"><a href="classCModbusDeviceConfig.html">CModbusDeviceConfig</a></div><div class="ttdoc">Modbus per-device configuration. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__device__config_8hpp_source.html#l00026">modbus_device_config.hpp:26</a></div></div>
<div class="ttc" id="classCModbusProtocolHandler_html_a757c483ea7aaa1f3beeb78d524a3ba03"><div class="ttname"><a href="classCModbusProtocolHandler.html#a757c483ea7aaa1f3beeb78d524a3ba03">CModbusProtocolHandler::token</a></div><div class="ttdeci">px::string token</div><div class="ttdoc">CDS authentication token associated with this connection. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__protocol__handler_8hpp_source.html#l00141">modbus_protocol_handler.hpp:141</a></div></div>
<div class="ttc" id="classCModbusProtocolHandler_html_af29e2e20414e5e283cf88eedb80f8588"><div class="ttname"><a href="classCModbusProtocolHandler.html#af29e2e20414e5e283cf88eedb80f8588">CModbusProtocolHandler::parse_request</a></div><div class="ttdeci">bool parse_request()</div><div class="ttdoc">Parse a Modbus request. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__protocol__handler_8cpp_source.html#l00061">modbus_protocol_handler.cpp:61</a></div></div>
<div class="ttc" id="classCModbusProtocolHandler_html_a296e6204b7b793414e28ca0e4301ec5a"><div class="ttname"><a href="classCModbusProtocolHandler.html#a296e6204b7b793414e28ca0e4301ec5a">CModbusProtocolHandler::execute</a></div><div class="ttdeci">virtual void execute()=0</div><div class="ttdoc">Execute the parsed request. </div></div>
<div class="ttc" id="classCModbusProtocolHandler_html_a6f9a77455512396667c82fdf845c23ce"><div class="ttname"><a href="classCModbusProtocolHandler.html#a6f9a77455512396667c82fdf845c23ce">CModbusProtocolHandler::idle_transaction_ids</a></div><div class="ttdeci">std::deque&lt; std::pair&lt; px::CMonoTime, uint32_t &gt; &gt; idle_transaction_ids</div><div class="ttdoc">Polymorphic function handler object, instantiated to execute the current Modbus request. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__protocol__handler_8hpp_source.html#l00198">modbus_protocol_handler.hpp:198</a></div></div>
<div class="ttc" id="classCModbusProtocolHandler_html_afebe09737bd7484dd3ee5c906b536504"><div class="ttname"><a href="classCModbusProtocolHandler.html#afebe09737bd7484dd3ee5c906b536504">CModbusProtocolHandler::respond</a></div><div class="ttdeci">virtual void respond()=0</div><div class="ttdoc">Send a Modbus response. </div></div>
<div class="ttc" id="classCModbusProtocolHandler_html_a0a8c4797bee7a65ea61cd5f6748700f4"><div class="ttname"><a href="classCModbusProtocolHandler.html#a0a8c4797bee7a65ea61cd5f6748700f4">CModbusProtocolHandler::_adu</a></div><div class="ttdeci">std::unique_ptr&lt; CModbusAdu &gt; _adu</div><div class="ttdoc">Modbus ADU object used for parsing/handling. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__protocol__handler_8hpp_source.html#l00203">modbus_protocol_handler.hpp:203</a></div></div>
<div class="ttc" id="classCModbusProtocolHandler_html_a932406e8113a4541f03f1401df94ed65"><div class="ttname"><a href="classCModbusProtocolHandler.html#a932406e8113a4541f03f1401df94ed65">CModbusProtocolHandler::close</a></div><div class="ttdeci">virtual void close()</div><div class="ttdoc">inharited from CProtocolHandler. We clean up any on going msgs and </div><div class="ttdef"><b>Definition:</b> <a href="modbus__protocol__handler_8cpp_source.html#l00043">modbus_protocol_handler.cpp:43</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CIoTransactor_html"><div class="ttname"><a href="classpx_1_1asio_1_1CIoTransactor.html">CIoTransactor</a></div></div>
<div class="ttc" id="classCModbusPdu_html"><div class="ttname"><a href="classCModbusPdu.html">CModbusPdu</a></div><div class="ttdoc">Modbus Protocol Data Unit. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__pdu_8hpp_source.html#l00016">modbus_pdu.hpp:16</a></div></div>
<div class="ttc" id="classCModbusProtocolHandler_html_a8255e50af76129a8547e59eb3a748dfa"><div class="ttname"><a href="classCModbusProtocolHandler.html#a8255e50af76129a8547e59eb3a748dfa">CModbusProtocolHandler::timer</a></div><div class="ttdeci">std::shared_ptr&lt; px::asio::CIoTimer &gt; timer</div><div class="ttdoc">Timer associated with the current Modbus request, if any. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__protocol__handler_8hpp_source.html#l00136">modbus_protocol_handler.hpp:136</a></div></div>
<div class="ttc" id="classCModbusProtocolHandler_html_a6d4542cf716a5d29b318ee5bfab799c5"><div class="ttname"><a href="classCModbusProtocolHandler.html#a6d4542cf716a5d29b318ee5bfab799c5">CModbusProtocolHandler::protocol</a></div><div class="ttdeci">static const px::string protocol</div><div class="ttdoc">String to identify the protocol for debugging purposes. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__protocol__handler_8hpp_source.html#l00131">modbus_protocol_handler.hpp:131</a></div></div>
<div class="ttc" id="classCModbusProtocolHandler_html_aba7b25b772dca8c36f202ffdd6ce88a7"><div class="ttname"><a href="classCModbusProtocolHandler.html#aba7b25b772dca8c36f202ffdd6ce88a7">CModbusProtocolHandler::get_io_service</a></div><div class="ttdeci">boost::asio::io_service &amp; get_io_service() const </div><div class="ttdoc">Get the I/O service associated with the owner of this protocol handler. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__protocol__handler_8cpp_source.html#l00229">modbus_protocol_handler.cpp:229</a></div></div>
<div class="ttc" id="classCModbusCdsHandle_html"><div class="ttname"><a href="classCModbusCdsHandle.html">CModbusCdsHandle</a></div><div class="ttdoc">Modbus CDS Handler class. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__cds__handle_8hpp_source.html#l00030">modbus_cds_handle.hpp:30</a></div></div>
<div class="ttc" id="classCModbusProtocolHandler_html_ab2c243ea29eb8a4cd160a5fff827748e"><div class="ttname"><a href="classCModbusProtocolHandler.html#ab2c243ea29eb8a4cd160a5fff827748e">CModbusProtocolHandler::get_config</a></div><div class="ttdeci">CModbusConfig &amp; get_config() const </div><div class="ttdoc">Get a handle to the server core config object. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__protocol__handler_8cpp_source.html#l00215">modbus_protocol_handler.cpp:215</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CProtocolHandler_html"><div class="ttname"><a href="classpx_1_1asio_1_1CProtocolHandler.html">CProtocolHandler</a></div></div>
<div class="ttc" id="classCModbusProtocolHandler_html"><div class="ttname"><a href="classCModbusProtocolHandler.html">CModbusProtocolHandler</a></div><div class="ttdoc">Modbus Protocol Handler. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__protocol__handler_8hpp_source.html#l00034">modbus_protocol_handler.hpp:34</a></div></div>
<div class="ttc" id="classCModbusConfig_html"><div class="ttname"><a href="classCModbusConfig.html">CModbusConfig</a></div><div class="ttdoc">Modbus server configuration. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__config_8hpp_source.html#l00045">modbus_config.hpp:45</a></div></div>
<div class="ttc" id="classCModbusProtocolHandler_html_ac4d61d008dd3cdd936c4c4e174ca5a81"><div class="ttname"><a href="classCModbusProtocolHandler.html#ac4d61d008dd3cdd936c4c4e174ca5a81">CModbusProtocolHandler::clone</a></div><div class="ttdeci">virtual std::shared_ptr&lt; px::asio::CProtocolHandler &gt; clone(px::asio::CIoTransactor *CIoTransactor) const =0</div><div class="ttdoc">Clone this protocol object. </div></div>
<div class="ttc" id="classCModbusProtocolHandler_html_a970858790d84432db7e2dfcee47c7b60"><div class="ttname"><a href="classCModbusProtocolHandler.html#a970858790d84432db7e2dfcee47c7b60">CModbusProtocolHandler::handle_request</a></div><div class="ttdeci">void handle_request(CModbusPdu &amp;pdu, CModbusDeviceConfig &amp;cfg, bool nan_to_zero)</div><div class="ttdoc">Handle a Modbus request. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__protocol__handler_8cpp_source.html#l00119">modbus_protocol_handler.cpp:119</a></div></div>
<div class="ttc" id="classCModbusAdu_html"><div class="ttname"><a href="classCModbusAdu.html">CModbusAdu</a></div><div class="ttdoc">Modbus Application Data Unit. </div><div class="ttdef"><b>Definition:</b> <a href="modbus__adu_8hpp_source.html#l00013">modbus_adu.hpp:13</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="dir_ec2f1a1bfd5626e5139e04509fd6a949.html">modbus</a></li><li class="navelem"><a class="el" href="dir_fb052aad473b4eb6f166b68a384c92bb.html">protocol</a></li><li class="navelem"><b>modbus_protocol_handler.hpp</b></li>
    <li class="footer">Generated on Fri May 7 2021 20:25:37 for modbus_server by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
