<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>modbus_server: CModbusConfig Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">modbus_server
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classCModbusConfig.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classCModbusConfig-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CModbusConfig Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Modbus server configuration.  
 <a href="classCModbusConfig.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="modbus__config_8hpp_source.html">modbus_config.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CModbusConfig:</div>
<div class="dyncontent">
<div class="center"><img src="classCModbusConfig__inherit__graph.png" border="0" usemap="#CModbusConfig_inherit__map" alt="Inheritance graph"/></div>
<map name="CModbusConfig_inherit__map" id="CModbusConfig_inherit__map">
<area shape="rect" id="node2" href="classMockConfig.html" title="Mock the Modbus Config interface. " alt="" coords="41,718,175,810"/></map>
</div>
<div class="dynheader">
Collaboration diagram for CModbusConfig:</div>
<div class="dyncontent">
<div class="center"><img src="classCModbusConfig__coll__graph.png" border="0" usemap="#CModbusConfig_coll__map" alt="Collaboration graph"/></div>
<map name="CModbusConfig_coll__map" id="CModbusConfig_coll__map">
<area shape="rect" id="node2" href="structCEDSList_1_1eds__list__s.html" title="{CEDSList::eds_list_s\n||}" alt="" coords="291,705,443,783"/><area shape="rect" id="node4" title="STL class. " alt="" coords="485,147,637,239"/><area shape="rect" id="node14" href="classCModbusCdsHandle.html" title="Modbus CDS Handler class. " alt="" coords="979,625,1165,863"/><area shape="rect" id="node15" href="classpx_1_1asio_1_1CCdsHandler.html" title="{px::asio::CCdsHandler\n||}" alt="" coords="851,361,1016,439"/><area shape="rect" id="node19" title="STL class. " alt="" coords="1134,155,1316,232"/><area shape="rect" id="node20" href="classCModbusServer.html" title="Server core class. " alt="" coords="1810,317,1968,483"/><area shape="rect" id="node21" href="classpx_1_1asio_1_1CServerCore.html" title="{px::asio::CServerCore\n||}" alt="" coords="1341,155,1504,232"/><area shape="rect" id="node26" title="STL class. " alt="" coords="2313,5,2471,83"/><area shape="rect" id="node30" title="STL class. " alt="" coords="1993,361,2103,439"/></map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a721d21774e420fd4aa8f52305333d946"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a721d21774e420fd4aa8f52305333d946">CModbusConfig</a> (<a class="el" href="classCModbusSettings.html">CModbusSettings</a> &amp;settings, <a class="el" href="classCModbusCdsHandle.html">CModbusCdsHandle</a> &amp;cds, const unit_id_t target_uid)</td></tr>
<tr class="memdesc:a721d21774e420fd4aa8f52305333d946"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for Modbus TCP profiler operations.  <a href="#a721d21774e420fd4aa8f52305333d946">More...</a><br/></td></tr>
<tr class="separator:a721d21774e420fd4aa8f52305333d946"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4382b3d85c4eb65162b558905d7e7af8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a4382b3d85c4eb65162b558905d7e7af8">CModbusConfig</a> (<a class="el" href="classCModbusSettings.html">CModbusSettings</a> &amp;settings, <a class="el" href="classCModbusCdsHandle.html">CModbusCdsHandle</a> &amp;cds, const px::string &amp;eds_list_file)</td></tr>
<tr class="memdesc:a4382b3d85c4eb65162b558905d7e7af8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for Modbus TCP server operations.  <a href="#a4382b3d85c4eb65162b558905d7e7af8">More...</a><br/></td></tr>
<tr class="separator:a4382b3d85c4eb65162b558905d7e7af8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad78c92229a7d6a40fb1915c292c65a9b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad78c92229a7d6a40fb1915c292c65a9b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#ad78c92229a7d6a40fb1915c292c65a9b">~CModbusConfig</a> ()</td></tr>
<tr class="memdesc:ad78c92229a7d6a40fb1915c292c65a9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr class="separator:ad78c92229a7d6a40fb1915c292c65a9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab25cc9d41f8600dbca453f3f85564853"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCModbusDeviceConfig.html">CModbusDeviceConfig</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#ab25cc9d41f8600dbca453f3f85564853">tcp_config</a> (unit_id_t uid)</td></tr>
<tr class="memdesc:ab25cc9d41f8600dbca453f3f85564853"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the device config associated with a TCP Unit ID.  <a href="#ab25cc9d41f8600dbca453f3f85564853">More...</a><br/></td></tr>
<tr class="separator:ab25cc9d41f8600dbca453f3f85564853"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eed7f16755c2dc94c5c18aec4656708"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a0eed7f16755c2dc94c5c18aec4656708">add_remove_device</a> (const bool add_device, const px::id_t &amp;dev_id, unit_id_t uid, const px::string &amp;peds_file, const px::string &amp;peds_desc, const px::string &amp;subdevice_peds_file, bool writes_disabled, bool fire_forget, bool zero_fill, bool offline)</td></tr>
<tr class="memdesc:a0eed7f16755c2dc94c5c18aec4656708"><td class="mdescLeft">&#160;</td><td class="mdescRight">Threadsafe method to add or remove a device from the _tcp_map.  <a href="#a0eed7f16755c2dc94c5c18aec4656708">More...</a><br/></td></tr>
<tr class="separator:a0eed7f16755c2dc94c5c18aec4656708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4a473483bd831e544f8bf1ccc7863f5"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#aa4a473483bd831e544f8bf1ccc7863f5">tcp_timeout</a> () const </td></tr>
<tr class="memdesc:aa4a473483bd831e544f8bf1ccc7863f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for timeout value of TCP requests.  <a href="#aa4a473483bd831e544f8bf1ccc7863f5">More...</a><br/></td></tr>
<tr class="separator:aa4a473483bd831e544f8bf1ccc7863f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa0f319934b431d54c1aa33d554da85b0"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa0f319934b431d54c1aa33d554da85b0"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#aa0f319934b431d54c1aa33d554da85b0">nan_to_zero</a> () const </td></tr>
<tr class="memdesc:aa0f319934b431d54c1aa33d554da85b0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for nan_to_zero value. <br/></td></tr>
<tr class="separator:aa0f319934b431d54c1aa33d554da85b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a131d4ecb999b52cf862e2143690cb887"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a131d4ecb999b52cf862e2143690cb887">handle_new_device</a> (px::id_t dev_id, const px::string &amp;model, const px::string &amp;eds_file, bool offline)</td></tr>
<tr class="memdesc:a131d4ecb999b52cf862e2143690cb887"><td class="mdescLeft">&#160;</td><td class="mdescRight">Help function to handle a new device - create address mapping for it.  <a href="#a131d4ecb999b52cf862e2143690cb887">More...</a><br/></td></tr>
<tr class="separator:a131d4ecb999b52cf862e2143690cb887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa16969e3e77127fc62b14666798ba538"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#aa16969e3e77127fc62b14666798ba538">handle_new_dynamic_device</a> (px::id_t dev_id, bool offline)</td></tr>
<tr class="memdesc:aa16969e3e77127fc62b14666798ba538"><td class="mdescLeft">&#160;</td><td class="mdescRight">Help function to handle a new dynamic device - create address mapping for it.  <a href="#aa16969e3e77127fc62b14666798ba538">More...</a><br/></td></tr>
<tr class="separator:aa16969e3e77127fc62b14666798ba538"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb652d0cffebc8b53773e3bed339ea6a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#acb652d0cffebc8b53773e3bed339ea6a">handle_removed_device</a> (px::id_t dev_id)</td></tr>
<tr class="memdesc:acb652d0cffebc8b53773e3bed339ea6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Help function to handle a removed device - remove address mapping of it.  <a href="#acb652d0cffebc8b53773e3bed339ea6a">More...</a><br/></td></tr>
<tr class="separator:acb652d0cffebc8b53773e3bed339ea6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89029dfa3ea9cfa73a1e930e598d148e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a89029dfa3ea9cfa73a1e930e598d148e">handle_oob_change</a> (px::proto::toolkitStruct &amp;update)</td></tr>
<tr class="memdesc:a89029dfa3ea9cfa73a1e930e598d148e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Help function to handle the change in an OOB.  <a href="#a89029dfa3ea9cfa73a1e930e598d148e">More...</a><br/></td></tr>
<tr class="separator:a89029dfa3ea9cfa73a1e930e598d148e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae85b981073a47d194ca0f7bd546caa20"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#ae85b981073a47d194ca0f7bd546caa20">handle_device_state_change</a> (const px::id_t &amp;dev_id, const px::CBitset&lt; px::realtime_state &gt; &amp;state)</td></tr>
<tr class="memdesc:ae85b981073a47d194ca0f7bd546caa20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Help function to handle the update of a device state.  <a href="#ae85b981073a47d194ca0f7bd546caa20">More...</a><br/></td></tr>
<tr class="separator:ae85b981073a47d194ca0f7bd546caa20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8685405f43114c13d98ca5886fc25cd6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a8685405f43114c13d98ca5886fc25cd6">valid_device</a> (px::id_t dev_id)</td></tr>
<tr class="memdesc:a8685405f43114c13d98ca5886fc25cd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function used to determine if a device has been removed or not.  <a href="#a8685405f43114c13d98ca5886fc25cd6">More...</a><br/></td></tr>
<tr class="separator:a8685405f43114c13d98ca5886fc25cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d64c756c621a537e782a3579aedb040"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a4d64c756c621a537e782a3579aedb040">is_dynamic_mode</a> () const </td></tr>
<tr class="memdesc:a4d64c756c621a537e782a3579aedb040"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine whether we are running in the dynamic mode (i.e.  <a href="#a4d64c756c621a537e782a3579aedb040">More...</a><br/></td></tr>
<tr class="separator:a4d64c756c621a537e782a3579aedb040"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a8647cd81010d7f7c48e23c81cbc2b647"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8647cd81010d7f7c48e23c81cbc2b647"></a>
typedef boost::ptr_map<br class="typebreak"/>
&lt; unit_id_t, <br class="typebreak"/>
<a class="el" href="classCModbusDeviceConfig.html">CModbusDeviceConfig</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a8647cd81010d7f7c48e23c81cbc2b647">tcp_cfg_map_t</a></td></tr>
<tr class="memdesc:a8647cd81010d7f7c48e23c81cbc2b647"><td class="mdescLeft">&#160;</td><td class="mdescRight">A container of per-Modbus-TCP-unit-ID device configurations. <br/></td></tr>
<tr class="separator:a8647cd81010d7f7c48e23c81cbc2b647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a044d5f45dff37ba68dd89999a0ddb2de"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a044d5f45dff37ba68dd89999a0ddb2de"></a>
typedef std::unordered_map<br class="typebreak"/>
&lt; px::id_t, unit_id_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a044d5f45dff37ba68dd89999a0ddb2de">did_uid_map_t</a></td></tr>
<tr class="memdesc:a044d5f45dff37ba68dd89999a0ddb2de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Device-id to unit-id mapping. <br/></td></tr>
<tr class="separator:a044d5f45dff37ba68dd89999a0ddb2de"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a7ce89f39675bfc2cadeeef1d739e3eae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a7ce89f39675bfc2cadeeef1d739e3eae">update_oob_map_list</a> (<a class="el" href="classCModbusTcpUnitSettings.html">CModbusTcpUnitSettings</a> &amp;settings)</td></tr>
<tr class="memdesc:a7ce89f39675bfc2cadeeef1d739e3eae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates (migrate) CDS OOB and TCP Unit Settings if the OOB is missing the map_list.  <a href="#a7ce89f39675bfc2cadeeef1d739e3eae">More...</a><br/></td></tr>
<tr class="separator:a7ce89f39675bfc2cadeeef1d739e3eae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9165e895a10070aed0ca2c81193575c5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a9165e895a10070aed0ca2c81193575c5">update_dynamic_oob_map_list</a> (<a class="el" href="classCModbusTcpUnitSettings.html">CModbusTcpUnitSettings</a> &amp;settings)</td></tr>
<tr class="memdesc:a9165e895a10070aed0ca2c81193575c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates (migrate) CDS OOB and TCP Unit Settings for Dynamic mappings if the OOB is missing the map_list.  <a href="#a9165e895a10070aed0ca2c81193575c5">More...</a><br/></td></tr>
<tr class="separator:a9165e895a10070aed0ca2c81193575c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2a0639ca3cf6c1fcd697d29752e55a7"><td class="memItemLeft" align="right" valign="top">px::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#ad2a0639ca3cf6c1fcd697d29752e55a7">get_device_peds_file</a> (const px::string &amp;eds_file, const px::string &amp;name, px::proto::UidMapEntry *uid_map_entry)</td></tr>
<tr class="memdesc:ad2a0639ca3cf6c1fcd697d29752e55a7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the PEDs file associated with a device EDS file name.  <a href="#ad2a0639ca3cf6c1fcd697d29752e55a7">More...</a><br/></td></tr>
<tr class="separator:ad2a0639ca3cf6c1fcd697d29752e55a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae37a0b6cf610cce5533a43c98eeda2df"><td class="memItemLeft" align="right" valign="top">px::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#ae37a0b6cf610cce5533a43c98eeda2df">get_subdevice_peds_file</a> (const px::string &amp;peds_file)</td></tr>
<tr class="memdesc:ae37a0b6cf610cce5533a43c98eeda2df"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the subdevice PEDs file associated with a device EDS file name.  <a href="#ae37a0b6cf610cce5533a43c98eeda2df">More...</a><br/></td></tr>
<tr class="separator:ae37a0b6cf610cce5533a43c98eeda2df"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1c04ca993eddb1a7dca5c5156b8b410b"><td class="memItemLeft" align="right" valign="top">px::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a1c04ca993eddb1a7dca5c5156b8b410b">get_global_peds_file</a> (const px::string &amp;name)</td></tr>
<tr class="memdesc:a1c04ca993eddb1a7dca5c5156b8b410b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to get the global PEDs file associated with an EDS name.  <a href="#a1c04ca993eddb1a7dca5c5156b8b410b">More...</a><br/></td></tr>
<tr class="separator:a1c04ca993eddb1a7dca5c5156b8b410b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2a313685904bac00accb6666c46dc744"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a2a313685904bac00accb6666c46dc744">add_subdevice_ids</a> (unit_id_t uid, <a class="el" href="classCModbusDeviceConfig.html#acc5f92f0d8894dd781548c59f27deef9">CModbusDeviceConfig::device_id_set_t</a> &amp;dev_ids)</td></tr>
<tr class="memdesc:a2a313685904bac00accb6666c46dc744"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helper function to add sub-device IDs.  <a href="#a2a313685904bac00accb6666c46dc744">More...</a><br/></td></tr>
<tr class="separator:a2a313685904bac00accb6666c46dc744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bc8d3103b1e3823f21f5df61f81ff5b"><td class="memItemLeft" align="right" valign="top">unit_id_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a4bc8d3103b1e3823f21f5df61f81ff5b">get_uid_for_new_device</a> ()</td></tr>
<tr class="memdesc:a4bc8d3103b1e3823f21f5df61f81ff5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a unique unit id for a new device.  <a href="#a4bc8d3103b1e3823f21f5df61f81ff5b">More...</a><br/></td></tr>
<tr class="separator:a4bc8d3103b1e3823f21f5df61f81ff5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1634c01f931db52f2e416b412ad6feb0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a1634c01f931db52f2e416b412ad6feb0">build_dynamic_peds</a> (<a class="el" href="classCModbusSettings.html">CModbusSettings</a> &amp;settings)</td></tr>
<tr class="memdesc:a1634c01f931db52f2e416b412ad6feb0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dynamically create PEDs from Modbus server settings.  <a href="#a1634c01f931db52f2e416b412ad6feb0">More...</a><br/></td></tr>
<tr class="separator:a1634c01f931db52f2e416b412ad6feb0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a580bb32ecd1e66edd3de8a4b86826948"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a580bb32ecd1e66edd3de8a4b86826948">build_device_peds</a> (<a class="el" href="classCModbusTcpUnitSettings.html">CModbusTcpUnitSettings</a> &amp;unit)</td></tr>
<tr class="memdesc:a580bb32ecd1e66edd3de8a4b86826948"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dynamically create PEDs files for existing devices and save to the "/tmp/peds" directory.  <a href="#a580bb32ecd1e66edd3de8a4b86826948">More...</a><br/></td></tr>
<tr class="separator:a580bb32ecd1e66edd3de8a4b86826948"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f48c6e00c2ca0c81d3a234d0059c12c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a1f48c6e00c2ca0c81d3a234d0059c12c">create_device_peds</a> (const px::CDevice &amp;dev, const px::string &amp;peds_file)</td></tr>
<tr class="memdesc:a1f48c6e00c2ca0c81d3a234d0059c12c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dynamically create PEDs files for existing devices and save to the "/tmp/peds" directory.  <a href="#a1f48c6e00c2ca0c81d3a234d0059c12c">More...</a><br/></td></tr>
<tr class="separator:a1f48c6e00c2ca0c81d3a234d0059c12c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0761b11abba785eab9609b2a526583f4"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0761b11abba785eab9609b2a526583f4"></a>
size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a0761b11abba785eab9609b2a526583f4">_tcp_timeout</a></td></tr>
<tr class="memdesc:a0761b11abba785eab9609b2a526583f4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The max time (in msec) allowed before we send a reply to an incoming Modbus-TCP request. <br/></td></tr>
<tr class="separator:a0761b11abba785eab9609b2a526583f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a00d5bdb217fb222fadf6592395d3bd33"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a00d5bdb217fb222fadf6592395d3bd33"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a00d5bdb217fb222fadf6592395d3bd33">_writes_disabled</a></td></tr>
<tr class="memdesc:a00d5bdb217fb222fadf6592395d3bd33"><td class="mdescLeft">&#160;</td><td class="mdescRight">control if we accept write requests <br/></td></tr>
<tr class="separator:a00d5bdb217fb222fadf6592395d3bd33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf6c35f8ea318f1c0823be3985599e96"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="acf6c35f8ea318f1c0823be3985599e96"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#acf6c35f8ea318f1c0823be3985599e96">_fire_forget</a></td></tr>
<tr class="memdesc:acf6c35f8ea318f1c0823be3985599e96"><td class="mdescLeft">&#160;</td><td class="mdescRight">control if we check status of write requests <br/></td></tr>
<tr class="separator:acf6c35f8ea318f1c0823be3985599e96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadc9fecf0c3cde20fcba86c5e8d35326"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aadc9fecf0c3cde20fcba86c5e8d35326"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#aadc9fecf0c3cde20fcba86c5e8d35326">_zero_fill</a></td></tr>
<tr class="memdesc:aadc9fecf0c3cde20fcba86c5e8d35326"><td class="mdescLeft">&#160;</td><td class="mdescRight">control if we zero fill error requests <br/></td></tr>
<tr class="separator:aadc9fecf0c3cde20fcba86c5e8d35326"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3583c75936f4fa371eca77bf66691cd8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3583c75936f4fa371eca77bf66691cd8"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a3583c75936f4fa371eca77bf66691cd8">_nan_to_zero</a></td></tr>
<tr class="memdesc:a3583c75936f4fa371eca77bf66691cd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">control for NaN to zero conversions on requests <br/></td></tr>
<tr class="separator:a3583c75936f4fa371eca77bf66691cd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a016273316aaf2f12cfee2f99a48f61fd"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a016273316aaf2f12cfee2f99a48f61fd"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a016273316aaf2f12cfee2f99a48f61fd">_dynamic_mode</a></td></tr>
<tr class="memdesc:a016273316aaf2f12cfee2f99a48f61fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dynamically generate PEDs files. <br/></td></tr>
<tr class="separator:a016273316aaf2f12cfee2f99a48f61fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac69668eac49961778ef526f342ad6510"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac69668eac49961778ef526f342ad6510"></a>
std::set&lt; unit_id_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#ac69668eac49961778ef526f342ad6510">_available_uids</a></td></tr>
<tr class="memdesc:ac69668eac49961778ef526f342ad6510"><td class="mdescLeft">&#160;</td><td class="mdescRight">a set of available unit ids <br/></td></tr>
<tr class="separator:ac69668eac49961778ef526f342ad6510"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97b85d57a730ab3d62655eece92066a5"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a97b85d57a730ab3d62655eece92066a5"></a>
unit_id_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a97b85d57a730ab3d62655eece92066a5">_highest_uid</a></td></tr>
<tr class="memdesc:a97b85d57a730ab3d62655eece92066a5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The highest uid currently being used by any device (the highest available), it will not change and from that time on new device will be assigned with the first available one in _available_uids. <br/></td></tr>
<tr class="separator:a97b85d57a730ab3d62655eece92066a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a473144f204b4a70e3848344d047f5286"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a473144f204b4a70e3848344d047f5286"></a>
<a class="el" href="classCModbusConfig.html#a8647cd81010d7f7c48e23c81cbc2b647">tcp_cfg_map_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a473144f204b4a70e3848344d047f5286">_tcp_map</a></td></tr>
<tr class="memdesc:a473144f204b4a70e3848344d047f5286"><td class="mdescLeft">&#160;</td><td class="mdescRight">Modbus-TCP mapping / configuration data Key Value modbus UID <a class="el" href="classCModbusDeviceConfig.html" title="Modbus per-device configuration. ">CModbusDeviceConfig</a>. <br/></td></tr>
<tr class="separator:a473144f204b4a70e3848344d047f5286"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75c79bda1eccbefab351f367a887f979"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCModbusConfig.html#a044d5f45dff37ba68dd89999a0ddb2de">did_uid_map_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a75c79bda1eccbefab351f367a887f979">_did_uid_map</a></td></tr>
<tr class="memdesc:a75c79bda1eccbefab351f367a887f979"><td class="mdescLeft">&#160;</td><td class="mdescRight">device-id to unit-id map.  <a href="#a75c79bda1eccbefab351f367a887f979">More...</a><br/></td></tr>
<tr class="separator:a75c79bda1eccbefab351f367a887f979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17e059849903007f1a143a2507cbd75d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a17e059849903007f1a143a2507cbd75d"></a>
<a class="el" href="structCEDSList_1_1eds__list__s.html">CEDSList::eds_list_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a17e059849903007f1a143a2507cbd75d">_eds_list</a></td></tr>
<tr class="memdesc:a17e059849903007f1a143a2507cbd75d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map of peds_list_t structs using EDS file names as keys. <br/></td></tr>
<tr class="separator:a17e059849903007f1a143a2507cbd75d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87ef2121f363e3f0ae050a4cf81a805e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCModbusDeviceConfig.html#adc092ba9d0e802748ac2a7b290fc39d0">CModbusDeviceConfig::peds_map_store_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a87ef2121f363e3f0ae050a4cf81a805e">_peds_map_store</a></td></tr>
<tr class="memdesc:a87ef2121f363e3f0ae050a4cf81a805e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Match a PEDs map name to an eds mapping.  <a href="#a87ef2121f363e3f0ae050a4cf81a805e">More...</a><br/></td></tr>
<tr class="separator:a87ef2121f363e3f0ae050a4cf81a805e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45711b9d6719cf7b4ca12dbc5bd0940b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a45711b9d6719cf7b4ca12dbc5bd0940b"></a>
<a class="el" href="classCModbusCdsHandle.html">CModbusCdsHandle</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a45711b9d6719cf7b4ca12dbc5bd0940b">_cds</a></td></tr>
<tr class="memdesc:a45711b9d6719cf7b4ca12dbc5bd0940b"><td class="mdescLeft">&#160;</td><td class="mdescRight">handle to the cds needed to manage the UID map <br/></td></tr>
<tr class="separator:a45711b9d6719cf7b4ca12dbc5bd0940b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad501da20b4d4f2b7974d92cb6ad18743"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ad501da20b4d4f2b7974d92cb6ad18743"></a>
boost::filesystem::path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#ad501da20b4d4f2b7974d92cb6ad18743">_peds_dir</a></td></tr>
<tr class="memdesc:ad501da20b4d4f2b7974d92cb6ad18743"><td class="mdescLeft">&#160;</td><td class="mdescRight">Path to the dynamic PEDs directory. <br/></td></tr>
<tr class="separator:ad501da20b4d4f2b7974d92cb6ad18743"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7dede97b872c12d3e884ff61c7a7b559"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a7dede97b872c12d3e884ff61c7a7b559"></a>
std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCModbusConfig.html#a7dede97b872c12d3e884ff61c7a7b559">_mutex</a></td></tr>
<tr class="memdesc:a7dede97b872c12d3e884ff61c7a7b559"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex to ensure thread safe add/deletes to TCP Map and EDS Map Store. <br/></td></tr>
<tr class="separator:a7dede97b872c12d3e884ff61c7a7b559"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Modbus server configuration. </p>
<p>This is the runtime server configuration data utilized by the Modbus server.</p>
<p>In this project, "settings" reflect the externally-visible configuration items in the Toolkit/CDS. This means that the settings classes basically reflect 1:1 what can be found in the Toolkit's configuration tree structure, and manipulated by users (e.g. through the device's web UI). "Configuration", on the other hand, is suited for run-time use by the server.</p>
<p>"Settings" are read first, then used as the basis for constructing "configuration" objects. This allows the externally-visible nodes to be laid out in whatever way is most convenient or understandable, and keeps the settings code very simple. Configuration is then internal-only, and can be organized in whatever way is most suitable for the server's internal operations. </p>

<p>Definition at line <a class="el" href="modbus__config_8hpp_source.html#l00045">45</a> of file <a class="el" href="modbus__config_8hpp_source.html">modbus_config.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a721d21774e420fd4aa8f52305333d946"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CModbusConfig::CModbusConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCModbusSettings.html">CModbusSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCModbusCdsHandle.html">CModbusCdsHandle</a> &amp;&#160;</td>
          <td class="paramname"><em>cds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unit_id_t&#160;</td>
          <td class="paramname"><em>target_uid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for Modbus TCP profiler operations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">settings</td><td>Pre-fetched Modbus settings, from the CDS</td></tr>
    <tr><td class="paramname">cds</td><td>The modbus cds handle.</td></tr>
    <tr><td class="paramname">uid</td><td>If non-zero, the UID of the device to profile. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="modbus__config_8cpp_source.html#l00020">20</a> of file <a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCModbusConfig_a721d21774e420fd4aa8f52305333d946_cgraph.png" border="0" usemap="#classCModbusConfig_a721d21774e420fd4aa8f52305333d946_cgraph" alt=""/></div>
<map name="classCModbusConfig_a721d21774e420fd4aa8f52305333d946_cgraph" id="classCModbusConfig_a721d21774e420fd4aa8f52305333d946_cgraph">
<area shape="rect" id="node2" href="classCModbusConfig.html#a0eed7f16755c2dc94c5c18aec4656708" title="Threadsafe method to add or remove a device from the _tcp_map. " alt="" coords="297,5,452,46"/><area shape="rect" id="node4" href="classCModbusCdsHandle.html#a717d5de6eca53b75879167a227762740" title="ToDo: replace with CdsHandler&#39;s init_device_map() and more List the device or sub&#45;devices of the spec..." alt="" coords="285,70,464,111"/><area shape="rect" id="node5" href="classCModbusConfig.html#a2a313685904bac00accb6666c46dc744" title="Helper function to add sub&#45;device IDs. " alt="" coords="297,135,452,177"/><area shape="rect" id="node3" href="classCModbusUtil.html#a810fa100a70e436cbe20cbdc3305933d" title="Delete the specified file. " alt="" coords="513,12,693,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4382b3d85c4eb65162b558905d7e7af8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CModbusConfig::CModbusConfig </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCModbusSettings.html">CModbusSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCModbusCdsHandle.html">CModbusCdsHandle</a> &amp;&#160;</td>
          <td class="paramname"><em>cds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>eds_list_file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for Modbus TCP server operations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">settings</td><td>Pre-fetched Modbus settings, from the CDS</td></tr>
    <tr><td class="paramname">cds</td><td>The modbus cds handle.</td></tr>
    <tr><td class="paramname">eds_list_file</td><td>The location of the EDS List file</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">generic_err</td><td>The configuration could not be initialized </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="modbus__config_8cpp_source.html#l00114">114</a> of file <a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCModbusConfig_a4382b3d85c4eb65162b558905d7e7af8_cgraph.png" border="0" usemap="#classCModbusConfig_a4382b3d85c4eb65162b558905d7e7af8_cgraph" alt=""/></div>
<map name="classCModbusConfig_a4382b3d85c4eb65162b558905d7e7af8_cgraph" id="classCModbusConfig_a4382b3d85c4eb65162b558905d7e7af8_cgraph">
<area shape="rect" id="node2" href="classCEDSList.html#a0d2d9946360cb97200bc8eaaac8100c5" title="getter for is_initialized " alt="" coords="289,801,460,828"/><area shape="rect" id="node3" href="classCModbusConfig.html#a1634c01f931db52f2e416b412ad6feb0" title="Dynamically create PEDs from Modbus server settings. " alt="" coords="293,954,456,995"/><area shape="rect" id="node25" href="classCEDSList.html#a6d29b3f06d02c5ce45ac19b94d2dfe4a" title="getter for the Unordered EDS List map " alt="" coords="305,1121,444,1148"/><area shape="rect" id="node26" href="classCModbusConfig.html#a7ce89f39675bfc2cadeeef1d739e3eae" title="Updates (migrate) CDS OOB and TCP Unit Settings if the OOB is missing the map_list. " alt="" coords="513,257,687,298"/><area shape="rect" id="node32" href="classCModbusConfig.html#a0eed7f16755c2dc94c5c18aec4656708" title="Threadsafe method to add or remove a device from the _tcp_map. " alt="" coords="764,1346,919,1387"/><area shape="rect" id="node33" href="classCModbusCdsHandle.html#a717d5de6eca53b75879167a227762740" title="ToDo: replace with CdsHandler&#39;s init_device_map() and more List the device or sub&#45;devices of the spec..." alt="" coords="285,1173,464,1214"/><area shape="rect" id="node34" href="classCModbusConfig.html#a2a313685904bac00accb6666c46dc744" title="Helper function to add sub&#45;device IDs. " alt="" coords="297,1238,452,1279"/><area shape="rect" id="node35" href="classCModbusConfig.html#a131d4ecb999b52cf862e2143690cb887" title="Help function to handle a new device &#45; create address mapping for it. " alt="" coords="513,553,687,594"/><area shape="rect" id="node37" href="classCModbusCdsHandle.html#a654fe49e26c8beaf8c336883069f2e8d" title="List all uid map tags for MODBUS Data Server. " alt="" coords="285,1303,464,1345"/><area shape="rect" id="node38" href="classCModbusConfig.html#acb652d0cffebc8b53773e3bed339ea6a" title="Help function to handle a removed device &#45; remove address mapping of it. " alt="" coords="513,1209,687,1250"/><area shape="rect" id="node4" href="classCModbusConfig.html#a580bb32ecd1e66edd3de8a4b86826948" title="Dynamically create PEDs files for existing devices and save to the &quot;/tmp/peds&quot; directory. " alt="" coords="519,954,681,995"/><area shape="rect" id="node5" href="classCModbusUtil.html#a050b83c8a08e3d3b7e501a9d16ca3504" title="Generate dynamic PEDs file name based on Device ID and canonical name. " alt="" coords="743,889,939,930"/><area shape="rect" id="node7" href="classCModbusTcpUnitSettings.html#ab0f681341450751f8fb3594e118621d4" title="get the currently configured PEDS file " alt="" coords="1030,771,1213,813"/><area shape="rect" id="node8" href="classCModbusTcpUnitSettings.html#a97db5c522bb88de65d8eb06cf0a6ec60" title="set the currently configured PEDS file " alt="" coords="750,954,933,995"/><area shape="rect" id="node9" href="classCModbusTcpUnitSettings.html#ad34ece43cbdb339c7101584622b3495c" title="set the PEDS name " alt="" coords="750,641,933,682"/><area shape="rect" id="node10" href="classCModbusTcpUnitSettings.html#a75040535647df25bea5080cf178adc3d" title="set the PEDS description " alt="" coords="750,1019,933,1061"/><area shape="rect" id="node11" href="classCModbusConfig.html#a1f48c6e00c2ca0c81d3a234d0059c12c" title="Dynamically create PEDs files for existing devices and save to the &quot;/tmp/peds&quot; directory. " alt="" coords="756,1215,927,1257"/><area shape="rect" id="node17" href="classCModbusConfig.html#a4bc8d3103b1e3823f21f5df61f81ff5b" title="Get a unique unit id for a new device. " alt="" coords="762,706,921,747"/><area shape="rect" id="node18" href="classCModbusConfig.html#a9165e895a10070aed0ca2c81193575c5" title="Updates (migrate) CDS OOB and TCP Unit Settings for Dynamic mappings if the OOB is missing the map_li..." alt="" coords="752,771,931,813"/><area shape="rect" id="node21" href="classCModbusTcpUnitSettings.html#a5b2bd897f239d091dda13ab4ffcf257e" title="Subscribe to device events. " alt="" coords="750,1085,933,1126"/><area shape="rect" id="node23" href="classCModbusTcpUnitSettings.html#a977d5f3075c4aaca28e43f08f0b27d0e" title="Determine whether this class was initialized without errors. " alt="" coords="750,1150,933,1191"/><area shape="rect" id="node24" href="classCModbusTcpUnitSettings.html#a7590e1667a0996378d593145a2923332" title="Set the class initialization state to valid;. " alt="" coords="750,1281,933,1322"/><area shape="rect" id="node6" href="classCModbusUtil.html#a308d6e5bd7976a54536f6a19c56599ea" title="Replace any forbidden filename charaters in a string. " alt="" coords="1023,889,1220,930"/><area shape="rect" id="node12" href="classCModbusUtil.html#a0e88aa5cef4d314c3101bdb11e13a379" title="Check if a given file exists or not. " alt="" coords="1036,1183,1207,1225"/><area shape="rect" id="node13" href="classCEfficient.html#a385322b9f1c3ab2ac5b713b62970f393" title="Create PEDs file from device attributes, channels, and commands. " alt="" coords="1047,1249,1195,1290"/><area shape="rect" id="node16" href="classCModbusUtil.html#a810fa100a70e436cbe20cbdc3305933d" title="Delete the specified file. " alt="" coords="1031,1317,1211,1344"/><area shape="rect" id="node14" href="classCModbusUtil.html#a6af1e1d43d44e906f140f6711ae5c582" title="Get register count for a data&#45;type. " alt="" coords="1297,1215,1487,1257"/><area shape="rect" id="node15" href="classCModbusCdsHandle.html#a07c1b743de512abf3d0ac5abca2bc0d3" title="Retrieve list of supported commands for a particular device. " alt="" coords="1303,1281,1481,1322"/><area shape="rect" id="node19" href="classCModbusTcpUnitSettings.html#ab9a43eb513e7eac31743471d4834a5d4" title="get the subdevice PEDS file (if available) " alt="" coords="1030,614,1213,655"/><area shape="rect" id="node20" href="classCModbusCdsHandle.html#a3436a86ba0d8a2a028c5039bddce14e1" title="Utility function to set the UNITID_MAP/MODBUS_SERVER/&lt;id&gt; OOB object. " alt="" coords="1016,472,1227,499"/><area shape="rect" id="node22" href="classCModbusCdsHandle.html#ae6b1878d7d3a92d95ff66135a7766367" title="utility function to subscribe to a particular oob object. " alt="" coords="995,1024,1247,1051"/><area shape="rect" id="node27" href="classCModbusTcpUnitSettings.html#acd38f3f0514b4c8fc591a1192dcbafab" title="get the EDS file name for this device as known by the cds " alt="" coords="750,5,933,46"/><area shape="rect" id="node28" href="classCModbusCdsHandle.html#abcbc77e743d206b8495b2bc737431585" title="Utility function to read a full OOB object from the CDS, given a Device ID. " alt="" coords="736,71,947,97"/><area shape="rect" id="node29" href="classCModbusConfig.html#a1c04ca993eddb1a7dca5c5156b8b410b" title="Helper function to get the global PEDs file associated with an EDS name. " alt="" coords="766,406,917,447"/><area shape="rect" id="node30" href="classCModbusTcpUnitSettings.html#a4e85225830a7abe85cd8bca1cb8add0b" title="set the subdevice PEDS file " alt="" coords="747,122,935,163"/><area shape="rect" id="node31" href="classCModbusConfig.html#ae37a0b6cf610cce5533a43c98eeda2df" title="Get the subdevice PEDs file associated with a device EDS file name. " alt="" coords="761,341,921,382"/><area shape="rect" id="node36" href="classCModbusConfig.html#ad2a0639ca3cf6c1fcd697d29752e55a7" title="Get the PEDs file associated with a device EDS file name. " alt="" coords="766,523,917,565"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab25cc9d41f8600dbca453f3f85564853"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCModbusDeviceConfig.html">CModbusDeviceConfig</a> * CModbusConfig::tcp_config </td>
          <td>(</td>
          <td class="paramtype">unit_id_t&#160;</td>
          <td class="paramname"><em>uid</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the device config associated with a TCP Unit ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uid</td><td>The Unit ID whose configuration should be retrieved</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The device configuration for the given ID, or nullptr if the named ID does not have a configuration </dd></dl>

<p>Definition at line <a class="el" href="modbus__config_8cpp_source.html#l00534">534</a> of file <a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0eed7f16755c2dc94c5c18aec4656708"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CModbusConfig::add_remove_device </td>
          <td>(</td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>add_device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::id_t &amp;&#160;</td>
          <td class="paramname"><em>dev_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unit_id_t&#160;</td>
          <td class="paramname"><em>uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>peds_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>peds_desc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>subdevice_peds_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>writes_disabled</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>fire_forget</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>zero_fill</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>offline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Threadsafe method to add or remove a device from the _tcp_map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">add_device</td><td>If true, a device is added, if false, device is removed.</td></tr>
    <tr><td class="paramname">dev_id</td><td>The device ID for this device configuration.</td></tr>
    <tr><td class="paramname">uid</td><td>The Modbus TCP slave address for this device configuration.</td></tr>
    <tr><td class="paramname">peds_file</td><td>The EDS mapping utilized by this device configuration. Required for add operations. N/A for remove operations.</td></tr>
    <tr><td class="paramname">peds_desc</td><td>The description of the EDS mapping. Required for profiler operations, N/A for server or remove operations. (e.g. 'Efficient,Modbus TCP register mapping file with minimal gaps between registers (32 bit Max size)').</td></tr>
    <tr><td class="paramname">subdevice_peds_file</td><td>The subdevice EDS mapping utilized by this device configuration (if supported). Required for add operations. N/A for remove operations.</td></tr>
    <tr><td class="paramname">writes_disabled</td><td>The write requests to this device are accessible or not. Required for add operations. N/A for remove operations.</td></tr>
    <tr><td class="paramname">fire_forget_disabled</td><td>The status of write requests to this device are not checked after the initial push. Required for add operations. N/A for remove operations.</td></tr>
    <tr><td class="paramname">zero_fill</td><td>The "zero fill on read error" option for this particular device configuration. Required for add operations. N/A for remove operations.</td></tr>
    <tr><td class="paramname">offline</td><td>The device is off line and not pollable Required for add operations. N/A for remove operations.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if operation succeeded, false if not. </dd></dl>

<p>Definition at line <a class="el" href="modbus__config_8cpp_source.html#l00550">550</a> of file <a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCModbusConfig_a0eed7f16755c2dc94c5c18aec4656708_cgraph.png" border="0" usemap="#classCModbusConfig_a0eed7f16755c2dc94c5c18aec4656708_cgraph" alt=""/></div>
<map name="classCModbusConfig_a0eed7f16755c2dc94c5c18aec4656708_cgraph" id="classCModbusConfig_a0eed7f16755c2dc94c5c18aec4656708_cgraph">
<area shape="rect" id="node2" href="classCModbusUtil.html#a810fa100a70e436cbe20cbdc3305933d" title="Delete the specified file. " alt="" coords="209,12,389,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa4a473483bd831e544f8bf1ccc7863f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t CModbusConfig::tcp_timeout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter for timeout value of TCP requests. </p>
<dl class="section return"><dt>Returns</dt><dd>The max time (in msec) allowed before we send a reply to an incoming Modbus-TCP request </dd></dl>

<p>Definition at line <a class="el" href="modbus__config_8hpp_source.html#l00149">149</a> of file <a class="el" href="modbus__config_8hpp_source.html">modbus_config.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a131d4ecb999b52cf862e2143690cb887"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CModbusConfig::handle_new_device </td>
          <td>(</td>
          <td class="paramtype">px::id_t&#160;</td>
          <td class="paramname"><em>dev_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>model</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>eds_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>offline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Help function to handle a new device - create address mapping for it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev_id</td><td>The id of the device from the CDS notification</td></tr>
    <tr><td class="paramname">model</td><td>The device canonical model name from the CDS notification</td></tr>
    <tr><td class="paramname">model</td><td>The device EDS file name from the CDS notification</td></tr>
    <tr><td class="paramname">offline</td><td>The current state of the device </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="modbus__config_8cpp_source.html#l00681">681</a> of file <a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCModbusConfig_a131d4ecb999b52cf862e2143690cb887_cgraph.png" border="0" usemap="#classCModbusConfig_a131d4ecb999b52cf862e2143690cb887_cgraph" alt=""/></div>
<map name="classCModbusConfig_a131d4ecb999b52cf862e2143690cb887_cgraph" id="classCModbusConfig_a131d4ecb999b52cf862e2143690cb887_cgraph">
<area shape="rect" id="node2" href="classCModbusConfig.html#ad2a0639ca3cf6c1fcd697d29752e55a7" title="Get the PEDs file associated with a device EDS file name. " alt="" coords="281,5,431,46"/><area shape="rect" id="node3" href="classCModbusConfig.html#ae37a0b6cf610cce5533a43c98eeda2df" title="Get the subdevice PEDs file associated with a device EDS file name. " alt="" coords="276,70,436,111"/><area shape="rect" id="node4" href="classCModbusConfig.html#a4bc8d3103b1e3823f21f5df61f81ff5b" title="Get a unique unit id for a new device. " alt="" coords="277,135,435,177"/><area shape="rect" id="node5" href="classCModbusConfig.html#a1c04ca993eddb1a7dca5c5156b8b410b" title="Helper function to get the global PEDs file associated with an EDS name. " alt="" coords="281,201,431,242"/><area shape="rect" id="node6" href="classCModbusCdsHandle.html#a3436a86ba0d8a2a028c5039bddce14e1" title="Utility function to set the UNITID_MAP/MODBUS_SERVER/&lt;id&gt; OOB object. " alt="" coords="251,267,461,293"/><area shape="rect" id="node7" href="classCModbusCdsHandle.html#ae6b1878d7d3a92d95ff66135a7766367" title="utility function to subscribe to a particular oob object. " alt="" coords="230,317,482,344"/><area shape="rect" id="node8" href="classCModbusConfig.html#a0eed7f16755c2dc94c5c18aec4656708" title="Threadsafe method to add or remove a device from the _tcp_map. " alt="" coords="279,369,433,410"/><area shape="rect" id="node9" href="classCModbusUtil.html#a810fa100a70e436cbe20cbdc3305933d" title="Delete the specified file. " alt="" coords="531,376,711,403"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa16969e3e77127fc62b14666798ba538"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CModbusConfig::handle_new_dynamic_device </td>
          <td>(</td>
          <td class="paramtype">px::id_t&#160;</td>
          <td class="paramname"><em>dev_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>offline</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Help function to handle a new dynamic device - create address mapping for it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev_id</td><td>The id of the device from the CDS notification</td></tr>
    <tr><td class="paramname">offline</td><td>The current state of the device </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="modbus__config_8cpp_source.html#l01079">1079</a> of file <a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCModbusConfig_aa16969e3e77127fc62b14666798ba538_cgraph.png" border="0" usemap="#classCModbusConfig_aa16969e3e77127fc62b14666798ba538_cgraph" alt=""/></div>
<map name="classCModbusConfig_aa16969e3e77127fc62b14666798ba538_cgraph" id="classCModbusConfig_aa16969e3e77127fc62b14666798ba538_cgraph">
<area shape="rect" id="node2" href="classCModbusCdsHandle.html#a717d5de6eca53b75879167a227762740" title="ToDo: replace with CdsHandler&#39;s init_device_map() and more List the device or sub&#45;devices of the spec..." alt="" coords="267,5,445,46"/><area shape="rect" id="node3" href="classCModbusUtil.html#a050b83c8a08e3d3b7e501a9d16ca3504" title="Generate dynamic PEDs file name based on Device ID and canonical name. " alt="" coords="258,70,454,111"/><area shape="rect" id="node5" href="classCModbusConfig.html#a1f48c6e00c2ca0c81d3a234d0059c12c" title="Dynamically create PEDs files for existing devices and save to the &quot;/tmp/peds&quot; directory. " alt="" coords="271,135,441,177"/><area shape="rect" id="node11" href="classCModbusConfig.html#a4bc8d3103b1e3823f21f5df61f81ff5b" title="Get a unique unit id for a new device. " alt="" coords="277,201,435,242"/><area shape="rect" id="node12" href="classCModbusCdsHandle.html#a3436a86ba0d8a2a028c5039bddce14e1" title="Utility function to set the UNITID_MAP/MODBUS_SERVER/&lt;id&gt; OOB object. " alt="" coords="251,267,461,293"/><area shape="rect" id="node13" href="classCModbusCdsHandle.html#ae6b1878d7d3a92d95ff66135a7766367" title="utility function to subscribe to a particular oob object. " alt="" coords="230,317,482,344"/><area shape="rect" id="node14" href="classCModbusConfig.html#a0eed7f16755c2dc94c5c18aec4656708" title="Threadsafe method to add or remove a device from the _tcp_map. " alt="" coords="279,369,433,410"/><area shape="rect" id="node4" href="classCModbusUtil.html#a308d6e5bd7976a54536f6a19c56599ea" title="Replace any forbidden filename charaters in a string. " alt="" coords="531,70,728,111"/><area shape="rect" id="node6" href="classCModbusUtil.html#a0e88aa5cef4d314c3101bdb11e13a379" title="Check if a given file exists or not. " alt="" coords="544,135,715,177"/><area shape="rect" id="node7" href="classCEfficient.html#a385322b9f1c3ab2ac5b713b62970f393" title="Create PEDs file from device attributes, channels, and commands. " alt="" coords="555,201,703,242"/><area shape="rect" id="node10" href="classCModbusUtil.html#a810fa100a70e436cbe20cbdc3305933d" title="Delete the specified file. " alt="" coords="539,321,719,348"/><area shape="rect" id="node8" href="classCModbusUtil.html#a6af1e1d43d44e906f140f6711ae5c582" title="Get register count for a data&#45;type. " alt="" coords="777,167,967,209"/><area shape="rect" id="node9" href="classCModbusCdsHandle.html#a07c1b743de512abf3d0ac5abca2bc0d3" title="Retrieve list of supported commands for a particular device. " alt="" coords="783,233,961,274"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acb652d0cffebc8b53773e3bed339ea6a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CModbusConfig::handle_removed_device </td>
          <td>(</td>
          <td class="paramtype">px::id_t&#160;</td>
          <td class="paramname"><em>dev_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Help function to handle a removed device - remove address mapping of it. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev_id</td><td>The removed device id from the cds. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="modbus__config_8cpp_source.html#l00753">753</a> of file <a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCModbusConfig_acb652d0cffebc8b53773e3bed339ea6a_cgraph.png" border="0" usemap="#classCModbusConfig_acb652d0cffebc8b53773e3bed339ea6a_cgraph" alt=""/></div>
<map name="classCModbusConfig_acb652d0cffebc8b53773e3bed339ea6a_cgraph" id="classCModbusConfig_acb652d0cffebc8b53773e3bed339ea6a_cgraph">
<area shape="rect" id="node2" href="classCModbusConfig.html#a0eed7f16755c2dc94c5c18aec4656708" title="Threadsafe method to add or remove a device from the _tcp_map. " alt="" coords="229,5,384,46"/><area shape="rect" id="node3" href="classCModbusUtil.html#a810fa100a70e436cbe20cbdc3305933d" title="Delete the specified file. " alt="" coords="433,12,613,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a89029dfa3ea9cfa73a1e930e598d148e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CModbusConfig::handle_oob_change </td>
          <td>(</td>
          <td class="paramtype">px::proto::toolkitStruct &amp;&#160;</td>
          <td class="paramname"><em>update</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Help function to handle the change in an OOB. </p>
<p>Could be a uid or map entry change.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">The</td><td>oob entry that was changed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="modbus__config_8cpp_source.html#l00789">789</a> of file <a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCModbusConfig_a89029dfa3ea9cfa73a1e930e598d148e_cgraph.png" border="0" usemap="#classCModbusConfig_a89029dfa3ea9cfa73a1e930e598d148e_cgraph" alt=""/></div>
<map name="classCModbusConfig_a89029dfa3ea9cfa73a1e930e598d148e_cgraph" id="classCModbusConfig_a89029dfa3ea9cfa73a1e930e598d148e_cgraph">
<area shape="rect" id="node2" href="classCModbusConfig.html#ab25cc9d41f8600dbca453f3f85564853" title="Get the device config associated with a TCP Unit ID. " alt="" coords="243,5,394,46"/><area shape="rect" id="node3" href="classCModbusDeviceConfig.html#ac1b74f0756a7891e2cad93b03b6f481e" title="getter for the PEDs file name " alt="" coords="235,70,402,111"/><area shape="rect" id="node4" href="classCModbusConfig.html#a0eed7f16755c2dc94c5c18aec4656708" title="Threadsafe method to add or remove a device from the _tcp_map. " alt="" coords="241,135,396,177"/><area shape="rect" id="node6" href="classCModbusCdsHandle.html#a717d5de6eca53b75879167a227762740" title="ToDo: replace with CdsHandler&#39;s init_device_map() and more List the device or sub&#45;devices of the spec..." alt="" coords="229,201,408,242"/><area shape="rect" id="node7" href="classCModbusConfig.html#a2a313685904bac00accb6666c46dc744" title="Helper function to add sub&#45;device IDs. " alt="" coords="241,266,396,307"/><area shape="rect" id="node5" href="classCModbusUtil.html#a810fa100a70e436cbe20cbdc3305933d" title="Delete the specified file. " alt="" coords="457,143,637,169"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae85b981073a47d194ca0f7bd546caa20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CModbusConfig::handle_device_state_change </td>
          <td>(</td>
          <td class="paramtype">const px::id_t &amp;&#160;</td>
          <td class="paramname"><em>dev_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::CBitset&lt; px::realtime_state &gt; &amp;&#160;</td>
          <td class="paramname"><em>state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Help function to handle the update of a device state. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev_id</td><td>the id of the device as provided by the cds notification</td></tr>
    <tr><td class="paramname">state</td><td>the state of the device as provided by the cds notification </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="modbus__config_8cpp_source.html#l00966">966</a> of file <a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCModbusConfig_ae85b981073a47d194ca0f7bd546caa20_cgraph.png" border="0" usemap="#classCModbusConfig_ae85b981073a47d194ca0f7bd546caa20_cgraph" alt=""/></div>
<map name="classCModbusConfig_ae85b981073a47d194ca0f7bd546caa20_cgraph" id="classCModbusConfig_ae85b981073a47d194ca0f7bd546caa20_cgraph">
<area shape="rect" id="node2" href="classCModbusCdsHandle.html#a717d5de6eca53b75879167a227762740" title="ToDo: replace with CdsHandler&#39;s init_device_map() and more List the device or sub&#45;devices of the spec..." alt="" coords="491,5,669,46"/><area shape="rect" id="node3" href="classCModbusCdsHandle.html#a375e0e452ddc16077dda71c40fe506de" title="Utility function to check whether the device role is subdevice. " alt="" coords="232,318,403,359"/><area shape="rect" id="node4" href="classCModbusConfig.html#a0eed7f16755c2dc94c5c18aec4656708" title="Threadsafe method to add or remove a device from the _tcp_map. " alt="" coords="503,369,657,410"/><area shape="rect" id="node6" href="classCModbusConfig.html#a2a313685904bac00accb6666c46dc744" title="Helper function to add sub&#45;device IDs. " alt="" coords="240,383,395,425"/><area shape="rect" id="node7" href="classCModbusConfig.html#aa16969e3e77127fc62b14666798ba538" title="Help function to handle a new dynamic device &#45; create address mapping for it. " alt="" coords="230,201,405,242"/><area shape="rect" id="node5" href="classCModbusUtil.html#a810fa100a70e436cbe20cbdc3305933d" title="Delete the specified file. " alt="" coords="763,321,943,348"/><area shape="rect" id="node8" href="classCModbusUtil.html#a050b83c8a08e3d3b7e501a9d16ca3504" title="Generate dynamic PEDs file name based on Device ID and canonical name. " alt="" coords="482,70,678,111"/><area shape="rect" id="node10" href="classCModbusConfig.html#a1f48c6e00c2ca0c81d3a234d0059c12c" title="Dynamically create PEDs files for existing devices and save to the &quot;/tmp/peds&quot; directory. " alt="" coords="495,135,665,177"/><area shape="rect" id="node15" href="classCModbusConfig.html#a4bc8d3103b1e3823f21f5df61f81ff5b" title="Get a unique unit id for a new device. " alt="" coords="501,201,659,242"/><area shape="rect" id="node16" href="classCModbusCdsHandle.html#a3436a86ba0d8a2a028c5039bddce14e1" title="Utility function to set the UNITID_MAP/MODBUS_SERVER/&lt;id&gt; OOB object. " alt="" coords="475,267,685,293"/><area shape="rect" id="node17" href="classCModbusCdsHandle.html#ae6b1878d7d3a92d95ff66135a7766367" title="utility function to subscribe to a particular oob object. " alt="" coords="454,317,706,344"/><area shape="rect" id="node9" href="classCModbusUtil.html#a308d6e5bd7976a54536f6a19c56599ea" title="Replace any forbidden filename charaters in a string. " alt="" coords="755,70,952,111"/><area shape="rect" id="node11" href="classCModbusUtil.html#a0e88aa5cef4d314c3101bdb11e13a379" title="Check if a given file exists or not. " alt="" coords="768,135,939,177"/><area shape="rect" id="node12" href="classCEfficient.html#a385322b9f1c3ab2ac5b713b62970f393" title="Create PEDs file from device attributes, channels, and commands. " alt="" coords="779,201,927,242"/><area shape="rect" id="node13" href="classCModbusUtil.html#a6af1e1d43d44e906f140f6711ae5c582" title="Get register count for a data&#45;type. " alt="" coords="1001,167,1191,209"/><area shape="rect" id="node14" href="classCModbusCdsHandle.html#a07c1b743de512abf3d0ac5abca2bc0d3" title="Retrieve list of supported commands for a particular device. " alt="" coords="1007,233,1185,274"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8685405f43114c13d98ca5886fc25cd6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CModbusConfig::valid_device </td>
          <td>(</td>
          <td class="paramtype">px::id_t&#160;</td>
          <td class="paramname"><em>dev_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Helper function used to determine if a device has been removed or not. </p>
<dl class="section return"><dt>Returns</dt><dd>True is device has not been removed from tracking </dd></dl>

<p>Definition at line <a class="el" href="modbus__config_8cpp_source.html#l00512">512</a> of file <a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4d64c756c621a537e782a3579aedb040"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CModbusConfig::is_dynamic_mode </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine whether we are running in the dynamic mode (i.e. </p>
<p>no EDS List) </p>

<p>Definition at line <a class="el" href="modbus__config_8hpp_source.html#l00212">212</a> of file <a class="el" href="modbus__config_8hpp_source.html">modbus_config.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7ce89f39675bfc2cadeeef1d739e3eae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CModbusConfig::update_oob_map_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCModbusTcpUnitSettings.html">CModbusTcpUnitSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>settings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates (migrate) CDS OOB and TCP Unit Settings if the OOB is missing the map_list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unit</td><td>Modbus-TCP per-UnitID settings </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="modbus__config_8cpp_source.html#l00325">325</a> of file <a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCModbusConfig_a7ce89f39675bfc2cadeeef1d739e3eae_cgraph.png" border="0" usemap="#classCModbusConfig_a7ce89f39675bfc2cadeeef1d739e3eae_cgraph" alt=""/></div>
<map name="classCModbusConfig_a7ce89f39675bfc2cadeeef1d739e3eae_cgraph" id="classCModbusConfig_a7ce89f39675bfc2cadeeef1d739e3eae_cgraph">
<area shape="rect" id="node2" href="classCModbusTcpUnitSettings.html#acd38f3f0514b4c8fc591a1192dcbafab" title="get the EDS file name for this device as known by the cds " alt="" coords="243,5,426,46"/><area shape="rect" id="node3" href="classCModbusTcpUnitSettings.html#ab0f681341450751f8fb3594e118621d4" title="get the currently configured PEDS file " alt="" coords="243,70,426,111"/><area shape="rect" id="node4" href="classCModbusTcpUnitSettings.html#ab9a43eb513e7eac31743471d4834a5d4" title="get the subdevice PEDS file (if available) " alt="" coords="243,135,426,177"/><area shape="rect" id="node5" href="classCModbusCdsHandle.html#abcbc77e743d206b8495b2bc737431585" title="Utility function to read a full OOB object from the CDS, given a Device ID. " alt="" coords="229,201,440,228"/><area shape="rect" id="node6" href="classCModbusConfig.html#a1c04ca993eddb1a7dca5c5156b8b410b" title="Helper function to get the global PEDs file associated with an EDS name. " alt="" coords="259,253,410,294"/><area shape="rect" id="node7" href="classCModbusTcpUnitSettings.html#ad34ece43cbdb339c7101584622b3495c" title="set the PEDS name " alt="" coords="243,318,426,359"/><area shape="rect" id="node8" href="classCModbusTcpUnitSettings.html#a4e85225830a7abe85cd8bca1cb8add0b" title="set the subdevice PEDS file " alt="" coords="241,383,429,425"/><area shape="rect" id="node9" href="classCModbusConfig.html#ae37a0b6cf610cce5533a43c98eeda2df" title="Get the subdevice PEDs file associated with a device EDS file name. " alt="" coords="255,449,415,490"/><area shape="rect" id="node10" href="classCModbusCdsHandle.html#a3436a86ba0d8a2a028c5039bddce14e1" title="Utility function to set the UNITID_MAP/MODBUS_SERVER/&lt;id&gt; OOB object. " alt="" coords="229,515,440,541"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9165e895a10070aed0ca2c81193575c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CModbusConfig::update_dynamic_oob_map_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCModbusTcpUnitSettings.html">CModbusTcpUnitSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>settings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Updates (migrate) CDS OOB and TCP Unit Settings for Dynamic mappings if the OOB is missing the map_list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unit</td><td>Modbus-TCP per-UnitID settings </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="modbus__config_8cpp_source.html#l01370">1370</a> of file <a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCModbusConfig_a9165e895a10070aed0ca2c81193575c5_cgraph.png" border="0" usemap="#classCModbusConfig_a9165e895a10070aed0ca2c81193575c5_cgraph" alt=""/></div>
<map name="classCModbusConfig_a9165e895a10070aed0ca2c81193575c5_cgraph" id="classCModbusConfig_a9165e895a10070aed0ca2c81193575c5_cgraph">
<area shape="rect" id="node2" href="classCModbusTcpUnitSettings.html#ab0f681341450751f8fb3594e118621d4" title="get the currently configured PEDS file " alt="" coords="246,5,429,46"/><area shape="rect" id="node3" href="classCModbusTcpUnitSettings.html#ab9a43eb513e7eac31743471d4834a5d4" title="get the subdevice PEDS file (if available) " alt="" coords="246,70,429,111"/><area shape="rect" id="node4" href="classCModbusCdsHandle.html#a3436a86ba0d8a2a028c5039bddce14e1" title="Utility function to set the UNITID_MAP/MODBUS_SERVER/&lt;id&gt; OOB object. " alt="" coords="232,136,443,163"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad2a0639ca3cf6c1fcd697d29752e55a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::string CModbusConfig::get_device_peds_file </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>eds_file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">px::proto::UidMapEntry *&#160;</td>
          <td class="paramname"><em>uid_map_entry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the PEDs file associated with a device EDS file name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eds_file</td><td>The device EDS file name</td></tr>
    <tr><td class="paramname">name</td><td>The PEDs name to search for</td></tr>
    <tr><td class="paramname">uid_map_entry</td><td>The px::proto::UidMapEntry protobuf object that is initialized with EDS List data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The PEDs file associated with the map_file. </dd></dl>

<p>Definition at line <a class="el" href="modbus__config_8cpp_source.html#l00388">388</a> of file <a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae37a0b6cf610cce5533a43c98eeda2df"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::string CModbusConfig::get_subdevice_peds_file </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>peds_file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get the subdevice PEDs file associated with a device EDS file name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">eds_file</td><td>The device EDS file name</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The subdevice PEDs file (if supported). </dd></dl>

<p>Definition at line <a class="el" href="modbus__config_8cpp_source.html#l00444">444</a> of file <a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1c04ca993eddb1a7dca5c5156b8b410b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::string CModbusConfig::get_global_peds_file </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function to get the global PEDs file associated with an EDS name. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">name</td><td>The name of the global EDS file</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The PEDs file that matches the tag name </dd></dl>

<p>Definition at line <a class="el" href="modbus__config_8cpp_source.html#l00463">463</a> of file <a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2a313685904bac00accb6666c46dc744"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CModbusConfig::add_subdevice_ids </td>
          <td>(</td>
          <td class="paramtype">unit_id_t&#160;</td>
          <td class="paramname"><em>uid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classCModbusDeviceConfig.html#acc5f92f0d8894dd781548c59f27deef9">CModbusDeviceConfig::device_id_set_t</a> &amp;&#160;</td>
          <td class="paramname"><em>dev_ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helper function to add sub-device IDs. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uid</td><td>The Unit ID to add sub-device Modbus TCP mappings</td></tr>
    <tr><td class="paramname">dev_ids</td><td>Set of sub-device IDs found under the device associated with the Unit ID </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="modbus__config_8cpp_source.html#l00520">520</a> of file <a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4bc8d3103b1e3823f21f5df61f81ff5b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unit_id_t CModbusConfig::get_uid_for_new_device </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a unique unit id for a new device. </p>
<dl class="section return"><dt>Returns</dt><dd>The unique unit id for a new device.</dd></dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">px::generic_err</td><td>when no uids are available </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="modbus__config_8cpp_source.html#l00483">483</a> of file <a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1634c01f931db52f2e416b412ad6feb0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CModbusConfig::build_dynamic_peds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCModbusSettings.html">CModbusSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>settings</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dynamically create PEDs from Modbus server settings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname"><a class="el" href="classCModbusSettings.html" title="Modbus server settings. ">CModbusSettings</a></td><td>- Modbus server settings (read from the CDS) </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="modbus__config_8cpp_source.html#l01172">1172</a> of file <a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCModbusConfig_a1634c01f931db52f2e416b412ad6feb0_cgraph.png" border="0" usemap="#classCModbusConfig_a1634c01f931db52f2e416b412ad6feb0_cgraph" alt=""/></div>
<map name="classCModbusConfig_a1634c01f931db52f2e416b412ad6feb0_cgraph" id="classCModbusConfig_a1634c01f931db52f2e416b412ad6feb0_cgraph">
<area shape="rect" id="node2" href="classCModbusConfig.html#a580bb32ecd1e66edd3de8a4b86826948" title="Dynamically create PEDs files for existing devices and save to the &quot;/tmp/peds&quot; directory. " alt="" coords="216,325,379,366"/><area shape="rect" id="node3" href="classCModbusUtil.html#a050b83c8a08e3d3b7e501a9d16ca3504" title="Generate dynamic PEDs file name based on Device ID and canonical name. " alt="" coords="427,9,623,50"/><area shape="rect" id="node5" href="classCModbusTcpUnitSettings.html#ab0f681341450751f8fb3594e118621d4" title="get the currently configured PEDS file " alt="" coords="707,70,890,111"/><area shape="rect" id="node6" href="classCModbusTcpUnitSettings.html#a97db5c522bb88de65d8eb06cf0a6ec60" title="set the currently configured PEDS file " alt="" coords="434,194,617,235"/><area shape="rect" id="node7" href="classCModbusTcpUnitSettings.html#ad34ece43cbdb339c7101584622b3495c" title="set the PEDS name " alt="" coords="434,259,617,301"/><area shape="rect" id="node8" href="classCModbusTcpUnitSettings.html#a75040535647df25bea5080cf178adc3d" title="set the PEDS description " alt="" coords="434,325,617,366"/><area shape="rect" id="node9" href="classCModbusConfig.html#a1f48c6e00c2ca0c81d3a234d0059c12c" title="Dynamically create PEDs files for existing devices and save to the &quot;/tmp/peds&quot; directory. " alt="" coords="440,390,611,431"/><area shape="rect" id="node15" href="classCModbusConfig.html#a4bc8d3103b1e3823f21f5df61f81ff5b" title="Get a unique unit id for a new device. " alt="" coords="446,455,605,497"/><area shape="rect" id="node16" href="classCModbusConfig.html#a9165e895a10070aed0ca2c81193575c5" title="Updates (migrate) CDS OOB and TCP Unit Settings for Dynamic mappings if the OOB is missing the map_li..." alt="" coords="436,129,615,170"/><area shape="rect" id="node19" href="classCModbusTcpUnitSettings.html#a5b2bd897f239d091dda13ab4ffcf257e" title="Subscribe to device events. " alt="" coords="434,521,617,562"/><area shape="rect" id="node21" href="classCModbusTcpUnitSettings.html#a977d5f3075c4aaca28e43f08f0b27d0e" title="Determine whether this class was initialized without errors. " alt="" coords="434,586,617,627"/><area shape="rect" id="node22" href="classCModbusTcpUnitSettings.html#a7590e1667a0996378d593145a2923332" title="Set the class initialization state to valid;. " alt="" coords="434,651,617,693"/><area shape="rect" id="node4" href="classCModbusUtil.html#a308d6e5bd7976a54536f6a19c56599ea" title="Replace any forbidden filename charaters in a string. " alt="" coords="700,5,897,46"/><area shape="rect" id="node10" href="classCModbusUtil.html#a0e88aa5cef4d314c3101bdb11e13a379" title="Check if a given file exists or not. " alt="" coords="713,325,884,366"/><area shape="rect" id="node11" href="classCEfficient.html#a385322b9f1c3ab2ac5b713b62970f393" title="Create PEDs file from device attributes, channels, and commands. " alt="" coords="725,390,873,431"/><area shape="rect" id="node14" href="classCModbusUtil.html#a810fa100a70e436cbe20cbdc3305933d" title="Delete the specified file. " alt="" coords="709,456,889,483"/><area shape="rect" id="node12" href="classCModbusUtil.html#a6af1e1d43d44e906f140f6711ae5c582" title="Get register count for a data&#45;type. " alt="" coords="974,357,1165,398"/><area shape="rect" id="node13" href="classCModbusCdsHandle.html#a07c1b743de512abf3d0ac5abca2bc0d3" title="Retrieve list of supported commands for a particular device. " alt="" coords="980,422,1159,463"/><area shape="rect" id="node17" href="classCModbusTcpUnitSettings.html#ab9a43eb513e7eac31743471d4834a5d4" title="get the subdevice PEDS file (if available) " alt="" coords="707,135,890,177"/><area shape="rect" id="node18" href="classCModbusCdsHandle.html#a3436a86ba0d8a2a028c5039bddce14e1" title="Utility function to set the UNITID_MAP/MODBUS_SERVER/&lt;id&gt; OOB object. " alt="" coords="693,201,904,228"/><area shape="rect" id="node20" href="classCModbusCdsHandle.html#ae6b1878d7d3a92d95ff66135a7766367" title="utility function to subscribe to a particular oob object. " alt="" coords="673,528,925,555"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a580bb32ecd1e66edd3de8a4b86826948"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CModbusConfig::build_device_peds </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCModbusTcpUnitSettings.html">CModbusTcpUnitSettings</a> &amp;&#160;</td>
          <td class="paramname"><em>unit</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dynamically create PEDs files for existing devices and save to the "/tmp/peds" directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">unit</td><td>- per-unit-ID settings for a Modbus-TCP device</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if able to create PEDs file, associate a unique unit id, add parsed PEDs to map store, and save to OOB. </dd></dl>

<p>Definition at line <a class="el" href="modbus__config_8cpp_source.html#l01233">1233</a> of file <a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCModbusConfig_a580bb32ecd1e66edd3de8a4b86826948_cgraph.png" border="0" usemap="#classCModbusConfig_a580bb32ecd1e66edd3de8a4b86826948_cgraph" alt=""/></div>
<map name="classCModbusConfig_a580bb32ecd1e66edd3de8a4b86826948_cgraph" id="classCModbusConfig_a580bb32ecd1e66edd3de8a4b86826948_cgraph">
<area shape="rect" id="node2" href="classCModbusUtil.html#a050b83c8a08e3d3b7e501a9d16ca3504" title="Generate dynamic PEDs file name based on Device ID and canonical name. " alt="" coords="217,9,413,50"/><area shape="rect" id="node4" href="classCModbusTcpUnitSettings.html#ab0f681341450751f8fb3594e118621d4" title="get the currently configured PEDS file " alt="" coords="497,70,679,111"/><area shape="rect" id="node5" href="classCModbusTcpUnitSettings.html#a97db5c522bb88de65d8eb06cf0a6ec60" title="set the currently configured PEDS file " alt="" coords="223,194,406,235"/><area shape="rect" id="node6" href="classCModbusTcpUnitSettings.html#ad34ece43cbdb339c7101584622b3495c" title="set the PEDS name " alt="" coords="223,259,406,301"/><area shape="rect" id="node7" href="classCModbusTcpUnitSettings.html#a75040535647df25bea5080cf178adc3d" title="set the PEDS description " alt="" coords="223,325,406,366"/><area shape="rect" id="node8" href="classCModbusConfig.html#a1f48c6e00c2ca0c81d3a234d0059c12c" title="Dynamically create PEDs files for existing devices and save to the &quot;/tmp/peds&quot; directory. " alt="" coords="229,390,400,431"/><area shape="rect" id="node14" href="classCModbusConfig.html#a4bc8d3103b1e3823f21f5df61f81ff5b" title="Get a unique unit id for a new device. " alt="" coords="235,455,394,497"/><area shape="rect" id="node15" href="classCModbusConfig.html#a9165e895a10070aed0ca2c81193575c5" title="Updates (migrate) CDS OOB and TCP Unit Settings for Dynamic mappings if the OOB is missing the map_li..." alt="" coords="225,129,404,170"/><area shape="rect" id="node18" href="classCModbusTcpUnitSettings.html#a5b2bd897f239d091dda13ab4ffcf257e" title="Subscribe to device events. " alt="" coords="223,521,406,562"/><area shape="rect" id="node20" href="classCModbusTcpUnitSettings.html#a977d5f3075c4aaca28e43f08f0b27d0e" title="Determine whether this class was initialized without errors. " alt="" coords="223,586,406,627"/><area shape="rect" id="node21" href="classCModbusTcpUnitSettings.html#a7590e1667a0996378d593145a2923332" title="Set the class initialization state to valid;. " alt="" coords="223,651,406,693"/><area shape="rect" id="node3" href="classCModbusUtil.html#a308d6e5bd7976a54536f6a19c56599ea" title="Replace any forbidden filename charaters in a string. " alt="" coords="489,5,687,46"/><area shape="rect" id="node9" href="classCModbusUtil.html#a0e88aa5cef4d314c3101bdb11e13a379" title="Check if a given file exists or not. " alt="" coords="503,325,673,366"/><area shape="rect" id="node10" href="classCEfficient.html#a385322b9f1c3ab2ac5b713b62970f393" title="Create PEDs file from device attributes, channels, and commands. " alt="" coords="514,390,662,431"/><area shape="rect" id="node13" href="classCModbusUtil.html#a810fa100a70e436cbe20cbdc3305933d" title="Delete the specified file. " alt="" coords="498,456,678,483"/><area shape="rect" id="node11" href="classCModbusUtil.html#a6af1e1d43d44e906f140f6711ae5c582" title="Get register count for a data&#45;type. " alt="" coords="763,357,954,398"/><area shape="rect" id="node12" href="classCModbusCdsHandle.html#a07c1b743de512abf3d0ac5abca2bc0d3" title="Retrieve list of supported commands for a particular device. " alt="" coords="769,422,948,463"/><area shape="rect" id="node16" href="classCModbusTcpUnitSettings.html#ab9a43eb513e7eac31743471d4834a5d4" title="get the subdevice PEDS file (if available) " alt="" coords="497,135,679,177"/><area shape="rect" id="node17" href="classCModbusCdsHandle.html#a3436a86ba0d8a2a028c5039bddce14e1" title="Utility function to set the UNITID_MAP/MODBUS_SERVER/&lt;id&gt; OOB object. " alt="" coords="483,201,693,228"/><area shape="rect" id="node19" href="classCModbusCdsHandle.html#ae6b1878d7d3a92d95ff66135a7766367" title="utility function to subscribe to a particular oob object. " alt="" coords="462,528,714,555"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1f48c6e00c2ca0c81d3a234d0059c12c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CModbusConfig::create_device_peds </td>
          <td>(</td>
          <td class="paramtype">const px::CDevice &amp;&#160;</td>
          <td class="paramname"><em>dev</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>peds_file</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dynamically create PEDs files for existing devices and save to the "/tmp/peds" directory. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev</td><td>- Device object </td></tr>
    <tr><td class="paramname">peds_file</td><td>- PEDs file name (includes full file path)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if able to create and write a PEDs file to the file system </dd></dl>

<p>Definition at line <a class="el" href="modbus__config_8cpp_source.html#l01316">1316</a> of file <a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classCModbusConfig_a1f48c6e00c2ca0c81d3a234d0059c12c_cgraph.png" border="0" usemap="#classCModbusConfig_a1f48c6e00c2ca0c81d3a234d0059c12c_cgraph" alt=""/></div>
<map name="classCModbusConfig_a1f48c6e00c2ca0c81d3a234d0059c12c_cgraph" id="classCModbusConfig_a1f48c6e00c2ca0c81d3a234d0059c12c_cgraph">
<area shape="rect" id="node2" href="classCModbusUtil.html#a0e88aa5cef4d314c3101bdb11e13a379" title="Check if a given file exists or not. " alt="" coords="229,5,400,46"/><area shape="rect" id="node3" href="classCEfficient.html#a385322b9f1c3ab2ac5b713b62970f393" title="Create PEDs file from device attributes, channels, and commands. " alt="" coords="241,70,389,111"/><area shape="rect" id="node6" href="classCModbusUtil.html#a810fa100a70e436cbe20cbdc3305933d" title="Delete the specified file. " alt="" coords="225,136,405,163"/><area shape="rect" id="node4" href="classCModbusUtil.html#a6af1e1d43d44e906f140f6711ae5c582" title="Get register count for a data&#45;type. " alt="" coords="454,37,645,78"/><area shape="rect" id="node5" href="classCModbusCdsHandle.html#a07c1b743de512abf3d0ac5abca2bc0d3" title="Retrieve list of supported commands for a particular device. " alt="" coords="460,102,639,143"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a75c79bda1eccbefab351f367a887f979"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCModbusConfig.html#a044d5f45dff37ba68dd89999a0ddb2de">did_uid_map_t</a> CModbusConfig::_did_uid_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>device-id to unit-id map. </p>
<p>needed to reverse look up whenever a uid_map entry is changed or removed Key Value device id modbus UID </p>

<p>Definition at line <a class="el" href="modbus__config_8hpp_source.html#l00386">386</a> of file <a class="el" href="modbus__config_8hpp_source.html">modbus_config.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a87ef2121f363e3f0ae050a4cf81a805e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCModbusDeviceConfig.html#adc092ba9d0e802748ac2a7b290fc39d0">CModbusDeviceConfig::peds_map_store_t</a> CModbusConfig::_peds_map_store</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Match a PEDs map name to an eds mapping. </p>
<p>Used to create a store of common EDS mappings. </p>

<p>Definition at line <a class="el" href="modbus__config_8hpp_source.html#l00396">396</a> of file <a class="el" href="modbus__config_8hpp_source.html">modbus_config.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="modbus__config_8hpp_source.html">modbus_config.hpp</a></li>
<li><a class="el" href="modbus__config_8cpp_source.html">modbus_config.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classCModbusConfig.html">CModbusConfig</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:25:38 for modbus_server by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
