<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>cds_ng: CThreadResponseQueue Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">cds_ng
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classCThreadResponseQueue.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classCThreadResponseQueue-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CThreadResponseQueue Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class collects a prioritized list of pending operations to be performed by the worker thread.  
 <a href="classCThreadResponseQueue.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="thread__response__queue_8hpp_source.html">thread_response_queue.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CThreadResponseQueue:</div>
<div class="dyncontent">
<div class="center"><img src="classCThreadResponseQueue__inherit__graph.png" border="0" usemap="#CThreadResponseQueue_inherit__map" alt="Inheritance graph"/></div>
<map name="CThreadResponseQueue_inherit__map" id="CThreadResponseQueue_inherit__map">
<area shape="rect" id="node2" href="classCThreadBaseQueue.html" title="This class collects a list of pending commands/responses to be performed by the worker thread..." alt="" coords="19,5,169,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for CThreadResponseQueue:</div>
<div class="dyncontent">
<div class="center"><img src="classCThreadResponseQueue__coll__graph.png" border="0" usemap="#CThreadResponseQueue_coll__map" alt="Collaboration graph"/></div>
<map name="CThreadResponseQueue_coll__map" id="CThreadResponseQueue_coll__map">
<area shape="rect" id="node2" href="classCThreadBaseQueue.html" title="This class collects a list of pending commands/responses to be performed by the worker thread..." alt="" coords="235,187,385,213"/><area shape="rect" id="node4" title="STL class. " alt="" coords="33,5,161,32"/></map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a05a9bd004b9f52e5a27e4419250aa7a4"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadResponseQueue.html#a05a9bd004b9f52e5a27e4419250aa7a4">CThreadResponseQueue</a> (size_t <a class="el" href="classCThreadBaseQueue.html#a5ee33dadd7dc4d2848ff58ab90e57cde">_max_capacity</a>)</td></tr>
<tr class="memdesc:a05a9bd004b9f52e5a27e4419250aa7a4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a05a9bd004b9f52e5a27e4419250aa7a4">More...</a><br/></td></tr>
<tr class="separator:a05a9bd004b9f52e5a27e4419250aa7a4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afdb9710dbcdc4320725df644a8ffc12b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="afdb9710dbcdc4320725df644a8ffc12b"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadResponseQueue.html#afdb9710dbcdc4320725df644a8ffc12b">~CThreadResponseQueue</a> ()</td></tr>
<tr class="memdesc:afdb9710dbcdc4320725df644a8ffc12b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr class="separator:afdb9710dbcdc4320725df644a8ffc12b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacaa99b0817b79b9c38a2ff2dec54404"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aacaa99b0817b79b9c38a2ff2dec54404"></a>
int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadResponseQueue.html#aacaa99b0817b79b9c38a2ff2dec54404">get_eventfd</a> () const </td></tr>
<tr class="memdesc:aacaa99b0817b79b9c38a2ff2dec54404"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the underlying evenfd() file descriptor for this queue. <br/></td></tr>
<tr class="separator:aacaa99b0817b79b9c38a2ff2dec54404"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e359e72ca3066bf906245e903f1d03b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a8e359e72ca3066bf906245e903f1d03b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadResponseQueue.html#a8e359e72ca3066bf906245e903f1d03b">exit</a> ()</td></tr>
<tr class="memdesc:a8e359e72ca3066bf906245e903f1d03b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Signal to the main thread that the worker has exited. <br/></td></tr>
<tr class="separator:a8e359e72ca3066bf906245e903f1d03b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a342c8d88e75fc57f36f2546a1cd7ad26"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="classCThreadBaseQueue.html#ac42613c03efbfcfa1871c15de3aafb91">cmdlist_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadResponseQueue.html#a342c8d88e75fc57f36f2546a1cd7ad26">remove</a> (const px::CTimestamp &amp;timeout=px::CTimestamp())</td></tr>
<tr class="memdesc:a342c8d88e75fc57f36f2546a1cd7ad26"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dequeue all commands/responses from the queue.  <a href="#a342c8d88e75fc57f36f2546a1cd7ad26">More...</a><br/></td></tr>
<tr class="separator:a342c8d88e75fc57f36f2546a1cd7ad26"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9923da048fd879b5dae6c736df39c0c5"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadResponseQueue.html#a9923da048fd879b5dae6c736df39c0c5">add</a> (<a class="el" href="classCThreadBaseQueue.html#a878d987cab9a76f5dd0e134cde93ebb5">cmd_ptr_t</a> &amp;&amp;cmd, bool move_to_head=false)</td></tr>
<tr class="memdesc:a9923da048fd879b5dae6c736df39c0c5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a command to the queue.  <a href="#a9923da048fd879b5dae6c736df39c0c5">More...</a><br/></td></tr>
<tr class="separator:a9923da048fd879b5dae6c736df39c0c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04a31dbf954039c9ed90ed5b6465590f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadResponseQueue.html#a04a31dbf954039c9ed90ed5b6465590f">add</a> (<a class="el" href="classCThreadBaseQueue.html#ac42613c03efbfcfa1871c15de3aafb91">cmdlist_t</a> &amp;&amp;cmds, bool move_to_head=false)</td></tr>
<tr class="memdesc:a04a31dbf954039c9ed90ed5b6465590f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add multiple commands to the queue.  <a href="#a04a31dbf954039c9ed90ed5b6465590f">More...</a><br/></td></tr>
<tr class="separator:a04a31dbf954039c9ed90ed5b6465590f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classCThreadBaseQueue"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classCThreadBaseQueue')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classCThreadBaseQueue.html">CThreadBaseQueue</a></td></tr>
<tr class="memitem:af44f668db7e5b2aa8c5c31a5208f9477 inherit pub_methods_classCThreadBaseQueue"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadBaseQueue.html#af44f668db7e5b2aa8c5c31a5208f9477">CThreadBaseQueue</a> (size_t max_capacity)</td></tr>
<tr class="memdesc:af44f668db7e5b2aa8c5c31a5208f9477 inherit pub_methods_classCThreadBaseQueue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#af44f668db7e5b2aa8c5c31a5208f9477">More...</a><br/></td></tr>
<tr class="separator:af44f668db7e5b2aa8c5c31a5208f9477 inherit pub_methods_classCThreadBaseQueue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19f1f5c07fd15a11feb8b88961b3224b inherit pub_methods_classCThreadBaseQueue"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a19f1f5c07fd15a11feb8b88961b3224b"></a>
virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadBaseQueue.html#a19f1f5c07fd15a11feb8b88961b3224b">~CThreadBaseQueue</a> ()</td></tr>
<tr class="memdesc:a19f1f5c07fd15a11feb8b88961b3224b inherit pub_methods_classCThreadBaseQueue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor. <br/></td></tr>
<tr class="separator:a19f1f5c07fd15a11feb8b88961b3224b inherit pub_methods_classCThreadBaseQueue"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae05ee6c558f5793701f43f887225e229"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadResponseQueue.html#ae05ee6c558f5793701f43f887225e229">_eventfd</a></td></tr>
<tr class="memdesc:ae05ee6c558f5793701f43f887225e229"><td class="mdescLeft">&#160;</td><td class="mdescRight">This eventfd() file descriptor is used by the main thread to wait on changes for multiple threads in conjunction with numerous CDS connections.  <a href="#ae05ee6c558f5793701f43f887225e229">More...</a><br/></td></tr>
<tr class="separator:ae05ee6c558f5793701f43f887225e229"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c1d331fa66005b6158d1d228dc1146d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0c1d331fa66005b6158d1d228dc1146d"></a>
bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadResponseQueue.html#a0c1d331fa66005b6158d1d228dc1146d">_exited</a></td></tr>
<tr class="memdesc:a0c1d331fa66005b6158d1d228dc1146d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set to true when the worker thread exits. <br/></td></tr>
<tr class="separator:a0c1d331fa66005b6158d1d228dc1146d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classCThreadBaseQueue"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classCThreadBaseQueue')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classCThreadBaseQueue.html">CThreadBaseQueue</a></td></tr>
<tr class="memitem:a878d987cab9a76f5dd0e134cde93ebb5 inherit pub_types_classCThreadBaseQueue"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a878d987cab9a76f5dd0e134cde93ebb5"></a>
typedef std::unique_ptr<br class="typebreak"/>
&lt; <a class="el" href="classCThreadCommand.html">CThreadCommand</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadBaseQueue.html#a878d987cab9a76f5dd0e134cde93ebb5">cmd_ptr_t</a></td></tr>
<tr class="memdesc:a878d987cab9a76f5dd0e134cde93ebb5 inherit pub_types_classCThreadBaseQueue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to a [polymorphic] thread command object. <br/></td></tr>
<tr class="separator:a878d987cab9a76f5dd0e134cde93ebb5 inherit pub_types_classCThreadBaseQueue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac42613c03efbfcfa1871c15de3aafb91 inherit pub_types_classCThreadBaseQueue"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ac42613c03efbfcfa1871c15de3aafb91"></a>
typedef std::deque&lt; <a class="el" href="classCThreadBaseQueue.html#a878d987cab9a76f5dd0e134cde93ebb5">cmd_ptr_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadBaseQueue.html#ac42613c03efbfcfa1871c15de3aafb91">cmdlist_t</a></td></tr>
<tr class="memdesc:ac42613c03efbfcfa1871c15de3aafb91 inherit pub_types_classCThreadBaseQueue"><td class="mdescLeft">&#160;</td><td class="mdescRight">A collection of thread command/response objects, in preserved FIFO ordering. <br/></td></tr>
<tr class="separator:ac42613c03efbfcfa1871c15de3aafb91 inherit pub_types_classCThreadBaseQueue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_types_classCThreadBaseQueue"><td colspan="2" onclick="javascript:toggleInherit('pro_types_classCThreadBaseQueue')"><img src="closed.png" alt="-"/>&#160;Protected Types inherited from <a class="el" href="classCThreadBaseQueue.html">CThreadBaseQueue</a></td></tr>
<tr class="memitem:af467edac9b9e89925b1c5f7d1fb21429 inherit pro_types_classCThreadBaseQueue"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af467edac9b9e89925b1c5f7d1fb21429"></a>
typedef boost::unique_lock<br class="typebreak"/>
&lt; boost::mutex &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadBaseQueue.html#af467edac9b9e89925b1c5f7d1fb21429">queue_lock_t</a></td></tr>
<tr class="memdesc:af467edac9b9e89925b1c5f7d1fb21429 inherit pro_types_classCThreadBaseQueue"><td class="mdescLeft">&#160;</td><td class="mdescRight">A lock type used for mutex control. <br/></td></tr>
<tr class="separator:af467edac9b9e89925b1c5f7d1fb21429 inherit pro_types_classCThreadBaseQueue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classCThreadBaseQueue"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classCThreadBaseQueue')"><img src="closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="classCThreadBaseQueue.html">CThreadBaseQueue</a></td></tr>
<tr class="memitem:ad37892083d62edb804561ce3156dee5c inherit pro_methods_classCThreadBaseQueue"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadBaseQueue.html#ad37892083d62edb804561ce3156dee5c">full_queue</a> ()</td></tr>
<tr class="memdesc:ad37892083d62edb804561ce3156dee5c inherit pro_methods_classCThreadBaseQueue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines whether the queue is full.  <a href="#ad37892083d62edb804561ce3156dee5c">More...</a><br/></td></tr>
<tr class="separator:ad37892083d62edb804561ce3156dee5c inherit pro_methods_classCThreadBaseQueue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adee2308478888ebb5bd6482e9e11497b inherit pro_methods_classCThreadBaseQueue"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classCThreadBaseQueue.html#ac42613c03efbfcfa1871c15de3aafb91">cmdlist_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadBaseQueue.html#adee2308478888ebb5bd6482e9e11497b">remove_impl</a> (const px::CTimestamp &amp;timeout, <a class="el" href="classCThreadBaseQueue.html#af467edac9b9e89925b1c5f7d1fb21429">queue_lock_t</a> *plock)</td></tr>
<tr class="memdesc:adee2308478888ebb5bd6482e9e11497b inherit pro_methods_classCThreadBaseQueue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dequeue all commands/responses from the queue.  <a href="#adee2308478888ebb5bd6482e9e11497b">More...</a><br/></td></tr>
<tr class="separator:adee2308478888ebb5bd6482e9e11497b inherit pro_methods_classCThreadBaseQueue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaff1fad9a57494cf93bf57a58231b37d inherit pro_methods_classCThreadBaseQueue"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:aaff1fad9a57494cf93bf57a58231b37d inherit pro_methods_classCThreadBaseQueue"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCThreadBaseQueue.html#aaff1fad9a57494cf93bf57a58231b37d">add_impl</a> (T &amp;&amp;cmds, <a class="el" href="classCThreadBaseQueue.html#af467edac9b9e89925b1c5f7d1fb21429">queue_lock_t</a> *plock, bool move_to_head)</td></tr>
<tr class="memdesc:aaff1fad9a57494cf93bf57a58231b37d inherit pro_methods_classCThreadBaseQueue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add command(s) to the queue.  <a href="#aaff1fad9a57494cf93bf57a58231b37d">More...</a><br/></td></tr>
<tr class="separator:aaff1fad9a57494cf93bf57a58231b37d inherit pro_methods_classCThreadBaseQueue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac840c7e7b38eb6407d7d97f5984dba36 inherit pro_methods_classCThreadBaseQueue"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:ac840c7e7b38eb6407d7d97f5984dba36 inherit pro_methods_classCThreadBaseQueue"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classCThreadBaseQueue.html#ac840c7e7b38eb6407d7d97f5984dba36">enqueue</a> (T &amp;&amp;cmds, bool move_to_head)</td></tr>
<tr class="memdesc:ac840c7e7b38eb6407d7d97f5984dba36 inherit pro_methods_classCThreadBaseQueue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Insert the given commands into the queue.  <a href="#ac840c7e7b38eb6407d7d97f5984dba36">More...</a><br/></td></tr>
<tr class="separator:ac840c7e7b38eb6407d7d97f5984dba36 inherit pro_methods_classCThreadBaseQueue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classCThreadBaseQueue"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classCThreadBaseQueue')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classCThreadBaseQueue.html">CThreadBaseQueue</a></td></tr>
<tr class="memitem:af594d9c903c78183c418e1bf05a13598 inherit pro_attribs_classCThreadBaseQueue"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af594d9c903c78183c418e1bf05a13598"></a>
<a class="el" href="classCThreadBaseQueue.html#ac42613c03efbfcfa1871c15de3aafb91">cmdlist_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadBaseQueue.html#af594d9c903c78183c418e1bf05a13598">_queue</a></td></tr>
<tr class="memdesc:af594d9c903c78183c418e1bf05a13598 inherit pro_attribs_classCThreadBaseQueue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal FIFO queue of pending commands/responses. <br/></td></tr>
<tr class="separator:af594d9c903c78183c418e1bf05a13598 inherit pro_attribs_classCThreadBaseQueue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23f6c9a0496f840db8670228c4144192 inherit pro_attribs_classCThreadBaseQueue"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a23f6c9a0496f840db8670228c4144192"></a>
boost::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadBaseQueue.html#a23f6c9a0496f840db8670228c4144192">_mutex</a></td></tr>
<tr class="memdesc:a23f6c9a0496f840db8670228c4144192 inherit pro_attribs_classCThreadBaseQueue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex for synchronizing access to _queue. <br/></td></tr>
<tr class="separator:a23f6c9a0496f840db8670228c4144192 inherit pro_attribs_classCThreadBaseQueue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b42a278890a4e4c06da83cf2d7efb8f inherit pro_attribs_classCThreadBaseQueue"><td class="memItemLeft" align="right" valign="top">boost::condition_variable&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadBaseQueue.html#a2b42a278890a4e4c06da83cf2d7efb8f">_cond</a></td></tr>
<tr class="memdesc:a2b42a278890a4e4c06da83cf2d7efb8f inherit pro_attribs_classCThreadBaseQueue"><td class="mdescLeft">&#160;</td><td class="mdescRight">Condition variable used to signal the arrival of new data in _queue.  <a href="#a2b42a278890a4e4c06da83cf2d7efb8f">More...</a><br/></td></tr>
<tr class="separator:a2b42a278890a4e4c06da83cf2d7efb8f inherit pro_attribs_classCThreadBaseQueue"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ee33dadd7dc4d2848ff58ab90e57cde inherit pro_attribs_classCThreadBaseQueue"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCThreadBaseQueue.html#a5ee33dadd7dc4d2848ff58ab90e57cde">_max_capacity</a></td></tr>
<tr class="memdesc:a5ee33dadd7dc4d2848ff58ab90e57cde inherit pro_attribs_classCThreadBaseQueue"><td class="mdescLeft">&#160;</td><td class="mdescRight">The maximum size that _queue can ever grow to before we block and wait for the worker thread to flush it out.  <a href="#a5ee33dadd7dc4d2848ff58ab90e57cde">More...</a><br/></td></tr>
<tr class="separator:a5ee33dadd7dc4d2848ff58ab90e57cde inherit pro_attribs_classCThreadBaseQueue"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class collects a prioritized list of pending operations to be performed by the worker thread. </p>

<p>Definition at line <a class="el" href="thread__response__queue_8hpp_source.html#l00011">11</a> of file <a class="el" href="thread__response__queue_8hpp_source.html">thread_response_queue.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a05a9bd004b9f52e5a27e4419250aa7a4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CThreadResponseQueue::CThreadResponseQueue </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>_max_capacity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">max_capacity</td><td>The maximum allowable size of the internal queue. If an attempt is made to add more items once the queue has reached this size, the caller will be blocked until the receiving thread removes the existing items. 0 indicates "no limit". </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="thread__response__queue_8cpp_source.html#l00012">12</a> of file <a class="el" href="thread__response__queue_8cpp_source.html">thread_response_queue.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a342c8d88e75fc57f36f2546a1cd7ad26"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCThreadBaseQueue.html#ac42613c03efbfcfa1871c15de3aafb91">CThreadResponseQueue::cmdlist_t</a> CThreadResponseQueue::remove </td>
          <td>(</td>
          <td class="paramtype">const px::CTimestamp &amp;&#160;</td>
          <td class="paramname"><em>timeout</em> = <code>px::CTimestamp()</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Dequeue all commands/responses from the queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeout</td><td>The maximum amount of time to wait before returning (a default/invalid timestamp will block indefinitely).</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">timed_out</td><td>Thrown if the timeout is exceeded</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>All pending commands/responses </dd></dl>

<p>Reimplemented from <a class="el" href="classCThreadBaseQueue.html#ae6590025241e6892ababc2d982d9a0bb">CThreadBaseQueue</a>.</p>

<p>Definition at line <a class="el" href="thread__response__queue_8cpp_source.html#l00057">57</a> of file <a class="el" href="thread__response__queue_8cpp_source.html">thread_response_queue.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9923da048fd879b5dae6c736df39c0c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CThreadResponseQueue::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCThreadBaseQueue.html#a878d987cab9a76f5dd0e134cde93ebb5">cmd_ptr_t</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>cmd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>move_to_head</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a command to the queue. </p>
<p>This call adds the given command to the queue. If the queue is full already (based on the max capacity as configured at construction), the caller is blocked until the receiving thread calls <a class="el" href="classCThreadResponseQueue.html#a342c8d88e75fc57f36f2546a1cd7ad26" title="Dequeue all commands/responses from the queue. ">remove()</a>. Note that this is only needed in extreme circumstances (heavy load, stress-test, etc.) to prevent the queue from growing indefinitely.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmd</td><td>The command/response to be inserted into the internal queue</td></tr>
    <tr><td class="paramname">move_to_head</td><td>If true, this command is inserted at the head of the queue, so that it will be executed in front of already-present commands </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classCThreadBaseQueue.html#a0fb4074f8b504fcc9fc3e0ba589959f0">CThreadBaseQueue</a>.</p>

<p>Definition at line <a class="el" href="thread__response__queue_8cpp_source.html#l00086">86</a> of file <a class="el" href="thread__response__queue_8cpp_source.html">thread_response_queue.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a04a31dbf954039c9ed90ed5b6465590f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CThreadResponseQueue::add </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classCThreadBaseQueue.html#ac42613c03efbfcfa1871c15de3aafb91">cmdlist_t</a> &amp;&amp;&#160;</td>
          <td class="paramname"><em>cmds</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>move_to_head</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add multiple commands to the queue. </p>
<p>This call adds the given commands to the queue. If the queue is full already (based on the max capacity as configured at construction), the caller is blocked until the receiving thread calls <a class="el" href="classCThreadResponseQueue.html#a342c8d88e75fc57f36f2546a1cd7ad26" title="Dequeue all commands/responses from the queue. ">remove()</a>. Note that this is only needed in extreme circumstances (heavy load, stress-test, etc.) to prevent the queue from growing indefinitely.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cmds</td><td>The commands/responses to be inserted into the internal queue</td></tr>
    <tr><td class="paramname">move_to_head</td><td>If true, this command is inserted at the head of the queue, so that it will be executed in front of already-present commands </td></tr>
  </table>
  </dd>
</dl>

<p>Reimplemented from <a class="el" href="classCThreadBaseQueue.html#a341fc833031e7aefd895a4c81822582c">CThreadBaseQueue</a>.</p>

<p>Definition at line <a class="el" href="thread__response__queue_8cpp_source.html#l00103">103</a> of file <a class="el" href="thread__response__queue_8cpp_source.html">thread_response_queue.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ae05ee6c558f5793701f43f887225e229"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CThreadResponseQueue::_eventfd</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This eventfd() file descriptor is used by the main thread to wait on changes for multiple threads in conjunction with numerous CDS connections. </p>
<p>When it polls as read-ready, there is at least one response in the queue ready to be received via a call to <a class="el" href="classCThreadResponseQueue.html#a342c8d88e75fc57f36f2546a1cd7ad26" title="Dequeue all commands/responses from the queue. ">remove()</a>. </p>

<p>Definition at line <a class="el" href="thread__response__queue_8hpp_source.html#l00069">69</a> of file <a class="el" href="thread__response__queue_8hpp_source.html">thread_response_queue.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="thread__response__queue_8hpp_source.html">thread_response_queue.hpp</a></li>
<li><a class="el" href="thread__response__queue_8cpp_source.html">thread_response_queue.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classCThreadResponseQueue.html">CThreadResponseQueue</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:24:01 for cds_ng by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
