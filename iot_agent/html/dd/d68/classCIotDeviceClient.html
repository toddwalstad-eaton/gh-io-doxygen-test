<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>IoT Agent: CIotDeviceClient Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../Eaton_Red_Toolbox_Logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">IoT Agent
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dd/d68/classCIotDeviceClient.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d5/db8/classCIotDeviceClient-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CIotDeviceClient Class Reference<div class="ingroups"><a class="el" href="../../de/d37/group__iot__device__client.html">IoT Device Client</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Actor that creates a Client IoT Device client and manages its connection to the Azure IoT Hub.  
 <a href="../../dd/d68/classCIotDeviceClient.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CIotDeviceClient:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/de5/classCIotDeviceClient__inherit__graph.png" border="0" usemap="#CIotDeviceClient_inherit__map" alt="Inheritance graph"/></div>
<map name="CIotDeviceClient_inherit__map" id="CIotDeviceClient_inherit__map">
</map>
</div>
<div class="dynheader">
Collaboration diagram for CIotDeviceClient:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d08/classCIotDeviceClient__coll__graph.png" border="0" usemap="#CIotDeviceClient_coll__map" alt="Collaboration graph"/></div>
<map name="CIotDeviceClient_coll__map" id="CIotDeviceClient_coll__map">
<area shape="rect" id="node3" href="../../db/db5/classTrendManager.html" title="Class to manage the Trend publishing and other trend&#45;related services. " alt="" coords="166,415,404,801"/><area shape="rect" id="node5" title="STL class. " alt="" coords="385,5,495,83"/><area shape="rect" id="node6" href="../../d4/dd8/classBlobUploadManager.html" title="Class to manage Blob uploads, handling the requests and response through OOB/. " alt="" coords="610,408,816,808"/><area shape="rect" id="node8" title="STL class. " alt="" coords="602,5,736,83"/></map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a57d4e9607606f259a2a1e857e7710f08"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a57d4e9607606f259a2a1e857e7710f08">client_states</a> { <br/>
&#160;&#160;<a class="el" href="../../dd/d68/classCIotDeviceClient.html#a57d4e9607606f259a2a1e857e7710f08a21a2f6a99ec8957f80434fafa67d8b8e">CONNECTING</a> = 0, 
<a class="el" href="../../dd/d68/classCIotDeviceClient.html#a57d4e9607606f259a2a1e857e7710f08ae6ac22799d8a598eec8258c9c3ede27a">SEND_ALL</a>, 
<a class="el" href="../../dd/d68/classCIotDeviceClient.html#a57d4e9607606f259a2a1e857e7710f08a10def6163ba04eb05deb60ed20e33d98">SEND_DEV_TREE</a>, 
<a class="el" href="../../dd/d68/classCIotDeviceClient.html#a57d4e9607606f259a2a1e857e7710f08ae83932b5f800f9e774aad6b43b87fa4e">SEND_REALTIMES</a>, 
<br/>
&#160;&#160;<a class="el" href="../../dd/d68/classCIotDeviceClient.html#a57d4e9607606f259a2a1e857e7710f08a0d35c217a509f5b389661c6bb9150f07">SEND_DEV_RT_STATES</a>, 
<a class="el" href="../../dd/d68/classCIotDeviceClient.html#a57d4e9607606f259a2a1e857e7710f08a9d48e4224fb61b80de73ede64105382f">SEND_CH_RT_TRENDS</a>, 
<a class="el" href="../../dd/d68/classCIotDeviceClient.html#a57d4e9607606f259a2a1e857e7710f08a01b21cc13c2ed9d9f5dc446a154515cd">SEND_CH_RT_VALUES</a>, 
<a class="el" href="../../dd/d68/classCIotDeviceClient.html#a57d4e9607606f259a2a1e857e7710f08ad666af754c198d06db53bc50b30843b0">CONNECTION_FAILED</a>, 
<br/>
&#160;&#160;<a class="el" href="../../dd/d68/classCIotDeviceClient.html#a57d4e9607606f259a2a1e857e7710f08aec89d5896a1f85d791e84a48a1ed515d">DO_EXIT</a>, 
<a class="el" href="../../dd/d68/classCIotDeviceClient.html#a57d4e9607606f259a2a1e857e7710f08a33b479d657624dc2f0b335a9a742c0b7">DO_RECONNECT</a>, 
<a class="el" href="../../dd/d68/classCIotDeviceClient.html#a57d4e9607606f259a2a1e857e7710f08a6313fd70e03240971c1d13639dcffe03">IN_NET_DIAGS</a>
<br/>
 }</td></tr>
<tr class="separator:a57d4e9607606f259a2a1e857e7710f08"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aca80b6e04cedac4d0340ccffddb56e45"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#aca80b6e04cedac4d0340ccffddb56e45">CIotDeviceClient</a> (px::asio::CIoManager &amp;manager, std::shared_ptr&lt; <a class="el" href="../../db/d77/classCIotAgentCore.html">CIotAgentCore</a> &gt; iot_core)</td></tr>
<tr class="memdesc:aca80b6e04cedac4d0340ccffddb56e45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor to create this Actor instance and add it to the Manager.  <a href="#aca80b6e04cedac4d0340ccffddb56e45">More...</a><br/></td></tr>
<tr class="separator:aca80b6e04cedac4d0340ccffddb56e45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c9200d4e190ae553db7246c36f939d3"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a0c9200d4e190ae553db7246c36f939d3">~CIotDeviceClient</a> ()</td></tr>
<tr class="memdesc:a0c9200d4e190ae553db7246c36f939d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default Xtor.  <a href="#a0c9200d4e190ae553db7246c36f939d3">More...</a><br/></td></tr>
<tr class="separator:a0c9200d4e190ae553db7246c36f939d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20352e404497ab3b8f107dadddd83df7"><td class="memItemLeft" align="right" valign="top">px::proto::IotAgentErrorStateEnums&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a20352e404497ab3b8f107dadddd83df7">initialize</a> (const char **error_reason)</td></tr>
<tr class="memdesc:a20352e404497ab3b8f107dadddd83df7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize this client and setup the CDS callbacks and message handlers, and kick off device discovery.  <a href="#a20352e404497ab3b8f107dadddd83df7">More...</a><br/></td></tr>
<tr class="separator:a20352e404497ab3b8f107dadddd83df7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac088663bab4b0ddec2c4c60bbc605166"><td class="memItemLeft" align="right" valign="top">std::tuple<br class="typebreak"/>
&lt; px::proto::IotConnectionStatusEnums, <br class="typebreak"/>
px::proto::IotAgentErrorStateEnums, <br class="typebreak"/>
const char * &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#ac088663bab4b0ddec2c4c60bbc605166">connect</a> ()</td></tr>
<tr class="memdesc:ac088663bab4b0ddec2c4c60bbc605166"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attempt to open the Azure IoT Hub connection.  <a href="#ac088663bab4b0ddec2c4c60bbc605166">More...</a><br/></td></tr>
<tr class="separator:ac088663bab4b0ddec2c4c60bbc605166"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ee7d2a5df5d6a89abee96ff9ab2229d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a6ee7d2a5df5d6a89abee96ff9ab2229d">close</a> ()</td></tr>
<tr class="memdesc:a6ee7d2a5df5d6a89abee96ff9ab2229d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of the CIoActor method to gracefully close this connection.  <a href="#a6ee7d2a5df5d6a89abee96ff9ab2229d">More...</a><br/></td></tr>
<tr class="separator:a6ee7d2a5df5d6a89abee96ff9ab2229d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3e59938659409ee0adee10292047aca"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca">handle_timer_update</a> (time_t tnow_secs, unsigned int &amp;next_msec_timeout)</td></tr>
<tr class="memdesc:ac3e59938659409ee0adee10292047aca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called by the core's update timer to manage next state / action.  <a href="#ac3e59938659409ee0adee10292047aca">More...</a><br/></td></tr>
<tr class="separator:ac3e59938659409ee0adee10292047aca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88f14cdca116cb11cdb757027f16edfd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a88f14cdca116cb11cdb757027f16edfd">build_send_device_tree</a> ()</td></tr>
<tr class="memdesc:a88f14cdca116cb11cdb757027f16edfd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build the DEVICE_TREE structure and publish it to the IoT Hub.  <a href="#a88f14cdca116cb11cdb757027f16edfd">More...</a><br/></td></tr>
<tr class="separator:a88f14cdca116cb11cdb757027f16edfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcefb86bc559d989da0b410ef74f61d0"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#abcefb86bc559d989da0b410ef74f61d0">publish_device_realtime_state</a> ()</td></tr>
<tr class="memdesc:abcefb86bc559d989da0b410ef74f61d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build the IOT_DATA_DEVICES_REALTIME_ITEM message (device states) for just the Publisher device, and send it to the Azure IoT Hub.  <a href="#abcefb86bc559d989da0b410ef74f61d0">More...</a><br/></td></tr>
<tr class="separator:abcefb86bc559d989da0b410ef74f61d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64879bbe10f07d18703bc7348bab4e7d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a64879bbe10f07d18703bc7348bab4e7d">publish_channel_realtime_values</a> (bool get_all_channels, const px::CWallTime &amp;last_realtime)</td></tr>
<tr class="memdesc:a64879bbe10f07d18703bc7348bab4e7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build the IOT_DATA_CHANNEL_REALTIMES_ITEM messages for all devices, using all available channel real-time values, and send it to the Azure IoT Hub.  <a href="#a64879bbe10f07d18703bc7348bab4e7d">More...</a><br/></td></tr>
<tr class="separator:a64879bbe10f07d18703bc7348bab4e7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb176b2927c901efa0a2ea9fb170019c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#abb176b2927c901efa0a2ea9fb170019c">publish_channel_realtimes_as_trend_values</a> (bool use_routing=false)</td></tr>
<tr class="memdesc:abb176b2927c901efa0a2ea9fb170019c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Build the IOT_DATA_TREND_ITEM messages for all devices, sending just the "actual" values of the latest real-time values from all channels, and send it to the Azure IoT Hub.  <a href="#abb176b2927c901efa0a2ea9fb170019c">More...</a><br/></td></tr>
<tr class="separator:abb176b2927c901efa0a2ea9fb170019c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a310bb0fb0857e0ec0592078ffca00740"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a310bb0fb0857e0ec0592078ffca00740">make_trend_actuals_list</a> (SINGLYLINKEDLIST_HANDLE channelRealtimes, IOT_DATA &amp;channelTrendData)</td></tr>
<tr class="memdesc:a310bb0fb0857e0ec0592078ffca00740"><td class="mdescLeft">&#160;</td><td class="mdescRight">From the list of Real-Time update values, construct a list of Trend updates with each value copied as a Trend Actual value.  <a href="#a310bb0fb0857e0ec0592078ffca00740">More...</a><br/></td></tr>
<tr class="separator:a310bb0fb0857e0ec0592078ffca00740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae984c52721231fe663d3941edb9765b5"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../d2/d55/classCIotDataDevice.html">CIotDataDevice</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#ae984c52721231fe663d3941edb9765b5">initialize_iot_data_struct</a> (px::id_t dev_id, IOT_DATA &amp;iot_data_struct, IOT_DATA_TYPE message_type)</td></tr>
<tr class="memdesc:ae984c52721231fe663d3941edb9765b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the IOT_DATA structure for the given device and Type of message, and return the pointer to its Device Data.  <a href="#ae984c52721231fe663d3941edb9765b5">More...</a><br/></td></tr>
<tr class="separator:ae984c52721231fe663d3941edb9765b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47b6924adc4e4c501854573b5bdfda1b"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../d2/d55/classCIotDataDevice.html">CIotDataDevice</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a47b6924adc4e4c501854573b5bdfda1b">lookup_iot_data_device</a> (px::id_t dev_id)</td></tr>
<tr class="memdesc:a47b6924adc4e4c501854573b5bdfda1b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lookup a Device instance in our map of devices, using its CDS Device ID.  <a href="#a47b6924adc4e4c501854573b5bdfda1b">More...</a><br/></td></tr>
<tr class="separator:a47b6924adc4e4c501854573b5bdfda1b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab796e9a697a09ca3863a9f2f453f5b61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#ab796e9a697a09ca3863a9f2f453f5b61">update_msg_count</a> ()</td></tr>
<tr class="memdesc:ab796e9a697a09ca3863a9f2f453f5b61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the connection status for this SDK connection, and update the IoT Status OOB with the latest count.  <a href="#ab796e9a697a09ca3863a9f2f453f5b61">More...</a><br/></td></tr>
<tr class="separator:ab796e9a697a09ca3863a9f2f453f5b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a69dcec1f9b44be632e279f1bbc197aae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a69dcec1f9b44be632e279f1bbc197aae">cloud_to_device_command_callback</a> (IOT_DEVICE_HANDLE deviceHandle, const IOT_DEVICE_COMMAND *command, IOT_DEVICE_COMMAND_RESPONSE *commandResponse)</td></tr>
<tr class="memdesc:a69dcec1f9b44be632e279f1bbc197aae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function to receive Cloud-to-Device device commands.  <a href="#a69dcec1f9b44be632e279f1bbc197aae">More...</a><br/></td></tr>
<tr class="separator:a69dcec1f9b44be632e279f1bbc197aae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60264282b1f57eade8da20d87501e711"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a60264282b1f57eade8da20d87501e711">iot_connection_status_callback</a> (IOT_DEVICE_HANDLE deviceHandle, IOTHUB_CLIENT_CONNECTION_STATUS statusCode, IOTHUB_CLIENT_CONNECTION_STATUS_REASON reasonCode)</td></tr>
<tr class="memdesc:a60264282b1f57eade8da20d87501e711"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of the callback to receive change of status for the IoT Hub connection.  <a href="#a60264282b1f57eade8da20d87501e711">More...</a><br/></td></tr>
<tr class="separator:a60264282b1f57eade8da20d87501e711"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a823f6c36794c22f0979d8de180bd1fa2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a823f6c36794c22f0979d8de180bd1fa2">iot_message_done_callback</a> (IOTHUB_CLIENT_CONFIRMATION_RESULT result, IOT_MESSAGE *message)</td></tr>
<tr class="memdesc:a823f6c36794c22f0979d8de180bd1fa2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback to be notified when a message is Done, either in success or failure.  <a href="#a823f6c36794c22f0979d8de180bd1fa2">More...</a><br/></td></tr>
<tr class="separator:a823f6c36794c22f0979d8de180bd1fa2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af3a13c25b90d751365022268c6adb7e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#af3a13c25b90d751365022268c6adb7e5">log_results</a> (const char *type, bool success, uint32_t dev_id, size_t count, int debug_level, bool always_log, unsigned long message_id)</td></tr>
<tr class="memdesc:af3a13c25b90d751365022268c6adb7e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convenience function to log to syslog output and "device comms" log.  <a href="#af3a13c25b90d751365022268c6adb7e5">More...</a><br/></td></tr>
<tr class="separator:af3a13c25b90d751365022268c6adb7e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11dee66efe27d7107e43e489d3ad3a8d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a11dee66efe27d7107e43e489d3ad3a8d">is_connected</a> ()</td></tr>
<tr class="memdesc:a11dee66efe27d7107e43e489d3ad3a8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for the _is_connected flag.  <a href="#a11dee66efe27d7107e43e489d3ad3a8d">More...</a><br/></td></tr>
<tr class="separator:a11dee66efe27d7107e43e489d3ad3a8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c0885ca901a8588ca31c0bd1809e3a6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a8c0885ca901a8588ca31c0bd1809e3a6">request_client_state</a> (enum <a class="el" href="../../dd/d68/classCIotDeviceClient.html#a57d4e9607606f259a2a1e857e7710f08">client_states</a> new_state)</td></tr>
<tr class="memdesc:a8c0885ca901a8588ca31c0bd1809e3a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Request a new client_state action.  <a href="#a8c0885ca901a8588ca31c0bd1809e3a6">More...</a><br/></td></tr>
<tr class="separator:a8c0885ca901a8588ca31c0bd1809e3a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a29c4eabffb2ab515d512423e2cce50a1"><td class="memItemLeft" align="right" valign="top">static <br class="typebreak"/>
px::proto::IotAgentErrorStateEnums&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a29c4eabffb2ab515d512423e2cce50a1">sdk_to_protobuf_err_code</a> (int iot_error_code, const char **error_reason)</td></tr>
<tr class="memdesc:a29c4eabffb2ab515d512423e2cce50a1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert the given IOT_DEVICE_ERROR_CODES enum to the equivalent protobuf error code, and add a descriptive text message.  <a href="#a29c4eabffb2ab515d512423e2cce50a1">More...</a><br/></td></tr>
<tr class="separator:a29c4eabffb2ab515d512423e2cce50a1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a0b1d5350fd56cf932cb64381f45222e0"><td class="memItemLeft" align="right" valign="top">friend&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a0b1d5350fd56cf932cb64381f45222e0">IotDeviceCommand</a></td></tr>
<tr class="memdesc:a0b1d5350fd56cf932cb64381f45222e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Give the <a class="el" href="../../d3/ddf/classIotDeviceCommand.html" title="Class to manage the Cloud-to-Device Device Command messages. ">IotDeviceCommand</a> access to our protected data.  <a href="#a0b1d5350fd56cf932cb64381f45222e0">More...</a><br/></td></tr>
<tr class="separator:a0b1d5350fd56cf932cb64381f45222e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f6a78e646f7680ace8e1f86a0f870ca"><td class="memItemLeft" align="right" valign="top">friend&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a9f6a78e646f7680ace8e1f86a0f870ca">CMockIotAgentCore</a></td></tr>
<tr class="memdesc:a9f6a78e646f7680ace8e1f86a0f870ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Also, for test code, our mock core class.  <a href="#a9f6a78e646f7680ace8e1f86a0f870ca">More...</a><br/></td></tr>
<tr class="separator:a9f6a78e646f7680ace8e1f86a0f870ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33696bd532499d73bc7f5025c57c8756"><td class="memItemLeft" align="right" valign="top">friend&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a33696bd532499d73bc7f5025c57c8756">CIotDataDevice</a></td></tr>
<tr class="memdesc:a33696bd532499d73bc7f5025c57c8756"><td class="mdescLeft">&#160;</td><td class="mdescRight">And the Data Device, Trend Manager, and Firmware Update Manager classes.  <a href="#a33696bd532499d73bc7f5025c57c8756">More...</a><br/></td></tr>
<tr class="separator:a33696bd532499d73bc7f5025c57c8756"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6b5ff0a968d7732e261bc0c69386da05"><td class="memItemLeft" align="right" valign="top">friend&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a6b5ff0a968d7732e261bc0c69386da05">TrendManager</a></td></tr>
<tr class="separator:a6b5ff0a968d7732e261bc0c69386da05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a7214d9098f3ad22be51d7ae50928b8"><td class="memItemLeft" align="right" valign="top">friend&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a7a7214d9098f3ad22be51d7ae50928b8">FirmwareUpdateManager</a></td></tr>
<tr class="separator:a7a7214d9098f3ad22be51d7ae50928b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad149ffaf314bfcf7ee0a981440fdaa4b"><td class="memItemLeft" align="right" valign="top">friend&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#ad149ffaf314bfcf7ee0a981440fdaa4b">BlobUploadManager</a></td></tr>
<tr class="separator:ad149ffaf314bfcf7ee0a981440fdaa4b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:ae1aa3bf442ed4c67007411ef0477c002"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#ae1aa3bf442ed4c67007411ef0477c002">is_supported_device_type</a> (const px::CDevice &amp;px_device)</td></tr>
<tr class="memdesc:ae1aa3bf442ed4c67007411ef0477c002"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if this device is of a supported type for IoT Agent Devices.  <a href="#ae1aa3bf442ed4c67007411ef0477c002">More...</a><br/></td></tr>
<tr class="separator:ae1aa3bf442ed4c67007411ef0477c002"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d5caa93bbe9bf8ae396796fd5b29cdc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a1d5caa93bbe9bf8ae396796fd5b29cdc">callback_add_device</a> (const px::asio::CCdsDevice &amp;container)</td></tr>
<tr class="memdesc:a1d5caa93bbe9bf8ae396796fd5b29cdc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback invoked by CdsHandler when a Device is added (or discovered).  <a href="#a1d5caa93bbe9bf8ae396796fd5b29cdc">More...</a><br/></td></tr>
<tr class="separator:a1d5caa93bbe9bf8ae396796fd5b29cdc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a599b1389d240022c14b03437d3ab43c2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a599b1389d240022c14b03437d3ab43c2">callback_update_device</a> (const px::asio::CCdsDevice &amp;container)</td></tr>
<tr class="memdesc:a599b1389d240022c14b03437d3ab43c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback invoked by CdsHandler when an existing Device is updated.  <a href="#a599b1389d240022c14b03437d3ab43c2">More...</a><br/></td></tr>
<tr class="separator:a599b1389d240022c14b03437d3ab43c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8e205d4c1ccf4497b49a527f84635f8f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a8e205d4c1ccf4497b49a527f84635f8f">callback_delete_device</a> (px::id_t dev_id)</td></tr>
<tr class="memdesc:a8e205d4c1ccf4497b49a527f84635f8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback invoked by CdsHandler when a Device is about to be removed from our map.  <a href="#a8e205d4c1ccf4497b49a527f84635f8f">More...</a><br/></td></tr>
<tr class="separator:a8e205d4c1ccf4497b49a527f84635f8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa90dd3f0c575294f26cd3f23ed304337"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#aa90dd3f0c575294f26cd3f23ed304337">callback_device_state</a> (const px::asio::CCdsDevice &amp;container)</td></tr>
<tr class="memdesc:aa90dd3f0c575294f26cd3f23ed304337"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback invoked by CdsHandler when a Device state is updated.  <a href="#aa90dd3f0c575294f26cd3f23ed304337">More...</a><br/></td></tr>
<tr class="separator:aa90dd3f0c575294f26cd3f23ed304337"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a9607414b185ad47c87d7b17e1667e0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a8a9607414b185ad47c87d7b17e1667e0">callback_channel_settings</a> (const px::asio::CCdsDevice &amp;container, const std::vector&lt; px::CChannelSettings &gt; &amp;settings)</td></tr>
<tr class="memdesc:a8a9607414b185ad47c87d7b17e1667e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Application callback invoked by CdsHandler when it gets the ChannelSettings for a device.  <a href="#a8a9607414b185ad47c87d7b17e1667e0">More...</a><br/></td></tr>
<tr class="separator:a8a9607414b185ad47c87d7b17e1667e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a747f810cc21e41b3e81ffa6059b3c4e5"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a747f810cc21e41b3e81ffa6059b3c4e5">build_tree_structure</a> (IOT_DATA &amp;deviceTreeStruct, size_t &amp;dev_count)</td></tr>
<tr class="memdesc:a747f810cc21e41b3e81ffa6059b3c4e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a device (and its subdevices) to the Device Tree structure.  <a href="#a747f810cc21e41b3e81ffa6059b3c4e5">More...</a><br/></td></tr>
<tr class="separator:a747f810cc21e41b3e81ffa6059b3c4e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ace40ba7e12cab369c87e1d01bfc24b48"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#ace40ba7e12cab369c87e1d01bfc24b48">add_child_device_to_tree_structure</a> (std::shared_ptr&lt; <a class="el" href="../../d2/d55/classCIotDataDevice.html">CIotDataDevice</a> &gt; parent_dev_ptr, px::id_t child_id, size_t &amp;dev_count)</td></tr>
<tr class="memdesc:ace40ba7e12cab369c87e1d01bfc24b48"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a child device (and its subdevices) to the parent device's DeviceTree structure, whether or not the indicated device is "valid".  <a href="#ace40ba7e12cab369c87e1d01bfc24b48">More...</a><br/></td></tr>
<tr class="separator:ace40ba7e12cab369c87e1d01bfc24b48"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f8f68fa4e0e62fed9980e911a3d761f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a8f8f68fa4e0e62fed9980e911a3d761f">check_confirmed_msg_count</a> ()</td></tr>
<tr class="memdesc:a8f8f68fa4e0e62fed9980e911a3d761f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the confirmed message count, and if too many messages have been sent without being confirmed, then close the connection and revert us to a re-connecting state.  <a href="#a8f8f68fa4e0e62fed9980e911a3d761f">More...</a><br/></td></tr>
<tr class="separator:a8f8f68fa4e0e62fed9980e911a3d761f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab49100be4e2dc5ef53115fbdafb55f94"><td class="memItemLeft" align="right" valign="top">px::proto::IotConnectionStatusEnums&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#ab49100be4e2dc5ef53115fbdafb55f94">check_connection_status</a> (void *device_handle)</td></tr>
<tr class="memdesc:ab49100be4e2dc5ef53115fbdafb55f94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determines the current connection status via the Eaton Device SDK.  <a href="#ab49100be4e2dc5ef53115fbdafb55f94">More...</a><br/></td></tr>
<tr class="separator:ab49100be4e2dc5ef53115fbdafb55f94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb2e4268d80323e508cc574786893dd4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#adb2e4268d80323e508cc574786893dd4">is_now_connected</a> (IOT_DEVICE_HANDLE device_handle)</td></tr>
<tr class="memdesc:adb2e4268d80323e508cc574786893dd4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute tasks necessary now that we have achieved a connection.  <a href="#adb2e4268d80323e508cc574786893dd4">More...</a><br/></td></tr>
<tr class="separator:adb2e4268d80323e508cc574786893dd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc09aab2e6e369085fa6b2686f00836b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#acc09aab2e6e369085fa6b2686f00836b">check_if_suspended</a> (px::proto::IotConnectionStatusEnums status, unsigned int &amp;timeout)</td></tr>
<tr class="memdesc:acc09aab2e6e369085fa6b2686f00836b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the IoT connection status indicates we have reached the IoT Hub maximum daily message limit, and the IoT Hub will no longer accept the messages we publish.  <a href="#acc09aab2e6e369085fa6b2686f00836b">More...</a><br/></td></tr>
<tr class="separator:acc09aab2e6e369085fa6b2686f00836b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52896f53787259c34d10a3f0dac7eb6a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a52896f53787259c34d10a3f0dac7eb6a">handle_net_diagnostic_result</a> ()</td></tr>
<tr class="memdesc:a52896f53787259c34d10a3f0dac7eb6a"><td class="mdescLeft">&#160;</td><td class="mdescRight">When the Net Diagnostic task (thread) is done, this function is called to get and process the result, which is normally an error finding.  <a href="#a52896f53787259c34d10a3f0dac7eb6a">More...</a><br/></td></tr>
<tr class="separator:a52896f53787259c34d10a3f0dac7eb6a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcd74e1ab4451a77cb62b2d55213da32"><td class="memItemLeft" align="right" valign="top">std::tuple&lt; bool, bool, bool, <br class="typebreak"/>
bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#adcd74e1ab4451a77cb62b2d55213da32">check_for_publish_times</a> (time_t tnow_secs)</td></tr>
<tr class="memdesc:adcd74e1ab4451a77cb62b2d55213da32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check the current time against the desired cadence, and see if it is time to publish real-times or trends, or to run a DoWork cycle.  <a href="#adcd74e1ab4451a77cb62b2d55213da32">More...</a><br/></td></tr>
<tr class="separator:adcd74e1ab4451a77cb62b2d55213da32"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:aa37b86d009cdb98a30cc2ae150350b9f"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../db/d77/classCIotAgentCore.html">CIotAgentCore</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#aa37b86d009cdb98a30cc2ae150350b9f">_iot_core</a></td></tr>
<tr class="memdesc:aa37b86d009cdb98a30cc2ae150350b9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy of this agent's core class, which gives us access to the settings and status.  <a href="#aa37b86d009cdb98a30cc2ae150350b9f">More...</a><br/></td></tr>
<tr class="separator:aa37b86d009cdb98a30cc2ae150350b9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae84b8aaeeffc814dcbb0b5c370c7be95"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/dab/iot__device__client_8hpp.html#a21a5267ad57f3f37eb8b87b440911fcc">iot_data_device_map_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#ae84b8aaeeffc814dcbb0b5c370c7be95">_iot_device_map</a></td></tr>
<tr class="memdesc:ae84b8aaeeffc814dcbb0b5c370c7be95"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map of our <a class="el" href="../../d2/d55/classCIotDataDevice.html" title="Class to provide the IOT_DATA_DEVICE_ITEM instance from the CDS data for one Device. ">CIotDataDevice</a> instances, keyed by CDS Device ID.  <a href="#ae84b8aaeeffc814dcbb0b5c370c7be95">More...</a><br/></td></tr>
<tr class="separator:ae84b8aaeeffc814dcbb0b5c370c7be95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a187d908c4511ca8e44ba9034b45c78c4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/dab/iot__device__client_8hpp.html#ad036d5e421ca45ff604e9d09297b4c1d">cds_device_set_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a187d908c4511ca8e44ba9034b45c78c4">_valid_device_set</a></td></tr>
<tr class="memdesc:a187d908c4511ca8e44ba9034b45c78c4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set of CDS IDs for "valid" Devices.  <a href="#a187d908c4511ca8e44ba9034b45c78c4">More...</a><br/></td></tr>
<tr class="separator:a187d908c4511ca8e44ba9034b45c78c4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae20ed4e243b305d6a04541f6cd7736d4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/db5/classTrendManager.html">TrendManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#ae20ed4e243b305d6a04541f6cd7736d4">trend_manager</a></td></tr>
<tr class="memdesc:ae20ed4e243b305d6a04541f6cd7736d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the <a class="el" href="../../db/db5/classTrendManager.html" title="Class to manage the Trend publishing and other trend-related services. ">TrendManager</a> class instance.  <a href="#ae20ed4e243b305d6a04541f6cd7736d4">More...</a><br/></td></tr>
<tr class="separator:ae20ed4e243b305d6a04541f6cd7736d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a417ca9bf564faf82d4ba6eac97d51c87"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/dd8/classBlobUploadManager.html">BlobUploadManager</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a417ca9bf564faf82d4ba6eac97d51c87">blob_upload_manager</a></td></tr>
<tr class="memdesc:a417ca9bf564faf82d4ba6eac97d51c87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the <a class="el" href="../../d4/dd8/classBlobUploadManager.html" title="Class to manage Blob uploads, handling the requests and response through OOB/. ">BlobUploadManager</a> class instance.  <a href="#a417ca9bf564faf82d4ba6eac97d51c87">More...</a><br/></td></tr>
<tr class="separator:a417ca9bf564faf82d4ba6eac97d51c87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa60dac137e9a378cde01312982b42250"><td class="memItemLeft" align="right" valign="top">const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#aa60dac137e9a378cde01312982b42250">_BLOB_UPLOAD_TIMER_SECS</a> = 5</td></tr>
<tr class="memdesc:aa60dac137e9a378cde01312982b42250"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time interval after which the blob upload pending list will be checked for any pending uploads.  <a href="#aa60dac137e9a378cde01312982b42250">More...</a><br/></td></tr>
<tr class="separator:aa60dac137e9a378cde01312982b42250"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acee7ec17e9808b4764bdc6ffbe84e987"><td class="memItemLeft" align="right" valign="top">px::CWallTime&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#acee7ec17e9808b4764bdc6ffbe84e987">_last_blob_upload_check_time</a></td></tr>
<tr class="memdesc:acee7ec17e9808b4764bdc6ffbe84e987"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the timestamp of last interval when the pending list of blob uploads was checked.  <a href="#acee7ec17e9808b4764bdc6ffbe84e987">More...</a><br/></td></tr>
<tr class="separator:acee7ec17e9808b4764bdc6ffbe84e987"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ac69a4430eb338404ba0bd08c710b02"><td class="memItemLeft" align="right" valign="top">IOT_DEVICE_HANDLE&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a1ac69a4430eb338404ba0bd08c710b02">_client_handle</a></td></tr>
<tr class="memdesc:a1ac69a4430eb338404ba0bd08c710b02"><td class="mdescLeft">&#160;</td><td class="mdescRight">The handle for this client connection.  <a href="#a1ac69a4430eb338404ba0bd08c710b02">More...</a><br/></td></tr>
<tr class="separator:a1ac69a4430eb338404ba0bd08c710b02"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed0c4ce49c4763fe411a80160c42e2de"><td class="memItemLeft" align="right" valign="top">enum <a class="el" href="../../dd/d68/classCIotDeviceClient.html#a57d4e9607606f259a2a1e857e7710f08">client_states</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#aed0c4ce49c4763fe411a80160c42e2de">_client_state</a></td></tr>
<tr class="memdesc:aed0c4ce49c4763fe411a80160c42e2de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the present client state.  <a href="#aed0c4ce49c4763fe411a80160c42e2de">More...</a><br/></td></tr>
<tr class="separator:aed0c4ce49c4763fe411a80160c42e2de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7133e716366b0499aa21dfacbdff290"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#af7133e716366b0499aa21dfacbdff290">_is_connected</a></td></tr>
<tr class="memdesc:af7133e716366b0499aa21dfacbdff290"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to indicate when we have achieved a valid connection and are "OPEN".  <a href="#af7133e716366b0499aa21dfacbdff290">More...</a><br/></td></tr>
<tr class="separator:af7133e716366b0499aa21dfacbdff290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28bdcf87f51fee3de9c53b94d93f6d61"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a28bdcf87f51fee3de9c53b94d93f6d61">_time_connection_lost</a></td></tr>
<tr class="memdesc:a28bdcf87f51fee3de9c53b94d93f6d61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the time (seconds since the Epoch, UTC) when an active connection was lost.  <a href="#a28bdcf87f51fee3de9c53b94d93f6d61">More...</a><br/></td></tr>
<tr class="separator:a28bdcf87f51fee3de9c53b94d93f6d61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f8739c7d680d3803394fb8abc1f27bb"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a3f8739c7d680d3803394fb8abc1f27bb">_starting_msgs_outbound</a></td></tr>
<tr class="memdesc:a3f8739c7d680d3803394fb8abc1f27bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the starting count of connectionStatus-&gt;msgOutbound for this connection.  <a href="#a3f8739c7d680d3803394fb8abc1f27bb">More...</a><br/></td></tr>
<tr class="separator:a3f8739c7d680d3803394fb8abc1f27bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1bc4b5f555486f2e08a0782984a9460f"><td class="memItemLeft" align="right" valign="top">long&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a1bc4b5f555486f2e08a0782984a9460f">_starting_msgs_confirmed</a></td></tr>
<tr class="memdesc:a1bc4b5f555486f2e08a0782984a9460f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the starting count of connectionStatus-&gt;msgConfirmed for this connection.  <a href="#a1bc4b5f555486f2e08a0782984a9460f">More...</a><br/></td></tr>
<tr class="separator:a1bc4b5f555486f2e08a0782984a9460f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87acb4afc082e1e6b284dea44452de5c"><td class="memItemLeft" align="right" valign="top">const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a87acb4afc082e1e6b284dea44452de5c">_SHORT_TIMER_MSECS</a> = 2000</td></tr>
<tr class="memdesc:a87acb4afc082e1e6b284dea44452de5c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Short Time interval for the _realtime_timer, set to 2s (in msec).  <a href="#a87acb4afc082e1e6b284dea44452de5c">More...</a><br/></td></tr>
<tr class="separator:a87acb4afc082e1e6b284dea44452de5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf17549feeee06ce04b68e7815d41d32"><td class="memItemLeft" align="right" valign="top">const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#aaf17549feeee06ce04b68e7815d41d32">_RETRY_TIMER_MSECS</a> = 1 * 60 * 1000</td></tr>
<tr class="memdesc:aaf17549feeee06ce04b68e7815d41d32"><td class="mdescLeft">&#160;</td><td class="mdescRight">Long <a class="el" href="../../dd/d68/classCIotDeviceClient.html#ac088663bab4b0ddec2c4c60bbc605166" title="Attempt to open the Azure IoT Hub connection. ">connect()</a> Retry Time interval for the _realtime_timer, set to 1min (in msec).  <a href="#aaf17549feeee06ce04b68e7815d41d32">More...</a><br/></td></tr>
<tr class="separator:aaf17549feeee06ce04b68e7815d41d32"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7cf2caea8ceaa555d5b8a1a0c40d7cb"><td class="memItemLeft" align="right" valign="top">px::CWallTime&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#ad7cf2caea8ceaa555d5b8a1a0c40d7cb">_last_realtime</a></td></tr>
<tr class="memdesc:ad7cf2caea8ceaa555d5b8a1a0c40d7cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the time of the last realtime update.  <a href="#ad7cf2caea8ceaa555d5b8a1a0c40d7cb">More...</a><br/></td></tr>
<tr class="separator:ad7cf2caea8ceaa555d5b8a1a0c40d7cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeca852e4198e1aac4917eb121d948f59"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#aeca852e4198e1aac4917eb121d948f59">realtime_cadence</a></td></tr>
<tr class="memdesc:aeca852e4198e1aac4917eb121d948f59"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the cadence at which the realtime updates will be sent.  <a href="#aeca852e4198e1aac4917eb121d948f59">More...</a><br/></td></tr>
<tr class="separator:aeca852e4198e1aac4917eb121d948f59"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6fd0993d6e56008b6fc635a2fa49ebf"><td class="memItemLeft" align="right" valign="top">const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#aa6fd0993d6e56008b6fc635a2fa49ebf">DO_WORK_INTERVAL_SECS</a> = 10</td></tr>
<tr class="memdesc:aa6fd0993d6e56008b6fc635a2fa49ebf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the time between calls for DoWork processing.  <a href="#aa6fd0993d6e56008b6fc635a2fa49ebf">More...</a><br/></td></tr>
<tr class="separator:aa6fd0993d6e56008b6fc635a2fa49ebf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9fbd1e7ecd7721f802e1c72b80a05df0"><td class="memItemLeft" align="right" valign="top">const unsigned int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a9fbd1e7ecd7721f802e1c72b80a05df0">_VERY_SHORT_TIMER_MSECS</a> = 2</td></tr>
<tr class="memdesc:a9fbd1e7ecd7721f802e1c72b80a05df0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Very Short Time interval for the _realtime_timer, just enough to give the rest of the ASIO system a chance to run.  <a href="#a9fbd1e7ecd7721f802e1c72b80a05df0">More...</a><br/></td></tr>
<tr class="separator:a9fbd1e7ecd7721f802e1c72b80a05df0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9ddf12656440f6c136a7bf915acef7b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#aa9ddf12656440f6c136a7bf915acef7b">sent_all_realtimes_this_interval</a></td></tr>
<tr class="memdesc:aa9ddf12656440f6c136a7bf915acef7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal flag used to limit the "send real-times as trends" or all real-times messages to only once per trend interval.  <a href="#aa9ddf12656440f6c136a7bf915acef7b">More...</a><br/></td></tr>
<tr class="separator:aa9ddf12656440f6c136a7bf915acef7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ba08650da357c05797baf80a110e728"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a3ba08650da357c05797baf80a110e728">sent_trends_this_interval</a></td></tr>
<tr class="memdesc:a3ba08650da357c05797baf80a110e728"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal flag used to limit the publishing of trends messages to only once per trend interval.  <a href="#a3ba08650da357c05797baf80a110e728">More...</a><br/></td></tr>
<tr class="separator:a3ba08650da357c05797baf80a110e728"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad55e69a9326a64301a909a3882ea3a06"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#ad55e69a9326a64301a909a3882ea3a06">_suspended</a></td></tr>
<tr class="memdesc:ad55e69a9326a64301a909a3882ea3a06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal flag used indicate that we have reached the IoT HUb daily message limit, and the IoT Hub has suspended us from publishing messages.  <a href="#ad55e69a9326a64301a909a3882ea3a06">More...</a><br/></td></tr>
<tr class="separator:ad55e69a9326a64301a909a3882ea3a06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a461cba63fbb984f7eaa2957782652ca4"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a461cba63fbb984f7eaa2957782652ca4">CONNECTION_OPEN_MSG</a> = &quot;Connected to IoT Hub&quot;</td></tr>
<tr class="memdesc:a461cba63fbb984f7eaa2957782652ca4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Text of a Session Log message used when we have opened an IoT Connection.  <a href="#a461cba63fbb984f7eaa2957782652ca4">More...</a><br/></td></tr>
<tr class="separator:a461cba63fbb984f7eaa2957782652ca4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a125b035382831ca7aaf5e72a58f8a69c"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d68/classCIotDeviceClient.html#a125b035382831ca7aaf5e72a58f8a69c">CONNECTION_CLOSE_MSG</a> = &quot;Closing IoT Connection&quot;</td></tr>
<tr class="memdesc:a125b035382831ca7aaf5e72a58f8a69c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Text of a Session Log message used when closing an active IoT Connection.  <a href="#a125b035382831ca7aaf5e72a58f8a69c">More...</a><br/></td></tr>
<tr class="separator:a125b035382831ca7aaf5e72a58f8a69c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Actor that creates a Client IoT Device client and manages its connection to the Azure IoT Hub. </p>
<p>This class provides the Actor functionality that can be added to the CIoManager for ASIO integration while linking in the Azure libraries and interfacing through the Eaton IoT Device SDK. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00068">68</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a57d4e9607606f259a2a1e857e7710f08"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dd/d68/classCIotDeviceClient.html#a57d4e9607606f259a2a1e857e7710f08">CIotDeviceClient::client_states</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a57d4e9607606f259a2a1e857e7710f08a21a2f6a99ec8957f80434fafa67d8b8e"></a>CONNECTING</em>&nbsp;</td><td class="fielddoc">
<p>The initial state: used when connecting. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a57d4e9607606f259a2a1e857e7710f08ae6ac22799d8a598eec8258c9c3ede27a"></a>SEND_ALL</em>&nbsp;</td><td class="fielddoc">
<p>Send the Device Tree, and all Device Real-time States, Values, and Trends. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a57d4e9607606f259a2a1e857e7710f08a10def6163ba04eb05deb60ed20e33d98"></a>SEND_DEV_TREE</em>&nbsp;</td><td class="fielddoc">
<p>Send the Device Tree and all Device Real-time States. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a57d4e9607606f259a2a1e857e7710f08ae83932b5f800f9e774aad6b43b87fa4e"></a>SEND_REALTIMES</em>&nbsp;</td><td class="fielddoc">
<p>Send all Device Real-time States, Values, and Trends. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a57d4e9607606f259a2a1e857e7710f08a0d35c217a509f5b389661c6bb9150f07"></a>SEND_DEV_RT_STATES</em>&nbsp;</td><td class="fielddoc">
<p>Send the Device Real-time States. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a57d4e9607606f259a2a1e857e7710f08a9d48e4224fb61b80de73ede64105382f"></a>SEND_CH_RT_TRENDS</em>&nbsp;</td><td class="fielddoc">
<p>Send both the Real-Times Values and Trends for the Channels. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a57d4e9607606f259a2a1e857e7710f08a01b21cc13c2ed9d9f5dc446a154515cd"></a>SEND_CH_RT_VALUES</em>&nbsp;</td><td class="fielddoc">
<p>Send the Channel Real-Time Values, and maybe the Trends. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a57d4e9607606f259a2a1e857e7710f08ad666af754c198d06db53bc50b30843b0"></a>CONNECTION_FAILED</em>&nbsp;</td><td class="fielddoc">
<p>An attempt to Connect failed, but not fatally; retry later after a long pause. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a57d4e9607606f259a2a1e857e7710f08aec89d5896a1f85d791e84a48a1ed515d"></a>DO_EXIT</em>&nbsp;</td><td class="fielddoc">
<p>A fatal connection problem occurred and we must exit. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a57d4e9607606f259a2a1e857e7710f08a33b479d657624dc2f0b335a9a742c0b7"></a>DO_RECONNECT</em>&nbsp;</td><td class="fielddoc">
<p>Close the connection and try to re-open after a short delay. </p>
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a57d4e9607606f259a2a1e857e7710f08a6313fd70e03240971c1d13639dcffe03"></a>IN_NET_DIAGS</em>&nbsp;</td><td class="fielddoc">
<p>In the state where net diagnostics are currently in progress, and there is no connection. </p>
</td></tr>
</table>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00284">284</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aca80b6e04cedac4d0340ccffddb56e45"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CIotDeviceClient::CIotDeviceClient </td>
          <td>(</td>
          <td class="paramtype">px::asio::CIoManager &amp;&#160;</td>
          <td class="paramname"><em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../db/d77/classCIotAgentCore.html">CIotAgentCore</a> &gt;&#160;</td>
          <td class="paramname"><em>iot_core</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor to create this Actor instance and add it to the Manager. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">manager</td><td>The ASIO Manager for this application. </td></tr>
    <tr><td class="paramname">iot_core</td><td>The "core" class that manages the ASIO stages. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l00035">35</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0c9200d4e190ae553db7246c36f939d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CIotDeviceClient::~CIotDeviceClient </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default Xtor. </p>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l00060">60</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a0c9200d4e190ae553db7246c36f939d3_cgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a0c9200d4e190ae553db7246c36f939d3_cgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a0c9200d4e190ae553db7246c36f939d3_cgraph" id="dd/d68/classCIotDeviceClient_a0c9200d4e190ae553db7246c36f939d3_cgraph">
<area shape="rect" id="node2" href="../../db/db5/classTrendManager.html#aea0fdfcf410dc5a8ccd2fa2cd994e6fa" title="Utility that lets the calling application request the running trend catchup thread to stop..." alt="" coords="199,5,369,46"/><area shape="rect" id="node3" href="../../d4/dd8/classBlobUploadManager.html#a9764e96da86d3edf8a1292a42ef88462" title="Utility that lets the calling application request the running blob upload thread to stop..." alt="" coords="203,70,365,111"/><area shape="rect" id="node4" href="../../dd/d68/classCIotDeviceClient.html#a6ee7d2a5df5d6a89abee96ff9ab2229d" title="Implementation of the CIoActor method to gracefully close this connection. " alt="" coords="197,136,371,163"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a20352e404497ab3b8f107dadddd83df7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">px::proto::IotAgentErrorStateEnums CIotDeviceClient::initialize </td>
          <td>(</td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>error_reason</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize this client and setup the CDS callbacks and message handlers, and kick off device discovery. </p>
<p>Does not attempt to open the connection yet.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error_reason</td><td>Text statement of the reason for any error - May be blank on success (no error).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Any error code from the attempt to initialize - will be IOT_NO_ERROR on success. </dd></dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l00089">89</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a20352e404497ab3b8f107dadddd83df7_cgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a20352e404497ab3b8f107dadddd83df7_cgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a20352e404497ab3b8f107dadddd83df7_cgraph" id="dd/d68/classCIotDeviceClient_a20352e404497ab3b8f107dadddd83df7_cgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#a1d5caa93bbe9bf8ae396796fd5b29cdc" title="Callback invoked by CdsHandler when a Device is added (or discovered). " alt="" coords="249,5,442,46"/><area shape="rect" id="node6" href="../../dd/d68/classCIotDeviceClient.html#a599b1389d240022c14b03437d3ab43c2" title="Callback invoked by CdsHandler when an existing Device is updated. " alt="" coords="249,201,442,242"/><area shape="rect" id="node8" href="../../dd/d68/classCIotDeviceClient.html#a8e205d4c1ccf4497b49a527f84635f8f" title="Callback invoked by CdsHandler when a Device is about to be removed from our map. ..." alt="" coords="249,266,442,307"/><area shape="rect" id="node10" href="../../dd/d68/classCIotDeviceClient.html#aa90dd3f0c575294f26cd3f23ed304337" title="Callback invoked by CdsHandler when a Device state is updated. " alt="" coords="249,70,442,111"/><area shape="rect" id="node11" href="../../dd/d68/classCIotDeviceClient.html#a8a9607414b185ad47c87d7b17e1667e0" title="Application callback invoked by CdsHandler when it gets the ChannelSettings for a device..." alt="" coords="249,135,442,177"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#ae1aa3bf442ed4c67007411ef0477c002" title="Checks if this device is of a supported type for IoT Agent Devices. " alt="" coords="495,135,675,177"/><area shape="rect" id="node4" href="../../d2/d55/classCIotDataDevice.html#a9babe8eda9b75a18957c3cb9bf0dbd95" title="Factory function to create a new CIotDataDevice instance and return it in a shared_ptr. " alt="" coords="499,70,672,111"/><area shape="rect" id="node5" href="../../d2/d55/classCIotDataDevice.html#a8f4c590cbda3c9182d18fe5fa59b77b7" title="Constructor for an IoT Device instance (though not assigned to a specific device yet). " alt="" coords="728,70,917,111"/><area shape="rect" id="node7" href="../../dd/d68/classCIotDeviceClient.html#a8c0885ca901a8588ca31c0bd1809e3a6" title="Request a new client_state action. " alt="" coords="491,201,679,242"/><area shape="rect" id="node9" href="../../dd/d68/classCIotDeviceClient.html#a47b6924adc4e4c501854573b5bdfda1b" title="Lookup a Device instance in our map of devices, using its CDS Device ID. " alt="" coords="494,266,677,307"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac088663bab4b0ddec2c4c60bbc605166"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::tuple&lt; px::proto::IotConnectionStatusEnums, px::proto::IotAgentErrorStateEnums, const char * &gt; CIotDeviceClient::connect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attempt to open the Azure IoT Hub connection. </p>
<p>Will set the next _client_state and update the IotConnectionStatus OOB if any definitive errors occur.</p>
<dl class="section return"><dt>Returns</dt><dd>A tuple containing the following items: 1) The status of the connection attempt; will be IOT_CONNECTING normally on success. 2) Any error code from the attempt to connect; will be IOT_NO_ERROR on success. 3) Text statement of the reason for any error; may be blank on success (no error). The text pointed to will be static strings that do not need to be freed. </dd></dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l00153">153</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_ac088663bab4b0ddec2c4c60bbc605166_cgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_ac088663bab4b0ddec2c4c60bbc605166_cgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_ac088663bab4b0ddec2c4c60bbc605166_cgraph" id="dd/d68/classCIotDeviceClient_ac088663bab4b0ddec2c4c60bbc605166_cgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ab49100be4e2dc5ef53115fbdafb55f94" title="Determines the current connection status via the Eaton Device SDK. " alt="" coords="246,129,423,170"/><area shape="rect" id="node13" href="../../dd/d68/classCIotDeviceClient.html#a6ee7d2a5df5d6a89abee96ff9ab2229d" title="Implementation of the CIoActor method to gracefully close this connection. " alt="" coords="248,195,421,221"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#a29c4eabffb2ab515d512423e2cce50a1" title="Convert the given IOT_DEVICE_ERROR_CODES enum to the equivalent protobuf error code, and add a descriptive text message. " alt="" coords="473,217,639,258"/><area shape="rect" id="node14" href="../../d0/dab/iot__device__client_8hpp.html#a8811cede3fab902cb98ffec5aa0b3634" title="C&#45;code Callback function to interface to CIotDeviceClient::iot_connection_status_callback(). " alt="" coords="253,297,417,338"/><area shape="rect" id="node15" href="../../d0/dab/iot__device__client_8hpp.html#a4a3fae5d7f486c0adb3731f0f14f9dbc" title="C&#45;code Callback function to receive Cloud&#45;to&#45;Device Device Command requests. " alt="" coords="253,362,417,403"/><area shape="rect" id="node16" href="../../d0/dab/iot__device__client_8hpp.html#aef3529735f4b1778f12ed8bde92497f6" title="C&#45;code Callback function to interface to CIotDeviceClient::iot_message_done_callback(). " alt="" coords="259,427,411,469"/><area shape="rect" id="node4" href="../../dd/d68/classCIotDeviceClient.html#adb2e4268d80323e508cc574786893dd4" title="Execute tasks necessary now that we have achieved a connection. " alt="" coords="481,129,631,170"/><area shape="rect" id="node5" href="../../d4/dd8/classBlobUploadManager.html#aa7e833a162791d802ca935108e8b6df9" title="Initialize the blob upload manager with the catchup of pending blob uploads if any due to interruptio..." alt="" coords="711,12,894,39"/><area shape="rect" id="node7" href="../../db/db5/classTrendManager.html#a16082f6956668d1489a9e128a2807079" title="Check our set of sent trend msgs to see if any remain unacknowledged. " alt="" coords="688,63,917,105"/><area shape="rect" id="node8" href="../../db/db5/classTrendManager.html#a86298c2045b5cab49f9c32845d839f55" title="Getter for the awaiting_ack_timestamp, so we can see what the timestamp of the pending result is..." alt="" coords="700,129,905,170"/><area shape="rect" id="node9" href="../../db/db5/classTrendManager.html#a53ff5abcfdc0cb4e1c9937c347eb11ff" title="Getter for the catchup_thread_is_launched flag. " alt="" coords="707,194,898,235"/><area shape="rect" id="node10" href="../../d3/dbd/group__iot__threading.html#ga8f28359ff760cfd4baa8edfa4e8c31d9" title="Launches the thread that does the trend catchup operations. " alt="" coords="721,259,885,301"/><area shape="rect" id="node6" href="../../d4/dd8/classBlobUploadManager.html#a2fb71393c8eb30b47686d3666ff89548" title="Carry out the catchup for blob uploads Go through the OOBs present on the device for blob uploads and..." alt="" coords="989,5,1150,46"/><area shape="rect" id="node11" href="../../db/db5/classTrendManager.html#a736299ff7bcdcd1d6f4baa36610c0c27" title="This is the task that does the trend catchup. " alt="" coords="966,267,1173,293"/><area shape="rect" id="node12" href="../../db/db5/classTrendManager.html#a74f9c2322b80a2bc6906b94c1a580b29" title="Build the IOT_DATA_TREND_ITEM messages for all devices, using the latest, or requested time..." alt="" coords="1221,259,1392,301"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_ac088663bab4b0ddec2c4c60bbc605166_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_ac088663bab4b0ddec2c4c60bbc605166_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_ac088663bab4b0ddec2c4c60bbc605166_icgraph" id="dd/d68/classCIotDeviceClient_ac088663bab4b0ddec2c4c60bbc605166_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca" title="Called by the core&#39;s update timer to manage next state / action. " alt="" coords="246,5,429,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a29c4eabffb2ab515d512423e2cce50a1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::proto::IotAgentErrorStateEnums CIotDeviceClient::sdk_to_protobuf_err_code </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iot_error_code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char **&#160;</td>
          <td class="paramname"><em>error_reason</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert the given IOT_DEVICE_ERROR_CODES enum to the equivalent protobuf error code, and add a descriptive text message. </p>
<p>This static function maps all the codes, even though some should never happen for a Linux Toolkit implementation.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">iot_error_code</td><td>The error code from the IoT Device SDK, of type IOT_DEVICE_ERROR_CODES. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">error_reason</td><td>Text statement of the reason for any error; may be blank on success (no error).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The protobuf error code corresponding to the SDK's iot_error_code; will be IOT_NO_ERROR on success. </dd></dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l00372">372</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a29c4eabffb2ab515d512423e2cce50a1_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a29c4eabffb2ab515d512423e2cce50a1_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a29c4eabffb2ab515d512423e2cce50a1_icgraph" id="dd/d68/classCIotDeviceClient_a29c4eabffb2ab515d512423e2cce50a1_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ac088663bab4b0ddec2c4c60bbc605166" title="Attempt to open the Azure IoT Hub connection. " alt="" coords="449,5,639,32"/><area shape="rect" id="node4" href="../../dd/d68/classCIotDeviceClient.html#ab49100be4e2dc5ef53115fbdafb55f94" title="Determines the current connection status via the Eaton Device SDK. " alt="" coords="222,49,399,90"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca" title="Called by the core&#39;s update timer to manage next state / action. " alt="" coords="689,23,871,65"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6ee7d2a5df5d6a89abee96ff9ab2229d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CIotDeviceClient::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implementation of the CIoActor method to gracefully close this connection. </p>
<p>Will close the client connection and remove ourself from the IoManager. </p>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l00433">433</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a6ee7d2a5df5d6a89abee96ff9ab2229d_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a6ee7d2a5df5d6a89abee96ff9ab2229d_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a6ee7d2a5df5d6a89abee96ff9ab2229d_icgraph" id="dd/d68/classCIotDeviceClient_a6ee7d2a5df5d6a89abee96ff9ab2229d_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#a0c9200d4e190ae553db7246c36f939d3" title="Default Xtor. " alt="" coords="251,5,394,46"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#ac088663bab4b0ddec2c4c60bbc605166" title="Attempt to open the Azure IoT Hub connection. " alt="" coords="227,71,418,97"/><area shape="rect" id="node4" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca" title="Called by the core&#39;s update timer to manage next state / action. " alt="" coords="467,89,650,130"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac3e59938659409ee0adee10292047aca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CIotDeviceClient::handle_timer_update </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>tnow_secs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>next_msec_timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Called by the core's update timer to manage next state / action. </p>
<p>This update will drive this object's state machine, and usually cause this handler to publish some data. Once through the initialization steps, will normally just publish the R-T values.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tnow_secs</td><td>The timestamp for "now", in seconds since the 1970 epoch. </td></tr>
    <tr><td class="paramname">next_msec_timeout</td><td>The timeout value that the update timer will next use. This handler has the option to change that timeout, if it needs a different value (ie, shorter). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l00784">784</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_ac3e59938659409ee0adee10292047aca_cgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_ac3e59938659409ee0adee10292047aca_cgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_ac3e59938659409ee0adee10292047aca_cgraph" id="dd/d68/classCIotDeviceClient_ac3e59938659409ee0adee10292047aca_cgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#a6ee7d2a5df5d6a89abee96ff9ab2229d" title="Implementation of the CIoActor method to gracefully close this connection. " alt="" coords="563,5,736,32"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#ac088663bab4b0ddec2c4c60bbc605166" title="Attempt to open the Azure IoT Hub connection. " alt="" coords="274,195,465,221"/><area shape="rect" id="node18" href="../../dd/d68/classCIotDeviceClient.html#a52896f53787259c34d10a3f0dac7eb6a" title="When the Net Diagnostic task (thread) is done, this function is called to get and process the result..." alt="" coords="278,471,461,513"/><area shape="rect" id="node4" href="../../dd/d68/classCIotDeviceClient.html#ab49100be4e2dc5ef53115fbdafb55f94" title="Determines the current connection status via the Eaton Device SDK. " alt="" coords="561,57,738,98"/><area shape="rect" id="node19" href="../../dd/d68/classCIotDeviceClient.html#a88f14cdca116cb11cdb757027f16edfd" title="Build the DEVICE_TREE structure and publish it to the IoT Hub. " alt="" coords="284,537,455,578"/><area shape="rect" id="node24" href="../../dd/d68/classCIotDeviceClient.html#abcefb86bc559d989da0b410ef74f61d0" title="Build the IOT_DATA_DEVICES_REALTIME_ITEM message (device states) for just the Publisher device..." alt="" coords="276,733,463,774"/><area shape="rect" id="node26" href="../../dd/d68/classCIotDeviceClient.html#a64879bbe10f07d18703bc7348bab4e7d" title="Build the IOT_DATA_CHANNEL_REALTIMES_ITEM messages for all devices, using all available channel real&#45;..." alt="" coords="273,667,465,709"/><area shape="rect" id="node14" href="../../db/db5/classTrendManager.html#a74f9c2322b80a2bc6906b94c1a580b29" title="Build the IOT_DATA_TREND_ITEM messages for all devices, using the latest, or requested time..." alt="" coords="1547,369,1717,410"/><area shape="rect" id="node27" href="../../dd/d68/classCIotDeviceClient.html#ab796e9a697a09ca3863a9f2f453f5b61" title="Get the connection status for this SDK connection, and update the IoT Status OOB with the latest coun..." alt="" coords="277,798,461,839"/><area shape="rect" id="node28" href="../../dd/d68/classCIotDeviceClient.html#a8f8f68fa4e0e62fed9980e911a3d761f" title="Check the confirmed message count, and if too many messages have been sent without being confirmed..." alt="" coords="281,863,458,905"/><area shape="rect" id="node29" href="../../dd/d68/classCIotDeviceClient.html#adcd74e1ab4451a77cb62b2d55213da32" title="Check the current time against the desired cadence, and see if it is time to publish real&#45;times or tr..." alt="" coords="281,929,458,970"/><area shape="rect" id="node30" href="../../dd/d68/classCIotDeviceClient.html#abb176b2927c901efa0a2ea9fb170019c" title="Build the IOT_DATA_TREND_ITEM messages for all devices, sending just the &quot;actual&quot; values of the lates..." alt="" coords="238,602,501,643"/><area shape="rect" id="node11" href="../../db/db5/classTrendManager.html#a53ff5abcfdc0cb4e1c9937c347eb11ff" title="Getter for the catchup_thread_is_launched flag. " alt="" coords="1033,354,1223,395"/><area shape="rect" id="node31" href="../../db/db5/classTrendManager.html#a8f7bdc0d6c667d45616e393c98757c25" title="Utility to check to see if the trend catchup task (thread) is done. " alt="" coords="570,979,729,1021"/><area shape="rect" id="node32" href="../../db/db5/classTrendManager.html#a7e15b25e9a49db85a53aad57bd309053" title="Get the results of the trend catchup thread, once it is done executing. " alt="" coords="273,995,466,1021"/><area shape="rect" id="node33" href="../../d4/dd8/classBlobUploadManager.html#a725e245abeb217c46613575590c2e18a" title="Execute the blob upload operation by launching a thread for all the pending blob uploads. " alt="" coords="289,1111,450,1153"/><area shape="rect" id="node41" href="../../dd/d68/classCIotDeviceClient.html#acc09aab2e6e369085fa6b2686f00836b" title="Check if the IoT connection status indicates we have reached the IoT Hub maximum daily message limit..." alt="" coords="281,1177,458,1218"/><area shape="rect" id="node5" href="../../dd/d68/classCIotDeviceClient.html#a29c4eabffb2ab515d512423e2cce50a1" title="Convert the given IOT_DEVICE_ERROR_CODES enum to the equivalent protobuf error code, and add a descriptive text message. " alt="" coords="798,263,965,305"/><area shape="rect" id="node15" href="../../d0/dab/iot__device__client_8hpp.html#a8811cede3fab902cb98ffec5aa0b3634" title="C&#45;code Callback function to interface to CIotDeviceClient::iot_connection_status_callback(). " alt="" coords="567,187,731,229"/><area shape="rect" id="node16" href="../../d0/dab/iot__device__client_8hpp.html#a4a3fae5d7f486c0adb3731f0f14f9dbc" title="C&#45;code Callback function to receive Cloud&#45;to&#45;Device Device Command requests. " alt="" coords="567,253,731,294"/><area shape="rect" id="node17" href="../../d0/dab/iot__device__client_8hpp.html#aef3529735f4b1778f12ed8bde92497f6" title="C&#45;code Callback function to interface to CIotDeviceClient::iot_message_done_callback(). " alt="" coords="573,122,725,163"/><area shape="rect" id="node6" href="../../dd/d68/classCIotDeviceClient.html#adb2e4268d80323e508cc574786893dd4" title="Execute tasks necessary now that we have achieved a connection. " alt="" coords="806,191,957,233"/><area shape="rect" id="node7" href="../../d4/dd8/classBlobUploadManager.html#aa7e833a162791d802ca935108e8b6df9" title="Initialize the blob upload manager with the catchup of pending blob uploads if any due to interruptio..." alt="" coords="1037,107,1219,133"/><area shape="rect" id="node9" href="../../db/db5/classTrendManager.html#a16082f6956668d1489a9e128a2807079" title="Check our set of sent trend msgs to see if any remain unacknowledged. " alt="" coords="1013,158,1243,199"/><area shape="rect" id="node10" href="../../db/db5/classTrendManager.html#a86298c2045b5cab49f9c32845d839f55" title="Getter for the awaiting_ack_timestamp, so we can see what the timestamp of the pending result is..." alt="" coords="1025,223,1231,265"/><area shape="rect" id="node12" href="../../d3/dbd/group__iot__threading.html#ga8f28359ff760cfd4baa8edfa4e8c31d9" title="Launches the thread that does the trend catchup operations. " alt="" coords="1046,289,1210,330"/><area shape="rect" id="node8" href="../../d4/dd8/classBlobUploadManager.html#a2fb71393c8eb30b47686d3666ff89548" title="Carry out the catchup for blob uploads Go through the OOBs present on the device for blob uploads and..." alt="" coords="1314,99,1475,141"/><area shape="rect" id="node13" href="../../db/db5/classTrendManager.html#a736299ff7bcdcd1d6f4baa36610c0c27" title="This is the task that does the trend catchup. " alt="" coords="1291,332,1498,359"/><area shape="rect" id="node20" href="../../dd/d68/classCIotDeviceClient.html#a747f810cc21e41b3e81ffa6059b3c4e5" title="Add a device (and its subdevices) to the Device Tree structure. " alt="" coords="564,537,735,578"/><area shape="rect" id="node23" href="../../dd/d68/classCIotDeviceClient.html#af3a13c25b90d751365022268c6adb7e5" title="Convenience function to log to syslog output and &quot;device comms&quot; log. " alt="" coords="570,602,729,643"/><area shape="rect" id="node21" href="../../dd/d68/classCIotDeviceClient.html#ace40ba7e12cab369c87e1d01bfc24b48" title="Add a child device (and its subdevices) to the parent device&#39;s DeviceTree structure, whether or not the indicated device is &quot;valid&quot;. " alt="" coords="800,547,963,603"/><area shape="rect" id="node22" href="../../dd/d68/classCIotDeviceClient.html#a47b6924adc4e4c501854573b5bdfda1b" title="Lookup a Device instance in our map of devices, using its CDS Device ID. " alt="" coords="1037,586,1219,627"/><area shape="rect" id="node25" href="../../dd/d68/classCIotDeviceClient.html#ae984c52721231fe663d3941edb9765b5" title="Initialize the IOT_DATA structure for the given device and Type of message, and return the pointer to..." alt="" coords="552,667,747,709"/><area shape="rect" id="node34" href="../../d3/dbd/group__iot__threading.html#ga6bde31c4e391be69e5ea63950f5f6089" title="Launches the thread that does the blob upload operations. " alt="" coords="549,1045,749,1086"/><area shape="rect" id="node37" href="../../d4/dd8/classBlobUploadManager.html#aad4ca922ec163d493621767f1b75b61d" title="Getter for the blob_upload_thread_is_launched flag. " alt="" coords="565,1111,733,1167"/><area shape="rect" id="node38" href="../../d4/dd8/classBlobUploadManager.html#afaa509709143d8f6541b5299f25710ef" title="Get the results of the blob upload thread, once it is done executing. " alt="" coords="569,1191,730,1233"/><area shape="rect" id="node40" href="../../d4/dd8/classBlobUploadManager.html#aaac64b7603394c6b94ecaa1056fec9fb" title="Handle the response/status update to be sent to the application via the OOB. " alt="" coords="556,1257,743,1298"/><area shape="rect" id="node35" href="../../d4/dd8/classBlobUploadManager.html#ab28da64518c66f2594e3c10ecd6fbceb" title="This is the task that does the blob upload. " alt="" coords="801,1045,962,1086"/><area shape="rect" id="node36" href="../../d4/dd8/classBlobUploadManager.html#ab4e78ce3c4e0fbcda95fd9956c9f0e9c" title="Function to read the contents of the file to be uploaded. " alt="" coords="1047,1045,1209,1086"/><area shape="rect" id="node39" href="../../d4/dd8/classBlobUploadManager.html#ab1f2661900480aa5af5b6efae516d159" title="Utility to check to see if the blob upload task (thread) is done. " alt="" coords="801,1191,962,1233"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a88f14cdca116cb11cdb757027f16edfd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CIotDeviceClient::build_send_device_tree </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build the DEVICE_TREE structure and publish it to the IoT Hub. </p>
<dl class="section return"><dt>Returns</dt><dd>True if published DT message was successfully processed, else False. </dd></dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l01084">1084</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a88f14cdca116cb11cdb757027f16edfd_cgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a88f14cdca116cb11cdb757027f16edfd_cgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a88f14cdca116cb11cdb757027f16edfd_cgraph" id="dd/d68/classCIotDeviceClient_a88f14cdca116cb11cdb757027f16edfd_cgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#a747f810cc21e41b3e81ffa6059b3c4e5" title="Add a device (and its subdevices) to the Device Tree structure. " alt="" coords="224,13,395,54"/><area shape="rect" id="node5" href="../../dd/d68/classCIotDeviceClient.html#af3a13c25b90d751365022268c6adb7e5" title="Convenience function to log to syslog output and &quot;device comms&quot; log. " alt="" coords="230,78,389,119"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#ace40ba7e12cab369c87e1d01bfc24b48" title="Add a child device (and its subdevices) to the parent device&#39;s DeviceTree structure, whether or not the indicated device is &quot;valid&quot;. " alt="" coords="443,5,605,61"/><area shape="rect" id="node4" href="../../dd/d68/classCIotDeviceClient.html#a47b6924adc4e4c501854573b5bdfda1b" title="Lookup a Device instance in our map of devices, using its CDS Device ID. " alt="" coords="654,13,837,54"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a88f14cdca116cb11cdb757027f16edfd_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a88f14cdca116cb11cdb757027f16edfd_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a88f14cdca116cb11cdb757027f16edfd_icgraph" id="dd/d68/classCIotDeviceClient_a88f14cdca116cb11cdb757027f16edfd_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca" title="Called by the core&#39;s update timer to manage next state / action. " alt="" coords="225,5,407,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abcefb86bc559d989da0b410ef74f61d0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CIotDeviceClient::publish_device_realtime_state </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build the IOT_DATA_DEVICES_REALTIME_ITEM message (device states) for just the Publisher device, and send it to the Azure IoT Hub. </p>
<p>Note: PX White currently does not process this data, which is part of why we have reduced its functionality to just the publisher, until we devise a better, supported way to express this important data. However, we have found it helpful as a heartbeat message when no other device data is available to publish, and that is why we are retaining it.</p>
<dl class="section return"><dt>Returns</dt><dd>True if successfully built and sent the message, else False. </dd></dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l01265">1265</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_abcefb86bc559d989da0b410ef74f61d0_cgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_abcefb86bc559d989da0b410ef74f61d0_cgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_abcefb86bc559d989da0b410ef74f61d0_cgraph" id="dd/d68/classCIotDeviceClient_abcefb86bc559d989da0b410ef74f61d0_cgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ae984c52721231fe663d3941edb9765b5" title="Initialize the IOT_DATA structure for the given device and Type of message, and return the pointer to..." alt="" coords="240,5,435,46"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#a47b6924adc4e4c501854573b5bdfda1b" title="Lookup a Device instance in our map of devices, using its CDS Device ID. " alt="" coords="483,5,666,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_abcefb86bc559d989da0b410ef74f61d0_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_abcefb86bc559d989da0b410ef74f61d0_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_abcefb86bc559d989da0b410ef74f61d0_icgraph" id="dd/d68/classCIotDeviceClient_abcefb86bc559d989da0b410ef74f61d0_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca" title="Called by the core&#39;s update timer to manage next state / action. " alt="" coords="241,5,423,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a64879bbe10f07d18703bc7348bab4e7d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CIotDeviceClient::publish_channel_realtime_values </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>get_all_channels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::CWallTime &amp;&#160;</td>
          <td class="paramname"><em>last_realtime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build the IOT_DATA_CHANNEL_REALTIMES_ITEM messages for all devices, using all available channel real-time values, and send it to the Azure IoT Hub. </p>
<p>If get_all_channels is true, will publish all channels, else will only publish those changed since "last_realtime" (last time we checked).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">get_all_channels</td><td>Get all channel values, regardless of timestamp </td></tr>
    <tr><td class="paramname">last_realtime</td><td>Time that will be compared to the channel(s) last updated timestamp</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if successfully built and sent the message, else False. </dd></dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l01319">1319</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a64879bbe10f07d18703bc7348bab4e7d_cgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a64879bbe10f07d18703bc7348bab4e7d_cgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a64879bbe10f07d18703bc7348bab4e7d_cgraph" id="dd/d68/classCIotDeviceClient_a64879bbe10f07d18703bc7348bab4e7d_cgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ae984c52721231fe663d3941edb9765b5" title="Initialize the IOT_DATA structure for the given device and Type of message, and return the pointer to..." alt="" coords="245,5,440,46"/><area shape="rect" id="node4" href="../../dd/d68/classCIotDeviceClient.html#af3a13c25b90d751365022268c6adb7e5" title="Convenience function to log to syslog output and &quot;device comms&quot; log. " alt="" coords="263,70,422,111"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#a47b6924adc4e4c501854573b5bdfda1b" title="Lookup a Device instance in our map of devices, using its CDS Device ID. " alt="" coords="489,5,671,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a64879bbe10f07d18703bc7348bab4e7d_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a64879bbe10f07d18703bc7348bab4e7d_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a64879bbe10f07d18703bc7348bab4e7d_icgraph" id="dd/d68/classCIotDeviceClient_a64879bbe10f07d18703bc7348bab4e7d_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca" title="Called by the core&#39;s update timer to manage next state / action. " alt="" coords="246,5,429,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abb176b2927c901efa0a2ea9fb170019c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CIotDeviceClient::publish_channel_realtimes_as_trend_values </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>use_routing</em> = <code>false</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Build the IOT_DATA_TREND_ITEM messages for all devices, sending just the "actual" values of the latest real-time values from all channels, and send it to the Azure IoT Hub. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">use_routing</td><td>Flag that indicates when routing or filtering should be used (TBD). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if successfully built and sent the message for any devices with trend data, else False (eg, if there is no recent trend data or encountered an error). </dd></dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l01395">1395</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_abb176b2927c901efa0a2ea9fb170019c_cgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_abb176b2927c901efa0a2ea9fb170019c_cgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_abb176b2927c901efa0a2ea9fb170019c_cgraph" id="dd/d68/classCIotDeviceClient_abb176b2927c901efa0a2ea9fb170019c_cgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ae984c52721231fe663d3941edb9765b5" title="Initialize the IOT_DATA structure for the given device and Type of message, and return the pointer to..." alt="" coords="317,5,512,46"/><area shape="rect" id="node4" href="../../dd/d68/classCIotDeviceClient.html#af3a13c25b90d751365022268c6adb7e5" title="Convenience function to log to syslog output and &quot;device comms&quot; log. " alt="" coords="335,70,494,111"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#a47b6924adc4e4c501854573b5bdfda1b" title="Lookup a Device instance in our map of devices, using its CDS Device ID. " alt="" coords="561,5,743,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_abb176b2927c901efa0a2ea9fb170019c_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_abb176b2927c901efa0a2ea9fb170019c_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_abb176b2927c901efa0a2ea9fb170019c_icgraph" id="dd/d68/classCIotDeviceClient_abb176b2927c901efa0a2ea9fb170019c_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca" title="Called by the core&#39;s update timer to manage next state / action. " alt="" coords="318,5,501,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a310bb0fb0857e0ec0592078ffca00740"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CIotDeviceClient::make_trend_actuals_list </td>
          <td>(</td>
          <td class="paramtype">SINGLYLINKEDLIST_HANDLE&#160;</td>
          <td class="paramname"><em>channelRealtimes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOT_DATA &amp;&#160;</td>
          <td class="paramname"><em>channelTrendData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>From the list of Real-Time update values, construct a list of Trend updates with each value copied as a Trend Actual value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">channelRealtimes</td><td>The list of Channel Real-Time Update values, with their timestamps. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">channelTrendData</td><td>The message structure for the Trend IoT Data, where this function will create the Trend list and fill it out from the R-T values. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, else False if this failed and the message should not be published. </dd></dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l01494">1494</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae984c52721231fe663d3941edb9765b5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="../../d2/d55/classCIotDataDevice.html">CIotDataDevice</a> &gt; CIotDeviceClient::initialize_iot_data_struct </td>
          <td>(</td>
          <td class="paramtype">px::id_t&#160;</td>
          <td class="paramname"><em>dev_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOT_DATA &amp;&#160;</td>
          <td class="paramname"><em>iot_data_struct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOT_DATA_TYPE&#160;</td>
          <td class="paramname"><em>message_type</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the IOT_DATA structure for the given device and Type of message, and return the pointer to its Device Data. </p>
<p>Will add the device UUID and zero out the structure members.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev_id</td><td>CDS ID of the device whose data we are sending. </td></tr>
    <tr><td class="paramname">iot_data_struct</td><td>Reference to the structure to be initialized. </td></tr>
    <tr><td class="paramname">message_type</td><td>The type of message we will be sending.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the Device data handler for this device on success, else an empty pointer if the lookup of this device failed. </dd></dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l01546">1546</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_ae984c52721231fe663d3941edb9765b5_cgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_ae984c52721231fe663d3941edb9765b5_cgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_ae984c52721231fe663d3941edb9765b5_cgraph" id="dd/d68/classCIotDeviceClient_ae984c52721231fe663d3941edb9765b5_cgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#a47b6924adc4e4c501854573b5bdfda1b" title="Lookup a Device instance in our map of devices, using its CDS Device ID. " alt="" coords="249,5,431,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_ae984c52721231fe663d3941edb9765b5_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_ae984c52721231fe663d3941edb9765b5_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_ae984c52721231fe663d3941edb9765b5_icgraph" id="dd/d68/classCIotDeviceClient_ae984c52721231fe663d3941edb9765b5_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#abcefb86bc559d989da0b410ef74f61d0" title="Build the IOT_DATA_DEVICES_REALTIME_ITEM message (device states) for just the Publisher device..." alt="" coords="287,5,473,46"/><area shape="rect" id="node4" href="../../dd/d68/classCIotDeviceClient.html#a64879bbe10f07d18703bc7348bab4e7d" title="Build the IOT_DATA_CHANNEL_REALTIMES_ITEM messages for all devices, using all available channel real&#45;..." alt="" coords="284,70,476,111"/><area shape="rect" id="node5" href="../../dd/d68/classCIotDeviceClient.html#abb176b2927c901efa0a2ea9fb170019c" title="Build the IOT_DATA_TREND_ITEM messages for all devices, sending just the &quot;actual&quot; values of the lates..." alt="" coords="249,135,511,177"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca" title="Called by the core&#39;s update timer to manage next state / action. " alt="" coords="561,70,743,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a47b6924adc4e4c501854573b5bdfda1b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="../../d2/d55/classCIotDataDevice.html">CIotDataDevice</a> &gt; CIotDeviceClient::lookup_iot_data_device </td>
          <td>(</td>
          <td class="paramtype">px::id_t&#160;</td>
          <td class="paramname"><em>dev_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lookup a Device instance in our map of devices, using its CDS Device ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev_id</td><td>CDS ID of the device we are looking up. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the Device data handler for this device on success, else an empty pointer if the lookup of this device failed. </dd></dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l01566">1566</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a47b6924adc4e4c501854573b5bdfda1b_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a47b6924adc4e4c501854573b5bdfda1b_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a47b6924adc4e4c501854573b5bdfda1b_icgraph" id="dd/d68/classCIotDeviceClient_a47b6924adc4e4c501854573b5bdfda1b_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#a8e205d4c1ccf4497b49a527f84635f8f" title="Callback invoked by CdsHandler when a Device is about to be removed from our map. ..." alt="" coords="238,5,431,46"/><area shape="rect" id="node4" href="../../dd/d68/classCIotDeviceClient.html#ace40ba7e12cab369c87e1d01bfc24b48" title="Add a child device (and its subdevices) to the parent device&#39;s DeviceTree structure, whether or not the indicated device is &quot;valid&quot;. " alt="" coords="253,71,416,127"/><area shape="rect" id="node8" href="../../dd/d68/classCIotDeviceClient.html#ae984c52721231fe663d3941edb9765b5" title="Initialize the IOT_DATA structure for the given device and Type of message, and return the pointer to..." alt="" coords="480,181,675,222"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#a20352e404497ab3b8f107dadddd83df7" title="Initialize this client and setup the CDS callbacks and message handlers, and kick off device discover..." alt="" coords="480,12,675,39"/><area shape="rect" id="node5" href="../../dd/d68/classCIotDeviceClient.html#a747f810cc21e41b3e81ffa6059b3c4e5" title="Add a device (and its subdevices) to the Device Tree structure. " alt="" coords="492,70,663,111"/><area shape="rect" id="node6" href="../../dd/d68/classCIotDeviceClient.html#a88f14cdca116cb11cdb757027f16edfd" title="Build the DEVICE_TREE structure and publish it to the IoT Hub. " alt="" coords="769,59,940,101"/><area shape="rect" id="node7" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca" title="Called by the core&#39;s update timer to manage next state / action. " alt="" coords="1035,158,1218,199"/><area shape="rect" id="node9" href="../../dd/d68/classCIotDeviceClient.html#abcefb86bc559d989da0b410ef74f61d0" title="Build the IOT_DATA_DEVICES_REALTIME_ITEM message (device states) for just the Publisher device..." alt="" coords="761,125,948,166"/><area shape="rect" id="node10" href="../../dd/d68/classCIotDeviceClient.html#a64879bbe10f07d18703bc7348bab4e7d" title="Build the IOT_DATA_CHANNEL_REALTIMES_ITEM messages for all devices, using all available channel real&#45;..." alt="" coords="759,190,951,231"/><area shape="rect" id="node11" href="../../dd/d68/classCIotDeviceClient.html#abb176b2927c901efa0a2ea9fb170019c" title="Build the IOT_DATA_TREND_ITEM messages for all devices, sending just the &quot;actual&quot; values of the lates..." alt="" coords="723,255,986,297"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab796e9a697a09ca3863a9f2f453f5b61"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CIotDeviceClient::update_msg_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the connection status for this SDK connection, and update the IoT Status OOB with the latest count. </p>
<p>We will use the msgConfirmed (Number of message confirmations received from IoT Hub) as our counter in the IoT Status OOB. </p>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l01795">1795</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_ab796e9a697a09ca3863a9f2f453f5b61_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_ab796e9a697a09ca3863a9f2f453f5b61_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_ab796e9a697a09ca3863a9f2f453f5b61_icgraph" id="dd/d68/classCIotDeviceClient_ab796e9a697a09ca3863a9f2f453f5b61_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca" title="Called by the core&#39;s update timer to manage next state / action. " alt="" coords="238,5,421,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a69dcec1f9b44be632e279f1bbc197aae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CIotDeviceClient::cloud_to_device_command_callback </td>
          <td>(</td>
          <td class="paramtype">IOT_DEVICE_HANDLE&#160;</td>
          <td class="paramname"><em>deviceHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const IOT_DEVICE_COMMAND *&#160;</td>
          <td class="paramname"><em>command</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOT_DEVICE_COMMAND_RESPONSE *&#160;</td>
          <td class="paramname"><em>commandResponse</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function to receive Cloud-to-Device device commands. </p>
<p>This function conforms to the template for C2DDeviceCommandCallback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deviceHandle</td><td>A handle to the device connection. </td></tr>
    <tr><td class="paramname">command</td><td>A pointer to the command (refer to iot_device_command). </td></tr>
    <tr><td class="paramname">commandResponse</td><td>A pointer to the response (freed in the cloud). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a60264282b1f57eade8da20d87501e711"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CIotDeviceClient::iot_connection_status_callback </td>
          <td>(</td>
          <td class="paramtype">IOT_DEVICE_HANDLE&#160;</td>
          <td class="paramname"><em>deviceHandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_CLIENT_CONNECTION_STATUS&#160;</td>
          <td class="paramname"><em>statusCode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOTHUB_CLIENT_CONNECTION_STATUS_REASON&#160;</td>
          <td class="paramname"><em>reasonCode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Implementation of the callback to receive change of status for the IoT Hub connection. </p>
<p>For some of the reasonCode cases, it may run the Net Diagnostic tests.</p>
<p>This function has two main effects: it may update the IoT Status OOB, and it may set the _client_state to take effect the next time <a class="el" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca" title="Called by the core&#39;s update timer to manage next state / action. ">handle_timer_update()</a> is called.</p>
<p>This function conforms to the template for ConnectionStatusCallback.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deviceHandle</td><td>A handle to the device connection being addressed; should match our _client_handle member. </td></tr>
    <tr><td class="paramname">statusCode</td><td>The new connection status code (authenticated or not) </td></tr>
    <tr><td class="paramname">reasonCode</td><td>Code for further explanation of the status. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l01586">1586</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a823f6c36794c22f0979d8de180bd1fa2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CIotDeviceClient::iot_message_done_callback </td>
          <td>(</td>
          <td class="paramtype">IOTHUB_CLIENT_CONFIRMATION_RESULT&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">IOT_MESSAGE *&#160;</td>
          <td class="paramname"><em>message</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback to be notified when a message is Done, either in success or failure. </p>
<p>This can be used so we know when a message has been confirmed (on success) or dropped (on failure). This function conforms to the IoT SDK's MessageDoneCallback template.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">result</td><td>The status of the message; one of IOTHUB_CLIENT_CONFIRMATION_OK, _MESSAGE_TIMEOUT, _BECAUSE_DESTROY, or _ERROR (the latter usually meaning that the daily limit has been reached). </td></tr>
    <tr><td class="paramname">message</td><td>The message which has been finished. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l01748">1748</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a823f6c36794c22f0979d8de180bd1fa2_cgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a823f6c36794c22f0979d8de180bd1fa2_cgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a823f6c36794c22f0979d8de180bd1fa2_cgraph" id="dd/d68/classCIotDeviceClient_a823f6c36794c22f0979d8de180bd1fa2_cgraph">
<area shape="rect" id="node2" href="../../dc/d18/iot__agent_8hpp.html#abe7deeee0c2af0fd6aa19027b0a80e30" title="Logging utility which uses sdk_custom_logger, for use by iot_agent code. " alt="" coords="249,5,391,32"/><area shape="rect" id="node3" href="../../db/db5/classTrendManager.html#a4c3c21f9569bbed965ab71e0150c9718" title="Mark a trend message as &quot;done&quot;, from Azure&#39;s PoV, with either success or failure. " alt="" coords="243,57,397,98"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af3a13c25b90d751365022268c6adb7e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CIotDeviceClient::log_results </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>success</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>dev_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>debug_level</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>always_log</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned long&#160;</td>
          <td class="paramname"><em>message_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Convenience function to log to syslog output and "device comms" log. </p>
<p>Will compose a correct message for the type given the result parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>Name of the type of IoT message being reported on. </td></tr>
    <tr><td class="paramname">success</td><td>True if the message succeeded (determines Info vs Warn) </td></tr>
    <tr><td class="paramname">dev_id</td><td>ID of the device for this message </td></tr>
    <tr><td class="paramname">count</td><td>How many items were sent; if 0, will report that none were sent </td></tr>
    <tr><td class="paramname">debug_level</td><td>The debug level to use for success cases </td></tr>
    <tr><td class="paramname">always_log</td><td>Will always log to the Device Comms log if this is true, even on success (Normally we do not log successes, since they will be too numerous for some types of messages) </td></tr>
    <tr><td class="paramname">message_id</td><td>The ID assigned to the message by iot_send(). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l01825">1825</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_af3a13c25b90d751365022268c6adb7e5_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_af3a13c25b90d751365022268c6adb7e5_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_af3a13c25b90d751365022268c6adb7e5_icgraph" id="dd/d68/classCIotDeviceClient_af3a13c25b90d751365022268c6adb7e5_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#a88f14cdca116cb11cdb757027f16edfd" title="Build the DEVICE_TREE structure and publish it to the IoT Hub. " alt="" coords="260,5,431,46"/><area shape="rect" id="node4" href="../../dd/d68/classCIotDeviceClient.html#a64879bbe10f07d18703bc7348bab4e7d" title="Build the IOT_DATA_CHANNEL_REALTIMES_ITEM messages for all devices, using all available channel real&#45;..." alt="" coords="249,70,441,111"/><area shape="rect" id="node5" href="../../dd/d68/classCIotDeviceClient.html#abb176b2927c901efa0a2ea9fb170019c" title="Build the IOT_DATA_TREND_ITEM messages for all devices, sending just the &quot;actual&quot; values of the lates..." alt="" coords="214,135,477,177"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca" title="Called by the core&#39;s update timer to manage next state / action. " alt="" coords="526,70,709,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a11dee66efe27d7107e43e489d3ad3a8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CIotDeviceClient::is_connected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter for the _is_connected flag. </p>
<dl class="section return"><dt>Returns</dt><dd>True if we are connected to Azure. False if not or not yet. </dd></dl>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00593">593</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8c0885ca901a8588ca31c0bd1809e3a6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CIotDeviceClient::request_client_state </td>
          <td>(</td>
          <td class="paramtype">enum <a class="el" href="../../dd/d68/classCIotDeviceClient.html#a57d4e9607606f259a2a1e857e7710f08">client_states</a>&#160;</td>
          <td class="paramname"><em>new_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Request a new client_state action. </p>
<p>For now, just a setter utility, but we may later implement a std::queue to hold requested actions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">new_state</td><td>The new state requested. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success (OK to request), else False on some issue with the request. </dd></dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l02208">2208</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a8c0885ca901a8588ca31c0bd1809e3a6_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a8c0885ca901a8588ca31c0bd1809e3a6_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a8c0885ca901a8588ca31c0bd1809e3a6_icgraph" id="dd/d68/classCIotDeviceClient_a8c0885ca901a8588ca31c0bd1809e3a6_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#a8e205d4c1ccf4497b49a527f84635f8f" title="Callback invoked by CdsHandler when a Device is about to be removed from our map. ..." alt="" coords="243,5,437,46"/><area shape="rect" id="node4" href="../../dd/d68/classCIotDeviceClient.html#aa90dd3f0c575294f26cd3f23ed304337" title="Callback invoked by CdsHandler when a Device state is updated. " alt="" coords="243,70,437,111"/><area shape="rect" id="node5" href="../../dd/d68/classCIotDeviceClient.html#a599b1389d240022c14b03437d3ab43c2" title="Callback invoked by CdsHandler when an existing Device is updated. " alt="" coords="243,135,437,177"/><area shape="rect" id="node6" href="../../dd/d68/classCIotDeviceClient.html#a8a9607414b185ad47c87d7b17e1667e0" title="Application callback invoked by CdsHandler when it gets the ChannelSettings for a device..." alt="" coords="243,201,437,242"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#a20352e404497ab3b8f107dadddd83df7" title="Initialize this client and setup the CDS callbacks and message handlers, and kick off device discover..." alt="" coords="485,111,680,137"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae1aa3bf442ed4c67007411ef0477c002"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CIotDeviceClient::is_supported_device_type </td>
          <td>(</td>
          <td class="paramtype">const px::CDevice &amp;&#160;</td>
          <td class="paramname"><em>px_device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if this device is of a supported type for IoT Agent Devices. </p>
<p>Ie, publisher and device types are, but ports and subdevices are not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">px_device</td><td>The device data from the CDS, including its device_type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if can be mapped to a BACnet Device, else False if not </dd></dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l01807">1807</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_ae1aa3bf442ed4c67007411ef0477c002_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_ae1aa3bf442ed4c67007411ef0477c002_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_ae1aa3bf442ed4c67007411ef0477c002_icgraph" id="dd/d68/classCIotDeviceClient_ae1aa3bf442ed4c67007411ef0477c002_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#a1d5caa93bbe9bf8ae396796fd5b29cdc" title="Callback invoked by CdsHandler when a Device is added (or discovered). " alt="" coords="235,5,429,46"/><area shape="rect" id="node4" href="../../dd/d68/classCIotDeviceClient.html#aa90dd3f0c575294f26cd3f23ed304337" title="Callback invoked by CdsHandler when a Device state is updated. " alt="" coords="235,70,429,111"/><area shape="rect" id="node5" href="../../dd/d68/classCIotDeviceClient.html#a599b1389d240022c14b03437d3ab43c2" title="Callback invoked by CdsHandler when an existing Device is updated. " alt="" coords="235,135,429,177"/><area shape="rect" id="node6" href="../../dd/d68/classCIotDeviceClient.html#a8a9607414b185ad47c87d7b17e1667e0" title="Application callback invoked by CdsHandler when it gets the ChannelSettings for a device..." alt="" coords="235,201,429,242"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#a20352e404497ab3b8f107dadddd83df7" title="Initialize this client and setup the CDS callbacks and message handlers, and kick off device discover..." alt="" coords="477,111,672,137"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1d5caa93bbe9bf8ae396796fd5b29cdc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CIotDeviceClient::callback_add_device </td>
          <td>(</td>
          <td class="paramtype">const px::asio::CCdsDevice &amp;&#160;</td>
          <td class="paramname"><em>container</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback invoked by CdsHandler when a Device is added (or discovered). </p>
<p>Matches the function template for px::asio::CCdsHandler::cds_device_callback_t.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container</td><td>Reference to the map container for the added device. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l00503">503</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a1d5caa93bbe9bf8ae396796fd5b29cdc_cgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a1d5caa93bbe9bf8ae396796fd5b29cdc_cgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a1d5caa93bbe9bf8ae396796fd5b29cdc_cgraph" id="dd/d68/classCIotDeviceClient_a1d5caa93bbe9bf8ae396796fd5b29cdc_cgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ae1aa3bf442ed4c67007411ef0477c002" title="Checks if this device is of a supported type for IoT Agent Devices. " alt="" coords="249,5,429,46"/><area shape="rect" id="node3" href="../../d2/d55/classCIotDataDevice.html#a9babe8eda9b75a18957c3cb9bf0dbd95" title="Factory function to create a new CIotDataDevice instance and return it in a shared_ptr. " alt="" coords="252,70,425,111"/><area shape="rect" id="node4" href="../../d2/d55/classCIotDataDevice.html#a8f4c590cbda3c9182d18fe5fa59b77b7" title="Constructor for an IoT Device instance (though not assigned to a specific device yet). " alt="" coords="477,70,667,111"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a1d5caa93bbe9bf8ae396796fd5b29cdc_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a1d5caa93bbe9bf8ae396796fd5b29cdc_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a1d5caa93bbe9bf8ae396796fd5b29cdc_icgraph" id="dd/d68/classCIotDeviceClient_a1d5caa93bbe9bf8ae396796fd5b29cdc_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#a20352e404497ab3b8f107dadddd83df7" title="Initialize this client and setup the CDS callbacks and message handlers, and kick off device discover..." alt="" coords="248,12,443,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a599b1389d240022c14b03437d3ab43c2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CIotDeviceClient::callback_update_device </td>
          <td>(</td>
          <td class="paramtype">const px::asio::CCdsDevice &amp;&#160;</td>
          <td class="paramname"><em>container</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback invoked by CdsHandler when an existing Device is updated. </p>
<p>Matches the function template for px::asio::CCdsHandler::cds_device_callback_t.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container</td><td>Reference to the map container for the updated device. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l00656">656</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a599b1389d240022c14b03437d3ab43c2_cgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a599b1389d240022c14b03437d3ab43c2_cgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a599b1389d240022c14b03437d3ab43c2_cgraph" id="dd/d68/classCIotDeviceClient_a599b1389d240022c14b03437d3ab43c2_cgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ae1aa3bf442ed4c67007411ef0477c002" title="Checks if this device is of a supported type for IoT Agent Devices. " alt="" coords="253,5,433,46"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#a8c0885ca901a8588ca31c0bd1809e3a6" title="Request a new client_state action. " alt="" coords="249,70,437,111"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a599b1389d240022c14b03437d3ab43c2_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a599b1389d240022c14b03437d3ab43c2_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a599b1389d240022c14b03437d3ab43c2_icgraph" id="dd/d68/classCIotDeviceClient_a599b1389d240022c14b03437d3ab43c2_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#a20352e404497ab3b8f107dadddd83df7" title="Initialize this client and setup the CDS callbacks and message handlers, and kick off device discover..." alt="" coords="248,12,443,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8e205d4c1ccf4497b49a527f84635f8f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CIotDeviceClient::callback_delete_device </td>
          <td>(</td>
          <td class="paramtype">px::id_t&#160;</td>
          <td class="paramname"><em>dev_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback invoked by CdsHandler when a Device is about to be removed from our map. </p>
<p>Matches the function template for px::asio::CCdsHandler::device_delete_callback_t.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev_id</td><td>The ID of the removed Device. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l00535">535</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a8e205d4c1ccf4497b49a527f84635f8f_cgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a8e205d4c1ccf4497b49a527f84635f8f_cgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a8e205d4c1ccf4497b49a527f84635f8f_cgraph" id="dd/d68/classCIotDeviceClient_a8e205d4c1ccf4497b49a527f84635f8f_cgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#a47b6924adc4e4c501854573b5bdfda1b" title="Lookup a Device instance in our map of devices, using its CDS Device ID. " alt="" coords="251,5,434,46"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#a8c0885ca901a8588ca31c0bd1809e3a6" title="Request a new client_state action. " alt="" coords="249,70,437,111"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a8e205d4c1ccf4497b49a527f84635f8f_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a8e205d4c1ccf4497b49a527f84635f8f_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a8e205d4c1ccf4497b49a527f84635f8f_icgraph" id="dd/d68/classCIotDeviceClient_a8e205d4c1ccf4497b49a527f84635f8f_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#a20352e404497ab3b8f107dadddd83df7" title="Initialize this client and setup the CDS callbacks and message handlers, and kick off device discover..." alt="" coords="248,12,443,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa90dd3f0c575294f26cd3f23ed304337"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CIotDeviceClient::callback_device_state </td>
          <td>(</td>
          <td class="paramtype">const px::asio::CCdsDevice &amp;&#160;</td>
          <td class="paramname"><em>container</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback invoked by CdsHandler when a Device state is updated. </p>
<p>Matches the function template for px::asio::CCdsHandler::cds_device_callback_t.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container</td><td>Reference to the map container for the added device. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l00571">571</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_aa90dd3f0c575294f26cd3f23ed304337_cgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_aa90dd3f0c575294f26cd3f23ed304337_cgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_aa90dd3f0c575294f26cd3f23ed304337_cgraph" id="dd/d68/classCIotDeviceClient_aa90dd3f0c575294f26cd3f23ed304337_cgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ae1aa3bf442ed4c67007411ef0477c002" title="Checks if this device is of a supported type for IoT Agent Devices. " alt="" coords="253,5,433,46"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#a8c0885ca901a8588ca31c0bd1809e3a6" title="Request a new client_state action. " alt="" coords="249,70,437,111"/><area shape="rect" id="node4" href="../../d2/d55/classCIotDataDevice.html#a9babe8eda9b75a18957c3cb9bf0dbd95" title="Factory function to create a new CIotDataDevice instance and return it in a shared_ptr. " alt="" coords="256,135,429,177"/><area shape="rect" id="node5" href="../../d2/d55/classCIotDataDevice.html#a8f4c590cbda3c9182d18fe5fa59b77b7" title="Constructor for an IoT Device instance (though not assigned to a specific device yet). " alt="" coords="485,135,675,177"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_aa90dd3f0c575294f26cd3f23ed304337_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_aa90dd3f0c575294f26cd3f23ed304337_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_aa90dd3f0c575294f26cd3f23ed304337_icgraph" id="dd/d68/classCIotDeviceClient_aa90dd3f0c575294f26cd3f23ed304337_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#a20352e404497ab3b8f107dadddd83df7" title="Initialize this client and setup the CDS callbacks and message handlers, and kick off device discover..." alt="" coords="248,12,443,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8a9607414b185ad47c87d7b17e1667e0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CIotDeviceClient::callback_channel_settings </td>
          <td>(</td>
          <td class="paramtype">const px::asio::CCdsDevice &amp;&#160;</td>
          <td class="paramname"><em>container</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; px::CChannelSettings &gt; &amp;&#160;</td>
          <td class="paramname"><em>settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Application callback invoked by CdsHandler when it gets the ChannelSettings for a device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container</td><td>A read-only reference to the container of CDS data for that Device. </td></tr>
    <tr><td class="paramname">settings</td><td>The array of ChannelSettings from the CDS; should be a complete set for this Device. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l00700">700</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a8a9607414b185ad47c87d7b17e1667e0_cgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a8a9607414b185ad47c87d7b17e1667e0_cgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a8a9607414b185ad47c87d7b17e1667e0_cgraph" id="dd/d68/classCIotDeviceClient_a8a9607414b185ad47c87d7b17e1667e0_cgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ae1aa3bf442ed4c67007411ef0477c002" title="Checks if this device is of a supported type for IoT Agent Devices. " alt="" coords="253,5,433,46"/><area shape="rect" id="node3" href="../../d2/d55/classCIotDataDevice.html#a9babe8eda9b75a18957c3cb9bf0dbd95" title="Factory function to create a new CIotDataDevice instance and return it in a shared_ptr. " alt="" coords="256,70,429,111"/><area shape="rect" id="node5" href="../../dd/d68/classCIotDeviceClient.html#a8c0885ca901a8588ca31c0bd1809e3a6" title="Request a new client_state action. " alt="" coords="249,135,437,177"/><area shape="rect" id="node4" href="../../d2/d55/classCIotDataDevice.html#a8f4c590cbda3c9182d18fe5fa59b77b7" title="Constructor for an IoT Device instance (though not assigned to a specific device yet). " alt="" coords="485,70,675,111"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a8a9607414b185ad47c87d7b17e1667e0_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a8a9607414b185ad47c87d7b17e1667e0_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a8a9607414b185ad47c87d7b17e1667e0_icgraph" id="dd/d68/classCIotDeviceClient_a8a9607414b185ad47c87d7b17e1667e0_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#a20352e404497ab3b8f107dadddd83df7" title="Initialize this client and setup the CDS callbacks and message handlers, and kick off device discover..." alt="" coords="248,12,443,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a747f810cc21e41b3e81ffa6059b3c4e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CIotDeviceClient::build_tree_structure </td>
          <td>(</td>
          <td class="paramtype">IOT_DATA &amp;&#160;</td>
          <td class="paramname"><em>deviceTreeStruct</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>dev_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a device (and its subdevices) to the Device Tree structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">deviceTreeStruct</td><td>The Device Tree structure that is being built up. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dev_count</td><td>The count of devices added to the list (ought to be at least 1)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if deviceTreeStruct was successfully built, else False if there was some unrecoverable problem preventing the structure from being filled out. </dd></dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l01124">1124</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a747f810cc21e41b3e81ffa6059b3c4e5_cgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a747f810cc21e41b3e81ffa6059b3c4e5_cgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a747f810cc21e41b3e81ffa6059b3c4e5_cgraph" id="dd/d68/classCIotDeviceClient_a747f810cc21e41b3e81ffa6059b3c4e5_cgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ace40ba7e12cab369c87e1d01bfc24b48" title="Add a child device (and its subdevices) to the parent device&#39;s DeviceTree structure, whether or not the indicated device is &quot;valid&quot;. " alt="" coords="224,5,387,61"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#a47b6924adc4e4c501854573b5bdfda1b" title="Lookup a Device instance in our map of devices, using its CDS Device ID. " alt="" coords="435,13,618,54"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a747f810cc21e41b3e81ffa6059b3c4e5_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a747f810cc21e41b3e81ffa6059b3c4e5_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a747f810cc21e41b3e81ffa6059b3c4e5_icgraph" id="dd/d68/classCIotDeviceClient_a747f810cc21e41b3e81ffa6059b3c4e5_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#a88f14cdca116cb11cdb757027f16edfd" title="Build the DEVICE_TREE structure and publish it to the IoT Hub. " alt="" coords="224,5,395,46"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca" title="Called by the core&#39;s update timer to manage next state / action. " alt="" coords="443,5,626,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ace40ba7e12cab369c87e1d01bfc24b48"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CIotDeviceClient::add_child_device_to_tree_structure </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../d2/d55/classCIotDataDevice.html">CIotDataDevice</a> &gt;&#160;</td>
          <td class="paramname"><em>parent_dev_ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">px::id_t&#160;</td>
          <td class="paramname"><em>child_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>dev_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a child device (and its subdevices) to the parent device's DeviceTree structure, whether or not the indicated device is "valid". </p>
<p>Note that this is a change from the original functionality, which skipped non-"valid" devices (ie, those disabled or not-communicating). This function can be called recursively to add all the subdevices. If the device type is not 'device' or 'subdevice' (eg, if 'port'), it will not be added.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">parent_dev_ptr</td><td>The IoT Device instance of the parent, which contains a structure for the device tree to which this device would be added. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">child_id</td><td>The CDS ID of this child device. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dev_count</td><td>The running count of devices added to the device tree list; will increase if this child (and any child devices) are added to the deviceTreeStruct</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if this device was was added to the deviceTreeStruct, else False. </dd></dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l01216">1216</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_ace40ba7e12cab369c87e1d01bfc24b48_cgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_ace40ba7e12cab369c87e1d01bfc24b48_cgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_ace40ba7e12cab369c87e1d01bfc24b48_cgraph" id="dd/d68/classCIotDeviceClient_ace40ba7e12cab369c87e1d01bfc24b48_cgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#a47b6924adc4e4c501854573b5bdfda1b" title="Lookup a Device instance in our map of devices, using its CDS Device ID. " alt="" coords="217,13,399,54"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_ace40ba7e12cab369c87e1d01bfc24b48_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_ace40ba7e12cab369c87e1d01bfc24b48_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_ace40ba7e12cab369c87e1d01bfc24b48_icgraph" id="dd/d68/classCIotDeviceClient_ace40ba7e12cab369c87e1d01bfc24b48_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#a747f810cc21e41b3e81ffa6059b3c4e5" title="Add a device (and its subdevices) to the Device Tree structure. " alt="" coords="216,13,387,54"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#a88f14cdca116cb11cdb757027f16edfd" title="Build the DEVICE_TREE structure and publish it to the IoT Hub. " alt="" coords="435,13,605,54"/><area shape="rect" id="node4" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca" title="Called by the core&#39;s update timer to manage next state / action. " alt="" coords="654,13,837,54"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8f8f68fa4e0e62fed9980e911a3d761f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CIotDeviceClient::check_confirmed_msg_count </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check the confirmed message count, and if too many messages have been sent without being confirmed, then close the connection and revert us to a re-connecting state. </p>
<dl class="section return"><dt>Returns</dt><dd>True if no problem found, else False if had to close the connection. </dd></dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l01861">1861</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a8f8f68fa4e0e62fed9980e911a3d761f_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a8f8f68fa4e0e62fed9980e911a3d761f_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a8f8f68fa4e0e62fed9980e911a3d761f_icgraph" id="dd/d68/classCIotDeviceClient_a8f8f68fa4e0e62fed9980e911a3d761f_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca" title="Called by the core&#39;s update timer to manage next state / action. " alt="" coords="233,5,415,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab49100be4e2dc5ef53115fbdafb55f94"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::proto::IotConnectionStatusEnums CIotDeviceClient::check_connection_status </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>device_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determines the current connection status via the Eaton Device SDK. </p>
<p>If it is different than before, this function will update the Status OOB and our connection code with the new information.</p>
<p>A particular check is if the status was Connecting and the new IoT Status shows that a message was confirmed (a bump in our traffic count), then it will change the status to Open (ie, Connected). This compensates for the Azure to too quickly report connection success from the open call; getting a message confirmation is a much better indicator. If we have new confirmed messages, will set our _is_connected flag.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device_handle</td><td>A handle to the device connection, actually of type IOT_DEVICE_HANDLE. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The present connection status code, as per the SDK. </dd></dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l01887">1887</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_ab49100be4e2dc5ef53115fbdafb55f94_cgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_ab49100be4e2dc5ef53115fbdafb55f94_cgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_ab49100be4e2dc5ef53115fbdafb55f94_cgraph" id="dd/d68/classCIotDeviceClient_ab49100be4e2dc5ef53115fbdafb55f94_cgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#a29c4eabffb2ab515d512423e2cce50a1" title="Convert the given IOT_DEVICE_ERROR_CODES enum to the equivalent protobuf error code, and add a descriptive text message. " alt="" coords="233,63,399,105"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#adb2e4268d80323e508cc574786893dd4" title="Execute tasks necessary now that we have achieved a connection. " alt="" coords="241,129,391,170"/><area shape="rect" id="node4" href="../../d4/dd8/classBlobUploadManager.html#aa7e833a162791d802ca935108e8b6df9" title="Initialize the blob upload manager with the catchup of pending blob uploads if any due to interruptio..." alt="" coords="471,12,654,39"/><area shape="rect" id="node6" href="../../db/db5/classTrendManager.html#a16082f6956668d1489a9e128a2807079" title="Check our set of sent trend msgs to see if any remain unacknowledged. " alt="" coords="448,63,677,105"/><area shape="rect" id="node7" href="../../db/db5/classTrendManager.html#a86298c2045b5cab49f9c32845d839f55" title="Getter for the awaiting_ack_timestamp, so we can see what the timestamp of the pending result is..." alt="" coords="460,129,665,170"/><area shape="rect" id="node8" href="../../db/db5/classTrendManager.html#a53ff5abcfdc0cb4e1c9937c347eb11ff" title="Getter for the catchup_thread_is_launched flag. " alt="" coords="467,194,658,235"/><area shape="rect" id="node9" href="../../d3/dbd/group__iot__threading.html#ga8f28359ff760cfd4baa8edfa4e8c31d9" title="Launches the thread that does the trend catchup operations. " alt="" coords="481,259,645,301"/><area shape="rect" id="node5" href="../../d4/dd8/classBlobUploadManager.html#a2fb71393c8eb30b47686d3666ff89548" title="Carry out the catchup for blob uploads Go through the OOBs present on the device for blob uploads and..." alt="" coords="749,5,910,46"/><area shape="rect" id="node10" href="../../db/db5/classTrendManager.html#a736299ff7bcdcd1d6f4baa36610c0c27" title="This is the task that does the trend catchup. " alt="" coords="726,267,933,293"/><area shape="rect" id="node11" href="../../db/db5/classTrendManager.html#a74f9c2322b80a2bc6906b94c1a580b29" title="Build the IOT_DATA_TREND_ITEM messages for all devices, using the latest, or requested time..." alt="" coords="981,259,1152,301"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_ab49100be4e2dc5ef53115fbdafb55f94_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_ab49100be4e2dc5ef53115fbdafb55f94_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_ab49100be4e2dc5ef53115fbdafb55f94_icgraph" id="dd/d68/classCIotDeviceClient_ab49100be4e2dc5ef53115fbdafb55f94_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ac088663bab4b0ddec2c4c60bbc605166" title="Attempt to open the Azure IoT Hub connection. " alt="" coords="233,5,423,32"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca" title="Called by the core&#39;s update timer to manage next state / action. " alt="" coords="473,23,655,65"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adb2e4268d80323e508cc574786893dd4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CIotDeviceClient::is_now_connected </td>
          <td>(</td>
          <td class="paramtype">IOT_DEVICE_HANDLE&#160;</td>
          <td class="paramname"><em>device_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute tasks necessary now that we have achieved a connection. </p>
<p>First, audit log this success. Then check to see if there are any new trend intervals that we need to catch-up on.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device_handle</td><td></td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l01974">1974</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_adb2e4268d80323e508cc574786893dd4_cgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_adb2e4268d80323e508cc574786893dd4_cgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_adb2e4268d80323e508cc574786893dd4_cgraph" id="dd/d68/classCIotDeviceClient_adb2e4268d80323e508cc574786893dd4_cgraph">
<area shape="rect" id="node2" href="../../d4/dd8/classBlobUploadManager.html#aa7e833a162791d802ca935108e8b6df9" title="Initialize the blob upload manager with the catchup of pending blob uploads if any due to interruptio..." alt="" coords="229,12,411,39"/><area shape="rect" id="node4" href="../../db/db5/classTrendManager.html#a16082f6956668d1489a9e128a2807079" title="Check our set of sent trend msgs to see if any remain unacknowledged. " alt="" coords="205,63,435,105"/><area shape="rect" id="node5" href="../../db/db5/classTrendManager.html#a86298c2045b5cab49f9c32845d839f55" title="Getter for the awaiting_ack_timestamp, so we can see what the timestamp of the pending result is..." alt="" coords="217,129,423,170"/><area shape="rect" id="node6" href="../../db/db5/classTrendManager.html#a53ff5abcfdc0cb4e1c9937c347eb11ff" title="Getter for the catchup_thread_is_launched flag. " alt="" coords="225,194,415,235"/><area shape="rect" id="node7" href="../../d3/dbd/group__iot__threading.html#ga8f28359ff760cfd4baa8edfa4e8c31d9" title="Launches the thread that does the trend catchup operations. " alt="" coords="238,259,402,301"/><area shape="rect" id="node3" href="../../d4/dd8/classBlobUploadManager.html#a2fb71393c8eb30b47686d3666ff89548" title="Carry out the catchup for blob uploads Go through the OOBs present on the device for blob uploads and..." alt="" coords="506,5,667,46"/><area shape="rect" id="node8" href="../../db/db5/classTrendManager.html#a736299ff7bcdcd1d6f4baa36610c0c27" title="This is the task that does the trend catchup. " alt="" coords="483,267,690,293"/><area shape="rect" id="node9" href="../../db/db5/classTrendManager.html#a74f9c2322b80a2bc6906b94c1a580b29" title="Build the IOT_DATA_TREND_ITEM messages for all devices, using the latest, or requested time..." alt="" coords="739,259,909,301"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_adb2e4268d80323e508cc574786893dd4_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_adb2e4268d80323e508cc574786893dd4_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_adb2e4268d80323e508cc574786893dd4_icgraph" id="dd/d68/classCIotDeviceClient_adb2e4268d80323e508cc574786893dd4_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ab49100be4e2dc5ef53115fbdafb55f94" title="Determines the current connection status via the Eaton Device SDK. " alt="" coords="206,23,383,65"/><area shape="rect" id="node3" href="../../dd/d68/classCIotDeviceClient.html#ac088663bab4b0ddec2c4c60bbc605166" title="Attempt to open the Azure IoT Hub connection. " alt="" coords="433,5,623,32"/><area shape="rect" id="node4" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca" title="Called by the core&#39;s update timer to manage next state / action. " alt="" coords="673,23,855,65"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acc09aab2e6e369085fa6b2686f00836b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CIotDeviceClient::check_if_suspended </td>
          <td>(</td>
          <td class="paramtype">px::proto::IotConnectionStatusEnums&#160;</td>
          <td class="paramname"><em>status</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>timeout</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the IoT connection status indicates we have reached the IoT Hub maximum daily message limit, and the IoT Hub will no longer accept the messages we publish. </p>
<p>If over the daily message limit, and we are suspended: 1) Increase the timeout value for the next timer period. 2) Log once when suspension starts.</p>
<p>If not suspended: 1) Keep current timeout value. 2) Log once when suspension is lifted.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">status</td><td>Current IoT connection status </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">timeout</td><td>Current timeout of the next timer period </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l02100">2100</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_acc09aab2e6e369085fa6b2686f00836b_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_acc09aab2e6e369085fa6b2686f00836b_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_acc09aab2e6e369085fa6b2686f00836b_icgraph" id="dd/d68/classCIotDeviceClient_acc09aab2e6e369085fa6b2686f00836b_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca" title="Called by the core&#39;s update timer to manage next state / action. " alt="" coords="233,5,415,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a52896f53787259c34d10a3f0dac7eb6a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CIotDeviceClient::handle_net_diagnostic_result </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>When the Net Diagnostic task (thread) is done, this function is called to get and process the result, which is normally an error finding. </p>
<p>This will update the status OOB (if it is changed) and set the next client state. </p>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l02154">2154</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_a52896f53787259c34d10a3f0dac7eb6a_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_a52896f53787259c34d10a3f0dac7eb6a_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_a52896f53787259c34d10a3f0dac7eb6a_icgraph" id="dd/d68/classCIotDeviceClient_a52896f53787259c34d10a3f0dac7eb6a_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca" title="Called by the core&#39;s update timer to manage next state / action. " alt="" coords="238,5,421,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adcd74e1ab4451a77cb62b2d55213da32"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::tuple&lt; bool, bool, bool, bool &gt; CIotDeviceClient::check_for_publish_times </td>
          <td>(</td>
          <td class="paramtype">time_t&#160;</td>
          <td class="paramname"><em>tnow_secs</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check the current time against the desired cadence, and see if it is time to publish real-times or trends, or to run a DoWork cycle. </p>
<p>For all realtimes, which are sent once per trend interval, see if we have passed into a new trend interval. There are guards to ensure we don't indicate to publish all realtimes or trends more than once in an interval.</p>
<p>For changed real-times, simply determine if we have reached the time of the next publish since the last realtimes publish.</p>
<p>For trends, will determine the range of times in which we will decide to publish a trend update for the previous interval, eg between 2 and 4 minutes after the trend should have closed.</p>
<p>For blob upload, check if 5 sec have elapsed since the last check for pending blob uploads list.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tnow_secs</td><td>The timestamp for "now", in seconds since the 1970 epoch. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Tuple of 4 bools for do_all_realtimes, do_changed_realtimes, do_trends and do_blob_upload which are true if all realtimes, or the changed realtimes, or trends, or blob uploads pending list respectively, should be published now. </dd></dl>

<p>Definition at line <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html#l02224">2224</a> of file <a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d68/classCIotDeviceClient_adcd74e1ab4451a77cb62b2d55213da32_icgraph.png" border="0" usemap="#dd/d68/classCIotDeviceClient_adcd74e1ab4451a77cb62b2d55213da32_icgraph" alt=""/></div>
<map name="dd/d68/classCIotDeviceClient_adcd74e1ab4451a77cb62b2d55213da32_icgraph" id="dd/d68/classCIotDeviceClient_adcd74e1ab4451a77cb62b2d55213da32_icgraph">
<area shape="rect" id="node2" href="../../dd/d68/classCIotDeviceClient.html#ac3e59938659409ee0adee10292047aca" title="Called by the core&#39;s update timer to manage next state / action. " alt="" coords="233,5,415,46"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a0b1d5350fd56cf932cb64381f45222e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend CIotDeviceClient::IotDeviceCommand</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Give the <a class="el" href="../../d3/ddf/classIotDeviceCommand.html" title="Class to manage the Cloud-to-Device Device Command messages. ">IotDeviceCommand</a> access to our protected data. </p>
<p>(Our client_handle and device map, in particular.) </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00311">311</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9f6a78e646f7680ace8e1f86a0f870ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend CIotDeviceClient::CMockIotAgentCore</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Also, for test code, our mock core class. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00313">313</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a33696bd532499d73bc7f5025c57c8756"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend CIotDeviceClient::CIotDataDevice</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>And the Data Device, Trend Manager, and Firmware Update Manager classes. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00315">315</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6b5ff0a968d7732e261bc0c69386da05"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend CIotDeviceClient::TrendManager</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00316">316</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7a7214d9098f3ad22be51d7ae50928b8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend CIotDeviceClient::FirmwareUpdateManager</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00317">317</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad149ffaf314bfcf7ee0a981440fdaa4b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">friend CIotDeviceClient::BlobUploadManager</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00319">319</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa37b86d009cdb98a30cc2ae150350b9f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="../../db/d77/classCIotAgentCore.html">CIotAgentCore</a>&gt; CIotDeviceClient::_iot_core</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Copy of this agent's core class, which gives us access to the settings and status. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00478">478</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae84b8aaeeffc814dcbb0b5c370c7be95"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/dab/iot__device__client_8hpp.html#a21a5267ad57f3f37eb8b87b440911fcc">iot_data_device_map_t</a> CIotDeviceClient::_iot_device_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map of our <a class="el" href="../../d2/d55/classCIotDataDevice.html" title="Class to provide the IOT_DATA_DEVICE_ITEM instance from the CDS data for one Device. ">CIotDataDevice</a> instances, keyed by CDS Device ID. </p>
<p>When first added to this map, the devices may not yet be "valid" enough to be found in the _valid_device_set, but must have an IoT Device Profile. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00484">484</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a187d908c4511ca8e44ba9034b45c78c4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/dab/iot__device__client_8hpp.html#ad036d5e421ca45ff604e9d09297b4c1d">cds_device_set_t</a> CIotDeviceClient::_valid_device_set</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set of CDS IDs for "valid" Devices. </p>
<p>These are devices which are enabled, communicating, and for which we have received enough (1/3) of their IoT Device Profile channels to announce them to the world (Azure). </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00490">490</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae20ed4e243b305d6a04541f6cd7736d4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/db5/classTrendManager.html">TrendManager</a> CIotDeviceClient::trend_manager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Holds the <a class="el" href="../../db/db5/classTrendManager.html" title="Class to manage the Trend publishing and other trend-related services. ">TrendManager</a> class instance. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00493">493</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a417ca9bf564faf82d4ba6eac97d51c87"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/dd8/classBlobUploadManager.html">BlobUploadManager</a> CIotDeviceClient::blob_upload_manager</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Holds the <a class="el" href="../../d4/dd8/classBlobUploadManager.html" title="Class to manage Blob uploads, handling the requests and response through OOB/. ">BlobUploadManager</a> class instance. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00497">497</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa60dac137e9a378cde01312982b42250"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int CIotDeviceClient::_BLOB_UPLOAD_TIMER_SECS = 5</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time interval after which the blob upload pending list will be checked for any pending uploads. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00500">500</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="acee7ec17e9808b4764bdc6ffbe84e987"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::CWallTime CIotDeviceClient::_last_blob_upload_check_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Holds the timestamp of last interval when the pending list of blob uploads was checked. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00503">503</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1ac69a4430eb338404ba0bd08c710b02"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">IOT_DEVICE_HANDLE CIotDeviceClient::_client_handle</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The handle for this client connection. </p>
<p>This is returned from the Azure IoT Device library. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00509">509</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aed0c4ce49c4763fe411a80160c42e2de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dd/d68/classCIotDeviceClient.html#a57d4e9607606f259a2a1e857e7710f08">client_states</a> CIotDeviceClient::_client_state</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Holds the present client state. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00512">512</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af7133e716366b0499aa21dfacbdff290"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CIotDeviceClient::_is_connected</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag to indicate when we have achieved a valid connection and are "OPEN". </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00515">515</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a28bdcf87f51fee3de9c53b94d93f6d61"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">time_t CIotDeviceClient::_time_connection_lost</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Holds the time (seconds since the Epoch, UTC) when an active connection was lost. </p>
<p>Can be used to check for shorter outages, when the iot_agent is running the full time, or loaded with the last value found in the Session log at startup. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00521">521</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3f8739c7d680d3803394fb8abc1f27bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long CIotDeviceClient::_starting_msgs_outbound</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Holds the starting count of connectionStatus-&gt;msgOutbound for this connection. </p>
<p>Not necessarily 0, since we can re-connect. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00525">525</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1bc4b5f555486f2e08a0782984a9460f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">long CIotDeviceClient::_starting_msgs_confirmed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Holds the starting count of connectionStatus-&gt;msgConfirmed for this connection. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00528">528</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a87acb4afc082e1e6b284dea44452de5c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int CIotDeviceClient::_SHORT_TIMER_MSECS = 2000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Short Time interval for the _realtime_timer, set to 2s (in msec). </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00531">531</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aaf17549feeee06ce04b68e7815d41d32"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int CIotDeviceClient::_RETRY_TIMER_MSECS = 1 * 60 * 1000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Long <a class="el" href="../../dd/d68/classCIotDeviceClient.html#ac088663bab4b0ddec2c4c60bbc605166" title="Attempt to open the Azure IoT Hub connection. ">connect()</a> Retry Time interval for the _realtime_timer, set to 1min (in msec). </p>
<p>Must be less than the watchdog timeout (eg, 90s) if using longer periods here; the right approach for longer would be to sleep for 60s and wake up N times for an N minute RETRY period. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00537">537</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad7cf2caea8ceaa555d5b8a1a0c40d7cb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::CWallTime CIotDeviceClient::_last_realtime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Holds the time of the last realtime update. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00540">540</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aeca852e4198e1aac4917eb121d948f59"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t CIotDeviceClient::realtime_cadence</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Holds the cadence at which the realtime updates will be sent. </p>
<p>When &gt; 300s, will be used for trend cadence, and must be one of the allowed trend cadences. Will be initialized to the default of CONFIG_IOT_REALTIME_CADENCE_SECS. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00546">546</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa6fd0993d6e56008b6fc635a2fa49ebf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t CIotDeviceClient::DO_WORK_INTERVAL_SECS = 10</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the time between calls for DoWork processing. </p>
<p>The DoWork operation drives the Azure state machine; one cycle might get message timeout results, another manage Azure retry policy, and yet another send our batched messages. Using 10s as often enough to ensure good operation of the Azure state machine, but with enough gap to allow messages to be batched up before sending, when the cadence is &gt; 10s. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00554">554</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9fbd1e7ecd7721f802e1c72b80a05df0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned int CIotDeviceClient::_VERY_SHORT_TIMER_MSECS = 2</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Very Short Time interval for the _realtime_timer, just enough to give the rest of the ASIO system a chance to run. </p>
<p>Set to 5 msec. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00558">558</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa9ddf12656440f6c136a7bf915acef7b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CIotDeviceClient::sent_all_realtimes_this_interval</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal flag used to limit the "send real-times as trends" or all real-times messages to only once per trend interval. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00561">561</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3ba08650da357c05797baf80a110e728"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CIotDeviceClient::sent_trends_this_interval</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal flag used to limit the publishing of trends messages to only once per trend interval. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00564">564</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad55e69a9326a64301a909a3882ea3a06"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CIotDeviceClient::_suspended</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal flag used indicate that we have reached the IoT HUb daily message limit, and the IoT Hub has suspended us from publishing messages. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00568">568</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a461cba63fbb984f7eaa2957782652ca4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* CIotDeviceClient::CONNECTION_OPEN_MSG = &quot;Connected to IoT Hub&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Text of a Session Log message used when we have opened an IoT Connection. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00586">586</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a125b035382831ca7aaf5e72a58f8a69c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char* CIotDeviceClient::CONNECTION_CLOSE_MSG = &quot;Closing IoT Connection&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Text of a Session Log message used when closing an active IoT Connection. </p>

<p>Definition at line <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html#l00589">589</a> of file <a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/src/product-ref1/px-toolkit/etn_source/iot_agent/include/<a class="el" href="../../d0/dab/iot__device__client_8hpp_source.html">iot_device_client.hpp</a></li>
<li>/src/product-ref1/px-toolkit/etn_source/iot_agent/source/<a class="el" href="../../da/d72/iot__device__client_8cpp_source.html">iot_device_client.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dd/d68/classCIotDeviceClient.html">CIotDeviceClient</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:26:03 for IoT Agent by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
