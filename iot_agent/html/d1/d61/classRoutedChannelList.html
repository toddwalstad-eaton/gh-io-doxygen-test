<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>IoT Agent: RoutedChannelList Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../Eaton_Red_Toolbox_Logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">IoT Agent
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d1/d61/classRoutedChannelList.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../dd/dee/classRoutedChannelList-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">RoutedChannelList Class Reference<div class="ingroups"><a class="el" href="../../da/dd5/group__iot__oobs.html">IoT OOB Handling</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to manage the Routed Channel List message.  
 <a href="../../d1/d61/classRoutedChannelList.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d8/da9/iot__routed__channel__list_8hpp_source.html">iot_routed_channel_list.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for RoutedChannelList:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d20/classRoutedChannelList__coll__graph.png" border="0" usemap="#RoutedChannelList_coll__map" alt="Collaboration graph"/></div>
<map name="RoutedChannelList_coll__map" id="RoutedChannelList_coll__map">
<area shape="rect" id="node3" title="STL class. " alt="" coords="33,171,143,248"/><area shape="rect" id="node4" title="STL class. " alt="" coords="195,320,281,397"/><area shape="rect" id="node6" title="STL class. " alt="" coords="169,6,308,98"/></map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1823644121275f55adb4f4e65d170854"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d61/classRoutedChannelList.html#a1823644121275f55adb4f4e65d170854">RoutedChannelList</a> ()</td></tr>
<tr class="memdesc:a1823644121275f55adb4f4e65d170854"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default Constructor.  <a href="#a1823644121275f55adb4f4e65d170854">More...</a><br/></td></tr>
<tr class="separator:a1823644121275f55adb4f4e65d170854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9b908913957e6f3be3c5064ba22a8f0"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d61/classRoutedChannelList.html#ac9b908913957e6f3be3c5064ba22a8f0">~RoutedChannelList</a> ()</td></tr>
<tr class="memdesc:ac9b908913957e6f3be3c5064ba22a8f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor, a virtual.  <a href="#ac9b908913957e6f3be3c5064ba22a8f0">More...</a><br/></td></tr>
<tr class="separator:ac9b908913957e6f3be3c5064ba22a8f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a05a344c57dc317cb6e323bc053e902be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d61/classRoutedChannelList.html#a05a344c57dc317cb6e323bc053e902be">initialize</a> (std::shared_ptr&lt; <a class="el" href="../../db/d77/classCIotAgentCore.html">CIotAgentCore</a> &gt; core)</td></tr>
<tr class="memdesc:a05a344c57dc317cb6e323bc053e902be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize by checking for the IotRoutedChannelList OOB and reading it in.  <a href="#a05a344c57dc317cb6e323bc053e902be">More...</a><br/></td></tr>
<tr class="separator:a05a344c57dc317cb6e323bc053e902be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ff8346a17bf6af05630155ac87161ac"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d61/classRoutedChannelList.html#a4ff8346a17bf6af05630155ac87161ac">is_enabled</a> ()</td></tr>
<tr class="memdesc:a4ff8346a17bf6af05630155ac87161ac"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if the IotRoutedChannelList OOB exists, and its 'enabled' field is set to true.  <a href="#a4ff8346a17bf6af05630155ac87161ac">More...</a><br/></td></tr>
<tr class="separator:a4ff8346a17bf6af05630155ac87161ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a943475c5506f9469ae6f4e81b98bab77"><td class="memItemLeft" align="right" valign="top">const std::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d61/classRoutedChannelList.html#a943475c5506f9469ae6f4e81b98bab77">get_routed_target</a> ()</td></tr>
<tr class="memdesc:a943475c5506f9469ae6f4e81b98bab77"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for the name of the routed target.  <a href="#a943475c5506f9469ae6f4e81b98bab77">More...</a><br/></td></tr>
<tr class="separator:a943475c5506f9469ae6f4e81b98bab77"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35a2d31cc76e776f2ab84251a7b83b91"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d61/classRoutedChannelList.html#a35a2d31cc76e776f2ab84251a7b83b91">is_routed_channel</a> (const std::string &amp;ch_name)</td></tr>
<tr class="memdesc:a35a2d31cc76e776f2ab84251a7b83b91"><td class="mdescLeft">&#160;</td><td class="mdescRight">Test to see if the given channel is in the Routed Channel List.  <a href="#a35a2d31cc76e776f2ab84251a7b83b91">More...</a><br/></td></tr>
<tr class="separator:a35a2d31cc76e776f2ab84251a7b83b91"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a78c05d9936437652b6126a32099583c6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d61/classRoutedChannelList.html#a78c05d9936437652b6126a32099583c6">enabled</a></td></tr>
<tr class="separator:a78c05d9936437652b6126a32099583c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef0ace564b31ac8bed0407830904f9af"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d61/classRoutedChannelList.html#aef0ace564b31ac8bed0407830904f9af">routed_target</a></td></tr>
<tr class="separator:aef0ace564b31ac8bed0407830904f9af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc277a5dfedd216a6a87f4b95811adda"><td class="memItemLeft" align="right" valign="top">std::set&lt; std::string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d61/classRoutedChannelList.html#abc277a5dfedd216a6a87f4b95811adda">channel_list</a></td></tr>
<tr class="separator:abc277a5dfedd216a6a87f4b95811adda"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to manage the Routed Channel List message. </p>
<p>This class is responsible for reading in and parsing the IotRoutedChannelList OOB, and if it is enabled, using its list of channels for publishing the special trend update message which is an extension of the regular trend update message with these characteristics:</p>
<ul>
<li>Adds the "r" routing parameter, eg "r": "&lt;routed_target&gt;" (see below)</li>
<li>Only the subset of channels both found in the device and listed in the IotRoutedChannelList OOB are included.</li>
<li>Only the trend "actuals" (ie, the "v" parameter) are included in this message, regardless of whether each channel has the "actual" trend trait in the MCL, or whether it is even trended at all by the CDS.</li>
<li>The timestamp of the most recent reading of each channel is provided, and it is not rounded to the nearest trend interval time.</li>
<li>None of this happens unless the "enabled" flag is set to True in the IotRoutedChannelList OOB.</li>
</ul>
<p>This message does not affect the normal trend update processing for channels truly trended in the CDS.</p>
<p>The IotRoutedChannelList OOB, if provided, will be initialized with product-level configuration, and read in by this class. If the OOB is not found, this class will do nothing further. IotRoutedChannelList will become a persistent OOB object after the owner has written to it, normally to set the "enabled" flag. </p>

<p>Definition at line <a class="el" href="../../d8/da9/iot__routed__channel__list_8hpp_source.html#l00059">59</a> of file <a class="el" href="../../d8/da9/iot__routed__channel__list_8hpp_source.html">iot_routed_channel_list.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1823644121275f55adb4f4e65d170854"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RoutedChannelList::RoutedChannelList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default Constructor. </p>

</div>
</div>
<a class="anchor" id="ac9b908913957e6f3be3c5064ba22a8f0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual RoutedChannelList::~RoutedChannelList </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default destructor, a virtual. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a05a344c57dc317cb6e323bc053e902be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void RoutedChannelList::initialize </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../db/d77/classCIotAgentCore.html">CIotAgentCore</a> &gt;&#160;</td>
          <td class="paramname"><em>core</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize by checking for the IotRoutedChannelList OOB and reading it in. </p>
<p>Even if the JSON parsing of the OOB string fails, this constructor won't throw. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">core</td><td>Pointer to the "core" class, which references the CdsHandler needed here. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a4ff8346a17bf6af05630155ac87161ac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RoutedChannelList::is_enabled </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates if the IotRoutedChannelList OOB exists, and its 'enabled' field is set to true. </p>
<p>If not enabled, the rest of this class has no use. </p>

<p>Definition at line <a class="el" href="../../d8/da9/iot__routed__channel__list_8hpp_source.html#l00098">98</a> of file <a class="el" href="../../d8/da9/iot__routed__channel__list_8hpp_source.html">iot_routed_channel_list.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a943475c5506f9469ae6f4e81b98bab77"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string &amp; RoutedChannelList::get_routed_target </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter for the name of the routed target. </p>
<dl class="section return"><dt>Returns</dt><dd>The name of the routed target, if any (may be empty) </dd></dl>

<p>Definition at line <a class="el" href="../../d8/da9/iot__routed__channel__list_8hpp_source.html#l00103">103</a> of file <a class="el" href="../../d8/da9/iot__routed__channel__list_8hpp_source.html">iot_routed_channel_list.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a35a2d31cc76e776f2ab84251a7b83b91"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool RoutedChannelList::is_routed_channel </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ch_name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Test to see if the given channel is in the Routed Channel List. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ch_name</td><td>The channel's canonical name </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if in our list. </dd></dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a78c05d9936437652b6126a32099583c6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool RoutedChannelList::enabled</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/da9/iot__routed__channel__list_8hpp_source.html#l00091">91</a> of file <a class="el" href="../../d8/da9/iot__routed__channel__list_8hpp_source.html">iot_routed_channel_list.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aef0ace564b31ac8bed0407830904f9af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string RoutedChannelList::routed_target</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/da9/iot__routed__channel__list_8hpp_source.html#l00093">93</a> of file <a class="el" href="../../d8/da9/iot__routed__channel__list_8hpp_source.html">iot_routed_channel_list.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="abc277a5dfedd216a6a87f4b95811adda"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::set&lt;std::string&gt; RoutedChannelList::channel_list</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/da9/iot__routed__channel__list_8hpp_source.html#l00095">95</a> of file <a class="el" href="../../d8/da9/iot__routed__channel__list_8hpp_source.html">iot_routed_channel_list.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/src/product-ref1/px-toolkit/etn_source/iot_agent/include/<a class="el" href="../../d8/da9/iot__routed__channel__list_8hpp_source.html">iot_routed_channel_list.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d1/d61/classRoutedChannelList.html">RoutedChannelList</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:26:04 for IoT Agent by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
