<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>libpx: px::db Namespace Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libpx
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../namespaces.html"><span>Namespace&#160;List</span></a></li>
      <li><a href="../../namespacemembers.html"><span>Namespace&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dd/d42/namespacepx_1_1db.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">px::db Namespace Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="../../dd/d42/namespacepx_1_1db.html" title="px::db is the namespace for all the classes that provide the database access for Power Xpert Toolkit ...">px::db</a> is the namespace for all the classes that provide the database access for Power Xpert Toolkit applications.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d98/classpx_1_1db_1_1CBatch.html">CBatch</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Batch of Database Operations.  <a href="../../dc/d98/classpx_1_1db_1_1CBatch.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html">CBlobHolder</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Binary Blob Holder class.  <a href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Iterator into a sorted string table or key/value database.  <a href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d3c/classpx_1_1db_1_1CIteratorOwner.html">CIteratorOwner</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Per-database iterator "owner" class.  <a href="../../de/d3c/classpx_1_1db_1_1CIteratorOwner.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read-write Key/Value Store.  <a href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d4d/classpx_1_1db_1_1CLevelDBLogger.html">CLevelDBLogger</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implement a log-file handler for LevelDB that limits the logs to a fixed size, rotating as necessary.  <a href="../../da/d4d/classpx_1_1db_1_1CLevelDBLogger.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html">CNullMask</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Null mask class.  <a href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d95/classpx_1_1db_1_1CSSTable.html">CSSTable</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read-only Sorted String Table.  <a href="../../dd/d95/classpx_1_1db_1_1CSSTable.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4c/classpx_1_1db_1_1CTestHelper.html">CTestHelper</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Unit-test Helper Class.  <a href="../../d5/d4c/classpx_1_1db_1_1CTestHelper.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:ae610c5e23234d8799589231a676da47c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#ae610c5e23234d8799589231a676da47c">alarm_index_entry_type</a> : uint8_t { <a class="el" href="../../dd/d42/namespacepx_1_1db.html#ae610c5e23234d8799589231a676da47cab1f918f644e267913e1cd1eb37e6a0ed">alarm_index_entry_type::alarm_id</a> = 1, 
<a class="el" href="../../dd/d42/namespacepx_1_1db.html#ae610c5e23234d8799589231a676da47cad7e6d55ba379a13d08c25d15faf2a23b">alarm_index_entry_type::timestamp</a> = 2, 
<a class="el" href="../../dd/d42/namespacepx_1_1db.html#ae610c5e23234d8799589231a676da47caef751cbada81671dcc9e90ff81604f0c">alarm_index_entry_type::deletion_note</a> = 3, 
<a class="el" href="../../dd/d42/namespacepx_1_1db.html#ae610c5e23234d8799589231a676da47ca90227014eb13f654b3e38a43cbe644ba">alarm_index_entry_type::open_scan_start_point</a> = 4
 }</td></tr>
<tr class="separator:ae610c5e23234d8799589231a676da47c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eabba4ecbaeb882e5bdadc036649228"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a0eabba4ecbaeb882e5bdadc036649228">id_type</a> : uint8_t { <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a0eabba4ecbaeb882e5bdadc036649228a79ee940199f413266525c2025ecd8e36">id_type::devicechannel</a> = 1, 
<a class="el" href="../../dd/d42/namespacepx_1_1db.html#a0eabba4ecbaeb882e5bdadc036649228a6486b4e98228b83d4b13d54febe5f170">id_type::alarm</a> = 2, 
<a class="el" href="../../dd/d42/namespacepx_1_1db.html#a0eabba4ecbaeb882e5bdadc036649228a5c5abf046eda6bf8699d78b698234568">id_type::globalcount</a> = 3
 }</td></tr>
<tr class="separator:a0eabba4ecbaeb882e5bdadc036649228"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a721672afeb1ee18749143e1c1443f62a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a721672afeb1ee18749143e1c1443f62a">GetSchemaVersion</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db, uint32_t key_len, uint32_t def_ver=0)</td></tr>
<tr class="memdesc:a721672afeb1ee18749143e1c1443f62a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get/set schema version for a database.  <a href="#a721672afeb1ee18749143e1c1443f62a">More...</a><br/></td></tr>
<tr class="separator:a721672afeb1ee18749143e1c1443f62a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba58c266158ad63cf3a6669098ec05ee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#aba58c266158ad63cf3a6669098ec05ee">SetSchemaVersion</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db, uint32_t key_len, uint32_t version)</td></tr>
<tr class="separator:aba58c266158ad63cf3a6669098ec05ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a843ee7c2d154dec5b7b8cdea2697eaf7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a843ee7c2d154dec5b7b8cdea2697eaf7">MigrateOOBDB</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db)</td></tr>
<tr class="memdesc:a843ee7c2d154dec5b7b8cdea2697eaf7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given one of our databases, check to see if migration is needed, and perform such migration if so.  <a href="#a843ee7c2d154dec5b7b8cdea2697eaf7">More...</a><br/></td></tr>
<tr class="separator:a843ee7c2d154dec5b7b8cdea2697eaf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4055838ad2810a85a19859c78ed63cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#ab4055838ad2810a85a19859c78ed63cb">MigrateDeviceDB</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db)</td></tr>
<tr class="separator:ab4055838ad2810a85a19859c78ed63cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad75dbada9c2906c339d881bcd5b64727"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#ad75dbada9c2906c339d881bcd5b64727">MigrateChannelDB</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db, <a class="el" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a> &amp;mcl_iter)</td></tr>
<tr class="separator:ad75dbada9c2906c339d881bcd5b64727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7837adf73ea497822688d1a4a4d6664c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a7837adf73ea497822688d1a4a4d6664c">MigrateIDDB</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db)</td></tr>
<tr class="separator:a7837adf73ea497822688d1a4a4d6664c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a468fb4dd6e74481b4da0007bfc03cc9e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a468fb4dd6e74481b4da0007bfc03cc9e">MigrateAlarmDB</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db, const std::map&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a>, <a class="el" href="../../d0/df1/classpx_1_1CChannel.html">px::CChannel</a> &gt; &amp;channel_map, const std::map&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a>, <a class="el" href="../../d6/d5b/classpx_1_1CDevice.html">px::CDevice</a> &gt; &amp;device_map)</td></tr>
<tr class="separator:a468fb4dd6e74481b4da0007bfc03cc9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a926fbbd629f93d5abe84004b94e73a67"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a926fbbd629f93d5abe84004b94e73a67">MigrateAlarmIndexDB</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db)</td></tr>
<tr class="separator:a926fbbd629f93d5abe84004b94e73a67"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a43b0eabe2ca9553733020eae4ca8bc92"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a43b0eabe2ca9553733020eae4ca8bc92">AddOOBToBatch</a> (<a class="el" href="../../dc/d98/classpx_1_1db_1_1CBatch.html">CBatch</a> &amp;batch, const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;key, const px::proto::toolkitStruct &amp;value)</td></tr>
<tr class="memdesc:a43b0eabe2ca9553733020eae4ca8bc92"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up a <a class="el" href="../../dc/d98/classpx_1_1db_1_1CBatch.html" title="Batch of Database Operations. ">CBatch</a> update to the OOB-data persistent key-value store.  <a href="#a43b0eabe2ca9553733020eae4ca8bc92">More...</a><br/></td></tr>
<tr class="separator:a43b0eabe2ca9553733020eae4ca8bc92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1b6d301a05b606baf8fa79024c2b2af"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#aa1b6d301a05b606baf8fa79024c2b2af">AddClearOOBToBatch</a> (<a class="el" href="../../dc/d98/classpx_1_1db_1_1CBatch.html">CBatch</a> &amp;batch, const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;key)</td></tr>
<tr class="separator:aa1b6d301a05b606baf8fa79024c2b2af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a3caeb81045a161c4ca3ae5367cf2fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a6a3caeb81045a161c4ca3ae5367cf2fa">FetchOOB</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db, const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;key, px::proto::toolkitStruct &amp;data)</td></tr>
<tr class="memdesc:a6a3caeb81045a161c4ca3ae5367cf2fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch an OOB data value from the store.  <a href="#a6a3caeb81045a161c4ca3ae5367cf2fa">More...</a><br/></td></tr>
<tr class="separator:a6a3caeb81045a161c4ca3ae5367cf2fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a470e39b90682a339e8b6d08adacd6be2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> std::vector&lt; <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a470e39b90682a339e8b6d08adacd6be2">FetchOOBKeys</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db)</td></tr>
<tr class="memdesc:a470e39b90682a339e8b6d08adacd6be2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch a list of all keys in the persistent OOB database.  <a href="#a470e39b90682a339e8b6d08adacd6be2">More...</a><br/></td></tr>
<tr class="separator:a470e39b90682a339e8b6d08adacd6be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabb9a2536ad25c940762036f7ce7a1c6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#aabb9a2536ad25c940762036f7ce7a1c6">FetchOOBs</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db, std::map&lt; <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a>, px::proto::toolkitStruct &gt; &amp;map)</td></tr>
<tr class="memdesc:aabb9a2536ad25c940762036f7ce7a1c6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch all OOB objects from the database, into a map.  <a href="#aabb9a2536ad25c940762036f7ce7a1c6">More...</a><br/></td></tr>
<tr class="separator:aabb9a2536ad25c940762036f7ce7a1c6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac89825bd65a3662d17b2ba0fcc2912f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#ac89825bd65a3662d17b2ba0fcc2912f1">AddDeviceToBatch</a> (<a class="el" href="../../dc/d98/classpx_1_1db_1_1CBatch.html">CBatch</a> &amp;batch, const <a class="el" href="../../d6/d5b/classpx_1_1CDevice.html">px::CDevice</a> &amp;device)</td></tr>
<tr class="memdesc:ac89825bd65a3662d17b2ba0fcc2912f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up a <a class="el" href="../../dc/d98/classpx_1_1db_1_1CBatch.html" title="Batch of Database Operations. ">CBatch</a> update to the device database.  <a href="#ac89825bd65a3662d17b2ba0fcc2912f1">More...</a><br/></td></tr>
<tr class="separator:ac89825bd65a3662d17b2ba0fcc2912f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af106f95c7e819844ed1ea301d29da93e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#af106f95c7e819844ed1ea301d29da93e">AddDeleteDeviceToBatch</a> (<a class="el" href="../../dc/d98/classpx_1_1db_1_1CBatch.html">CBatch</a> &amp;batch, <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> device_id)</td></tr>
<tr class="memdesc:af106f95c7e819844ed1ea301d29da93e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up a <a class="el" href="../../dc/d98/classpx_1_1db_1_1CBatch.html" title="Batch of Database Operations. ">CBatch</a> update to the device database.  <a href="#af106f95c7e819844ed1ea301d29da93e">More...</a><br/></td></tr>
<tr class="separator:af106f95c7e819844ed1ea301d29da93e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a19fa53d84b23974c4c710bd52d140561"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a19fa53d84b23974c4c710bd52d140561">FetchDevices</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db, std::map&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a>, <a class="el" href="../../d6/d5b/classpx_1_1CDevice.html">px::CDevice</a> &gt; &amp;map)</td></tr>
<tr class="memdesc:a19fa53d84b23974c4c710bd52d140561"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch all devices from the database, into a map.  <a href="#a19fa53d84b23974c4c710bd52d140561">More...</a><br/></td></tr>
<tr class="separator:a19fa53d84b23974c4c710bd52d140561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a430af8388568fb169667e1ecb54c04ca"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a430af8388568fb169667e1ecb54c04ca">AddChannelToBatch</a> (<a class="el" href="../../dc/d98/classpx_1_1db_1_1CBatch.html">CBatch</a> &amp;batch, <a class="el" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a> &amp;mcl_iter, const <a class="el" href="../../d0/df1/classpx_1_1CChannel.html">px::CChannel</a> &amp;channel)</td></tr>
<tr class="memdesc:a430af8388568fb169667e1ecb54c04ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set up a <a class="el" href="../../dc/d98/classpx_1_1db_1_1CBatch.html" title="Batch of Database Operations. ">CBatch</a> update to the channel database.  <a href="#a430af8388568fb169667e1ecb54c04ca">More...</a><br/></td></tr>
<tr class="separator:a430af8388568fb169667e1ecb54c04ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1652e4fa6d725b981be0d04fb95c5d92"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a1652e4fa6d725b981be0d04fb95c5d92">AddDeleteChannelToBatch</a> (<a class="el" href="../../dc/d98/classpx_1_1db_1_1CBatch.html">CBatch</a> &amp;batch, <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> channel_id)</td></tr>
<tr class="separator:a1652e4fa6d725b981be0d04fb95c5d92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cccb6f2e1009c568cf67afbee95128c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a2cccb6f2e1009c568cf67afbee95128c">FetchChannels</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db, <a class="el" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a> &amp;mcl_iter, std::map&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a>, <a class="el" href="../../d0/df1/classpx_1_1CChannel.html">px::CChannel</a> &gt; &amp;map, std::map&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a>, <a class="el" href="../../d6/d5b/classpx_1_1CDevice.html">px::CDevice</a> &gt; &amp;devs)</td></tr>
<tr class="memdesc:a2cccb6f2e1009c568cf67afbee95128c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch all channels from the database, into a map.  <a href="#a2cccb6f2e1009c568cf67afbee95128c">More...</a><br/></td></tr>
<tr class="separator:a2cccb6f2e1009c568cf67afbee95128c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b00be9118b4d9267e6fbad61bafdcbd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> px::proto::MclEntry&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a8b00be9118b4d9267e6fbad61bafdcbd">FetchMCLEntry</a> (<a class="el" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a> &amp;mcl_iter, const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;channel_name)</td></tr>
<tr class="memdesc:a8b00be9118b4d9267e6fbad61bafdcbd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an MCL entry, in the form of a channel protobuf.  <a href="#a8b00be9118b4d9267e6fbad61bafdcbd">More...</a><br/></td></tr>
<tr class="separator:a8b00be9118b4d9267e6fbad61bafdcbd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2450822a558bb0d0ffa098631ac2bb1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> px::proto::CommandInfo&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#ae2450822a558bb0d0ffa098631ac2bb1">FetchCCLEntry</a> (<a class="el" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a> &amp;ccl_iter, const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;command_name)</td></tr>
<tr class="memdesc:ae2450822a558bb0d0ffa098631ac2bb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an CCL entry, in the form of a CommandInfo protobuf.  <a href="#ae2450822a558bb0d0ffa098631ac2bb1">More...</a><br/></td></tr>
<tr class="separator:ae2450822a558bb0d0ffa098631ac2bb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93f13745a5b812e64001d06e1a7f9cd6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a93f13745a5b812e64001d06e1a7f9cd6">QueryAlarms</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_db, <a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_index_db, size_t max_result_size, uint64_t start_global_count, const <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> *start_update_time, const <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> *end_update_time, const std::unordered_set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; *device_ids, const std::unordered_set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; *channel_ids, const std::set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; *alarm_ids, const std::set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; *exclude_alarm_ids, uint32_t starting_sequence_index, bool first_updates_only, bool go_backwards, std::vector&lt; <a class="el" href="../../da/d42/classpx_1_1CAlarmUpdate.html">px::CAlarmUpdate</a> &gt; &amp;result, const volatile bool &amp;exit_req, size_t *count_found=nullptr, bool count_all=false, uint32_t trigger_level=0, <a class="el" href="../../d2/d92/classpx_1_1CAlarmTriggerType.html">px::CAlarmTriggerType</a> trigger_type=<a class="el" href="../../de/dcb/namespacepx.html#acf6770f6d835c0c868d8be96d1771e3fafedb2d84cafe20862cb4399751a8a7e3">px::alarm_trigger_type::invalid</a>, bool gt_equal=false)</td></tr>
<tr class="memdesc:a93f13745a5b812e64001d06e1a7f9cd6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a list of alarm updates, that meet all of the specified criteria, from the alarm history database.  <a href="#a93f13745a5b812e64001d06e1a7f9cd6">More...</a><br/></td></tr>
<tr class="separator:a93f13745a5b812e64001d06e1a7f9cd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97e10ed3d67b9a51166333c04b4f0528"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a97e10ed3d67b9a51166333c04b4f0528">QueryAlarmsLatestUpdate</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_db, <a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_index_db, size_t max_result_size, uint64_t start_global_count, const <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> *start_first_occur_time, const <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> *end_first_occur_time, const std::unordered_set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; *device_ids, const std::unordered_set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; *channel_ids, const std::set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; *alarm_ids, const std::set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; *exclude_alarm_ids, std::vector&lt; <a class="el" href="../../da/d42/classpx_1_1CAlarmUpdate.html">px::CAlarmUpdate</a> &gt; &amp;result, const volatile bool &amp;exit_req, size_t *count_found, bool count_all, uint32_t trigger_level=0, <a class="el" href="../../d2/d92/classpx_1_1CAlarmTriggerType.html">px::CAlarmTriggerType</a> trigger_type=<a class="el" href="../../de/dcb/namespacepx.html#acf6770f6d835c0c868d8be96d1771e3fafedb2d84cafe20862cb4399751a8a7e3">px::alarm_trigger_type::invalid</a>, bool gt_equal=false)</td></tr>
<tr class="memdesc:a97e10ed3d67b9a51166333c04b4f0528"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given alarm parameters, return the most recent update for each matching entry in the database.  <a href="#a97e10ed3d67b9a51166333c04b4f0528">More...</a><br/></td></tr>
<tr class="separator:a97e10ed3d67b9a51166333c04b4f0528"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09b705764dd8fa39b21456323f916bf8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a09b705764dd8fa39b21456323f916bf8">LoadActiveAlarms</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_db, <a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_index_db, std::map&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a>, <a class="el" href="../../da/d42/classpx_1_1CAlarmUpdate.html">px::CAlarmUpdate</a> &gt; &amp;alarms)</td></tr>
<tr class="memdesc:a09b705764dd8fa39b21456323f916bf8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load active alarms from the database into the given map.  <a href="#a09b705764dd8fa39b21456323f916bf8">More...</a><br/></td></tr>
<tr class="separator:a09b705764dd8fa39b21456323f916bf8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8eb186bcace13964b0fcc41fae1181bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a8eb186bcace13964b0fcc41fae1181bd">SaveAlarmUpdates</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_db, <a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_index_db, const std::vector&lt; <a class="el" href="../../da/d42/classpx_1_1CAlarmUpdate.html">px::CAlarmUpdate</a> &gt; &amp;updates, const volatile bool &amp;exit_req)</td></tr>
<tr class="memdesc:a8eb186bcace13964b0fcc41fae1181bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add an alarm update to the history database, update the index DB as needed.  <a href="#a8eb186bcace13964b0fcc41fae1181bd">More...</a><br/></td></tr>
<tr class="separator:a8eb186bcace13964b0fcc41fae1181bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a814e7b6ae12d3b85bc175e433e155347"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a814e7b6ae12d3b85bc175e433e155347">NoteAlarmsToDelete</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_index_db, const std::unordered_set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; &amp;ids)</td></tr>
<tr class="memdesc:a814e7b6ae12d3b85bc175e433e155347"><td class="mdescLeft">&#160;</td><td class="mdescRight">Persistently note that alarms with these device and/or channel IDs are to be deleted.  <a href="#a814e7b6ae12d3b85bc175e433e155347">More...</a><br/></td></tr>
<tr class="separator:a814e7b6ae12d3b85bc175e433e155347"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a214da843080fb412145fcf1eb132020f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a214da843080fb412145fcf1eb132020f">DeleteAlarms</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_db, <a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_index_db, const std::unordered_set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; &amp;ids, const volatile bool &amp;exit_req)</td></tr>
<tr class="memdesc:a214da843080fb412145fcf1eb132020f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete alarm updates for the specified devices/channels.  <a href="#a214da843080fb412145fcf1eb132020f">More...</a><br/></td></tr>
<tr class="separator:a214da843080fb412145fcf1eb132020f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b8a6b083a67a3d2ee27b55698c9dc7a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a7b8a6b083a67a3d2ee27b55698c9dc7a">DeleteClosedAlarms</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_db, <a class="el" href="../../d6/d68/classpx_1_1cds_1_1CDeleteAlarms.html">px::cds::CDeleteAlarms</a> &amp;alms, const volatile bool &amp;exit_req, const std::unordered_set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; *device_ids=nullptr, const std::unordered_set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; *channel_ids=nullptr)</td></tr>
<tr class="memdesc:a7b8a6b083a67a3d2ee27b55698c9dc7a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete alarm updates, for the specified alarm ids or those which satify given crieria of end_time, level and keep_count.  <a href="#a7b8a6b083a67a3d2ee27b55698c9dc7a">More...</a><br/></td></tr>
<tr class="separator:a7b8a6b083a67a3d2ee27b55698c9dc7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29cbcaf28fcae52c3a9e1492e6e3219f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a29cbcaf28fcae52c3a9e1492e6e3219f">CleanupAlarms</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_db, <a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_index_db, uint32_t max_size, const volatile bool &amp;exit_req)</td></tr>
<tr class="memdesc:a29cbcaf28fcae52c3a9e1492e6e3219f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Roll off old alarms if the database has gotten too large.  <a href="#a29cbcaf28fcae52c3a9e1492e6e3219f">More...</a><br/></td></tr>
<tr class="separator:a29cbcaf28fcae52c3a9e1492e6e3219f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef84a690e2c78d11698ce19d0027c6cd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#aef84a690e2c78d11698ce19d0027c6cd">CheckIDDB</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;id_db, <a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;device_db, <a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;channel_db, <a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_db)</td></tr>
<tr class="memdesc:aef84a690e2c78d11698ce19d0027c6cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Double-check the ID database against the channel and device DBs, update the last-issued ID to be higher if necessary.  <a href="#aef84a690e2c78d11698ce19d0027c6cd">More...</a><br/></td></tr>
<tr class="separator:aef84a690e2c78d11698ce19d0027c6cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a708cb3f5e4608bfa09bf05dc3a8055e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> std::vector&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a708cb3f5e4608bfa09bf05dc3a8055e3">AllocateDeviceIDs</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;id_db, unsigned int num_requested)</td></tr>
<tr class="memdesc:a708cb3f5e4608bfa09bf05dc3a8055e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate device IDs.  <a href="#a708cb3f5e4608bfa09bf05dc3a8055e3">More...</a><br/></td></tr>
<tr class="separator:a708cb3f5e4608bfa09bf05dc3a8055e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7084a11cc3fa3544bd95d23cca4930a9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> std::vector&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a7084a11cc3fa3544bd95d23cca4930a9">AllocateChannelIDs</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;id_db, unsigned int num_requested)</td></tr>
<tr class="memdesc:a7084a11cc3fa3544bd95d23cca4930a9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate channel IDs.  <a href="#a7084a11cc3fa3544bd95d23cca4930a9">More...</a><br/></td></tr>
<tr class="separator:a7084a11cc3fa3544bd95d23cca4930a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a114f8fae2c1460cf167f6f1ac261f8e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> std::vector&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a114f8fae2c1460cf167f6f1ac261f8e5">AllocateAlarmIDs</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;id_db, unsigned int num_requested)</td></tr>
<tr class="memdesc:a114f8fae2c1460cf167f6f1ac261f8e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate alarm IDs.  <a href="#a114f8fae2c1460cf167f6f1ac261f8e5">More...</a><br/></td></tr>
<tr class="separator:a114f8fae2c1460cf167f6f1ac261f8e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a496e94654c3b269372ade9623c018c14"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> std::vector&lt; uint64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a496e94654c3b269372ade9623c018c14">AllocateGlobalCounts</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;id_db, unsigned int num_requested)</td></tr>
<tr class="memdesc:a496e94654c3b269372ade9623c018c14"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate alarm global counts.  <a href="#a496e94654c3b269372ade9623c018c14">More...</a><br/></td></tr>
<tr class="separator:a496e94654c3b269372ade9623c018c14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8108f5c71ac7a4d4e7f6ad21fcea47e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#aa8108f5c71ac7a4d4e7f6ad21fcea47e">ReserveDeviceIDs</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;id_db, const std::vector&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; &amp;ids)</td></tr>
<tr class="memdesc:aa8108f5c71ac7a4d4e7f6ad21fcea47e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserve a set of device IDs so that they will not be automatically assigned by <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a708cb3f5e4608bfa09bf05dc3a8055e3" title="Allocate device IDs. ">AllocateDeviceIDs()</a>.  <a href="#aa8108f5c71ac7a4d4e7f6ad21fcea47e">More...</a><br/></td></tr>
<tr class="separator:aa8108f5c71ac7a4d4e7f6ad21fcea47e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a17085176ca2aae11e701c509f48c6558"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a17085176ca2aae11e701c509f48c6558">ReserveChannelIDs</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;id_db, const std::vector&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; &amp;ids)</td></tr>
<tr class="memdesc:a17085176ca2aae11e701c509f48c6558"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserve a set of channel IDs so that they will not be automatically assigned by <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a7084a11cc3fa3544bd95d23cca4930a9" title="Allocate channel IDs. ">AllocateChannelIDs()</a>.  <a href="#a17085176ca2aae11e701c509f48c6558">More...</a><br/></td></tr>
<tr class="separator:a17085176ca2aae11e701c509f48c6558"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2cea3e029c4a66e221e55eb9a2adad70"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a2cea3e029c4a66e221e55eb9a2adad70">ReserveAlarmIDs</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;id_db, const std::vector&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; &amp;ids)</td></tr>
<tr class="memdesc:a2cea3e029c4a66e221e55eb9a2adad70"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserve a set of alarm IDs so that they will not be automatically assigned by <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a114f8fae2c1460cf167f6f1ac261f8e5" title="Allocate alarm IDs. ">AllocateAlarmIDs()</a>.  <a href="#a2cea3e029c4a66e221e55eb9a2adad70">More...</a><br/></td></tr>
<tr class="separator:a2cea3e029c4a66e221e55eb9a2adad70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a36a33e888f6ff806dd8936fdb86619"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a0a36a33e888f6ff806dd8936fdb86619">ReserveGlobalCounts</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;id_db, const std::vector&lt; uint64_t &gt; &amp;ids)</td></tr>
<tr class="memdesc:a0a36a33e888f6ff806dd8936fdb86619"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reserve a set of alarm global counts so that they will not be automatically assigned by <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a496e94654c3b269372ade9623c018c14" title="Allocate alarm global counts. ">AllocateGlobalCounts()</a>.  <a href="#a0a36a33e888f6ff806dd8936fdb86619">More...</a><br/></td></tr>
<tr class="separator:a0a36a33e888f6ff806dd8936fdb86619"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeef37d4e2a0bbb18461922b2900bd06"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#afeef37d4e2a0bbb18461922b2900bd06">AddTrendStageToBatch</a> (<a class="el" href="../../dc/d98/classpx_1_1db_1_1CBatch.html">CBatch</a> &amp;batch, std::vector&lt; std::shared_ptr&lt; <a class="el" href="../../d7/d19/classpx_1_1CTrendStageUpdate.html">px::CTrendStageUpdate</a> &gt; &gt; &amp;updates, int start_index=0, int end_index=-1)</td></tr>
<tr class="memdesc:afeef37d4e2a0bbb18461922b2900bd06"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the trends from the accumulators to the batch to be stored in trend stage db.  <a href="#afeef37d4e2a0bbb18461922b2900bd06">More...</a><br/></td></tr>
<tr class="separator:afeef37d4e2a0bbb18461922b2900bd06"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cf25e75f20f099af70e40e96951a66d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="el" href="../../d3/d5f/classpx_1_1CChannelTrends.html">px::CChannelTrends</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a7cf25e75f20f099af70e40e96951a66d">QueryTrendStage</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_stage_db, const uint32_t channel_id, uint32_t start_time, uint32_t end_time)</td></tr>
<tr class="memdesc:a7cf25e75f20f099af70e40e96951a66d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return a list of trends from the stage db, based on the channel id and time range.  <a href="#a7cf25e75f20f099af70e40e96951a66d">More...</a><br/></td></tr>
<tr class="separator:a7cf25e75f20f099af70e40e96951a66d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1a1ec10f40f632d89f5287523be11b55"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a1a1ec10f40f632d89f5287523be11b55">DumpHex</a> (std::ofstream &amp;file, const unsigned char *data, const int length)</td></tr>
<tr class="memdesc:a1a1ec10f40f632d89f5287523be11b55"><td class="mdescLeft">&#160;</td><td class="mdescRight">Dump the hex string from a binary blob.  <a href="#a1a1ec10f40f632d89f5287523be11b55">More...</a><br/></td></tr>
<tr class="separator:a1a1ec10f40f632d89f5287523be11b55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74569b6a7541050c44ac405426251f9b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a74569b6a7541050c44ac405426251f9b">ExportTrendStageRow</a> (const uint32_t channel_id, const uint32_t time, <a class="el" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a> &amp;iterator, std::ofstream &amp;file, const bool include_avg, const bool include_min, const bool include_max, const bool include_actual, unsigned int &amp;values_count)</td></tr>
<tr class="memdesc:a74569b6a7541050c44ac405426251f9b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export a record from the trend stage db to an opened file stream.  <a href="#a74569b6a7541050c44ac405426251f9b">More...</a><br/></td></tr>
<tr class="separator:a74569b6a7541050c44ac405426251f9b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73023e268dd036fb9cdf12f04942ff81"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a73023e268dd036fb9cdf12f04942ff81">ExportTrendStage</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_stage_db, std::ofstream &amp;file, const std::vector&lt; uint32_t &gt; &amp;channel_ids, uint32_t start_time, uint32_t end_time, const bool include_avg, const bool include_min, const bool include_max, const bool include_actual, const bool include_invalid, const unsigned int row_count_limit, bool &amp;more_data, unsigned int &amp;values_count, unsigned int &amp;row_count, const volatile bool &amp;exit_req)</td></tr>
<tr class="memdesc:a73023e268dd036fb9cdf12f04942ff81"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export all trends from the stage db to a csv file, returns the exported trends count.  <a href="#a73023e268dd036fb9cdf12f04942ff81">More...</a><br/></td></tr>
<tr class="separator:a73023e268dd036fb9cdf12f04942ff81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab42ef81a5e7a5a38e55ec3eceaf013a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#ab42ef81a5e7a5a38e55ec3eceaf013a2">ExportTrendStageHeaderRow</a> (std::ofstream &amp;file)</td></tr>
<tr class="memdesc:ab42ef81a5e7a5a38e55ec3eceaf013a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the header (title) row to the stage trends export CSV file: channel_id, time, mask, avg, min, max, actual.  <a href="#ab42ef81a5e7a5a38e55ec3eceaf013a2">More...</a><br/></td></tr>
<tr class="separator:ab42ef81a5e7a5a38e55ec3eceaf013a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8fd596352b15c8f3673666c5d6212b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#ab8fd596352b15c8f3673666c5d6212b9">ImportTrendStage</a> (const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;file_path, std::function&lt; void(std::vector&lt; std::shared_ptr&lt; <a class="el" href="../../d7/d19/classpx_1_1CTrendStageUpdate.html">px::CTrendStageUpdate</a> &gt; &gt; &amp;)&gt; func, int &amp;row_count, int &amp;value_count, const volatile bool &amp;exit_req)</td></tr>
<tr class="memdesc:ab8fd596352b15c8f3673666c5d6212b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Import trends from a csv file to the daily stage db(s) based on the timestamps; return the imported rows and values count.  <a href="#ab8fd596352b15c8f3673666c5d6212b9">More...</a><br/></td></tr>
<tr class="separator:ab8fd596352b15c8f3673666c5d6212b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76dc0348e2b016be0b1a5602a037c022"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a76dc0348e2b016be0b1a5602a037c022">ImportTrendBucket</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_bucket_db, const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;file_path, int &amp;row_count, int &amp;value_count, const volatile bool &amp;exit_req)</td></tr>
<tr class="memdesc:a76dc0348e2b016be0b1a5602a037c022"><td class="mdescLeft">&#160;</td><td class="mdescRight">Import trends from a csv file to the bucket db, return the imported rows and values count.  <a href="#a76dc0348e2b016be0b1a5602a037c022">More...</a><br/></td></tr>
<tr class="separator:a76dc0348e2b016be0b1a5602a037c022"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a2873c068af728840dc7693a9a71b53"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a7a2873c068af728840dc7693a9a71b53">AddTrendBucketToBatch</a> (<a class="el" href="../../dc/d98/classpx_1_1db_1_1CBatch.html">CBatch</a> &amp;batch, const std::shared_ptr&lt; <a class="el" href="../../d7/d98/classpx_1_1CTrendBucketUpdate.html">px::CTrendBucketUpdate</a> &gt; update)</td></tr>
<tr class="memdesc:a7a2873c068af728840dc7693a9a71b53"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add the trend bucket to the batch to be stored in the bucket db.  <a href="#a7a2873c068af728840dc7693a9a71b53">More...</a><br/></td></tr>
<tr class="separator:a7a2873c068af728840dc7693a9a71b53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66b55a4a6b7d9eac9f39658a50ffa602"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a66b55a4a6b7d9eac9f39658a50ffa602">StoreTrendBucketsToDb</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_bucket_db, const std::map&lt; uint32_t, std::shared_ptr&lt; <a class="el" href="../../d7/d98/classpx_1_1CTrendBucketUpdate.html">px::CTrendBucketUpdate</a> &gt; &gt; &amp;cache, bool sync_db, const volatile bool &amp;exit_req)</td></tr>
<tr class="memdesc:a66b55a4a6b7d9eac9f39658a50ffa602"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stores a list of buckets to the bucket db.  <a href="#a66b55a4a6b7d9eac9f39658a50ffa602">More...</a><br/></td></tr>
<tr class="separator:a66b55a4a6b7d9eac9f39658a50ffa602"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8231c6bdaafbf0c8cb8dc1ba2c7e78d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#ae8231c6bdaafbf0c8cb8dc1ba2c7e78d">SimulateTrendBucket</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_bucket_db, const std::vector&lt; uint32_t &gt; &amp;channel_ids, int period, const <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> &amp;start, const <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> &amp;end, int &amp;trends_count)</td></tr>
<tr class="memdesc:ae8231c6bdaafbf0c8cb8dc1ba2c7e78d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simulates the data to fill up the trend bucket.  <a href="#ae8231c6bdaafbf0c8cb8dc1ba2c7e78d">More...</a><br/></td></tr>
<tr class="separator:ae8231c6bdaafbf0c8cb8dc1ba2c7e78d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9c81d6004f662b5c242f8a27e2f8c13"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#ab9c81d6004f662b5c242f8a27e2f8c13">ReadTrendsFromBucketRow</a> (<a class="el" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a> &amp;iterator, std::vector&lt; <a class="el" href="../../d4/dfe/classpx_1_1CChannelTrend.html">px::CChannelTrend</a> &gt; &amp;result, const uint32_t bucket_end_time, const uint32_t start_minutes, const uint32_t end_minutes, const int request_period, const bool include_avg, const bool include_min, const bool include_max, const bool include_actual, int &amp;read_period, bool &amp;is_double, const unsigned int row_count_limit, unsigned int &amp;row_count, unsigned int &amp;rtn_values_count, bool newest_first=false, bool include_holes=true)</td></tr>
<tr class="memdesc:ab9c81d6004f662b5c242f8a27e2f8c13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read trends from a bucket row to the result, based on time range and traits.  <a href="#ab9c81d6004f662b5c242f8a27e2f8c13">More...</a><br/></td></tr>
<tr class="separator:ab9c81d6004f662b5c242f8a27e2f8c13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac536596e4c2592cf30ef67c2c8f89dfb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#ac536596e4c2592cf30ef67c2c8f89dfb">ReadTrendsFromStageRow</a> (<a class="el" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">px::db::CIterator</a> &amp;it, std::vector&lt; <a class="el" href="../../d4/dfe/classpx_1_1CChannelTrend.html">px::CChannelTrend</a> &gt; &amp;trends, const bool include_avg, const bool include_min, const bool include_max, const bool include_actual, bool &amp;is_double, unsigned int &amp;row_count, unsigned int &amp;rtn_values_count)</td></tr>
<tr class="memdesc:ac536596e4c2592cf30ef67c2c8f89dfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read trends from a stage row to the result, based on the traits.  <a href="#ac536596e4c2592cf30ef67c2c8f89dfb">More...</a><br/></td></tr>
<tr class="separator:ac536596e4c2592cf30ef67c2c8f89dfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b7c6c7992c484dd3bdedb01e40a7354"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a7b7c6c7992c484dd3bdedb01e40a7354">ExportTrendBucketHeaderRow</a> (std::ofstream &amp;file, const std::vector&lt; uint32_t &gt; &amp;channel_ids, const bool include_avg, const bool include_min, const bool include_max, const bool include_actual)</td></tr>
<tr class="memdesc:a7b7c6c7992c484dd3bdedb01e40a7354"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the header (title) row to the bucket trends export CSV file: channel_id, time, mask, avg, min, max, actual Channel IDs must not be empty.  <a href="#a7b7c6c7992c484dd3bdedb01e40a7354">More...</a><br/></td></tr>
<tr class="separator:a7b7c6c7992c484dd3bdedb01e40a7354"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5908b90e252a2f3eb15ce535d8bf31d2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a5908b90e252a2f3eb15ce535d8bf31d2">ExportTrendBucket</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_bucket_db, std::ofstream &amp;file, const std::vector&lt; uint32_t &gt; &amp;channel_ids, uint32_t start_minutes, uint32_t end_minutes, const bool include_avg, const bool include_min, const bool include_max, const bool include_actual, const unsigned int row_count_limit, bool &amp;more_data, unsigned int &amp;values_count, unsigned int &amp;row_count, const volatile bool &amp;exit_req)</td></tr>
<tr class="memdesc:a5908b90e252a2f3eb15ce535d8bf31d2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Export a list of channels' trends from the bucket db to a csv file, returns the exported trends count.  <a href="#a5908b90e252a2f3eb15ce535d8bf31d2">More...</a><br/></td></tr>
<tr class="separator:a5908b90e252a2f3eb15ce535d8bf31d2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22b24b7fc0dcc140d4fa0d22d98e870d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a22b24b7fc0dcc140d4fa0d22d98e870d">ExportTrendsHeaderRow</a> (std::ofstream &amp;file, const std::vector&lt; uint32_t &gt; &amp;channel_ids, const std::unordered_map&lt; uint32_t, uint32_t &gt; &amp;channel_device_map, const std::unordered_map&lt; uint32_t, <a class="el" href="../../de/dcb/namespacepx.html#ad163e7de283f0be13e9eb56171209aee">px::shared_string</a> &gt; &amp;channel_name_map, const std::unordered_map&lt; uint32_t, <a class="el" href="../../de/dcb/namespacepx.html#ad163e7de283f0be13e9eb56171209aee">px::shared_string</a> &gt; &amp;device_name_map, const bool separate_date_time, const bool include_period, const bool include_avg, const bool include_min, const bool include_min_time, const bool include_max, const bool include_max_time, const bool include_actual)</td></tr>
<tr class="memdesc:a22b24b7fc0dcc140d4fa0d22d98e870d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the header (title) row to the trends export (from bucket only) CSV file: time, period, channel_id(trait), channel_id(trait), ...  <a href="#a22b24b7fc0dcc140d4fa0d22d98e870d">More...</a><br/></td></tr>
<tr class="separator:a22b24b7fc0dcc140d4fa0d22d98e870d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20e3f9daab88a7333942fc05b64e1c39"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a20e3f9daab88a7333942fc05b64e1c39">ExportTrendsHeaderRow</a> (std::ofstream &amp;file, const std::vector&lt; uint32_t &gt; &amp;channel_ids, const std::unordered_map&lt; uint32_t, std::bitset&lt; 4 &gt; &gt; &amp;channel_traits_map, const std::unordered_map&lt; uint32_t, uint32_t &gt; &amp;channel_device_map, const std::unordered_map&lt; uint32_t, <a class="el" href="../../de/dcb/namespacepx.html#ad163e7de283f0be13e9eb56171209aee">px::shared_string</a> &gt; &amp;channel_name_map, const std::unordered_map&lt; uint32_t, <a class="el" href="../../de/dcb/namespacepx.html#ad163e7de283f0be13e9eb56171209aee">px::shared_string</a> &gt; &amp;device_name_map, const bool separate_date_time, const bool include_period, const bool include_avg, const bool include_min, const bool include_min_time, const bool include_max, const bool include_max_time, const bool include_actual)</td></tr>
<tr class="memdesc:a20e3f9daab88a7333942fc05b64e1c39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write the header (title) row to the trends export (from both stage and bucket) CSV file: time, period, channel_id(trait), channel_id(trait), ...  <a href="#a20e3f9daab88a7333942fc05b64e1c39">More...</a><br/></td></tr>
<tr class="separator:a20e3f9daab88a7333942fc05b64e1c39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91ad39211dbae5b4426f0efb6ce234e0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a91ad39211dbae5b4426f0efb6ce234e0">MoveTrendsFromStageToBucket</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_stage_db, <a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_bucket_db, uint32_t mature_minutes, const volatile bool &amp;exit_req)</td></tr>
<tr class="memdesc:a91ad39211dbae5b4426f0efb6ce234e0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move trends from stage to bucket if the timestamps are matured (older than the UTC today + 1 hour grace duration) The grace duration is added to avoid expensive out of order updates due to the clock adjustment, which is usually a few seconds.  <a href="#a91ad39211dbae5b4426f0efb6ce234e0">More...</a><br/></td></tr>
<tr class="separator:a91ad39211dbae5b4426f0efb6ce234e0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa13b76278af78582154e69c0d390498e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#aa13b76278af78582154e69c0d390498e">LevelupBucketTrends</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;bucket_db, const uint32_t time_threshold_5min, const uint32_t time_threshold_15min, const uint32_t time_threshold_60min, unsigned int &amp;count_5min, unsigned int &amp;count_15min, const volatile bool &amp;exit_req, const size_t num_trended_channels)</td></tr>
<tr class="memdesc:aa13b76278af78582154e69c0d390498e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Level up (replace) the bucket trends based on the age threshold for 5, 15, and 60 minutes.  <a href="#aa13b76278af78582154e69c0d390498e">More...</a><br/></td></tr>
<tr class="separator:aa13b76278af78582154e69c0d390498e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c296d3136bd6877fb4dd770ed3c57dd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a3c296d3136bd6877fb4dd770ed3c57dd">LevelupBucketTrendsRow</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;bucket_db, <a class="el" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a> &amp;it, const uint32_t channel_id, const uint32_t bucket_end_time, const int period)</td></tr>
<tr class="memdesc:a3c296d3136bd6877fb4dd770ed3c57dd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Level up (replace) the current bucket (pointed by the it) to the target period if haven't.  <a href="#a3c296d3136bd6877fb4dd770ed3c57dd">More...</a><br/></td></tr>
<tr class="separator:a3c296d3136bd6877fb4dd770ed3c57dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67cb580b2b87d15124a2e96ecd56d391"><td class="memItemLeft" align="right" valign="top">std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="../../d7/d98/classpx_1_1CTrendBucketUpdate.html">px::CTrendBucketUpdate</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a67cb580b2b87d15124a2e96ecd56d391">AggregateTrends</a> (const uint32_t channel_id, const uint32_t bucket_end_time, bool is_double, const std::vector&lt; <a class="el" href="../../d4/dfe/classpx_1_1CChannelTrend.html">px::CChannelTrend</a> &gt; &amp;trends, const unsigned int period, const unsigned int aggr_period)</td></tr>
<tr class="memdesc:a67cb580b2b87d15124a2e96ecd56d391"><td class="mdescLeft">&#160;</td><td class="mdescRight">Aggregate a list of trends from a period to an bigger period.  <a href="#a67cb580b2b87d15124a2e96ecd56d391">More...</a><br/></td></tr>
<tr class="separator:a67cb580b2b87d15124a2e96ecd56d391"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18f1b207b0a97f477f57841b01d16531"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a18f1b207b0a97f477f57841b01d16531">SeekTrendIterator</a> (<a class="el" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a> &amp;it, const uint32_t channel_id, const uint32_t time)</td></tr>
<tr class="memdesc:a18f1b207b0a97f477f57841b01d16531"><td class="mdescLeft">&#160;</td><td class="mdescRight">Move the iterator from the current position to the next position in either stage or bucket db.  <a href="#a18f1b207b0a97f477f57841b01d16531">More...</a><br/></td></tr>
<tr class="separator:a18f1b207b0a97f477f57841b01d16531"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f90113cdb4fad0481ef352c08460fa5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a6f90113cdb4fad0481ef352c08460fa5">ReadTrendKey</a> (<a class="el" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a> &amp;it, uint32_t &amp;channel_id, uint32_t &amp;time)</td></tr>
<tr class="memdesc:a6f90113cdb4fad0481ef352c08460fa5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the Key (channel id + key) from either stage or bucket db.  <a href="#a6f90113cdb4fad0481ef352c08460fa5">More...</a><br/></td></tr>
<tr class="separator:a6f90113cdb4fad0481ef352c08460fa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a263796df6f2644d46a40a9d8dc19dd20"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a263796df6f2644d46a40a9d8dc19dd20">DeleteTrends</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_bucket_db, const std::unordered_set&lt; uint32_t &gt; &amp;channel_ids, uint32_t start_day, uint32_t end_day, const volatile bool &amp;exit_req)</td></tr>
<tr class="memdesc:a263796df6f2644d46a40a9d8dc19dd20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete complete trend records, by date and channel, from bucket database.  <a href="#a263796df6f2644d46a40a9d8dc19dd20">More...</a><br/></td></tr>
<tr class="separator:a263796df6f2644d46a40a9d8dc19dd20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa4cb63e39f4152b9d8eb86a71904203f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#aa4cb63e39f4152b9d8eb86a71904203f">DeleteTrends</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_bucket_db, uint32_t start_day, uint32_t end_day, const volatile bool &amp;exit_req)</td></tr>
<tr class="memdesc:aa4cb63e39f4152b9d8eb86a71904203f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete complete trend records, by date, from bucket database.  <a href="#aa4cb63e39f4152b9d8eb86a71904203f">More...</a><br/></td></tr>
<tr class="separator:aa4cb63e39f4152b9d8eb86a71904203f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad7cc061b2a71f170f1549e0d2b00a54f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#ad7cc061b2a71f170f1549e0d2b00a54f">DeleteTrends</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_bucket_db, const uint32_t earlist_min, const std::unordered_set&lt; uint32_t &gt; &amp;existing_channels, const volatile bool &amp;exit_req)</td></tr>
<tr class="memdesc:ad7cc061b2a71f170f1549e0d2b00a54f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete the bucket trend records, if the date is ealier than the earlist_min, or if the channel is not in the set.  <a href="#ad7cc061b2a71f170f1549e0d2b00a54f">More...</a><br/></td></tr>
<tr class="separator:ad7cc061b2a71f170f1549e0d2b00a54f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93c327007ff894fa4691acbf52269ede"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a93c327007ff894fa4691acbf52269ede">get_normalized_interval_timestamp</a> (const <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> &amp;timestamp, const uint32_t aligned_minutes, uint32_t &amp;interval_timestamp, bool &amp;on_interval)</td></tr>
<tr class="memdesc:a93c327007ff894fa4691acbf52269ede"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the minutes since epoch, or zero if invalid, optionally aligned to an interval in minutes; and a flag indicating if the timestamp is exactly on that interval upper bound (only when aligned).  <a href="#a93c327007ff894fa4691acbf52269ede">More...</a><br/></td></tr>
<tr class="separator:a93c327007ff894fa4691acbf52269ede"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83fff4f193d97bae0980791d8f4c2230"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a83fff4f193d97bae0980791d8f4c2230">get_normalized_interval_timestamp</a> (const uint32_t minutes, const uint32_t aligned_minutes, uint32_t &amp;interval_timestamp, bool &amp;on_interval)</td></tr>
<tr class="memdesc:a83fff4f193d97bae0980791d8f4c2230"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the minutes since epoch, or zero if invalid, optionally aligned to an interval in minutes; and a flag indicating if the timestamp is exactly on that interval upper bound (only when aligned).  <a href="#a83fff4f193d97bae0980791d8f4c2230">More...</a><br/></td></tr>
<tr class="separator:a83fff4f193d97bae0980791d8f4c2230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f9f1d96a70d48fe6f75f4164b6cf967"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a3f9f1d96a70d48fe6f75f4164b6cf967">get_walltime</a> (const uint32_t minutes)</td></tr>
<tr class="memdesc:a3f9f1d96a70d48fe6f75f4164b6cf967"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html" title="Wall-clock time. ">CWallTime</a> from the minutes since 1970 UTC.  <a href="#a3f9f1d96a70d48fe6f75f4164b6cf967">More...</a><br/></td></tr>
<tr class="separator:a3f9f1d96a70d48fe6f75f4164b6cf967"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8a976ffdf9f8d00dd4355e098e4e4eb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#ab8a976ffdf9f8d00dd4355e098e4e4eb">get_walltime</a> (const <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> &amp;period_end_time, const uint32_t offset)</td></tr>
<tr class="memdesc:ab8a976ffdf9f8d00dd4355e098e4e4eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html" title="Wall-clock time. ">CWallTime</a> from the period end <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html" title="Wall-clock time. ">CWallTime</a> minus the 1/10 seconds offset.  <a href="#ab8a976ffdf9f8d00dd4355e098e4e4eb">More...</a><br/></td></tr>
<tr class="separator:ab8a976ffdf9f8d00dd4355e098e4e4eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a938740c1b9df44c752ac918ddd48c54b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> leveldb::Status&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a938740c1b9df44c752ac918ddd48c54b">DestroyDb</a> (const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;name)</td></tr>
<tr class="memdesc:a938740c1b9df44c752ac918ddd48c54b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Physically delete a database's folder/files.  <a href="#a938740c1b9df44c752ac918ddd48c54b">More...</a><br/></td></tr>
<tr class="separator:a938740c1b9df44c752ac918ddd48c54b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57832fd08a933dc74b9c10a5708d9395"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a57832fd08a933dc74b9c10a5708d9395">DoesKeyExist</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db, <a class="el" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html">CBlobHolder</a> &amp;key_blob)</td></tr>
<tr class="memdesc:a57832fd08a933dc74b9c10a5708d9395"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check to see if a key exists in the database.  <a href="#a57832fd08a933dc74b9c10a5708d9395">More...</a><br/></td></tr>
<tr class="separator:a57832fd08a933dc74b9c10a5708d9395"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80fc9917c0b931f7b42bb0c75ad93381"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a80fc9917c0b931f7b42bb0c75ad93381">DoesKeyExist</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db, const uint32_t channel_id, const uint32_t time)</td></tr>
<tr class="memdesc:a80fc9917c0b931f7b42bb0c75ad93381"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check to see if a key exists in the database.  <a href="#a80fc9917c0b931f7b42bb0c75ad93381">More...</a><br/></td></tr>
<tr class="separator:a80fc9917c0b931f7b42bb0c75ad93381"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3661c1f5f00a7a05b0a9e5aab2408873"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a3661c1f5f00a7a05b0a9e5aab2408873">IsTrendStageDbTombstoned</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db)</td></tr>
<tr class="memdesc:a3661c1f5f00a7a05b0a9e5aab2408873"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check to see if a Tombstone flag is set on a stage db.  <a href="#a3661c1f5f00a7a05b0a9e5aab2408873">More...</a><br/></td></tr>
<tr class="separator:a3661c1f5f00a7a05b0a9e5aab2408873"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe8862f1e7ecb587d569e77a15b93c30"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#abe8862f1e7ecb587d569e77a15b93c30">SetTrendStageDbTombstoned</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db, bool tombstoned)</td></tr>
<tr class="memdesc:abe8862f1e7ecb587d569e77a15b93c30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set or clear the tombstone flag on a stage db.  <a href="#abe8862f1e7ecb587d569e77a15b93c30">More...</a><br/></td></tr>
<tr class="separator:abe8862f1e7ecb587d569e77a15b93c30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add5000fae171b713d88b70cd73b1d4eb"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#add5000fae171b713d88b70cd73b1d4eb">u16be_to_buf</a> (unsigned char *buf, int offset, uint16_t val)</td></tr>
<tr class="separator:add5000fae171b713d88b70cd73b1d4eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a896f98e4264f2e0ccf2f3aed99b6e38c"><td class="memItemLeft" align="right" valign="top">static uint16_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a896f98e4264f2e0ccf2f3aed99b6e38c">buf_to_u16be</a> (const unsigned char *buf, int offset)</td></tr>
<tr class="separator:a896f98e4264f2e0ccf2f3aed99b6e38c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf853b7ce97adf0d46f786119548dc14"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14">buf_to_u32be</a> (const unsigned char *buf)</td></tr>
<tr class="separator:acf853b7ce97adf0d46f786119548dc14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa2c90d91c038b90a4e30d669add119a"><td class="memItemLeft" align="right" valign="top">static uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#afa2c90d91c038b90a4e30d669add119a">buf_to_u32be</a> (const unsigned char *buf, int offset)</td></tr>
<tr class="separator:afa2c90d91c038b90a4e30d669add119a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae7d454e296e7215f76964c7a9229217"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217">u32be_to_buf</a> (unsigned char *buf, uint32_t val)</td></tr>
<tr class="memdesc:aae7d454e296e7215f76964c7a9229217"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert 32-bit unsigned integer to 4 bytes big-endian.  <a href="#aae7d454e296e7215f76964c7a9229217">More...</a><br/></td></tr>
<tr class="separator:aae7d454e296e7215f76964c7a9229217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ac450e45c146de5a2e58cf3cf796cbc"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a5ac450e45c146de5a2e58cf3cf796cbc">u32be_to_buf</a> (unsigned char *buf, int offset, uint32_t val)</td></tr>
<tr class="memdesc:a5ac450e45c146de5a2e58cf3cf796cbc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert 32-bit unsigned integer to 4 bytes big-endian.  <a href="#a5ac450e45c146de5a2e58cf3cf796cbc">More...</a><br/></td></tr>
<tr class="separator:a5ac450e45c146de5a2e58cf3cf796cbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f88884d3c2c1e8742d84127c643887a"><td class="memItemLeft" align="right" valign="top">static uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a">buf_to_u64be</a> (const unsigned char *buf)</td></tr>
<tr class="separator:a8f88884d3c2c1e8742d84127c643887a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc70b7f9d0faa92257df2f1e52f4346d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d">u64be_to_buf</a> (unsigned char *buf, uint64_t val)</td></tr>
<tr class="memdesc:afc70b7f9d0faa92257df2f1e52f4346d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert 64-bit unsigned integer to 8 bytes big-endian.  <a href="#afc70b7f9d0faa92257df2f1e52f4346d">More...</a><br/></td></tr>
<tr class="separator:afc70b7f9d0faa92257df2f1e52f4346d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4815059705101ca27f7d269a31efc212"><td class="memItemLeft" align="right" valign="top">static uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a4815059705101ca27f7d269a31efc212">query_alarm_index_db</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_index_db, <a class="el" href="../../dd/d42/namespacepx_1_1db.html#ae610c5e23234d8799589231a676da47c">alarm_index_entry_type</a> type, uint64_t key_value, uint64_t *found_key_value)</td></tr>
<tr class="separator:a4815059705101ca27f7d269a31efc212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab72151bb0e3c48f309add250b71856b8"><td class="memItemLeft" align="right" valign="top">static std::vector&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#ab72151bb0e3c48f309add250b71856b8">allocate_ids</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;id_db, unsigned int num_requested, <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a0eabba4ecbaeb882e5bdadc036649228">id_type</a> type_requested)</td></tr>
<tr class="separator:ab72151bb0e3c48f309add250b71856b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93ba3c076a1eb2f2ea9985496cb33516"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a93ba3c076a1eb2f2ea9985496cb33516">reserve_ids</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;id_db, const std::vector&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; &amp;ids, <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a0eabba4ecbaeb882e5bdadc036649228">id_type</a> type_requested)</td></tr>
<tr class="separator:a93ba3c076a1eb2f2ea9985496cb33516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a100c87846c2377a23dc53dd9886aa8e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a100c87846c2377a23dc53dd9886aa8e2">compact_trend_bucket_channel_range</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_bucket_db, uint32_t start_channel, uint32_t end_channel)</td></tr>
<tr class="separator:a100c87846c2377a23dc53dd9886aa8e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa11df4828d85a633d4bd42165b49291d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#aa11df4828d85a633d4bd42165b49291d">DeleteTrendsInternal</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_bucket_db, const uint32_t start_min, const uint32_t end_min, const volatile bool &amp;exit_req, const std::unordered_set&lt; uint32_t &gt; &amp;keep_channels, const bool ignore_channels)</td></tr>
<tr class="separator:aa11df4828d85a633d4bd42165b49291d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82270cedcbbeb2e0ab881535db3c1780"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a82270cedcbbeb2e0ab881535db3c1780">LevelupBucketTrendsForChannel</a> (<a class="el" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;bucket_db, const uint32_t time_threshold_5min, const uint32_t time_threshold_15min, const uint32_t time_threshold_60min, unsigned int &amp;count_5min, unsigned int &amp;count_15min, const volatile bool &amp;exit_req, const uint32_t channel_id)</td></tr>
<tr class="separator:a82270cedcbbeb2e0ab881535db3c1780"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a128c9ca5666fecc5920a442de64c3cf9"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a128c9ca5666fecc5920a442de64c3cf9">device_db_name</a> = &quot;devices&quot;</td></tr>
<tr class="memdesc:a128c9ca5666fecc5920a442de64c3cf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Database file names, defined in <a class="el" href="../../d7/d3d/adapter_8cpp.html">adapter.cpp</a>.  <a href="#a128c9ca5666fecc5920a442de64c3cf9">More...</a><br/></td></tr>
<tr class="separator:a128c9ca5666fecc5920a442de64c3cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad670766f7b3dd189083630b97a36686f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#ad670766f7b3dd189083630b97a36686f">channel_db_name</a> = &quot;channels&quot;</td></tr>
<tr class="separator:ad670766f7b3dd189083630b97a36686f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d4022abc2cbba2d713d55409053c88a"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a8d4022abc2cbba2d713d55409053c88a">oob_db_name</a> = &quot;oob&quot;</td></tr>
<tr class="separator:a8d4022abc2cbba2d713d55409053c88a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeba76e5ed0ed29d3f0b5010c6dc4848f"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#aeba76e5ed0ed29d3f0b5010c6dc4848f">id_db_name</a> = &quot;ids&quot;</td></tr>
<tr class="separator:aeba76e5ed0ed29d3f0b5010c6dc4848f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21c1014e36ef9227b5cae562cb38d3af"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a21c1014e36ef9227b5cae562cb38d3af">alarm_db_name</a> = &quot;alarms&quot;</td></tr>
<tr class="separator:a21c1014e36ef9227b5cae562cb38d3af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad601ed35a324612417b1ebd86c9529bd"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#ad601ed35a324612417b1ebd86c9529bd">alarm_index_db_name</a> = &quot;alarm_index&quot;</td></tr>
<tr class="separator:ad601ed35a324612417b1ebd86c9529bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07acc5c35860db7534783a764c2774d6"><td class="memItemLeft" align="right" valign="top">const unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a07acc5c35860db7534783a764c2774d6">_avg_trend_mask</a> = 0x01</td></tr>
<tr class="separator:a07acc5c35860db7534783a764c2774d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3bb8100a666eeef012a3eea472e9886"><td class="memItemLeft" align="right" valign="top">const unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#ac3bb8100a666eeef012a3eea472e9886">_min_trend_mask</a> = 0x02</td></tr>
<tr class="separator:ac3bb8100a666eeef012a3eea472e9886"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae623235cf748b9b8f2230c6fbb6a4b99"><td class="memItemLeft" align="right" valign="top">const unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#ae623235cf748b9b8f2230c6fbb6a4b99">_max_trend_mask</a> = 0x04</td></tr>
<tr class="separator:ae623235cf748b9b8f2230c6fbb6a4b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeeca6bdd7cc6f158e44406c4723f9f1c"><td class="memItemLeft" align="right" valign="top">const unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#aeeca6bdd7cc6f158e44406c4723f9f1c">_actual_trend_mask</a> = 0x08</td></tr>
<tr class="separator:aeeca6bdd7cc6f158e44406c4723f9f1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5ca8afea6f40d2310afbb2042458e14"><td class="memItemLeft" align="right" valign="top">const unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#ab5ca8afea6f40d2310afbb2042458e14">_null_trend_mask</a> = 0x10</td></tr>
<tr class="separator:ab5ca8afea6f40d2310afbb2042458e14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42199392c51b4b412f06ba540122e754"><td class="memItemLeft" align="right" valign="top">const unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a42199392c51b4b412f06ba540122e754">_double_trend_mask</a> = 0x80</td></tr>
<tr class="separator:a42199392c51b4b412f06ba540122e754"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d18ca988b5f6d207bc6570a4bd5bf9f"><td class="memItemLeft" align="right" valign="top">const unsigned char&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a8d18ca988b5f6d207bc6570a4bd5bf9f">_tomestone</a> = 0x00</td></tr>
<tr class="separator:a8d18ca988b5f6d207bc6570a4bd5bf9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6474a935aac0d3a13755025e7853e51"><td class="memItemLeft" align="right" valign="top">const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#ac6474a935aac0d3a13755025e7853e51">_avg_bit</a> = 0</td></tr>
<tr class="separator:ac6474a935aac0d3a13755025e7853e51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae2962ce6ae68e4838374e84e585dc9e2"><td class="memItemLeft" align="right" valign="top">const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#ae2962ce6ae68e4838374e84e585dc9e2">_min_bit</a> = 1</td></tr>
<tr class="separator:ae2962ce6ae68e4838374e84e585dc9e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04ee8b95c8077f32abc2b9971650a15d"><td class="memItemLeft" align="right" valign="top">const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a04ee8b95c8077f32abc2b9971650a15d">_max_bit</a> = 2</td></tr>
<tr class="separator:a04ee8b95c8077f32abc2b9971650a15d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af45bd33ae0d53eebcd0c91f8735f3685"><td class="memItemLeft" align="right" valign="top">const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#af45bd33ae0d53eebcd0c91f8735f3685">_actual_bit</a> = 3</td></tr>
<tr class="separator:af45bd33ae0d53eebcd0c91f8735f3685"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa396260290b178fb4ef0efaf16a3cfe3"><td class="memItemLeft" align="right" valign="top">static std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d42/namespacepx_1_1db.html#aa396260290b178fb4ef0efaf16a3cfe3">id_db_mutex</a></td></tr>
<tr class="separator:aa396260290b178fb4ef0efaf16a3cfe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="../../dd/d42/namespacepx_1_1db.html" title="px::db is the namespace for all the classes that provide the database access for Power Xpert Toolkit ...">px::db</a> is the namespace for all the classes that provide the database access for Power Xpert Toolkit applications. </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="ae610c5e23234d8799589231a676da47c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dd/d42/namespacepx_1_1db.html#ae610c5e23234d8799589231a676da47c">px::db::alarm_index_entry_type</a> : uint8_t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="ae610c5e23234d8799589231a676da47cab1f918f644e267913e1cd1eb37e6a0ed"></a>alarm_id</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ae610c5e23234d8799589231a676da47cad7e6d55ba379a13d08c25d15faf2a23b"></a>timestamp</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ae610c5e23234d8799589231a676da47caef751cbada81671dcc9e90ff81604f0c"></a>deletion_note</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="ae610c5e23234d8799589231a676da47ca90227014eb13f654b3e38a43cbe644ba"></a>open_scan_start_point</em>&nbsp;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00833">833</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0eabba4ecbaeb882e5bdadc036649228"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a0eabba4ecbaeb882e5bdadc036649228">px::db::id_type</a> : uint8_t</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a0eabba4ecbaeb882e5bdadc036649228a79ee940199f413266525c2025ecd8e36"></a>devicechannel</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a0eabba4ecbaeb882e5bdadc036649228a6486b4e98228b83d4b13d54febe5f170"></a>alarm</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a0eabba4ecbaeb882e5bdadc036649228a5c5abf046eda6bf8699d78b698234568"></a>globalcount</em>&nbsp;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02267">2267</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a721672afeb1ee18749143e1c1443f62a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t px::db::GetSchemaVersion </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>key_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>def_ver</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get/set schema version for a database. </p>
<p>This is always stored with a key of "key_len" zeroes, and data of big-endian uint32 version number. GetSchemaVersion will add a version tag of "def_ver" to the DB if none is found. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00132">132</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00053">buf_to_u32be()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00090">px::db::CIterator::seek()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00114">SetSchemaVersion()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00731">MigrateAlarmDB()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00800">MigrateAlarmIndexDB()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00228">MigrateChannelDB()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00175">MigrateDeviceDB()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00309">MigrateIDDB()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00163">MigrateOOBDB()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a721672afeb1ee18749143e1c1443f62a_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a721672afeb1ee18749143e1c1443f62a_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a721672afeb1ee18749143e1c1443f62a_cgraph" id="dd/d42/namespacepx_1_1db_a721672afeb1ee18749143e1c1443f62a_cgraph">
<area shape="rect" id="node2" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="503,289,654,330"/><area shape="rect" id="node3" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="265,56,423,83"/><area shape="rect" id="node4" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="257,107,431,149"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="277,173,411,214"/><area shape="rect" id="node6" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="277,238,411,279"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="261,5,427,32"/><area shape="rect" id="node9" href="../../dd/d42/namespacepx_1_1db.html#aba58c266158ad63cf3a6669098ec05ee" title="px::db::SetSchemaVersion" alt="" coords="249,355,439,381"/><area shape="rect" id="node13" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="277,406,411,447"/><area shape="rect" id="node14" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="277,471,411,513"/><area shape="rect" id="node15" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="277,537,411,578"/><area shape="rect" id="node8" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="489,5,669,32"/><area shape="rect" id="node10" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="499,472,658,499"/><area shape="rect" id="node11" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="505,355,653,381"/><area shape="rect" id="node12" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="492,406,665,447"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aba58c266158ad63cf3a6669098ec05ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::SetSchemaVersion </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>key_len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>version</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00114">114</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00036">px::db::CBatch::add()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00068">u32be_to_buf()</a>, and <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00097">px::db::CKeyValueStore::write()</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00132">GetSchemaVersion()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00731">MigrateAlarmDB()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00228">MigrateChannelDB()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00175">MigrateDeviceDB()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_aba58c266158ad63cf3a6669098ec05ee_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_aba58c266158ad63cf3a6669098ec05ee_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_aba58c266158ad63cf3a6669098ec05ee_cgraph" id="dd/d42/namespacepx_1_1db_aba58c266158ad63cf3a6669098ec05ee_cgraph">
<area shape="rect" id="node2" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="258,5,406,32"/><area shape="rect" id="node3" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="257,57,407,98"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="253,123,411,149"/><area shape="rect" id="node5" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="245,174,419,215"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a843ee7c2d154dec5b7b8cdea2697eaf7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::MigrateOOBDB </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given one of our databases, check to see if migration is needed, and perform such migration if so. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00163">163</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00132">GetSchemaVersion()</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d2f/perf____adapter_8cpp_source.html#l00045">BOOST_AUTO_TEST_CASE()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a843ee7c2d154dec5b7b8cdea2697eaf7_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a843ee7c2d154dec5b7b8cdea2697eaf7_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a843ee7c2d154dec5b7b8cdea2697eaf7_cgraph" id="dd/d42/namespacepx_1_1db_a843ee7c2d154dec5b7b8cdea2697eaf7_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a721672afeb1ee18749143e1c1443f62a" title="Get/set schema version for a database. " alt="" coords="222,275,415,301"/><area shape="rect" id="node3" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="719,289,870,330"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="481,56,639,83"/><area shape="rect" id="node5" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="473,107,647,149"/><area shape="rect" id="node6" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="493,173,627,214"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="493,238,627,279"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="477,5,643,32"/><area shape="rect" id="node10" href="../../dd/d42/namespacepx_1_1db.html#aba58c266158ad63cf3a6669098ec05ee" title="px::db::SetSchemaVersion" alt="" coords="465,355,655,381"/><area shape="rect" id="node14" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="493,406,627,447"/><area shape="rect" id="node15" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="493,471,627,513"/><area shape="rect" id="node16" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="493,537,627,578"/><area shape="rect" id="node9" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="705,5,885,32"/><area shape="rect" id="node11" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="721,472,869,499"/><area shape="rect" id="node12" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="715,355,874,381"/><area shape="rect" id="node13" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="708,406,881,447"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab4055838ad2810a85a19859c78ed63cb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::MigrateDeviceDB </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00175">175</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00440">AddDeviceToBatch()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00181">px::db::CKeyValueStore::compact()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00066">px::db::CIterator::first()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00132">GetSchemaVersion()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, <a class="el" href="../../d1/d22/wall__time_8cpp_source.html#l00010">px::CWallTime::now()</a>, <a class="el" href="../../d3/dd4/device_8cpp_source.html#l00974">px::CDevice::set_inherited_state()</a>, <a class="el" href="../../d3/dd4/device_8cpp_source.html#l00966">px::CDevice::set_state()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00114">SetSchemaVersion()</a>, <a class="el" href="../../d5/d08/device_8hpp_source.html#l00411">px::CDevice::state_timestamp</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>, and <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00097">px::db::CKeyValueStore::write()</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d2f/perf____adapter_8cpp_source.html#l00365">BOOST_AUTO_TEST_CASE()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_ab4055838ad2810a85a19859c78ed63cb_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_ab4055838ad2810a85a19859c78ed63cb_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_ab4055838ad2810a85a19859c78ed63cb_cgraph" id="dd/d42/namespacepx_1_1db_ab4055838ad2810a85a19859c78ed63cb_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#ac89825bd65a3662d17b2ba0fcc2912f1" title="Set up a CBatch update to the device database. " alt="" coords="239,183,430,209"/><area shape="rect" id="node10" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#acdc3edf507cabe46b2f300dd16fbab8c" title="Compact the database from begin_key to end_key. " alt="" coords="248,969,421,1010"/><area shape="rect" id="node13" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a434fd27eeed52b354e0ee1147cffed2d" title="Find the first entry in the table/database. " alt="" coords="267,1034,402,1075"/><area shape="rect" id="node14" href="../../dd/d42/namespacepx_1_1db.html#a721672afeb1ee18749143e1c1443f62a" title="Get/set schema version for a database. " alt="" coords="238,711,431,737"/><area shape="rect" id="node17" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="489,478,663,519"/><area shape="rect" id="node18" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="509,543,643,585"/><area shape="rect" id="node19" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="509,762,643,803"/><area shape="rect" id="node27" href="../../d9/d7d/classpx_1_1CWallTime.html#a4452bc7e8e4fbb8c976f5763269593e7" title="Factory function to create a new CWallTime instance set to &quot;now&quot;. " alt="" coords="259,1100,410,1127"/><area shape="rect" id="node28" href="../../d6/d5b/classpx_1_1CDevice.html#af415b4387c92c27e7c05585954a754a7" title="px::CDevice::set_inherited\l_state" alt="" coords="238,1151,431,1193"/><area shape="rect" id="node29" href="../../d6/d5b/classpx_1_1CDevice.html#a806bd549a06559074ccae14be9afd925" title="Set the device&#39;s own_state. " alt="" coords="251,1217,419,1244"/><area shape="rect" id="node21" href="../../dd/d42/namespacepx_1_1db.html#aba58c266158ad63cf3a6669098ec05ee" title="px::db::SetSchemaVersion" alt="" coords="481,427,671,453"/><area shape="rect" id="node24" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="509,827,643,869"/><area shape="rect" id="node25" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="509,893,643,934"/><area shape="rect" id="node26" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="509,958,643,999"/><area shape="rect" id="node23" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="724,369,897,410"/><area shape="rect" id="node3" href="../../d6/d5b/classpx_1_1CDevice.html#ab836878b0d7f55ad3d16b937994f3df0" title="Getter for device ID. " alt="" coords="516,157,636,184"/><area shape="rect" id="node4" href="../../d6/d5b/classpx_1_1CDevice.html#a3fe65f60bec8278eeaf05b6d5daea3b2" title="Initialize a protobuf Device object from this Device. " alt="" coords="515,208,637,235"/><area shape="rect" id="node5" href="../../d6/d5b/classpx_1_1CDevice.html#a04de4b78f3899cfbd18686e8f4e87e9d" title="px::CDevice::get_own\l_state" alt="" coords="495,259,657,301"/><area shape="rect" id="node6" href="../../dd/d57/classpx_1_1CBitset.html#a08db492abafd7512bfb4fe26bc459356" title="Initialize a protobuf message object from this bitset. " alt="" coords="519,325,633,352"/><area shape="rect" id="node7" href="../../d6/d4e/classpx_1_1CTimestamp.html#a53e085363ec11eef704d9a99f1d82c69" title="Initialize a protobuf Timestamp object from this value. " alt="" coords="501,5,651,32"/><area shape="rect" id="node8" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="497,56,655,83"/><area shape="rect" id="node9" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="737,212,885,239"/><area shape="rect" id="node11" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="721,791,901,817"/><area shape="rect" id="node12" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="501,1075,651,1117"/><area shape="rect" id="node15" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="735,573,886,614"/><area shape="rect" id="node16" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="497,609,655,636"/><area shape="rect" id="node20" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="493,711,659,737"/><area shape="rect" id="node22" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="731,435,890,461"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad75dbada9c2906c339d881bcd5b64727"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::MigrateChannelDB </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CIterator &amp;&#160;</td>
          <td class="paramname"><em>mcl_iter</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00228">228</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00527">AddChannelToBatch()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00181">px::db::CKeyValueStore::compact()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00066">px::db::CIterator::first()</a>, <a class="el" href="../../d6/d86/bitset_8hpp_source.html#l00331">px::CBitset&lt; T &gt;::from()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00132">GetSchemaVersion()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, <a class="el" href="../../de/dcb/namespacepx.html#a60cb4a870ad1ada57e20d9e76de5578ca0c161174c6857de22a3653e43574df78">px::not_communicating</a>, <a class="el" href="../../dd/d5f/channel_8cpp_source.html#l00401">px::CChannel::set_state()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00114">SetSchemaVersion()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>, and <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00097">px::db::CKeyValueStore::write()</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d2f/perf____adapter_8cpp_source.html#l00365">BOOST_AUTO_TEST_CASE()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_ad75dbada9c2906c339d881bcd5b64727_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_ad75dbada9c2906c339d881bcd5b64727_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_ad75dbada9c2906c339d881bcd5b64727_cgraph" id="dd/d42/namespacepx_1_1db_ad75dbada9c2906c339d881bcd5b64727_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a430af8388568fb169667e1ecb54c04ca" title="Set up a CBatch update to the channel database. " alt="" coords="246,1151,445,1178"/><area shape="rect" id="node23" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#acdc3edf507cabe46b2f300dd16fbab8c" title="Compact the database from begin_key to end_key. " alt="" coords="259,833,432,874"/><area shape="rect" id="node25" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a434fd27eeed52b354e0ee1147cffed2d" title="Find the first entry in the table/database. " alt="" coords="278,1413,413,1454"/><area shape="rect" id="node26" href="../../dd/d57/classpx_1_1CBitset.html#a26e16c0d4766404badb5fb2c3a2c585d" title="Assign this object&#39;s bitset based on a protobuf message object. " alt="" coords="279,1479,411,1506"/><area shape="rect" id="node27" href="../../dd/d42/namespacepx_1_1db.html#a721672afeb1ee18749143e1c1443f62a" title="Get/set schema version for a database. " alt="" coords="249,384,442,411"/><area shape="rect" id="node29" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="503,65,676,106"/><area shape="rect" id="node12" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="753,276,887,317"/><area shape="rect" id="node11" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="753,428,887,469"/><area shape="rect" id="node33" href="../../d0/df1/classpx_1_1CChannel.html#a0c80714e0adbd0fe0589a44116e42d76" title="Set the channel&#39;s own_state. " alt="" coords="257,1530,433,1556"/><area shape="rect" id="node30" href="../../dd/d42/namespacepx_1_1db.html#aba58c266158ad63cf3a6669098ec05ee" title="px::db::SetSchemaVersion" alt="" coords="494,131,685,158"/><area shape="rect" id="node10" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="753,545,887,586"/><area shape="rect" id="node13" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="753,778,887,820"/><area shape="rect" id="node14" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="753,713,887,754"/><area shape="rect" id="node32" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="733,18,907,60"/><area shape="rect" id="node3" href="../../d0/df1/classpx_1_1CChannel.html#a1e10e9dd969a77b9cf1cb05d59214572" title="Retreive unique channel ID. " alt="" coords="525,1278,653,1304"/><area shape="rect" id="node4" href="../../d0/df1/classpx_1_1CChannel.html#aee5adde61cbc85711a9d17ba03f195e5" title="Create protobuf object. " alt="" coords="525,1328,654,1355"/><area shape="rect" id="node5" href="../../dd/d42/namespacepx_1_1db.html#a8b00be9118b4d9267e6fbad61bafdcbd" title="Get an MCL entry, in the form of a channel protobuf. " alt="" coords="507,638,672,664"/><area shape="rect" id="node15" href="../../d4/d8a/classpx_1_1CProtoOPS.html#a5f54e3a759a29bbe35041818f233d11e" title="List all fields set in &quot;ref&quot; but not in &quot;pb&quot;. " alt="" coords="497,1060,681,1101"/><area shape="rect" id="node16" href="../../d4/d8a/classpx_1_1CProtoOPS.html#a36ef6667d04120f6e8805c225e0670f6" title="Remove any fields from &quot;pb&quot; containing the same values as &quot;ref&quot;. " alt="" coords="501,1126,678,1152"/><area shape="rect" id="node17" href="../../d0/df1/classpx_1_1CChannel.html#a576ad97e2be4c0f72bfe8c63f1bee7ad" title="px::CChannel::get_own\l_state" alt="" coords="504,1430,675,1472"/><area shape="rect" id="node18" href="../../dd/d57/classpx_1_1CBitset.html#a08db492abafd7512bfb4fe26bc459356" title="Initialize a protobuf message object from this bitset. " alt="" coords="532,1008,647,1035"/><area shape="rect" id="node19" href="../../db/dd9/classpx_1_1CValue.html#a2bf2af6e6d3bcc5bd7afe4ad7e9c3022" title="Internal conversion to alternate type. " alt="" coords="533,1176,645,1203"/><area shape="rect" id="node20" href="../../d6/d4e/classpx_1_1CTimestamp.html#a53e085363ec11eef704d9a99f1d82c69" title="Initialize a protobuf Timestamp object from this value. " alt="" coords="514,1227,665,1254"/><area shape="rect" id="node21" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="510,1379,669,1406"/><area shape="rect" id="node22" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="746,146,894,172"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="745,197,895,238"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="737,662,903,688"/><area shape="rect" id="node9" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6" title="px::generic_err::what" alt="" coords="741,611,899,638"/><area shape="rect" id="node8" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="955,754,1135,780"/><area shape="rect" id="node24" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="514,892,665,933"/><area shape="rect" id="node28" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="510,384,669,411"/><area shape="rect" id="node31" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="741,95,899,122"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7837adf73ea497822688d1a4a4d6664c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::MigrateIDDB </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00309">309</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00132">GetSchemaVersion()</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d2f/perf____adapter_8cpp_source.html#l00365">BOOST_AUTO_TEST_CASE()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a7837adf73ea497822688d1a4a4d6664c_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a7837adf73ea497822688d1a4a4d6664c_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a7837adf73ea497822688d1a4a4d6664c_cgraph" id="dd/d42/namespacepx_1_1db_a7837adf73ea497822688d1a4a4d6664c_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a721672afeb1ee18749143e1c1443f62a" title="Get/set schema version for a database. " alt="" coords="206,275,399,301"/><area shape="rect" id="node3" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="703,289,854,330"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="465,56,623,83"/><area shape="rect" id="node5" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="457,107,631,149"/><area shape="rect" id="node6" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="477,173,611,214"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="477,238,611,279"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="461,5,627,32"/><area shape="rect" id="node10" href="../../dd/d42/namespacepx_1_1db.html#aba58c266158ad63cf3a6669098ec05ee" title="px::db::SetSchemaVersion" alt="" coords="449,355,639,381"/><area shape="rect" id="node14" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="477,406,611,447"/><area shape="rect" id="node15" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="477,471,611,513"/><area shape="rect" id="node16" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="477,537,611,578"/><area shape="rect" id="node9" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="689,5,869,32"/><area shape="rect" id="node11" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="705,472,853,499"/><area shape="rect" id="node12" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="699,355,858,381"/><area shape="rect" id="node13" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="692,406,865,447"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a468fb4dd6e74481b4da0007bfc03cc9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::MigrateAlarmDB </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a>, <a class="el" href="../../d0/df1/classpx_1_1CChannel.html">px::CChannel</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>channel_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a>, <a class="el" href="../../d6/d5b/classpx_1_1CDevice.html">px::CDevice</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>device_map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00731">731</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00087">buf_to_u64be()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00181">px::db::CKeyValueStore::compact()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00066">px::db::CIterator::first()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00132">GetSchemaVersion()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00180">LIBPX_ERR</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00192">LIBPX_INFO</a>, <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00061">px::db::CBatch::remove()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00114">SetSchemaVersion()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>, <a class="el" href="../../d7/d1e/exception_8hpp_source.html#l00064">px::generic_err::what()</a>, and <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00097">px::db::CKeyValueStore::write()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a468fb4dd6e74481b4da0007bfc03cc9e_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a468fb4dd6e74481b4da0007bfc03cc9e_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a468fb4dd6e74481b4da0007bfc03cc9e_cgraph" id="dd/d42/namespacepx_1_1db_a468fb4dd6e74481b4da0007bfc03cc9e_cgraph">
<area shape="rect" id="node2" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="730,285,881,326"/><area shape="rect" id="node3" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a" title="px::db::buf_to_u64be" alt="" coords="250,114,409,140"/><area shape="rect" id="node5" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#acdc3edf507cabe46b2f300dd16fbab8c" title="Compact the database from begin_key to end_key. " alt="" coords="243,634,416,676"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a434fd27eeed52b354e0ee1147cffed2d" title="Find the first entry in the table/database. " alt="" coords="262,700,397,741"/><area shape="rect" id="node9" href="../../dd/d42/namespacepx_1_1db.html#a721672afeb1ee18749143e1c1443f62a" title="Get/set schema version for a database. " alt="" coords="233,380,426,407"/><area shape="rect" id="node10" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="484,161,657,202"/><area shape="rect" id="node11" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="503,226,638,268"/><area shape="rect" id="node12" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="503,445,638,486"/><area shape="rect" id="node21" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#afd72087dcce948a0883a933125f378c8" title="Remove entries from the database (the key will be duplicated in the buffer) " alt="" coords="242,766,417,792"/><area shape="rect" id="node14" href="../../dd/d42/namespacepx_1_1db.html#aba58c266158ad63cf3a6669098ec05ee" title="px::db::SetSchemaVersion" alt="" coords="475,292,666,319"/><area shape="rect" id="node18" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="503,510,638,552"/><area shape="rect" id="node19" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="503,576,638,617"/><area shape="rect" id="node20" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="503,641,638,682"/><area shape="rect" id="node22" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6" title="px::generic_err::what" alt="" coords="250,816,409,843"/><area shape="rect" id="node17" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="719,85,892,126"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="491,110,650,136"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="715,554,895,580"/><area shape="rect" id="node7" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="495,758,646,800"/><area shape="rect" id="node13" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="487,394,654,420"/><area shape="rect" id="node15" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="731,351,879,378"/><area shape="rect" id="node16" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="726,234,885,260"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a926fbbd629f93d5abe84004b94e73a67"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::MigrateAlarmIndexDB </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00800">800</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00132">GetSchemaVersion()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a926fbbd629f93d5abe84004b94e73a67_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a926fbbd629f93d5abe84004b94e73a67_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a926fbbd629f93d5abe84004b94e73a67_cgraph" id="dd/d42/namespacepx_1_1db_a926fbbd629f93d5abe84004b94e73a67_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a721672afeb1ee18749143e1c1443f62a" title="Get/set schema version for a database. " alt="" coords="267,275,461,301"/><area shape="rect" id="node3" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="765,289,915,330"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="526,56,685,83"/><area shape="rect" id="node5" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="519,107,692,149"/><area shape="rect" id="node6" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="538,173,673,214"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="538,238,673,279"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="522,5,689,32"/><area shape="rect" id="node10" href="../../dd/d42/namespacepx_1_1db.html#aba58c266158ad63cf3a6669098ec05ee" title="px::db::SetSchemaVersion" alt="" coords="510,355,701,381"/><area shape="rect" id="node14" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="538,406,673,447"/><area shape="rect" id="node15" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="538,471,673,513"/><area shape="rect" id="node16" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="538,537,673,578"/><area shape="rect" id="node9" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="750,5,930,32"/><area shape="rect" id="node11" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="766,472,914,499"/><area shape="rect" id="node12" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="761,355,919,381"/><area shape="rect" id="node13" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="753,406,927,447"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a43b0eabe2ca9553733020eae4ca8bc92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::AddOOBToBatch </td>
          <td>(</td>
          <td class="paramtype">CBatch &amp;&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::proto::toolkitStruct &amp;&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up a <a class="el" href="../../dc/d98/classpx_1_1db_1_1CBatch.html" title="Batch of Database Operations. ">CBatch</a> update to the OOB-data persistent key-value store. </p>
<p>See <a class="el" href="../../d7/d3d/adapter_8cpp.html">adapter.cpp</a> for on-disk data format.</p>
<p>OOB key must not be empty. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00328">328</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00036">px::db::CBatch::add()</a>, and <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d2f/perf____adapter_8cpp_source.html#l00045">BOOST_AUTO_TEST_CASE()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a43b0eabe2ca9553733020eae4ca8bc92_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a43b0eabe2ca9553733020eae4ca8bc92_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a43b0eabe2ca9553733020eae4ca8bc92_cgraph" id="dd/d42/namespacepx_1_1db_a43b0eabe2ca9553733020eae4ca8bc92_cgraph">
<area shape="rect" id="node2" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="230,5,378,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa1b6d301a05b606baf8fa79024c2b2af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::AddClearOOBToBatch </td>
          <td>(</td>
          <td class="paramtype">CBatch &amp;&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00348">348</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, and <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00061">px::db::CBatch::remove()</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d2f/perf____adapter_8cpp_source.html#l00045">BOOST_AUTO_TEST_CASE()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_aa1b6d301a05b606baf8fa79024c2b2af_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_aa1b6d301a05b606baf8fa79024c2b2af_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_aa1b6d301a05b606baf8fa79024c2b2af_cgraph" id="dd/d42/namespacepx_1_1db_aa1b6d301a05b606baf8fa79024c2b2af_cgraph">
<area shape="rect" id="node2" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="277,5,427,46"/><area shape="rect" id="node3" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#afd72087dcce948a0883a933125f378c8" title="Remove entries from the database (the key will be duplicated in the buffer) " alt="" coords="265,71,439,97"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6a3caeb81045a161c4ca3ae5367cf2fa"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool px::db::FetchOOB </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">px::proto::toolkitStruct &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch an OOB data value from the store. </p>
<p>Populates the protobuf object passed in as 'data'. Returns true if the key is found or false if not (if not found, there is no modification of the 'data' object).</p>
<p>OOB key must not be empty. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00359">359</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00090">px::db::CIterator::seek()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d2f/perf____adapter_8cpp_source.html#l00045">BOOST_AUTO_TEST_CASE()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a6a3caeb81045a161c4ca3ae5367cf2fa_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a6a3caeb81045a161c4ca3ae5367cf2fa_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a6a3caeb81045a161c4ca3ae5367cf2fa_cgraph" id="dd/d42/namespacepx_1_1db_a6a3caeb81045a161c4ca3ae5367cf2fa_cgraph">
<area shape="rect" id="node2" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="187,5,360,46"/><area shape="rect" id="node3" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="206,70,341,111"/><area shape="rect" id="node4" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="206,135,341,177"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="190,201,357,228"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="206,253,341,294"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="206,318,341,359"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="206,383,341,425"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="409,201,589,228"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a470e39b90682a339e8b6d08adacd6be2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &gt; px::db::FetchOOBKeys </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch a list of all keys in the persistent OOB database. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00383">383</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00066">px::db::CIterator::first()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d2f/perf____adapter_8cpp_source.html#l00045">BOOST_AUTO_TEST_CASE()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a470e39b90682a339e8b6d08adacd6be2_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a470e39b90682a339e8b6d08adacd6be2_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a470e39b90682a339e8b6d08adacd6be2_cgraph" id="dd/d42/namespacepx_1_1db_a470e39b90682a339e8b6d08adacd6be2_cgraph">
<area shape="rect" id="node2" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a434fd27eeed52b354e0ee1147cffed2d" title="Find the first entry in the table/database. " alt="" coords="238,5,373,46"/><area shape="rect" id="node3" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="219,70,392,111"/><area shape="rect" id="node4" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="238,135,373,177"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="238,201,373,242"/><area shape="rect" id="node6" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="238,266,373,307"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aabb9a2536ad25c940762036f7ce7a1c6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::FetchOOBs </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a>, px::proto::toolkitStruct &gt; &amp;&#160;</td>
          <td class="paramname"><em>map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch all OOB objects from the database, into a map. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00407">407</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00066">px::db::CIterator::first()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_aabb9a2536ad25c940762036f7ce7a1c6_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_aabb9a2536ad25c940762036f7ce7a1c6_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_aabb9a2536ad25c940762036f7ce7a1c6_cgraph" id="dd/d42/namespacepx_1_1db_aabb9a2536ad25c940762036f7ce7a1c6_cgraph">
<area shape="rect" id="node2" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a434fd27eeed52b354e0ee1147cffed2d" title="Find the first entry in the table/database. " alt="" coords="214,5,349,46"/><area shape="rect" id="node3" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="195,70,368,111"/><area shape="rect" id="node4" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="214,135,349,177"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="214,201,349,242"/><area shape="rect" id="node6" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="214,266,349,307"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="214,331,349,373"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="214,397,349,438"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac89825bd65a3662d17b2ba0fcc2912f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::AddDeviceToBatch </td>
          <td>(</td>
          <td class="paramtype">CBatch &amp;&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d6/d5b/classpx_1_1CDevice.html">px::CDevice</a> &amp;&#160;</td>
          <td class="paramname"><em>device</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up a <a class="el" href="../../dc/d98/classpx_1_1db_1_1CBatch.html" title="Batch of Database Operations. ">CBatch</a> update to the device database. </p>
<p>See <a class="el" href="../../d7/d3d/adapter_8cpp.html">adapter.cpp</a> for on-disk data format.</p>
<p>Device id must not be empty. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00440">440</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00036">px::db::CBatch::add()</a>, <a class="el" href="../../d5/d08/device_8hpp_source.html#l00450">px::CDevice::config_file</a>, <a class="el" href="../../d3/dd4/device_8cpp_source.html#l00991">px::CDevice::get_own_state()</a>, <a class="el" href="../../d5/d08/device_8hpp_source.html#l00236">px::CDevice::id()</a>, <a class="el" href="../../d5/d08/device_8hpp_source.html#l00458">px::CDevice::profile_file</a>, <a class="el" href="../../d5/d08/device_8hpp_source.html#l00411">px::CDevice::state_timestamp</a>, <a class="el" href="../../d3/dd4/device_8cpp_source.html#l00365">px::CDevice::to()</a>, <a class="el" href="../../d6/d86/bitset_8hpp_source.html#l00292">px::CBitset&lt; T &gt;::to()</a>, <a class="el" href="../../d9/d70/timestamp_8cpp_source.html#l00073">px::CTimestamp::to()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00100">u64be_to_buf()</a>, and <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d2f/perf____adapter_8cpp_source.html#l00146">BOOST_AUTO_TEST_CASE()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00175">MigrateDeviceDB()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_ac89825bd65a3662d17b2ba0fcc2912f1_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_ac89825bd65a3662d17b2ba0fcc2912f1_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_ac89825bd65a3662d17b2ba0fcc2912f1_cgraph" id="dd/d42/namespacepx_1_1db_ac89825bd65a3662d17b2ba0fcc2912f1_cgraph">
<area shape="rect" id="node2" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="253,5,401,32"/><area shape="rect" id="node3" href="../../d6/d5b/classpx_1_1CDevice.html#a04de4b78f3899cfbd18686e8f4e87e9d" title="px::CDevice::get_own\l_state" alt="" coords="245,57,408,98"/><area shape="rect" id="node4" href="../../d6/d5b/classpx_1_1CDevice.html#ab836878b0d7f55ad3d16b937994f3df0" title="Getter for device ID. " alt="" coords="267,123,387,149"/><area shape="rect" id="node5" href="../../d6/d5b/classpx_1_1CDevice.html#a3fe65f60bec8278eeaf05b6d5daea3b2" title="Initialize a protobuf Device object from this Device. " alt="" coords="266,173,387,200"/><area shape="rect" id="node6" href="../../dd/d57/classpx_1_1CBitset.html#a08db492abafd7512bfb4fe26bc459356" title="Initialize a protobuf message object from this bitset. " alt="" coords="269,224,384,251"/><area shape="rect" id="node7" href="../../d6/d4e/classpx_1_1CTimestamp.html#a53e085363ec11eef704d9a99f1d82c69" title="Initialize a protobuf Timestamp object from this value. " alt="" coords="251,275,402,301"/><area shape="rect" id="node8" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="247,325,406,352"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af106f95c7e819844ed1ea301d29da93e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::AddDeleteDeviceToBatch </td>
          <td>(</td>
          <td class="paramtype">CBatch &amp;&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a>&#160;</td>
          <td class="paramname"><em>device_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up a <a class="el" href="../../dc/d98/classpx_1_1db_1_1CBatch.html" title="Batch of Database Operations. ">CBatch</a> update to the device database. </p>
<p>See <a class="el" href="../../d7/d3d/adapter_8cpp.html">adapter.cpp</a> for on-disk data format.</p>
<p>Device id must not be empty. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00475">475</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00061">px::db::CBatch::remove()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00100">u64be_to_buf()</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d2f/perf____adapter_8cpp_source.html#l00146">BOOST_AUTO_TEST_CASE()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_af106f95c7e819844ed1ea301d29da93e_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_af106f95c7e819844ed1ea301d29da93e_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_af106f95c7e819844ed1ea301d29da93e_cgraph" id="dd/d42/namespacepx_1_1db_af106f95c7e819844ed1ea301d29da93e_cgraph">
<area shape="rect" id="node2" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="263,5,414,46"/><area shape="rect" id="node3" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#afd72087dcce948a0883a933125f378c8" title="Remove entries from the database (the key will be duplicated in the buffer) " alt="" coords="251,71,426,97"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="259,121,418,148"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a19fa53d84b23974c4c710bd52d140561"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::FetchDevices </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a>, <a class="el" href="../../d6/d5b/classpx_1_1CDevice.html">px::CDevice</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch all devices from the database, into a map. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00488">488</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00066">px::db::CIterator::first()</a>, <a class="el" href="../../d6/d86/bitset_8hpp_source.html#l00331">px::CBitset&lt; T &gt;::from()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, <a class="el" href="../../de/dcb/namespacepx.html#a60cb4a870ad1ada57e20d9e76de5578ca0c161174c6857de22a3653e43574df78">px::not_communicating</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d2f/perf____adapter_8cpp_source.html#l00146">BOOST_AUTO_TEST_CASE()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a19fa53d84b23974c4c710bd52d140561_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a19fa53d84b23974c4c710bd52d140561_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a19fa53d84b23974c4c710bd52d140561_cgraph" id="dd/d42/namespacepx_1_1db_a19fa53d84b23974c4c710bd52d140561_cgraph">
<area shape="rect" id="node2" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a434fd27eeed52b354e0ee1147cffed2d" title="Find the first entry in the table/database. " alt="" coords="230,5,365,46"/><area shape="rect" id="node3" href="../../dd/d57/classpx_1_1CBitset.html#a26e16c0d4766404badb5fb2c3a2c585d" title="Assign this object&#39;s bitset based on a protobuf message object. " alt="" coords="231,71,363,97"/><area shape="rect" id="node4" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="211,122,384,163"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="230,187,365,229"/><area shape="rect" id="node6" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="230,253,365,294"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="230,318,365,359"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="230,383,365,425"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="230,449,365,490"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a430af8388568fb169667e1ecb54c04ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::AddChannelToBatch </td>
          <td>(</td>
          <td class="paramtype">CBatch &amp;&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CIterator &amp;&#160;</td>
          <td class="paramname"><em>mcl_iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d0/df1/classpx_1_1CChannel.html">px::CChannel</a> &amp;&#160;</td>
          <td class="paramname"><em>channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set up a <a class="el" href="../../dc/d98/classpx_1_1db_1_1CBatch.html" title="Batch of Database Operations. ">CBatch</a> update to the channel database. </p>
<p>See <a class="el" href="../../d7/d3d/adapter_8cpp.html">adapter.cpp</a> for on-disk data format.</p>
<p>Channel id must be &gt; 0. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00527">527</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00036">px::db::CBatch::add()</a>, <a class="el" href="../../db/d20/channel_8hpp_source.html#l00290">px::CChannel::channel_settings</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00662">FetchMCLEntry()</a>, <a class="el" href="../../dd/d5f/channel_8cpp_source.html#l00393">px::CChannel::get_own_state()</a>, <a class="el" href="../../db/d20/channel_8hpp_source.html#l00109">px::CChannel::id()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, <a class="el" href="../../d6/d1d/proto__ops_8cpp_source.html#l00276">px::CProtoOPS::ListUnsetFields()</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9adb27ec48ae62626e1f199053432ac24c">px::persist_value</a>, <a class="el" href="../../d6/d1d/proto__ops_8cpp_source.html#l00178">px::CProtoOPS::Subtract()</a>, <a class="el" href="../../db/d20/channel_8hpp_source.html#l00305">px::CChannel::timestamp</a>, <a class="el" href="../../dd/d5f/channel_8cpp_source.html#l00197">px::CChannel::to()</a>, <a class="el" href="../../d6/d86/bitset_8hpp_source.html#l00292">px::CBitset&lt; T &gt;::to()</a>, <a class="el" href="../../d2/dc0/value_8cpp_source.html#l00146">px::CValue::to()</a>, <a class="el" href="../../d9/d70/timestamp_8cpp_source.html#l00073">px::CTimestamp::to()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00100">u64be_to_buf()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, and <a class="el" href="../../db/d20/channel_8hpp_source.html#l00300">px::CChannel::value</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d2f/perf____adapter_8cpp_source.html#l00252">BOOST_AUTO_TEST_CASE()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00228">MigrateChannelDB()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a430af8388568fb169667e1ecb54c04ca_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a430af8388568fb169667e1ecb54c04ca_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a430af8388568fb169667e1ecb54c04ca_cgraph" id="dd/d42/namespacepx_1_1db_a430af8388568fb169667e1ecb54c04ca_cgraph">
<area shape="rect" id="node2" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="271,161,419,188"/><area shape="rect" id="node3" href="../../dd/d42/namespacepx_1_1db.html#a8b00be9118b4d9267e6fbad61bafdcbd" title="Get an MCL entry, in the form of a channel protobuf. " alt="" coords="263,212,428,239"/><area shape="rect" id="node13" href="../../d0/df1/classpx_1_1CChannel.html#a576ad97e2be4c0f72bfe8c63f1bee7ad" title="px::CChannel::get_own\l_state" alt="" coords="260,263,431,305"/><area shape="rect" id="node14" href="../../d0/df1/classpx_1_1CChannel.html#a1e10e9dd969a77b9cf1cb05d59214572" title="Retreive unique channel ID. " alt="" coords="281,329,409,356"/><area shape="rect" id="node15" href="../../d4/d8a/classpx_1_1CProtoOPS.html#a5f54e3a759a29bbe35041818f233d11e" title="List all fields set in &quot;ref&quot; but not in &quot;pb&quot;. " alt="" coords="253,381,437,422"/><area shape="rect" id="node16" href="../../d4/d8a/classpx_1_1CProtoOPS.html#a36ef6667d04120f6e8805c225e0670f6" title="Remove any fields from &quot;pb&quot; containing the same values as &quot;ref&quot;. " alt="" coords="257,447,434,473"/><area shape="rect" id="node17" href="../../d0/df1/classpx_1_1CChannel.html#aee5adde61cbc85711a9d17ba03f195e5" title="Create protobuf object. " alt="" coords="281,497,410,524"/><area shape="rect" id="node18" href="../../dd/d57/classpx_1_1CBitset.html#a08db492abafd7512bfb4fe26bc459356" title="Initialize a protobuf message object from this bitset. " alt="" coords="288,548,403,575"/><area shape="rect" id="node19" href="../../db/dd9/classpx_1_1CValue.html#a2bf2af6e6d3bcc5bd7afe4ad7e9c3022" title="Internal conversion to alternate type. " alt="" coords="289,599,401,625"/><area shape="rect" id="node20" href="../../d6/d4e/classpx_1_1CTimestamp.html#a53e085363ec11eef704d9a99f1d82c69" title="Initialize a protobuf Timestamp object from this value. " alt="" coords="270,649,421,676"/><area shape="rect" id="node21" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="266,700,425,727"/><area shape="rect" id="node4" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="494,5,645,46"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="486,71,653,97"/><area shape="rect" id="node7" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6" title="px::generic_err::what" alt="" coords="490,121,649,148"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="502,173,637,214"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="502,238,637,279"/><area shape="rect" id="node10" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="502,303,637,345"/><area shape="rect" id="node11" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="502,369,637,410"/><area shape="rect" id="node12" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="502,434,637,475"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="702,71,882,97"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1652e4fa6d725b981be0d04fb95c5d92"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::AddDeleteChannelToBatch </td>
          <td>(</td>
          <td class="paramtype">CBatch &amp;&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a>&#160;</td>
          <td class="paramname"><em>channel_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00580">580</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00061">px::db::CBatch::remove()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00100">u64be_to_buf()</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d2f/perf____adapter_8cpp_source.html#l00252">BOOST_AUTO_TEST_CASE()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a1652e4fa6d725b981be0d04fb95c5d92_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a1652e4fa6d725b981be0d04fb95c5d92_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a1652e4fa6d725b981be0d04fb95c5d92_cgraph" id="dd/d42/namespacepx_1_1db_a1652e4fa6d725b981be0d04fb95c5d92_cgraph">
<area shape="rect" id="node2" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="258,5,409,46"/><area shape="rect" id="node3" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#afd72087dcce948a0883a933125f378c8" title="Remove entries from the database (the key will be duplicated in the buffer) " alt="" coords="246,71,421,97"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="254,121,413,148"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2cccb6f2e1009c568cf67afbee95128c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::FetchChannels </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CIterator &amp;&#160;</td>
          <td class="paramname"><em>mcl_iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a>, <a class="el" href="../../d0/df1/classpx_1_1CChannel.html">px::CChannel</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a>, <a class="el" href="../../d6/d5b/classpx_1_1CDevice.html">px::CDevice</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>devs</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch all channels from the database, into a map. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00593">593</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../db/d20/channel_8hpp_source.html#l00290">px::CChannel::channel_settings</a>, <a class="el" href="../../d6/d1d/proto__ops_8cpp_source.html#l00323">px::CProtoOPS::ClearFields()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00662">FetchMCLEntry()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00066">px::db::CIterator::first()</a>, <a class="el" href="../../d6/d86/bitset_8hpp_source.html#l00331">px::CBitset&lt; T &gt;::from()</a>, <a class="el" href="../../d9/d70/timestamp_8cpp_source.html#l00082">px::CTimestamp::from()</a>, <a class="el" href="../../d2/dc0/value_8cpp_source.html#l00336">px::CValue::from()</a>, <a class="el" href="../../db/d20/channel_8hpp_source.html#l00109">px::CChannel::id()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, <a class="el" href="../../de/dcb/namespacepx.html#a60cb4a870ad1ada57e20d9e76de5578ca0c161174c6857de22a3653e43574df78">px::not_communicating</a>, <a class="el" href="../../db/d20/channel_8hpp_source.html#l00117">px::CChannel::parent()</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9adb27ec48ae62626e1f199053432ac24c">px::persist_value</a>, <a class="el" href="../../d6/d86/bitset_8hpp_source.html#l00099">px::CBitset&lt; T &gt;::set()</a>, <a class="el" href="../../dd/d5f/channel_8cpp_source.html#l00401">px::CChannel::set_state()</a>, <a class="el" href="../../db/d20/channel_8hpp_source.html#l00305">px::CChannel::timestamp</a>, <a class="el" href="../../d6/d1d/proto__ops_8cpp_source.html#l00022">px::CProtoOPS::Update()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../db/d20/channel_8hpp_source.html#l00300">px::CChannel::value</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d2f/perf____adapter_8cpp_source.html#l00252">BOOST_AUTO_TEST_CASE()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a2cccb6f2e1009c568cf67afbee95128c_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a2cccb6f2e1009c568cf67afbee95128c_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a2cccb6f2e1009c568cf67afbee95128c_cgraph" id="dd/d42/namespacepx_1_1db_a2cccb6f2e1009c568cf67afbee95128c_cgraph">
<area shape="rect" id="node2" href="../../d4/d8a/classpx_1_1CProtoOPS.html#ae1fd33b2eb70a95e1f06a8b81c49b4e6" title="Clear the specified fields in &quot;pb&quot;. " alt="" coords="219,108,413,135"/><area shape="rect" id="node3" href="../../dd/d42/namespacepx_1_1db.html#a8b00be9118b4d9267e6fbad61bafdcbd" title="Get an MCL entry, in the form of a channel protobuf. " alt="" coords="233,209,399,236"/><area shape="rect" id="node13" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a434fd27eeed52b354e0ee1147cffed2d" title="Find the first entry in the table/database. " alt="" coords="249,463,383,505"/><area shape="rect" id="node14" href="../../dd/d57/classpx_1_1CBitset.html#a26e16c0d4766404badb5fb2c3a2c585d" title="Assign this object&#39;s bitset based on a protobuf message object. " alt="" coords="250,529,382,556"/><area shape="rect" id="node15" href="../../d6/d4e/classpx_1_1CTimestamp.html#abacfe7fc8f59f2e848b4e002f356d813" title="Assign this object&#39;s value based on a protobuf Timestamp object. " alt="" coords="232,580,400,607"/><area shape="rect" id="node16" href="../../db/dd9/classpx_1_1CValue.html#a4f9758be5ee636bb6d2c1daae6f29446" title="Assign this object&#39;s value based on a protobuf DataValue object. " alt="" coords="251,631,381,657"/><area shape="rect" id="node17" href="../../d0/df1/classpx_1_1CChannel.html#a1e10e9dd969a77b9cf1cb05d59214572" title="Retreive unique channel ID. " alt="" coords="252,681,380,708"/><area shape="rect" id="node18" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="229,733,403,774"/><area shape="rect" id="node10" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="478,303,613,345"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="478,238,613,279"/><area shape="rect" id="node19" href="../../d0/df1/classpx_1_1CChannel.html#a276e68a06fc2ca179797a123039b6a14" title="Retreive unique parent device ID. " alt="" coords="237,799,395,825"/><area shape="rect" id="node20" href="../../dd/d57/classpx_1_1CBitset.html#ad0dc233a4abd8d91c033f2582b193768" title="Set the value of a flag. " alt="" coords="255,849,377,876"/><area shape="rect" id="node21" href="../../d0/df1/classpx_1_1CChannel.html#a0c80714e0adbd0fe0589a44116e42d76" title="Set the channel&#39;s own_state. " alt="" coords="228,900,404,927"/><area shape="rect" id="node22" href="../../d4/d8a/classpx_1_1CProtoOPS.html#aad7a1d669e45adab9e8df61aea97f388" title="We need to perform partial updates between messages for vaiouse reasons. " alt="" coords="231,951,401,977"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="478,5,613,46"/><area shape="rect" id="node11" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="478,369,613,410"/><area shape="rect" id="node12" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="478,434,613,475"/><area shape="rect" id="node4" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="470,70,621,111"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="462,136,629,163"/><area shape="rect" id="node7" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6" title="px::generic_err::what" alt="" coords="466,187,625,213"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="678,136,858,163"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8b00be9118b4d9267e6fbad61bafdcbd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">px::proto::MclEntry px::db::FetchMCLEntry </td>
          <td>(</td>
          <td class="paramtype">CIterator &amp;&#160;</td>
          <td class="paramname"><em>mcl_iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;&#160;</td>
          <td class="paramname"><em>channel_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an MCL entry, in the form of a channel protobuf. </p>
<p>Can use the same iterator forever as that DB is read-only.</p>
<p>Channel name must not be empty. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00662">662</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00180">LIBPX_ERR</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00090">px::db::CIterator::seek()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>, and <a class="el" href="../../d7/d1e/exception_8hpp_source.html#l00064">px::generic_err::what()</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00527">AddChannelToBatch()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00593">FetchChannels()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a8b00be9118b4d9267e6fbad61bafdcbd_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a8b00be9118b4d9267e6fbad61bafdcbd_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a8b00be9118b4d9267e6fbad61bafdcbd_cgraph" id="dd/d42/namespacepx_1_1db_a8b00be9118b4d9267e6fbad61bafdcbd_cgraph">
<area shape="rect" id="node2" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="227,5,378,46"/><area shape="rect" id="node3" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="235,70,370,111"/><area shape="rect" id="node4" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="235,135,370,177"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="219,201,386,228"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="235,253,370,294"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="235,318,370,359"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="235,383,370,425"/><area shape="rect" id="node10" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6" title="px::generic_err::what" alt="" coords="223,449,382,476"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="435,201,615,228"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae2450822a558bb0d0ffa098631ac2bb1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">px::proto::CommandInfo px::db::FetchCCLEntry </td>
          <td>(</td>
          <td class="paramtype">CIterator &amp;&#160;</td>
          <td class="paramname"><em>ccl_iter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;&#160;</td>
          <td class="paramname"><em>command_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an CCL entry, in the form of a CommandInfo protobuf. </p>
<p>Can use the same iterator forever as that DB is read-only.</p>
<p>Device command name must not be empty. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00705">705</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00090">px::db::CIterator::seek()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_ae2450822a558bb0d0ffa098631ac2bb1_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_ae2450822a558bb0d0ffa098631ac2bb1_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_ae2450822a558bb0d0ffa098631ac2bb1_cgraph" id="dd/d42/namespacepx_1_1db_ae2450822a558bb0d0ffa098631ac2bb1_cgraph">
<area shape="rect" id="node2" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="225,5,375,46"/><area shape="rect" id="node3" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="233,70,367,111"/><area shape="rect" id="node4" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="233,135,367,177"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="217,201,383,228"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="233,253,367,294"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="233,318,367,359"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="233,383,367,425"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="433,201,613,228"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a93f13745a5b812e64001d06e1a7f9cd6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::QueryAlarms </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>alarm_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>alarm_index_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_result_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>start_global_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> *&#160;</td>
          <td class="paramname"><em>start_update_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> *&#160;</td>
          <td class="paramname"><em>end_update_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; *&#160;</td>
          <td class="paramname"><em>device_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; *&#160;</td>
          <td class="paramname"><em>channel_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; *&#160;</td>
          <td class="paramname"><em>alarm_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; *&#160;</td>
          <td class="paramname"><em>exclude_alarm_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>starting_sequence_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>first_updates_only</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>go_backwards</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../da/d42/classpx_1_1CAlarmUpdate.html">px::CAlarmUpdate</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const volatile bool &amp;&#160;</td>
          <td class="paramname"><em>exit_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>count_found</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>count_all</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>trigger_level</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d92/classpx_1_1CAlarmTriggerType.html">px::CAlarmTriggerType</a>&#160;</td>
          <td class="paramname"><em>trigger_type</em> = <code><a class="el" href="../../de/dcb/namespacepx.html#acf6770f6d835c0c868d8be96d1771e3fafedb2d84cafe20862cb4399751a8a7e3">px::alarm_trigger_type::invalid</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>gt_equal</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a list of alarm updates, that meet all of the specified criteria, from the alarm history database. </p>
<p>Oldest first. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l01021">1021</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dd/d42/namespacepx_1_1db.html#ae610c5e23234d8799589231a676da47cab1f918f644e267913e1cd1eb37e6a0ed">alarm_id</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00053">buf_to_u32be()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00087">buf_to_u64be()</a>, <a class="el" href="../../de/dcb/namespacepx.html#acf6770f6d835c0c868d8be96d1771e3fafedb2d84cafe20862cb4399751a8a7e3">px::invalid</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00078">px::db::CIterator::last()</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00196">LIBPX_DEBUG</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00840">query_alarm_index_db()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00090">px::db::CIterator::seek()</a>, <a class="el" href="../../dd/d42/namespacepx_1_1db.html#ae610c5e23234d8799589231a676da47cad7e6d55ba379a13d08c25d15faf2a23b">timestamp</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00100">u64be_to_buf()</a>, <a class="el" href="../../d3/d6a/equation_8yy_8hpp_source.html#l00085">UINT32_MAX</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a93f13745a5b812e64001d06e1a7f9cd6_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a93f13745a5b812e64001d06e1a7f9cd6_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a93f13745a5b812e64001d06e1a7f9cd6_cgraph" id="dd/d42/namespacepx_1_1db_a93f13745a5b812e64001d06e1a7f9cd6_cgraph">
<area shape="rect" id="node2" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="419,5,570,46"/><area shape="rect" id="node3" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="641,611,799,637"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a" title="px::db::buf_to_u64be" alt="" coords="415,552,574,579"/><area shape="rect" id="node5" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="408,70,581,111"/><area shape="rect" id="node6" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="427,486,562,527"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="427,421,562,462"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a875237bff574451cc0bbe5738bdf56ee" title="Find the last entry in the table/database. " alt="" coords="415,369,574,396"/><area shape="rect" id="node9" href="../../dd/d42/namespacepx_1_1db.html#a4815059705101ca27f7d269a31efc212" title="px::db::query_alarm\l_index_db" alt="" coords="208,303,360,345"/><area shape="rect" id="node11" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="411,187,578,213"/><area shape="rect" id="node10" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="415,136,574,163"/><area shape="rect" id="node13" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="427,238,562,279"/><area shape="rect" id="node15" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="427,603,562,645"/><area shape="rect" id="node16" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="217,721,351,762"/><area shape="rect" id="node14" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ab55f899b4de477e7f5cdda00dfea3b75" title="Get a pointer to the data in this blob. " alt="" coords="419,303,570,345"/><area shape="rect" id="node12" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="630,187,810,213"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a97e10ed3d67b9a51166333c04b4f0528"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::QueryAlarmsLatestUpdate </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>alarm_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>alarm_index_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>max_result_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>start_global_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> *&#160;</td>
          <td class="paramname"><em>start_first_occur_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> *&#160;</td>
          <td class="paramname"><em>end_first_occur_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; *&#160;</td>
          <td class="paramname"><em>device_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; *&#160;</td>
          <td class="paramname"><em>channel_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; *&#160;</td>
          <td class="paramname"><em>alarm_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; *&#160;</td>
          <td class="paramname"><em>exclude_alarm_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../da/d42/classpx_1_1CAlarmUpdate.html">px::CAlarmUpdate</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const volatile bool &amp;&#160;</td>
          <td class="paramname"><em>exit_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t *&#160;</td>
          <td class="paramname"><em>count_found</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>count_all</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>trigger_level</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d92/classpx_1_1CAlarmTriggerType.html">px::CAlarmTriggerType</a>&#160;</td>
          <td class="paramname"><em>trigger_type</em> = <code><a class="el" href="../../de/dcb/namespacepx.html#acf6770f6d835c0c868d8be96d1771e3fafedb2d84cafe20862cb4399751a8a7e3">px::alarm_trigger_type::invalid</a></code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>gt_equal</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given alarm parameters, return the most recent update for each matching entry in the database. </p>
<p>Can be slow. Only returns updates with global count &lt;= start_global_count. If start_global_count=0, starts from the latest. Returns in reverse global-count order. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l01450">1450</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00087">buf_to_u64be()</a>, <a class="el" href="../../de/dcb/namespacepx.html#acf6770f6d835c0c868d8be96d1771e3fafedb2d84cafe20862cb4399751a8a7e3">px::invalid</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00078">px::db::CIterator::last()</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00196">LIBPX_DEBUG</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, <a class="el" href="../../d3/d6a/equation_8yy_8hpp_source.html#l00085">UINT32_MAX</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a97e10ed3d67b9a51166333c04b4f0528_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a97e10ed3d67b9a51166333c04b4f0528_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a97e10ed3d67b9a51166333c04b4f0528_cgraph" id="dd/d42/namespacepx_1_1db_a97e10ed3d67b9a51166333c04b4f0528_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a" title="px::db::buf_to_u64be" alt="" coords="255,5,414,32"/><area shape="rect" id="node4" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="248,57,421,98"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="267,122,402,163"/><area shape="rect" id="node6" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="267,187,402,229"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a875237bff574451cc0bbe5738bdf56ee" title="Find the last entry in the table/database. " alt="" coords="255,253,414,280"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="267,305,402,346"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="267,370,402,411"/><area shape="rect" id="node10" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="267,435,402,477"/><area shape="rect" id="node3" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="470,5,629,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a09b705764dd8fa39b21456323f916bf8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void px::db::LoadActiveAlarms </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>alarm_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>alarm_index_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::map&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a>, <a class="el" href="../../da/d42/classpx_1_1CAlarmUpdate.html">px::CAlarmUpdate</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>alarms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Load active alarms from the database into the given map. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l01652">1652</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00087">buf_to_u64be()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00107">px::db::CBlobHolder::get_mutable_ptr()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, <a class="el" href="../../dd/d42/namespacepx_1_1db.html#ae610c5e23234d8799589231a676da47ca90227014eb13f654b3e38a43cbe644ba">open_scan_start_point</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00133">px::db::CBlobHolder::reset()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00090">px::db::CIterator::seek()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00100">u64be_to_buf()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a09b705764dd8fa39b21456323f916bf8_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a09b705764dd8fa39b21456323f916bf8_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a09b705764dd8fa39b21456323f916bf8_cgraph" id="dd/d42/namespacepx_1_1db_a09b705764dd8fa39b21456323f916bf8_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a" title="px::db::buf_to_u64be" alt="" coords="250,5,409,32"/><area shape="rect" id="node4" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a996915979b66811a0c3311cb61997306" title="Get a pointer to the data in this blob for write. " alt="" coords="254,57,405,98"/><area shape="rect" id="node5" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="243,122,416,163"/><area shape="rect" id="node6" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="262,187,397,229"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="262,253,397,294"/><area shape="rect" id="node8" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="254,318,405,359"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="246,384,413,411"/><area shape="rect" id="node11" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="250,435,409,461"/><area shape="rect" id="node12" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="262,486,397,527"/><area shape="rect" id="node13" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="262,551,397,593"/><area shape="rect" id="node14" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="262,617,397,658"/><area shape="rect" id="node3" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="475,5,634,32"/><area shape="rect" id="node10" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="465,384,645,411"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8eb186bcace13964b0fcc41fae1181bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::SaveAlarmUpdates </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>alarm_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>alarm_index_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../da/d42/classpx_1_1CAlarmUpdate.html">px::CAlarmUpdate</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>updates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const volatile bool &amp;&#160;</td>
          <td class="paramname"><em>exit_req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add an alarm update to the history database, update the index DB as needed. </p>
<p>See <a class="el" href="../../d7/d3d/adapter_8cpp.html">adapter.cpp</a> for the on-disk data format. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00885">885</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00036">px::db::CBatch::add()</a>, <a class="el" href="../../dd/d42/namespacepx_1_1db.html#ae610c5e23234d8799589231a676da47cab1f918f644e267913e1cd1eb37e6a0ed">alarm_id</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, <a class="el" href="../../db/db3/id_8hpp_source.html#l00028">PX_ID_UNSET</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00840">query_alarm_index_db()</a>, <a class="el" href="../../dd/d42/namespacepx_1_1db.html#ae610c5e23234d8799589231a676da47cad7e6d55ba379a13d08c25d15faf2a23b">timestamp</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00068">u32be_to_buf()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00100">u64be_to_buf()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, and <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00097">px::db::CKeyValueStore::write()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a8eb186bcace13964b0fcc41fae1181bd_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a8eb186bcace13964b0fcc41fae1181bd_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a8eb186bcace13964b0fcc41fae1181bd_cgraph" id="dd/d42/namespacepx_1_1db_a8eb186bcace13964b0fcc41fae1181bd_cgraph">
<area shape="rect" id="node2" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="261,203,409,229"/><area shape="rect" id="node3" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="481,5,631,46"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#a4815059705101ca27f7d269a31efc212" title="px::db::query_alarm\l_index_db" alt="" coords="259,305,411,346"/><area shape="rect" id="node17" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="255,371,414,397"/><area shape="rect" id="node6" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="477,619,635,645"/><area shape="rect" id="node18" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="248,473,421,514"/><area shape="rect" id="node5" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="469,70,643,111"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="473,136,639,163"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="489,187,623,229"/><area shape="rect" id="node10" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a875237bff574451cc0bbe5738bdf56ee" title="Find the last entry in the table/database. " alt="" coords="477,253,635,280"/><area shape="rect" id="node11" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="489,305,623,346"/><area shape="rect" id="node12" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ab55f899b4de477e7f5cdda00dfea3b75" title="Get a pointer to the data in this blob. " alt="" coords="481,370,631,411"/><area shape="rect" id="node13" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="489,435,623,477"/><area shape="rect" id="node14" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a" title="px::db::buf_to_u64be" alt="" coords="477,501,635,528"/><area shape="rect" id="node16" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="489,553,623,594"/><area shape="rect" id="node8" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="691,136,871,163"/><area shape="rect" id="node15" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="702,501,861,528"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a814e7b6ae12d3b85bc175e433e155347"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::NoteAlarmsToDelete </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>alarm_index_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Persistently note that alarms with these device and/or channel IDs are to be deleted. </p>
<p><a class="el" href="../../dd/d42/namespacepx_1_1db.html#a214da843080fb412145fcf1eb132020f" title="Delete alarm updates for the specified devices/channels. ">DeleteAlarms()</a> will include them in addition to the set with which it is called, when it runs. This allows an interrupted <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a214da843080fb412145fcf1eb132020f" title="Delete alarm updates for the specified devices/channels. ">DeleteAlarms()</a> to be completed later.</p>
<p>Alarm IDs must not be empty. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l01718">1718</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dd/d42/namespacepx_1_1db.html#ae610c5e23234d8799589231a676da47caef751cbada81671dcc9e90ff81604f0c">deletion_note</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00107">px::db::CBlobHolder::get_mutable_ptr()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00133">px::db::CBlobHolder::reset()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, and <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00097">px::db::CKeyValueStore::write()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a814e7b6ae12d3b85bc175e433e155347_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a814e7b6ae12d3b85bc175e433e155347_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a814e7b6ae12d3b85bc175e433e155347_cgraph" id="dd/d42/namespacepx_1_1db_a814e7b6ae12d3b85bc175e433e155347_cgraph">
<area shape="rect" id="node2" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a996915979b66811a0c3311cb61997306" title="Get a pointer to the data in this blob for write. " alt="" coords="270,5,421,46"/><area shape="rect" id="node3" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="270,70,421,111"/><area shape="rect" id="node4" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="259,135,432,177"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a214da843080fb412145fcf1eb132020f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::DeleteAlarms </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>alarm_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>alarm_index_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const volatile bool &amp;&#160;</td>
          <td class="paramname"><em>exit_req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete alarm updates for the specified devices/channels. </p>
<p>Also deletes any that have been formerly noted by <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a814e7b6ae12d3b85bc175e433e155347" title="Persistently note that alarms with these device and/or channel IDs are to be deleted. ">NoteAlarmsToDelete()</a>, if they are still around. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l01739">1739</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00087">buf_to_u64be()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00181">px::db::CKeyValueStore::compact()</a>, <a class="el" href="../../dd/d42/namespacepx_1_1db.html#ae610c5e23234d8799589231a676da47caef751cbada81671dcc9e90ff81604f0c">deletion_note</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00066">px::db::CIterator::first()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00107">px::db::CBlobHolder::get_mutable_ptr()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00196">LIBPX_DEBUG</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00180">LIBPX_ERR</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00061">px::db::CBatch::remove()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00133">px::db::CBlobHolder::reset()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00090">px::db::CIterator::seek()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>, <a class="el" href="../../d7/d1e/exception_8hpp_source.html#l00064">px::generic_err::what()</a>, and <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00097">px::db::CKeyValueStore::write()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a214da843080fb412145fcf1eb132020f_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a214da843080fb412145fcf1eb132020f_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a214da843080fb412145fcf1eb132020f_cgraph" id="dd/d42/namespacepx_1_1db_a214da843080fb412145fcf1eb132020f_cgraph">
<area shape="rect" id="node2" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="226,5,377,46"/><area shape="rect" id="node3" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a" title="px::db::buf_to_u64be" alt="" coords="222,71,381,97"/><area shape="rect" id="node5" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#acdc3edf507cabe46b2f300dd16fbab8c" title="Compact the database from begin_key to end_key. " alt="" coords="215,122,388,163"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a434fd27eeed52b354e0ee1147cffed2d" title="Find the first entry in the table/database. " alt="" coords="234,187,369,229"/><area shape="rect" id="node9" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a996915979b66811a0c3311cb61997306" title="Get a pointer to the data in this blob for write. " alt="" coords="226,253,377,294"/><area shape="rect" id="node10" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="215,318,388,359"/><area shape="rect" id="node11" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="234,383,369,425"/><area shape="rect" id="node12" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="234,449,369,490"/><area shape="rect" id="node13" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#afd72087dcce948a0883a933125f378c8" title="Remove entries from the database (the key will be duplicated in the buffer) " alt="" coords="214,515,389,541"/><area shape="rect" id="node14" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="226,566,377,607"/><area shape="rect" id="node15" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="218,632,385,659"/><area shape="rect" id="node16" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="234,683,369,725"/><area shape="rect" id="node17" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="234,749,369,790"/><area shape="rect" id="node18" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="234,814,369,855"/><area shape="rect" id="node19" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6" title="px::generic_err::what" alt="" coords="222,880,381,907"/><area shape="rect" id="node20" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="215,931,388,973"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="449,71,607,97"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="438,409,618,436"/><area shape="rect" id="node7" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="453,122,603,163"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7b8a6b083a67a3d2ee27b55698c9dc7a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::DeleteClosedAlarms </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>alarm_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d68/classpx_1_1cds_1_1CDeleteAlarms.html">px::cds::CDeleteAlarms</a> &amp;&#160;</td>
          <td class="paramname"><em>alms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const volatile bool &amp;&#160;</td>
          <td class="paramname"><em>exit_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; *&#160;</td>
          <td class="paramname"><em>device_ids</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_set&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; *&#160;</td>
          <td class="paramname"><em>channel_ids</em> = <code>nullptr</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete alarm updates, for the specified alarm ids or those which satify given crieria of end_time, level and keep_count. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l01822">1822</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../da/d38/delete__alarms_8hpp_source.html#l00075">px::cds::CDeleteAlarms::alarm_ids</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00087">buf_to_u64be()</a>, <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00025">px::db::CBatch::clear()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00181">px::db::CKeyValueStore::compact()</a>, <a class="el" href="../../da/d38/delete__alarms_8hpp_source.html#l00079">px::cds::CDeleteAlarms::end_time</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00066">px::db::CIterator::first()</a>, <a class="el" href="../../d9/d70/timestamp_8cpp_source.html#l00142">px::CTimestamp::get_time_str()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../da/d38/delete__alarms_8hpp_source.html#l00087">px::cds::CDeleteAlarms::keep_count</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../da/d38/delete__alarms_8hpp_source.html#l00083">px::cds::CDeleteAlarms::level</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00196">LIBPX_DEBUG</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00180">LIBPX_ERR</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00061">px::db::CBatch::remove()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00133">px::db::CBlobHolder::reset()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00100">u64be_to_buf()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>, <a class="el" href="../../d7/d1e/exception_8hpp_source.html#l00064">px::generic_err::what()</a>, and <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00097">px::db::CKeyValueStore::write()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a7b8a6b083a67a3d2ee27b55698c9dc7a_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a7b8a6b083a67a3d2ee27b55698c9dc7a_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a7b8a6b083a67a3d2ee27b55698c9dc7a_cgraph" id="dd/d42/namespacepx_1_1db_a7b8a6b083a67a3d2ee27b55698c9dc7a_cgraph">
<area shape="rect" id="node2" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="269,5,419,46"/><area shape="rect" id="node3" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a" title="px::db::buf_to_u64be" alt="" coords="265,71,423,97"/><area shape="rect" id="node5" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a2dd4ae3d0fcca9eacb38c6ab93db26c9" title="Clear the current batch, and the key/value blobs buffer. " alt="" coords="266,121,422,148"/><area shape="rect" id="node6" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#acdc3edf507cabe46b2f300dd16fbab8c" title="Compact the database from begin_key to end_key. " alt="" coords="257,173,431,214"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a434fd27eeed52b354e0ee1147cffed2d" title="Find the first entry in the table/database. " alt="" coords="277,238,411,279"/><area shape="rect" id="node10" href="../../d6/d4e/classpx_1_1CTimestamp.html#af63441ed5b8bbeb81b481231d538465b" title="Gets string representation of this timestamp in separate date (e.g. " alt="" coords="265,303,423,345"/><area shape="rect" id="node11" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="257,369,431,410"/><area shape="rect" id="node12" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="277,434,411,475"/><area shape="rect" id="node13" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#afd72087dcce948a0883a933125f378c8" title="Remove entries from the database (the key will be duplicated in the buffer) " alt="" coords="257,500,431,527"/><area shape="rect" id="node14" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="269,551,419,593"/><area shape="rect" id="node15" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="265,617,423,644"/><area shape="rect" id="node16" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="277,669,411,710"/><area shape="rect" id="node17" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="277,734,411,775"/><area shape="rect" id="node18" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="277,799,411,841"/><area shape="rect" id="node19" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6" title="px::generic_err::what" alt="" coords="265,865,423,892"/><area shape="rect" id="node20" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="257,917,431,958"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="491,71,650,97"/><area shape="rect" id="node7" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="481,151,661,177"/><area shape="rect" id="node8" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="495,202,646,243"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a29cbcaf28fcae52c3a9e1492e6e3219f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::CleanupAlarms </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>alarm_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>alarm_index_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>max_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const volatile bool &amp;&#160;</td>
          <td class="paramname"><em>exit_req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Roll off old alarms if the database has gotten too large. </p>
<p>Also update index. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l01992">1992</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00036">px::db::CBatch::add()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00053">buf_to_u32be()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00087">buf_to_u64be()</a>, <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00025">px::db::CBatch::clear()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00181">px::db::CKeyValueStore::compact()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00066">px::db::CIterator::first()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00107">px::db::CBlobHolder::get_mutable_ptr()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00196">LIBPX_DEBUG</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00184">LIBPX_WARN</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, <a class="el" href="../../dd/d42/namespacepx_1_1db.html#ae610c5e23234d8799589231a676da47ca90227014eb13f654b3e38a43cbe644ba">open_scan_start_point</a>, <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00061">px::db::CBatch::remove()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00133">px::db::CBlobHolder::reset()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00100">u64be_to_buf()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>, and <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00097">px::db::CKeyValueStore::write()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a29cbcaf28fcae52c3a9e1492e6e3219f_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a29cbcaf28fcae52c3a9e1492e6e3219f_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a29cbcaf28fcae52c3a9e1492e6e3219f_cgraph" id="dd/d42/namespacepx_1_1db_a29cbcaf28fcae52c3a9e1492e6e3219f_cgraph">
<area shape="rect" id="node2" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="238,5,386,32"/><area shape="rect" id="node3" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="237,57,387,98"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="459,148,618,175"/><area shape="rect" id="node5" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a" title="px::db::buf_to_u64be" alt="" coords="233,173,391,200"/><area shape="rect" id="node6" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a2dd4ae3d0fcca9eacb38c6ab93db26c9" title="Clear the current batch, and the key/value blobs buffer. " alt="" coords="234,224,390,251"/><area shape="rect" id="node7" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#acdc3edf507cabe46b2f300dd16fbab8c" title="Compact the database from begin_key to end_key. " alt="" coords="225,275,399,317"/><area shape="rect" id="node10" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a434fd27eeed52b354e0ee1147cffed2d" title="Find the first entry in the table/database. " alt="" coords="245,341,379,382"/><area shape="rect" id="node11" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a996915979b66811a0c3311cb61997306" title="Get a pointer to the data in this blob for write. " alt="" coords="237,406,387,447"/><area shape="rect" id="node12" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="225,471,399,513"/><area shape="rect" id="node13" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="245,537,379,578"/><area shape="rect" id="node14" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="245,602,379,643"/><area shape="rect" id="node15" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#afd72087dcce948a0883a933125f378c8" title="Remove entries from the database (the key will be duplicated in the buffer) " alt="" coords="225,668,399,695"/><area shape="rect" id="node16" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="237,719,387,761"/><area shape="rect" id="node17" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="233,785,391,812"/><area shape="rect" id="node18" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="245,837,379,878"/><area shape="rect" id="node19" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="245,902,379,943"/><area shape="rect" id="node20" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="245,967,379,1009"/><area shape="rect" id="node21" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="225,1033,399,1074"/><area shape="rect" id="node8" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="449,253,629,280"/><area shape="rect" id="node9" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="463,305,614,346"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aef84a690e2c78d11698ce19d0027c6cd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::CheckIDDB </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>id_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>device_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>channel_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>alarm_db</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Double-check the ID database against the channel and device DBs, update the last-issued ID to be higher if necessary. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02276">2276</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00036">px::db::CBatch::add()</a>, <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a0eabba4ecbaeb882e5bdadc036649228a6486b4e98228b83d4b13d54febe5f170">alarm</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00087">buf_to_u64be()</a>, <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a0eabba4ecbaeb882e5bdadc036649228a79ee940199f413266525c2025ecd8e36">devicechannel</a>, <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a0eabba4ecbaeb882e5bdadc036649228a5c5abf046eda6bf8699d78b698234568">globalcount</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02274">id_db_mutex</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00078">px::db::CIterator::last()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00133">px::db::CBlobHolder::reset()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00090">px::db::CIterator::seek()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00100">u64be_to_buf()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>, and <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00097">px::db::CKeyValueStore::write()</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d2f/perf____adapter_8cpp_source.html#l00365">BOOST_AUTO_TEST_CASE()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_aef84a690e2c78d11698ce19d0027c6cd_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_aef84a690e2c78d11698ce19d0027c6cd_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_aef84a690e2c78d11698ce19d0027c6cd_cgraph" id="dd/d42/namespacepx_1_1db_aef84a690e2c78d11698ce19d0027c6cd_cgraph">
<area shape="rect" id="node2" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="210,5,358,32"/><area shape="rect" id="node3" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="209,57,359,98"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a" title="px::db::buf_to_u64be" alt="" coords="205,123,363,149"/><area shape="rect" id="node6" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="197,174,371,215"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="217,239,351,281"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="217,305,351,346"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a875237bff574451cc0bbe5738bdf56ee" title="Find the last entry in the table/database. " alt="" coords="205,371,363,397"/><area shape="rect" id="node10" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="209,422,359,463"/><area shape="rect" id="node11" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="201,488,367,515"/><area shape="rect" id="node13" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="205,539,363,565"/><area shape="rect" id="node14" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="217,590,351,631"/><area shape="rect" id="node15" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="217,655,351,697"/><area shape="rect" id="node16" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="217,721,351,762"/><area shape="rect" id="node17" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="197,786,371,827"/><area shape="rect" id="node5" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="430,123,589,149"/><area shape="rect" id="node12" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="419,488,599,515"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a708cb3f5e4608bfa09bf05dc3a8055e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; px::db::AllocateDeviceIDs </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>id_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>num_requested</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate device IDs. </p>
<p>Returns a list. ID-tracking DB is committed to disk before this returns. May throw generic_err(). </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02498">2498</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02450">allocate_ids()</a>, and <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a0eabba4ecbaeb882e5bdadc036649228a79ee940199f413266525c2025ecd8e36">devicechannel</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d2f/perf____adapter_8cpp_source.html#l00365">BOOST_AUTO_TEST_CASE()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a708cb3f5e4608bfa09bf05dc3a8055e3_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a708cb3f5e4608bfa09bf05dc3a8055e3_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a708cb3f5e4608bfa09bf05dc3a8055e3_cgraph" id="dd/d42/namespacepx_1_1db_a708cb3f5e4608bfa09bf05dc3a8055e3_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#ab72151bb0e3c48f309add250b71856b8" title="px::db::allocate_ids" alt="" coords="243,355,391,381"/><area shape="rect" id="node3" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="440,5,613,46"/><area shape="rect" id="node4" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="451,70,602,111"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="443,136,610,163"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="459,187,594,229"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="459,253,594,294"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="459,318,594,359"/><area shape="rect" id="node10" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a" title="px::db::buf_to_u64be" alt="" coords="447,384,606,411"/><area shape="rect" id="node12" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="459,435,594,477"/><area shape="rect" id="node11" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="673,443,831,469"/><area shape="rect" id="node13" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="447,552,606,579"/><area shape="rect" id="node14" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="453,603,601,629"/><area shape="rect" id="node15" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="440,654,613,695"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="662,136,842,163"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7084a11cc3fa3544bd95d23cca4930a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; px::db::AllocateChannelIDs </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>id_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>num_requested</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate channel IDs. </p>
<p>Returns a list. ID-tracking DB is committed to disk before this returns. May throw generic_err(). </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02504">2504</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02450">allocate_ids()</a>, and <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a0eabba4ecbaeb882e5bdadc036649228a79ee940199f413266525c2025ecd8e36">devicechannel</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a7084a11cc3fa3544bd95d23cca4930a9_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a7084a11cc3fa3544bd95d23cca4930a9_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a7084a11cc3fa3544bd95d23cca4930a9_cgraph" id="dd/d42/namespacepx_1_1db_a7084a11cc3fa3544bd95d23cca4930a9_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#ab72151bb0e3c48f309add250b71856b8" title="px::db::allocate_ids" alt="" coords="251,355,399,381"/><area shape="rect" id="node3" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="448,5,621,46"/><area shape="rect" id="node4" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="459,70,610,111"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="451,136,618,163"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="467,187,602,229"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="467,253,602,294"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="467,318,602,359"/><area shape="rect" id="node10" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a" title="px::db::buf_to_u64be" alt="" coords="455,384,614,411"/><area shape="rect" id="node12" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="467,435,602,477"/><area shape="rect" id="node11" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="681,443,839,469"/><area shape="rect" id="node13" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="455,552,614,579"/><area shape="rect" id="node14" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="461,603,609,629"/><area shape="rect" id="node15" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="448,654,621,695"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="670,136,850,163"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a114f8fae2c1460cf167f6f1ac261f8e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; px::db::AllocateAlarmIDs </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>id_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>num_requested</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate alarm IDs. </p>
<p>Returns a list. ID-tracking DB is committed to disk before this returns. May throw generic_err(). </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02510">2510</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a0eabba4ecbaeb882e5bdadc036649228a6486b4e98228b83d4b13d54febe5f170">alarm</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02450">allocate_ids()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a114f8fae2c1460cf167f6f1ac261f8e5_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a114f8fae2c1460cf167f6f1ac261f8e5_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a114f8fae2c1460cf167f6f1ac261f8e5_cgraph" id="dd/d42/namespacepx_1_1db_a114f8fae2c1460cf167f6f1ac261f8e5_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#ab72151bb0e3c48f309add250b71856b8" title="px::db::allocate_ids" alt="" coords="238,355,386,381"/><area shape="rect" id="node3" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="435,5,608,46"/><area shape="rect" id="node4" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="446,70,597,111"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="438,136,605,163"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="454,187,589,229"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="454,253,589,294"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="454,318,589,359"/><area shape="rect" id="node10" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a" title="px::db::buf_to_u64be" alt="" coords="442,384,601,411"/><area shape="rect" id="node12" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="454,435,589,477"/><area shape="rect" id="node11" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="667,443,826,469"/><area shape="rect" id="node13" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="442,552,601,579"/><area shape="rect" id="node14" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="447,603,595,629"/><area shape="rect" id="node15" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="435,654,608,695"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="657,136,837,163"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a496e94654c3b269372ade9623c018c14"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; px::db::AllocateGlobalCounts </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>id_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>num_requested</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocate alarm global counts. </p>
<p>Returns a list. ID-tracking DB is committed to disk before this returns. May throw generic_err(). </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02516">2516</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02450">allocate_ids()</a>, and <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a0eabba4ecbaeb882e5bdadc036649228a5c5abf046eda6bf8699d78b698234568">globalcount</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a496e94654c3b269372ade9623c018c14_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a496e94654c3b269372ade9623c018c14_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a496e94654c3b269372ade9623c018c14_cgraph" id="dd/d42/namespacepx_1_1db_a496e94654c3b269372ade9623c018c14_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#ab72151bb0e3c48f309add250b71856b8" title="px::db::allocate_ids" alt="" coords="265,355,413,381"/><area shape="rect" id="node3" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="461,5,635,46"/><area shape="rect" id="node4" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="473,70,623,111"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="465,136,631,163"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="481,187,615,229"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="481,253,615,294"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="481,318,615,359"/><area shape="rect" id="node10" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a" title="px::db::buf_to_u64be" alt="" coords="469,384,627,411"/><area shape="rect" id="node12" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="481,435,615,477"/><area shape="rect" id="node11" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="694,443,853,469"/><area shape="rect" id="node13" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="469,552,627,579"/><area shape="rect" id="node14" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="474,603,622,629"/><area shape="rect" id="node15" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="461,654,635,695"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="683,136,863,163"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa8108f5c71ac7a4d4e7f6ad21fcea47e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::ReserveDeviceIDs </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>id_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reserve a set of device IDs so that they will not be automatically assigned by <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a708cb3f5e4608bfa09bf05dc3a8055e3" title="Allocate device IDs. ">AllocateDeviceIDs()</a>. </p>
<p>Device IDs must not be empty. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02581">2581</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a0eabba4ecbaeb882e5bdadc036649228a79ee940199f413266525c2025ecd8e36">devicechannel</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02522">reserve_ids()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_aa8108f5c71ac7a4d4e7f6ad21fcea47e_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_aa8108f5c71ac7a4d4e7f6ad21fcea47e_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_aa8108f5c71ac7a4d4e7f6ad21fcea47e_cgraph" id="dd/d42/namespacepx_1_1db_aa8108f5c71ac7a4d4e7f6ad21fcea47e_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a93ba3c076a1eb2f2ea9985496cb33516" title="px::db::reserve_ids" alt="" coords="243,384,389,411"/><area shape="rect" id="node3" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="437,5,611,46"/><area shape="rect" id="node4" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="449,70,599,111"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="441,136,607,163"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="457,187,591,229"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="457,253,591,294"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="457,318,591,359"/><area shape="rect" id="node10" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a" title="px::db::buf_to_u64be" alt="" coords="445,384,603,411"/><area shape="rect" id="node12" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="457,435,591,477"/><area shape="rect" id="node11" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="670,443,829,469"/><area shape="rect" id="node13" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="449,553,599,594"/><area shape="rect" id="node14" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="445,619,603,645"/><area shape="rect" id="node15" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="450,669,598,696"/><area shape="rect" id="node16" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="437,721,611,762"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="659,136,839,163"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a17085176ca2aae11e701c509f48c6558"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::ReserveChannelIDs </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>id_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reserve a set of channel IDs so that they will not be automatically assigned by <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a7084a11cc3fa3544bd95d23cca4930a9" title="Allocate channel IDs. ">AllocateChannelIDs()</a>. </p>
<p>Channel IDs must not be empty. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02586">2586</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a0eabba4ecbaeb882e5bdadc036649228a79ee940199f413266525c2025ecd8e36">devicechannel</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02522">reserve_ids()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a17085176ca2aae11e701c509f48c6558_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a17085176ca2aae11e701c509f48c6558_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a17085176ca2aae11e701c509f48c6558_cgraph" id="dd/d42/namespacepx_1_1db_a17085176ca2aae11e701c509f48c6558_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a93ba3c076a1eb2f2ea9985496cb33516" title="px::db::reserve_ids" alt="" coords="251,384,397,411"/><area shape="rect" id="node3" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="445,5,619,46"/><area shape="rect" id="node4" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="457,70,607,111"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="449,136,615,163"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="465,187,599,229"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="465,253,599,294"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="465,318,599,359"/><area shape="rect" id="node10" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a" title="px::db::buf_to_u64be" alt="" coords="453,384,611,411"/><area shape="rect" id="node12" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="465,435,599,477"/><area shape="rect" id="node11" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="678,443,837,469"/><area shape="rect" id="node13" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="457,553,607,594"/><area shape="rect" id="node14" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="453,619,611,645"/><area shape="rect" id="node15" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="458,669,606,696"/><area shape="rect" id="node16" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="445,721,619,762"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="667,136,847,163"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2cea3e029c4a66e221e55eb9a2adad70"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::ReserveAlarmIDs </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>id_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reserve a set of alarm IDs so that they will not be automatically assigned by <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a114f8fae2c1460cf167f6f1ac261f8e5" title="Allocate alarm IDs. ">AllocateAlarmIDs()</a>. </p>
<p>Alarm IDs must not be empty. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02592">2592</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a0eabba4ecbaeb882e5bdadc036649228a6486b4e98228b83d4b13d54febe5f170">alarm</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02522">reserve_ids()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a2cea3e029c4a66e221e55eb9a2adad70_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a2cea3e029c4a66e221e55eb9a2adad70_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a2cea3e029c4a66e221e55eb9a2adad70_cgraph" id="dd/d42/namespacepx_1_1db_a2cea3e029c4a66e221e55eb9a2adad70_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a93ba3c076a1eb2f2ea9985496cb33516" title="px::db::reserve_ids" alt="" coords="238,384,383,411"/><area shape="rect" id="node3" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="432,5,605,46"/><area shape="rect" id="node4" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="443,70,594,111"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="435,136,602,163"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="451,187,586,229"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="451,253,586,294"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="451,318,586,359"/><area shape="rect" id="node10" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a" title="px::db::buf_to_u64be" alt="" coords="439,384,598,411"/><area shape="rect" id="node12" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="451,435,586,477"/><area shape="rect" id="node11" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="665,443,823,469"/><area shape="rect" id="node13" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="443,553,594,594"/><area shape="rect" id="node14" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="439,619,598,645"/><area shape="rect" id="node15" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="445,669,593,696"/><area shape="rect" id="node16" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="432,721,605,762"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="654,136,834,163"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0a36a33e888f6ff806dd8936fdb86619"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::ReserveGlobalCounts </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>id_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; uint64_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reserve a set of alarm global counts so that they will not be automatically assigned by <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a496e94654c3b269372ade9623c018c14" title="Allocate alarm global counts. ">AllocateGlobalCounts()</a>. </p>
<p>IDs must not be empty. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02597">2597</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dd/d42/namespacepx_1_1db.html#a0eabba4ecbaeb882e5bdadc036649228a5c5abf046eda6bf8699d78b698234568">globalcount</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02522">reserve_ids()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a0a36a33e888f6ff806dd8936fdb86619_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a0a36a33e888f6ff806dd8936fdb86619_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a0a36a33e888f6ff806dd8936fdb86619_cgraph" id="dd/d42/namespacepx_1_1db_a0a36a33e888f6ff806dd8936fdb86619_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a93ba3c076a1eb2f2ea9985496cb33516" title="px::db::reserve_ids" alt="" coords="265,384,410,411"/><area shape="rect" id="node3" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="459,5,632,46"/><area shape="rect" id="node4" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="470,70,621,111"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="462,136,629,163"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="478,187,613,229"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="478,253,613,294"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="478,318,613,359"/><area shape="rect" id="node10" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a" title="px::db::buf_to_u64be" alt="" coords="466,384,625,411"/><area shape="rect" id="node12" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="478,435,613,477"/><area shape="rect" id="node11" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="691,443,850,469"/><area shape="rect" id="node13" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="470,553,621,594"/><area shape="rect" id="node14" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="466,619,625,645"/><area shape="rect" id="node15" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="471,669,619,696"/><area shape="rect" id="node16" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="459,721,632,762"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="681,136,861,163"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afeef37d4e2a0bbb18461922b2900bd06"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::AddTrendStageToBatch </td>
          <td>(</td>
          <td class="paramtype">CBatch &amp;&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::shared_ptr&lt; <a class="el" href="../../d7/d19/classpx_1_1CTrendStageUpdate.html">px::CTrendStageUpdate</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>updates</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>start_index</em> = <code>0</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>end_index</em> = <code>-1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add the trends from the accumulators to the batch to be stored in trend stage db. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02603">2603</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00681">_actual_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00678">_avg_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00683">_double_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00680">_max_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00679">_min_trend_mask</a>, <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00036">px::db::CBatch::add()</a>, <a class="el" href="../../df/d89/endian_8hpp_source.html#l00233">px::double_to_big_endian()</a>, <a class="el" href="../../df/d89/endian_8hpp_source.html#l00188">px::float_to_big_endian()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00107">px::db::CBlobHolder::get_mutable_ptr()</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a9ea71a16ddb273712e18ab723d8ddd2b">px::has_actual</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a73f99728db7c0b406b1f419b2a50d40e">px::has_avg</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9acd1fd1db599cdb2537a2215e3d51c5c9">px::has_max</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a22b1e2a517991331427d7976f1e9aadc">px::has_min</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00133">px::db::CBlobHolder::reset()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00042">u16be_to_buf()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00068">u32be_to_buf()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_afeef37d4e2a0bbb18461922b2900bd06_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_afeef37d4e2a0bbb18461922b2900bd06_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_afeef37d4e2a0bbb18461922b2900bd06_cgraph" id="dd/d42/namespacepx_1_1db_afeef37d4e2a0bbb18461922b2900bd06_cgraph">
<area shape="rect" id="node2" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="293,5,441,32"/><area shape="rect" id="node3" href="../../de/dcb/namespacepx.html#abcba15aa0fdb24e9d2da828a7ff22476" title="Writes an 8&#45;byte floating&#45;point to a big&#45;endian buffer with a start offset. " alt="" coords="273,56,461,83"/><area shape="rect" id="node4" href="../../de/dcb/namespacepx.html#a485e629a57d309a962c57a9db4f07677" title="Writes a 4&#45;byte floating&#45;point to a big&#45;endian buffer with a start offset. " alt="" coords="280,107,453,133"/><area shape="rect" id="node5" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a996915979b66811a0c3311cb61997306" title="Get a pointer to the data in this blob for write. " alt="" coords="291,158,442,199"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="291,223,442,265"/><area shape="rect" id="node7" href="../../dd/d42/namespacepx_1_1db.html#add5000fae171b713d88b70cd73b1d4eb" title="px::db::u16be_to_buf" alt="" coords="287,289,446,316"/><area shape="rect" id="node8" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="287,340,446,367"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7cf25e75f20f099af70e40e96951a66d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="el" href="../../d3/d5f/classpx_1_1CChannelTrends.html">px::CChannelTrends</a> px::db::QueryTrendStage </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>trend_stage_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>channel_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>start_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>end_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return a list of trends from the stage db, based on the channel id and time range. </p>
<p>Channel id must be &gt; 0. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02807">2807</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00681">_actual_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00678">_avg_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00683">_double_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00680">_max_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00679">_min_trend_mask</a>, <a class="el" href="../../d4/d32/channel__trend_8hpp_source.html#l00181">px::CChannelTrend::actual</a>, <a class="el" href="../../d4/d32/channel__trend_8hpp_source.html#l00155">px::CChannelTrend::avg</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00048">buf_to_u16be()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00053">buf_to_u32be()</a>, <a class="el" href="../../d7/d22/channel__trends_8hpp_source.html#l00091">px::CChannelTrends::channel_id</a>, <a class="el" href="../../d7/d22/channel__trends_8hpp_source.html#l00096">px::CChannelTrends::data_type</a>, <a class="el" href="../../df/d89/endian_8hpp_source.html#l00262">px::double_from_big_endian()</a>, <a class="el" href="../../de/dcb/namespacepx.html#a8231daeb7713d1005025954bc1066422ad33ec2b0bbea6d471a4706cea030e1e3">px::float32</a>, <a class="el" href="../../de/dcb/namespacepx.html#a8231daeb7713d1005025954bc1066422afb7fa22ede616c04c68a7663d0f81e92">px::float64</a>, <a class="el" href="../../df/d89/endian_8hpp_source.html#l00210">px::float_from_big_endian()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00107">px::db::CBlobHolder::get_mutable_ptr()</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a9ea71a16ddb273712e18ab723d8ddd2b">px::has_actual</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a73f99728db7c0b406b1f419b2a50d40e">px::has_avg</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9acd1fd1db599cdb2537a2215e3d51c5c9">px::has_max</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a22b1e2a517991331427d7976f1e9aadc">px::has_min</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../d4/d32/channel__trend_8hpp_source.html#l00170">px::CChannelTrend::max</a>, <a class="el" href="../../d4/d32/channel__trend_8hpp_source.html#l00177">px::CChannelTrend::max_time_offset</a>, <a class="el" href="../../d4/d32/channel__trend_8hpp_source.html#l00159">px::CChannelTrend::min</a>, <a class="el" href="../../d4/d32/channel__trend_8hpp_source.html#l00166">px::CChannelTrend::min_time_offset</a>, <a class="el" href="../../d4/d32/channel__trend_8hpp_source.html#l00187">px::CChannelTrend::period</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00133">px::db::CBlobHolder::reset()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00090">px::db::CIterator::seek()</a>, <a class="el" href="../../d4/d32/channel__trend_8hpp_source.html#l00151">px::CChannelTrend::time</a>, <a class="el" href="../../d7/d22/channel__trends_8hpp_source.html#l00101">px::CChannelTrends::trends</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00068">u32be_to_buf()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a7cf25e75f20f099af70e40e96951a66d_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a7cf25e75f20f099af70e40e96951a66d_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a7cf25e75f20f099af70e40e96951a66d_cgraph" id="dd/d42/namespacepx_1_1db_a7cf25e75f20f099af70e40e96951a66d_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a896f98e4264f2e0ccf2f3aed99b6e38c" title="px::db::buf_to_u16be" alt="" coords="242,5,401,32"/><area shape="rect" id="node3" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="242,56,401,83"/><area shape="rect" id="node4" href="../../de/dcb/namespacepx.html#a950981b2c40b1e673a1ac1fad267e30c" title="Reads an 8&#45;byte floating&#45;point from a big&#45;endian buffer with a start offset. " alt="" coords="244,107,399,149"/><area shape="rect" id="node5" href="../../de/dcb/namespacepx.html#a1a68fc1b54175f1223ac68f0dcf8f4f0" title="Reads a 4&#45;byte floating&#45;point from a big&#45;endian buffer with a start offset. " alt="" coords="251,173,391,214"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a996915979b66811a0c3311cb61997306" title="Get a pointer to the data in this blob for write. " alt="" coords="246,238,397,279"/><area shape="rect" id="node7" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="235,303,408,345"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="254,369,389,410"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="254,434,389,475"/><area shape="rect" id="node10" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="246,499,397,541"/><area shape="rect" id="node11" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="238,565,405,592"/><area shape="rect" id="node13" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="242,616,401,643"/><area shape="rect" id="node14" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="254,667,389,709"/><area shape="rect" id="node15" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="254,733,389,774"/><area shape="rect" id="node16" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="254,798,389,839"/><area shape="rect" id="node12" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="457,565,637,592"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1a1ec10f40f632d89f5287523be11b55"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::DumpHex </td>
          <td>(</td>
          <td class="paramtype">std::ofstream &amp;&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Dump the hex string from a binary blob. </p>
<p>data must not be null. length must be &gt; 0. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03009">3009</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03191">ExportTrendStage()</a>.</p>

</div>
</div>
<a class="anchor" id="a74569b6a7541050c44ac405426251f9b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::ExportTrendStageRow </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>channel_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CIterator &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ofstream &amp;&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_avg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_actual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>values_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export a record from the trend stage db to an opened file stream. </p>
<p>Export a row from the trend stage db to an opened file stream.</p>
<p>(The row key/value sizes are already validated before calling this method.</p>
<p>Channel ID must be &gt; 0.</p>
<p>Return true if the row is exported as a valid trend. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03033">3033</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00681">_actual_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00678">_avg_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00683">_double_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00680">_max_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00679">_min_trend_mask</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00048">buf_to_u16be()</a>, <a class="el" href="../../df/d89/endian_8hpp_source.html#l00262">px::double_from_big_endian()</a>, <a class="el" href="../../df/d89/endian_8hpp_source.html#l00210">px::float_from_big_endian()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05621">get_walltime()</a>, <a class="el" href="../../d1/db0/timestamp_8hpp_source.html#l00419">px::CTimestamp::gmtime_str()</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a9ea71a16ddb273712e18ab723d8ddd2b">px::has_actual</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a73f99728db7c0b406b1f419b2a50d40e">px::has_avg</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9acd1fd1db599cdb2537a2215e3d51c5c9">px::has_max</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a22b1e2a517991331427d7976f1e9aadc">px::has_min</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03191">ExportTrendStage()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a74569b6a7541050c44ac405426251f9b_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a74569b6a7541050c44ac405426251f9b_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a74569b6a7541050c44ac405426251f9b_cgraph" id="dd/d42/namespacepx_1_1db_a74569b6a7541050c44ac405426251f9b_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a896f98e4264f2e0ccf2f3aed99b6e38c" title="px::db::buf_to_u16be" alt="" coords="291,5,450,32"/><area shape="rect" id="node3" href="../../de/dcb/namespacepx.html#a950981b2c40b1e673a1ac1fad267e30c" title="Reads an 8&#45;byte floating&#45;point from a big&#45;endian buffer with a start offset. " alt="" coords="293,57,448,98"/><area shape="rect" id="node4" href="../../de/dcb/namespacepx.html#a1a68fc1b54175f1223ac68f0dcf8f4f0" title="Reads a 4&#45;byte floating&#45;point from a big&#45;endian buffer with a start offset. " alt="" coords="301,122,441,163"/><area shape="rect" id="node5" href="../../dd/d42/namespacepx_1_1db.html#a3f9f1d96a70d48fe6f75f4164b6cf967" title="Gets a CWallTime from the minutes since 1970 UTC. " alt="" coords="293,188,448,215"/><area shape="rect" id="node6" href="../../d6/d4e/classpx_1_1CTimestamp.html#aac7b9e4090c042b604004c6db73db68a" title="Generate a string representation of this timestamp, assuming UTC time. " alt="" coords="265,239,477,265"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="303,290,438,331"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="303,355,438,397"/><area shape="rect" id="node7" href="../../d6/d4e/classpx_1_1CTimestamp.html#a846db0f645f5e953e6bdb98a562c47d3" title="px::CTimestamp::time_str" alt="" coords="526,239,717,265"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a73023e268dd036fb9cdf12f04942ff81"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::ExportTrendStage </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>trend_stage_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ofstream &amp;&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>channel_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>start_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>end_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_avg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_actual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_invalid</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>row_count_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>more_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>values_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>row_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const volatile bool &amp;&#160;</td>
          <td class="paramname"><em>exit_req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export all trends from the stage db to a csv file, returns the exported trends count. </p>
<p>Export all trends from the stage db to a csv file.</p>
<p>csv format: channel_id, time, mask, avg, min, max, actual (the value can be null or nan.) invalid, key, value (HEX dump when the key/value is invalid)</p>
<p>If channel_ids is empty, all channels in the stage are exported.</p>
<p>csv format: channel_id, time_minutes, time, mask, avg, min, min_time, max, max_time, actual (the value can be null or nan) invalid, key, value (HEX dump when the key/value is invalid) </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03191">3191</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00053">buf_to_u32be()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03009">DumpHex()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03033">ExportTrendStageRow()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00066">px::db::CIterator::first()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00107">px::db::CBlobHolder::get_mutable_ptr()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00133">px::db::CBlobHolder::reset()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00090">px::db::CIterator::seek()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00068">u32be_to_buf()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a73023e268dd036fb9cdf12f04942ff81_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a73023e268dd036fb9cdf12f04942ff81_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a73023e268dd036fb9cdf12f04942ff81_cgraph" id="dd/d42/namespacepx_1_1db_a73023e268dd036fb9cdf12f04942ff81_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="263,136,422,163"/><area shape="rect" id="node3" href="../../dd/d42/namespacepx_1_1db.html#a1a1ec10f40f632d89f5287523be11b55" title="Dump the hex string from a binary blob. " alt="" coords="275,187,410,213"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#a74569b6a7541050c44ac405426251f9b" title="Export a record from the trend stage db to an opened file stream. " alt="" coords="237,237,448,264"/><area shape="rect" id="node13" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a434fd27eeed52b354e0ee1147cffed2d" title="Find the first entry in the table/database. " alt="" coords="275,390,410,431"/><area shape="rect" id="node14" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a996915979b66811a0c3311cb61997306" title="Get a pointer to the data in this blob for write. " alt="" coords="267,455,418,497"/><area shape="rect" id="node15" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="256,521,429,562"/><area shape="rect" id="node16" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="275,586,410,627"/><area shape="rect" id="node17" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="275,651,410,693"/><area shape="rect" id="node18" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="267,717,418,758"/><area shape="rect" id="node19" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="259,783,426,809"/><area shape="rect" id="node21" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="263,833,422,860"/><area shape="rect" id="node22" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="275,885,410,926"/><area shape="rect" id="node11" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="535,289,670,330"/><area shape="rect" id="node12" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="535,354,670,395"/><area shape="rect" id="node5" href="../../dd/d42/namespacepx_1_1db.html#a896f98e4264f2e0ccf2f3aed99b6e38c" title="px::db::buf_to_u16be" alt="" coords="523,237,682,264"/><area shape="rect" id="node6" href="../../de/dcb/namespacepx.html#a950981b2c40b1e673a1ac1fad267e30c" title="Reads an 8&#45;byte floating&#45;point from a big&#45;endian buffer with a start offset. " alt="" coords="525,5,680,46"/><area shape="rect" id="node7" href="../../de/dcb/namespacepx.html#a1a68fc1b54175f1223ac68f0dcf8f4f0" title="Reads a 4&#45;byte floating&#45;point from a big&#45;endian buffer with a start offset. " alt="" coords="533,70,673,111"/><area shape="rect" id="node8" href="../../dd/d42/namespacepx_1_1db.html#a3f9f1d96a70d48fe6f75f4164b6cf967" title="Gets a CWallTime from the minutes since 1970 UTC. " alt="" coords="525,136,680,163"/><area shape="rect" id="node9" href="../../d6/d4e/classpx_1_1CTimestamp.html#aac7b9e4090c042b604004c6db73db68a" title="Generate a string representation of this timestamp, assuming UTC time. " alt="" coords="497,187,709,213"/><area shape="rect" id="node10" href="../../d6/d4e/classpx_1_1CTimestamp.html#a846db0f645f5e953e6bdb98a562c47d3" title="px::CTimestamp::time_str" alt="" coords="758,187,949,213"/><area shape="rect" id="node20" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="513,783,693,809"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab42ef81a5e7a5a38e55ec3eceaf013a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::ExportTrendStageHeaderRow </td>
          <td>(</td>
          <td class="paramtype">std::ofstream &amp;&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the header (title) row to the stage trends export CSV file: channel_id, time, mask, avg, min, max, actual. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03384">3384</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab8fd596352b15c8f3673666c5d6212b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::ImportTrendStage </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;&#160;</td>
          <td class="paramname"><em>file_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::function&lt; void(std::vector&lt; std::shared_ptr&lt; <a class="el" href="../../d7/d19/classpx_1_1CTrendStageUpdate.html">px::CTrendStageUpdate</a> &gt; &gt; &amp;)&gt;&#160;</td>
          <td class="paramname"><em>func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>row_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>value_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const volatile bool &amp;&#160;</td>
          <td class="paramname"><em>exit_req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Import trends from a csv file to the daily stage db(s) based on the timestamps; return the imported rows and values count. </p>
<p>Import trends from a csv file to the stage db, return the imported trends count csv format: channel_id, time, value_type(float32/float64), avg, min, max, actual (the value can be null or nan) The time can be an integer indicating the minutes since epoch time, or in the format of YYYY-MM-DD HH:MM:SS in UTC.</p>
<p>csv format: channel_id, time (YYYY-MM-DD HH:MM:SS UTC), value_type(float32/float64), avg, min, max, actual (the value can be null or nan.) The time can be an integer indicating the minutes since epoch time, or in the format of YYYY-MM-DD HH:MM:SS in UTC. All times will be normalized to 5-minutes interval. The data in the CSV file must be sorted in the time ascending order (You can manually add some out of order data to test/simulate the system clock adjustments.)</p>
<p>Path to the file must not be empty.</p>
<p>All times will be normalized to 5-minutes interval. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03396">3396</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88ea5157e3c765af93679ea07052f30f0a6e">px::actual</a>, <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88eae322d423f075b0ab2daad27011d24909">px::avg</a>, <a class="el" href="../../de/dcb/namespacepx.html#a8231daeb7713d1005025954bc1066422ad33ec2b0bbea6d471a4706cea030e1e3">px::float32</a>, <a class="el" href="../../de/dcb/namespacepx.html#a8231daeb7713d1005025954bc1066422afb7fa22ede616c04c68a7663d0f81e92">px::float64</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05552">get_normalized_interval_timestamp()</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a9ea71a16ddb273712e18ab723d8ddd2b">px::has_actual</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a73f99728db7c0b406b1f419b2a50d40e">px::has_avg</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9acd1fd1db599cdb2537a2215e3d51c5c9">px::has_max</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a22b1e2a517991331427d7976f1e9aadc">px::has_min</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88ea2ffe4e77325d9a7152f7086ea7aa5114">px::max</a>, <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88ead8bd79cc131920d5de426f914d17405a">px::min</a>, <a class="el" href="../../dd/de3/string__util_8cpp_source.html#l00381">px::safe_line_split()</a>, <a class="el" href="../../de/dcb/namespacepx.html#a8231daeb7713d1005025954bc1066422ab45cffe084dd3d20d928bee85e7b0f21">px::string</a>, and <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_ab8fd596352b15c8f3673666c5d6212b9_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_ab8fd596352b15c8f3673666c5d6212b9_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_ab8fd596352b15c8f3673666c5d6212b9_cgraph" id="dd/d42/namespacepx_1_1db_ab8fd596352b15c8f3673666c5d6212b9_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a93c327007ff894fa4691acbf52269ede" title="Gets the minutes since epoch, or zero if invalid, optionally aligned to an interval in minutes; and a..." alt="" coords="240,5,411,46"/><area shape="rect" id="node3" href="../../de/dcb/namespacepx.html#a17f073d4fe5ea0cea4985c25ad567d60" title="Function to encapuslate boost::split(), including try&#45;catch for boost errors. " alt="" coords="255,71,395,97"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a76dc0348e2b016be0b1a5602a037c022"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::ImportTrendBucket </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>trend_bucket_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;&#160;</td>
          <td class="paramname"><em>file_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>row_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>value_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const volatile bool &amp;&#160;</td>
          <td class="paramname"><em>exit_req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Import trends from a csv file to the bucket db, return the imported rows and values count. </p>
<p>Import trends from a csv file to the bucket db, return the imported trends count.</p>
<p>csv format: channel_id, time, mask, avg, min, max, actual (the value can be null or nan.)</p>
<p>Path to the file must not be empty.</p>
<p>Notes: the rows in the csv file must be pre-sorted by time. csv format: time, period, channelid1(avg), channelid1(min), channelid1(max), channelid1(actual), ... (the value can be null or nan) 9/1/2013 20:00, 5, 1.2, 1.3, , nan, null, ... </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03695">3695</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88ea5157e3c765af93679ea07052f30f0a6e">px::actual</a>, <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88eae322d423f075b0ab2daad27011d24909">px::avg</a>, <a class="el" href="../../de/dcb/namespacepx.html#a8231daeb7713d1005025954bc1066422ad33ec2b0bbea6d471a4706cea030e1e3">px::float32</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05552">get_normalized_interval_timestamp()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88ea2ffe4e77325d9a7152f7086ea7aa5114">px::max</a>, <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88ead8bd79cc131920d5de426f914d17405a">px::min</a>, <a class="el" href="../../dd/de3/string__util_8cpp_source.html#l00381">px::safe_line_split()</a>, <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88eaf7bd60b75b29d79b660a2859395c1a24">px::size</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04086">StoreTrendBucketsToDb()</a>, <a class="el" href="../../de/dcb/namespacepx.html#a8231daeb7713d1005025954bc1066422ab45cffe084dd3d20d928bee85e7b0f21">px::string</a>, and <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a76dc0348e2b016be0b1a5602a037c022_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a76dc0348e2b016be0b1a5602a037c022_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a76dc0348e2b016be0b1a5602a037c022_cgraph" id="dd/d42/namespacepx_1_1db_a76dc0348e2b016be0b1a5602a037c022_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a93c327007ff894fa4691acbf52269ede" title="Gets the minutes since epoch, or zero if invalid, optionally aligned to an interval in minutes; and a..." alt="" coords="275,282,445,323"/><area shape="rect" id="node3" href="../../de/dcb/namespacepx.html#a17f073d4fe5ea0cea4985c25ad567d60" title="Function to encapuslate boost::split(), including try&#45;catch for boost errors. " alt="" coords="290,348,430,375"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#a66b55a4a6b7d9eac9f39658a50ffa602" title="Stores a list of buckets to the bucket db. " alt="" coords="249,399,471,425"/><area shape="rect" id="node5" href="../../dd/d42/namespacepx_1_1db.html#a7a2873c068af728840dc7693a9a71b53" title="Add the trend bucket to the batch to be stored in the bucket db. " alt="" coords="520,326,709,367"/><area shape="rect" id="node18" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="528,391,701,433"/><area shape="rect" id="node19" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a2dd4ae3d0fcca9eacb38c6ab93db26c9" title="Clear the current batch, and the key/value blobs buffer. " alt="" coords="537,457,693,484"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="777,5,927,46"/><area shape="rect" id="node7" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a996915979b66811a0c3311cb61997306" title="Get a pointer to the data in this blob for write. " alt="" coords="777,70,927,111"/><area shape="rect" id="node8" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="773,136,931,163"/><area shape="rect" id="node9" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#ae9a0455f1b0dfc3e32031c7ac9e73535" title="px::db::CNullMask::\lget_byte_size" alt="" coords="779,187,925,229"/><area shape="rect" id="node10" href="../../dd/d42/namespacepx_1_1db.html#add5000fae171b713d88b70cd73b1d4eb" title="px::db::u16be_to_buf" alt="" coords="773,253,931,280"/><area shape="rect" id="node11" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#ac728418a5e9990c73c6ccadb8b7d6f7a" title="Set a bit at a position. " alt="" coords="769,304,935,331"/><area shape="rect" id="node12" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#a2cdd8f07d53062a70efb0788644995ca" title="Serialize to a pre&#45;allocated byte buffer with an offset. " alt="" coords="779,355,925,397"/><area shape="rect" id="node13" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#a6661d4d696fb7af38a57a05305181702" title="Gets the byte size. " alt="" coords="779,421,925,462"/><area shape="rect" id="node14" href="../../de/dcb/namespacepx.html#abcba15aa0fdb24e9d2da828a7ff22476" title="Writes an 8&#45;byte floating&#45;point to a big&#45;endian buffer with a start offset. " alt="" coords="758,487,946,513"/><area shape="rect" id="node15" href="../../de/dcb/namespacepx.html#a485e629a57d309a962c57a9db4f07677" title="Writes a 4&#45;byte floating&#45;point to a big&#45;endian buffer with a start offset. " alt="" coords="765,537,939,564"/><area shape="rect" id="node16" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="777,589,927,630"/><area shape="rect" id="node17" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="778,655,926,681"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7a2873c068af728840dc7693a9a71b53"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool px::db::AddTrendBucketToBatch </td>
          <td>(</td>
          <td class="paramtype">CBatch &amp;&#160;</td>
          <td class="paramname"><em>batch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="../../d7/d98/classpx_1_1CTrendBucketUpdate.html">px::CTrendBucketUpdate</a> &gt;&#160;</td>
          <td class="paramname"><em>update</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Add the trend bucket to the batch to be stored in the bucket db. </p>
<p>Adds or updates trend bucket db.</p>
<p>returns true if the updates are successfully added to the batch; otherwise, the updates are ignored, due to the invalid contents.</p>
<p>The data are indexed by the channel id. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04117">4117</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00681">_actual_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00678">_avg_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00683">_double_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00680">_max_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00679">_min_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00682">_null_trend_mask</a>, <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00036">px::db::CBatch::add()</a>, <a class="el" href="../../d2/d40/null__mask_8hpp_source.html#l00042">px::db::CNullMask::byte_size()</a>, <a class="el" href="../../df/d89/endian_8hpp_source.html#l00233">px::double_to_big_endian()</a>, <a class="el" href="../../df/d89/endian_8hpp_source.html#l00188">px::float_to_big_endian()</a>, <a class="el" href="../../d2/d40/null__mask_8hpp_source.html#l00088">px::db::CNullMask::get_byte_size()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00107">px::db::CBlobHolder::get_mutable_ptr()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00133">px::db::CBlobHolder::reset()</a>, <a class="el" href="../../d7/d98/null__mask_8cpp_source.html#l00031">px::db::CNullMask::set()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00167">px::db::CBlobHolder::size()</a>, <a class="el" href="../../d2/d40/null__mask_8hpp_source.html#l00050">px::db::CNullMask::to_buf()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00042">u16be_to_buf()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00068">u32be_to_buf()</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06311">LevelupBucketTrendsRow()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05655">MoveTrendsFromStageToBucket()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04086">StoreTrendBucketsToDb()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a7a2873c068af728840dc7693a9a71b53_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a7a2873c068af728840dc7693a9a71b53_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a7a2873c068af728840dc7693a9a71b53_cgraph" id="dd/d42/namespacepx_1_1db_a7a2873c068af728840dc7693a9a71b53_cgraph">
<area shape="rect" id="node2" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="263,5,411,32"/><area shape="rect" id="node3" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#a6661d4d696fb7af38a57a05305181702" title="Gets the byte size. " alt="" coords="264,57,411,98"/><area shape="rect" id="node4" href="../../de/dcb/namespacepx.html#abcba15aa0fdb24e9d2da828a7ff22476" title="Writes an 8&#45;byte floating&#45;point to a big&#45;endian buffer with a start offset. " alt="" coords="243,123,431,149"/><area shape="rect" id="node5" href="../../de/dcb/namespacepx.html#a485e629a57d309a962c57a9db4f07677" title="Writes a 4&#45;byte floating&#45;point to a big&#45;endian buffer with a start offset. " alt="" coords="251,173,424,200"/><area shape="rect" id="node6" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#ae9a0455f1b0dfc3e32031c7ac9e73535" title="px::db::CNullMask::\lget_byte_size" alt="" coords="264,225,411,266"/><area shape="rect" id="node7" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a996915979b66811a0c3311cb61997306" title="Get a pointer to the data in this blob for write. " alt="" coords="262,290,413,331"/><area shape="rect" id="node8" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="262,355,413,397"/><area shape="rect" id="node9" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#ac728418a5e9990c73c6ccadb8b7d6f7a" title="Set a bit at a position. " alt="" coords="254,421,421,448"/><area shape="rect" id="node10" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="262,473,413,514"/><area shape="rect" id="node11" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#a2cdd8f07d53062a70efb0788644995ca" title="Serialize to a pre&#45;allocated byte buffer with an offset. " alt="" coords="264,538,411,579"/><area shape="rect" id="node12" href="../../dd/d42/namespacepx_1_1db.html#add5000fae171b713d88b70cd73b1d4eb" title="px::db::u16be_to_buf" alt="" coords="258,604,417,631"/><area shape="rect" id="node13" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="258,655,417,681"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a66b55a4a6b7d9eac9f39658a50ffa602"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::StoreTrendBucketsToDb </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>trend_bucket_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::map&lt; uint32_t, std::shared_ptr&lt; <a class="el" href="../../d7/d98/classpx_1_1CTrendBucketUpdate.html">px::CTrendBucketUpdate</a> &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>cache</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sync_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const volatile bool &amp;&#160;</td>
          <td class="paramname"><em>exit_req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stores a list of buckets to the bucket db. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04086">4086</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04117">AddTrendBucketToBatch()</a>, <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00025">px::db::CBatch::clear()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, and <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00097">px::db::CKeyValueStore::write()</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03695">ImportTrendBucket()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04497">SimulateTrendBucket()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a66b55a4a6b7d9eac9f39658a50ffa602_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a66b55a4a6b7d9eac9f39658a50ffa602_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a66b55a4a6b7d9eac9f39658a50ffa602_cgraph" id="dd/d42/namespacepx_1_1db_a66b55a4a6b7d9eac9f39658a50ffa602_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a7a2873c068af728840dc7693a9a71b53" title="Add the trend bucket to the batch to be stored in the bucket db. " alt="" coords="277,322,467,363"/><area shape="rect" id="node15" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a2dd4ae3d0fcca9eacb38c6ab93db26c9" title="Clear the current batch, and the key/value blobs buffer. " alt="" coords="294,388,450,415"/><area shape="rect" id="node16" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="285,439,459,481"/><area shape="rect" id="node3" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="535,5,683,32"/><area shape="rect" id="node4" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#a6661d4d696fb7af38a57a05305181702" title="Gets the byte size. " alt="" coords="536,57,683,98"/><area shape="rect" id="node5" href="../../de/dcb/namespacepx.html#abcba15aa0fdb24e9d2da828a7ff22476" title="Writes an 8&#45;byte floating&#45;point to a big&#45;endian buffer with a start offset. " alt="" coords="515,123,703,149"/><area shape="rect" id="node6" href="../../de/dcb/namespacepx.html#a485e629a57d309a962c57a9db4f07677" title="Writes a 4&#45;byte floating&#45;point to a big&#45;endian buffer with a start offset. " alt="" coords="523,173,696,200"/><area shape="rect" id="node7" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#ae9a0455f1b0dfc3e32031c7ac9e73535" title="px::db::CNullMask::\lget_byte_size" alt="" coords="536,225,683,266"/><area shape="rect" id="node8" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a996915979b66811a0c3311cb61997306" title="Get a pointer to the data in this blob for write. " alt="" coords="534,290,685,331"/><area shape="rect" id="node9" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="534,355,685,397"/><area shape="rect" id="node10" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#ac728418a5e9990c73c6ccadb8b7d6f7a" title="Set a bit at a position. " alt="" coords="526,421,693,448"/><area shape="rect" id="node11" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="534,473,685,514"/><area shape="rect" id="node12" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#a2cdd8f07d53062a70efb0788644995ca" title="Serialize to a pre&#45;allocated byte buffer with an offset. " alt="" coords="536,538,683,579"/><area shape="rect" id="node13" href="../../dd/d42/namespacepx_1_1db.html#add5000fae171b713d88b70cd73b1d4eb" title="px::db::u16be_to_buf" alt="" coords="530,604,689,631"/><area shape="rect" id="node14" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="530,655,689,681"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae8231c6bdaafbf0c8cb8dc1ba2c7e78d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void px::db::SimulateTrendBucket </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>trend_bucket_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>channel_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> &amp;&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> &amp;&#160;</td>
          <td class="paramname"><em>end</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>trends_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simulates the data to fill up the trend bucket. </p>
<p>Channel IDs must note be empty and start must be before the end. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04497">4497</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88ea5157e3c765af93679ea07052f30f0a6e">px::actual</a>, <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88eae322d423f075b0ab2daad27011d24909">px::avg</a>, <a class="el" href="../../de/dcb/namespacepx.html#a8231daeb7713d1005025954bc1066422ad33ec2b0bbea6d471a4706cea030e1e3">px::float32</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05552">get_normalized_interval_timestamp()</a>, <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88ea2ffe4e77325d9a7152f7086ea7aa5114">px::max</a>, <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88ead8bd79cc131920d5de426f914d17405a">px::min</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04086">StoreTrendBucketsToDb()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_ae8231c6bdaafbf0c8cb8dc1ba2c7e78d_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_ae8231c6bdaafbf0c8cb8dc1ba2c7e78d_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_ae8231c6bdaafbf0c8cb8dc1ba2c7e78d_cgraph" id="dd/d42/namespacepx_1_1db_ae8231c6bdaafbf0c8cb8dc1ba2c7e78d_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a93c327007ff894fa4691acbf52269ede" title="Gets the minutes since epoch, or zero if invalid, optionally aligned to an interval in minutes; and a..." alt="" coords="288,322,459,363"/><area shape="rect" id="node3" href="../../dd/d42/namespacepx_1_1db.html#a66b55a4a6b7d9eac9f39658a50ffa602" title="Stores a list of buckets to the bucket db. " alt="" coords="262,388,485,415"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#a7a2873c068af728840dc7693a9a71b53" title="Add the trend bucket to the batch to be stored in the bucket db. " alt="" coords="533,322,723,363"/><area shape="rect" id="node17" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a2dd4ae3d0fcca9eacb38c6ab93db26c9" title="Clear the current batch, and the key/value blobs buffer. " alt="" coords="550,388,706,415"/><area shape="rect" id="node18" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="541,439,715,481"/><area shape="rect" id="node5" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="791,5,939,32"/><area shape="rect" id="node6" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#a6661d4d696fb7af38a57a05305181702" title="Gets the byte size. " alt="" coords="792,57,939,98"/><area shape="rect" id="node7" href="../../de/dcb/namespacepx.html#abcba15aa0fdb24e9d2da828a7ff22476" title="Writes an 8&#45;byte floating&#45;point to a big&#45;endian buffer with a start offset. " alt="" coords="771,123,959,149"/><area shape="rect" id="node8" href="../../de/dcb/namespacepx.html#a485e629a57d309a962c57a9db4f07677" title="Writes a 4&#45;byte floating&#45;point to a big&#45;endian buffer with a start offset. " alt="" coords="779,173,952,200"/><area shape="rect" id="node9" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#ae9a0455f1b0dfc3e32031c7ac9e73535" title="px::db::CNullMask::\lget_byte_size" alt="" coords="792,225,939,266"/><area shape="rect" id="node10" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a996915979b66811a0c3311cb61997306" title="Get a pointer to the data in this blob for write. " alt="" coords="790,290,941,331"/><area shape="rect" id="node11" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="790,355,941,397"/><area shape="rect" id="node12" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#ac728418a5e9990c73c6ccadb8b7d6f7a" title="Set a bit at a position. " alt="" coords="782,421,949,448"/><area shape="rect" id="node13" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="790,473,941,514"/><area shape="rect" id="node14" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#a2cdd8f07d53062a70efb0788644995ca" title="Serialize to a pre&#45;allocated byte buffer with an offset. " alt="" coords="792,538,939,579"/><area shape="rect" id="node15" href="../../dd/d42/namespacepx_1_1db.html#add5000fae171b713d88b70cd73b1d4eb" title="px::db::u16be_to_buf" alt="" coords="786,604,945,631"/><area shape="rect" id="node16" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="786,655,945,681"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab9c81d6004f662b5c242f8a27e2f8c13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::ReadTrendsFromBucketRow </td>
          <td>(</td>
          <td class="paramtype">CIterator &amp;&#160;</td>
          <td class="paramname"><em>iterator</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d4/dfe/classpx_1_1CChannelTrend.html">px::CChannelTrend</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>result</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>bucket_end_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>start_minutes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>end_minutes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>request_period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_avg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_actual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>read_period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>is_double</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>row_count_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>row_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>rtn_values_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>newest_first</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>include_holes</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read trends from a bucket row to the result, based on time range and traits. </p>
<p>The nulls (gap) will be kept in the result. Therefore, the number of values depends on the time range and the period. The data beyond the query time range will not be included in the result. The only valid request_period are 0 (any period in the db), 5, 15, 60, and 60*24 (daily). </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04614">4614</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00681">_actual_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00678">_avg_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00683">_double_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00680">_max_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00679">_min_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00682">_null_trend_mask</a>, <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88ea5157e3c765af93679ea07052f30f0a6e">px::actual</a>, <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88eae322d423f075b0ab2daad27011d24909">px::avg</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00048">buf_to_u16be()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00053">buf_to_u32be()</a>, <a class="el" href="../../df/d89/endian_8hpp_source.html#l00262">px::double_from_big_endian()</a>, <a class="el" href="../../df/d89/endian_8hpp_source.html#l00210">px::float_from_big_endian()</a>, <a class="el" href="../../d2/d40/null__mask_8hpp_source.html#l00088">px::db::CNullMask::get_byte_size()</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a9ea71a16ddb273712e18ab723d8ddd2b">px::has_actual</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a73f99728db7c0b406b1f419b2a50d40e">px::has_avg</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9acd1fd1db599cdb2537a2215e3d51c5c9">px::has_max</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a22b1e2a517991331427d7976f1e9aadc">px::has_min</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88ea2ffe4e77325d9a7152f7086ea7aa5114">px::max</a>, <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88ead8bd79cc131920d5de426f914d17405a">px::min</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05377">ExportTrendBucket()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06311">LevelupBucketTrendsRow()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_ab9c81d6004f662b5c242f8a27e2f8c13_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_ab9c81d6004f662b5c242f8a27e2f8c13_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_ab9c81d6004f662b5c242f8a27e2f8c13_cgraph" id="dd/d42/namespacepx_1_1db_ab9c81d6004f662b5c242f8a27e2f8c13_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a896f98e4264f2e0ccf2f3aed99b6e38c" title="px::db::buf_to_u16be" alt="" coords="302,5,461,32"/><area shape="rect" id="node3" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="302,56,461,83"/><area shape="rect" id="node4" href="../../de/dcb/namespacepx.html#a950981b2c40b1e673a1ac1fad267e30c" title="Reads an 8&#45;byte floating&#45;point from a big&#45;endian buffer with a start offset. " alt="" coords="304,107,459,149"/><area shape="rect" id="node5" href="../../de/dcb/namespacepx.html#a1a68fc1b54175f1223ac68f0dcf8f4f0" title="Reads a 4&#45;byte floating&#45;point from a big&#45;endian buffer with a start offset. " alt="" coords="311,173,451,214"/><area shape="rect" id="node6" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#ae9a0455f1b0dfc3e32031c7ac9e73535" title="px::db::CNullMask::\lget_byte_size" alt="" coords="308,238,455,279"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="314,303,449,345"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="314,369,449,410"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac536596e4c2592cf30ef67c2c8f89dfb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::ReadTrendsFromStageRow </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">px::db::CIterator</a> &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="../../d4/dfe/classpx_1_1CChannelTrend.html">px::CChannelTrend</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>trends</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_avg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_actual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>is_double</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>row_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>rtn_values_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read trends from a stage row to the result, based on the traits. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05013">5013</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00681">_actual_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00678">_avg_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00683">_double_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00680">_max_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00679">_min_trend_mask</a>, <a class="el" href="../../d4/d32/channel__trend_8hpp_source.html#l00181">px::CChannelTrend::actual</a>, <a class="el" href="../../d4/d32/channel__trend_8hpp_source.html#l00155">px::CChannelTrend::avg</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00048">buf_to_u16be()</a>, <a class="el" href="../../df/d89/endian_8hpp_source.html#l00262">px::double_from_big_endian()</a>, <a class="el" href="../../df/d89/endian_8hpp_source.html#l00210">px::float_from_big_endian()</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a9ea71a16ddb273712e18ab723d8ddd2b">px::has_actual</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a73f99728db7c0b406b1f419b2a50d40e">px::has_avg</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9acd1fd1db599cdb2537a2215e3d51c5c9">px::has_max</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a22b1e2a517991331427d7976f1e9aadc">px::has_min</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../d4/d32/channel__trend_8hpp_source.html#l00170">px::CChannelTrend::max</a>, <a class="el" href="../../d4/d32/channel__trend_8hpp_source.html#l00177">px::CChannelTrend::max_time_offset</a>, <a class="el" href="../../d4/d32/channel__trend_8hpp_source.html#l00159">px::CChannelTrend::min</a>, <a class="el" href="../../d4/d32/channel__trend_8hpp_source.html#l00166">px::CChannelTrend::min_time_offset</a>, <a class="el" href="../../d4/d32/channel__trend_8hpp_source.html#l00187">px::CChannelTrend::period</a>, <a class="el" href="../../d4/d32/channel__trend_8hpp_source.html#l00151">px::CChannelTrend::time</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_ac536596e4c2592cf30ef67c2c8f89dfb_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_ac536596e4c2592cf30ef67c2c8f89dfb_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_ac536596e4c2592cf30ef67c2c8f89dfb_cgraph" id="dd/d42/namespacepx_1_1db_ac536596e4c2592cf30ef67c2c8f89dfb_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a896f98e4264f2e0ccf2f3aed99b6e38c" title="px::db::buf_to_u16be" alt="" coords="294,5,453,32"/><area shape="rect" id="node3" href="../../de/dcb/namespacepx.html#a950981b2c40b1e673a1ac1fad267e30c" title="Reads an 8&#45;byte floating&#45;point from a big&#45;endian buffer with a start offset. " alt="" coords="296,57,451,98"/><area shape="rect" id="node4" href="../../de/dcb/namespacepx.html#a1a68fc1b54175f1223ac68f0dcf8f4f0" title="Reads a 4&#45;byte floating&#45;point from a big&#45;endian buffer with a start offset. " alt="" coords="303,122,443,163"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="306,187,441,229"/><area shape="rect" id="node6" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="306,253,441,294"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="306,318,441,359"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="306,383,441,425"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7b7c6c7992c484dd3bdedb01e40a7354"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::ExportTrendBucketHeaderRow </td>
          <td>(</td>
          <td class="paramtype">std::ofstream &amp;&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>channel_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_avg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_actual</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the header (title) row to the bucket trends export CSV file: channel_id, time, mask, avg, min, max, actual Channel IDs must not be empty. </p>
<p>Write the header (title) row to the bucket trends export CSV file: time, period (5, 15 or 60), channel_id(trait), channel_id(trait), ... </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05174">5174</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5908b90e252a2f3eb15ce535d8bf31d2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::ExportTrendBucket </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>trend_bucket_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::ofstream &amp;&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>channel_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>start_minutes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>end_minutes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_avg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_actual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>row_count_limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>more_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>values_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>row_count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const volatile bool &amp;&#160;</td>
          <td class="paramname"><em>exit_req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Export a list of channels' trends from the bucket db to a csv file, returns the exported trends count. </p>
<p>The csv format: time, period (5, 15 or 60), channel_id(trait), channel_id(trait), ... (the values can be valid floating numbers, nan, or empty(indicating null). Channel IDs must not be empty.</p>
<p>The csv format: time, period (5, 15 or 60), channel_id(trait), channel_id(trait), ... (the values can be valid floating numbers, nan, or empty(indicating null). </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05377">5377</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00053">buf_to_u32be()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00107">px::db::CBlobHolder::get_mutable_ptr()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05552">get_normalized_interval_timestamp()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05621">get_walltime()</a>, <a class="el" href="../../d1/db0/timestamp_8hpp_source.html#l00419">px::CTimestamp::gmtime_str()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04614">ReadTrendsFromBucketRow()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00133">px::db::CBlobHolder::reset()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00090">px::db::CIterator::seek()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00068">u32be_to_buf()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a5908b90e252a2f3eb15ce535d8bf31d2_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a5908b90e252a2f3eb15ce535d8bf31d2_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a5908b90e252a2f3eb15ce535d8bf31d2_cgraph" id="dd/d42/namespacepx_1_1db_a5908b90e252a2f3eb15ce535d8bf31d2_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="558,239,717,265"/><area shape="rect" id="node3" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a996915979b66811a0c3311cb61997306" title="Get a pointer to the data in this blob for write. " alt="" coords="294,57,445,98"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#a93c327007ff894fa4691acbf52269ede" title="Gets the minutes since epoch, or zero if invalid, optionally aligned to an interval in minutes; and a..." alt="" coords="284,122,455,163"/><area shape="rect" id="node5" href="../../dd/d42/namespacepx_1_1db.html#a3f9f1d96a70d48fe6f75f4164b6cf967" title="Gets a CWallTime from the minutes since 1970 UTC. " alt="" coords="292,188,447,215"/><area shape="rect" id="node6" href="../../d6/d4e/classpx_1_1CTimestamp.html#aac7b9e4090c042b604004c6db73db68a" title="Generate a string representation of this timestamp, assuming UTC time. " alt="" coords="263,5,475,32"/><area shape="rect" id="node8" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="283,290,456,331"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="302,355,437,397"/><area shape="rect" id="node10" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="302,421,437,462"/><area shape="rect" id="node11" href="../../dd/d42/namespacepx_1_1db.html#ab9c81d6004f662b5c242f8a27e2f8c13" title="Read trends from a bucket row to the result, based on time range and traits. " alt="" coords="245,487,493,513"/><area shape="rect" id="node18" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="294,538,445,579"/><area shape="rect" id="node19" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="286,604,453,631"/><area shape="rect" id="node21" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="290,655,449,681"/><area shape="rect" id="node22" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="302,706,437,747"/><area shape="rect" id="node7" href="../../d6/d4e/classpx_1_1CTimestamp.html#a846db0f645f5e953e6bdb98a562c47d3" title="px::CTimestamp::time_str" alt="" coords="542,5,733,32"/><area shape="rect" id="node12" href="../../dd/d42/namespacepx_1_1db.html#a896f98e4264f2e0ccf2f3aed99b6e38c" title="px::db::buf_to_u16be" alt="" coords="558,487,717,513"/><area shape="rect" id="node13" href="../../de/dcb/namespacepx.html#a950981b2c40b1e673a1ac1fad267e30c" title="Reads an 8&#45;byte floating&#45;point from a big&#45;endian buffer with a start offset. " alt="" coords="560,538,715,579"/><area shape="rect" id="node14" href="../../de/dcb/namespacepx.html#a1a68fc1b54175f1223ac68f0dcf8f4f0" title="Reads a 4&#45;byte floating&#45;point from a big&#45;endian buffer with a start offset. " alt="" coords="567,603,707,645"/><area shape="rect" id="node15" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#ae9a0455f1b0dfc3e32031c7ac9e73535" title="px::db::CNullMask::\lget_byte_size" alt="" coords="564,290,711,331"/><area shape="rect" id="node16" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="570,355,705,397"/><area shape="rect" id="node17" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="570,421,705,462"/><area shape="rect" id="node20" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="547,669,727,696"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a22b24b7fc0dcc140d4fa0d22d98e870d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::ExportTrendsHeaderRow </td>
          <td>(</td>
          <td class="paramtype">std::ofstream &amp;&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>channel_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_map&lt; uint32_t, uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>channel_device_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_map&lt; uint32_t, <a class="el" href="../../de/dcb/namespacepx.html#ad163e7de283f0be13e9eb56171209aee">px::shared_string</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>channel_name_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_map&lt; uint32_t, <a class="el" href="../../de/dcb/namespacepx.html#ad163e7de283f0be13e9eb56171209aee">px::shared_string</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>device_name_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>separate_date_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_avg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_min_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_max_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_actual</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the header (title) row to the trends export (from bucket only) CSV file: time, period, channel_id(trait), channel_id(trait), ... </p>
<p>Channel IDs must not be empty. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05206">5206</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a20e3f9daab88a7333942fc05b64e1c39"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::ExportTrendsHeaderRow </td>
          <td>(</td>
          <td class="paramtype">std::ofstream &amp;&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>channel_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_map&lt; uint32_t, std::bitset&lt; 4 &gt; &gt; &amp;&#160;</td>
          <td class="paramname"><em>channel_traits_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_map&lt; uint32_t, uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>channel_device_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_map&lt; uint32_t, <a class="el" href="../../de/dcb/namespacepx.html#ad163e7de283f0be13e9eb56171209aee">px::shared_string</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>channel_name_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_map&lt; uint32_t, <a class="el" href="../../de/dcb/namespacepx.html#ad163e7de283f0be13e9eb56171209aee">px::shared_string</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>device_name_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>separate_date_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_avg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_min_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_max</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_max_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>include_actual</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Write the header (title) row to the trends export (from both stage and bucket) CSV file: time, period, channel_id(trait), channel_id(trait), ... </p>
<p>Channel IDs must not be empty. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05280">5280</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a9ea71a16ddb273712e18ab723d8ddd2b">px::has_actual</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a73f99728db7c0b406b1f419b2a50d40e">px::has_avg</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9acd1fd1db599cdb2537a2215e3d51c5c9">px::has_max</a>, and <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a22b1e2a517991331427d7976f1e9aadc">px::has_min</a>.</p>

</div>
</div>
<a class="anchor" id="a91ad39211dbae5b4426f0efb6ce234e0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::MoveTrendsFromStageToBucket </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>trend_stage_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>trend_bucket_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>mature_minutes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const volatile bool &amp;&#160;</td>
          <td class="paramname"><em>exit_req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move trends from stage to bucket if the timestamps are matured (older than the UTC today + 1 hour grace duration) The grace duration is added to avoid expensive out of order updates due to the clock adjustment, which is usually a few seconds. </p>
<p>Move trends from stage to bucket if the timestamps are matured (older than the UTC today + 60 minutes holding duration) The holding duration is added to avoid expensive out of order updates due to the clock adjustment, which is usually a few seconds.</p>
<p>This method can be called at any time, and should continue to work after being interrupted (killed) before.</p>
<p>This method can be called at any time, and should continue to work after being interrupted (killed) before. The mature_minutes 2010-09-23 0:0:0 UTC indicates that any data on or before it are matured data that should be moved. It must be the day with 0:0:0. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05655">5655</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00681">_actual_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00678">_avg_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00683">_double_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00680">_max_trend_mask</a>, <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00679">_min_trend_mask</a>, <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88ea5157e3c765af93679ea07052f30f0a6e">px::actual</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04117">AddTrendBucketToBatch()</a>, <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88eae322d423f075b0ab2daad27011d24909">px::avg</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00048">buf_to_u16be()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00053">buf_to_u32be()</a>, <a class="el" href="../../df/d89/endian_8hpp_source.html#l00262">px::double_from_big_endian()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00066">px::db::CIterator::first()</a>, <a class="el" href="../../df/d89/endian_8hpp_source.html#l00210">px::float_from_big_endian()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05552">get_normalized_interval_timestamp()</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a9ea71a16ddb273712e18ab723d8ddd2b">px::has_actual</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a73f99728db7c0b406b1f419b2a50d40e">px::has_avg</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9acd1fd1db599cdb2537a2215e3d51c5c9">px::has_max</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a22b1e2a517991331427d7976f1e9aadc">px::has_min</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88ea2ffe4e77325d9a7152f7086ea7aa5114">px::max</a>, <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88ead8bd79cc131920d5de426f914d17405a">px::min</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>, and <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00097">px::db::CKeyValueStore::write()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a91ad39211dbae5b4426f0efb6ce234e0_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a91ad39211dbae5b4426f0efb6ce234e0_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a91ad39211dbae5b4426f0efb6ce234e0_cgraph" id="dd/d42/namespacepx_1_1db_a91ad39211dbae5b4426f0efb6ce234e0_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a7a2873c068af728840dc7693a9a71b53" title="Add the trend bucket to the batch to be stored in the bucket db. " alt="" coords="269,322,459,363"/><area shape="rect" id="node15" href="../../dd/d42/namespacepx_1_1db.html#a896f98e4264f2e0ccf2f3aed99b6e38c" title="px::db::buf_to_u16be" alt="" coords="285,388,443,415"/><area shape="rect" id="node16" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="285,439,443,465"/><area shape="rect" id="node17" href="../../de/dcb/namespacepx.html#a950981b2c40b1e673a1ac1fad267e30c" title="Reads an 8&#45;byte floating&#45;point from a big&#45;endian buffer with a start offset. " alt="" coords="287,490,441,531"/><area shape="rect" id="node18" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a434fd27eeed52b354e0ee1147cffed2d" title="Find the first entry in the table/database. " alt="" coords="297,555,431,597"/><area shape="rect" id="node19" href="../../de/dcb/namespacepx.html#a1a68fc1b54175f1223ac68f0dcf8f4f0" title="Reads a 4&#45;byte floating&#45;point from a big&#45;endian buffer with a start offset. " alt="" coords="294,621,434,662"/><area shape="rect" id="node20" href="../../dd/d42/namespacepx_1_1db.html#a93c327007ff894fa4691acbf52269ede" title="Gets the minutes since epoch, or zero if invalid, optionally aligned to an interval in minutes; and a..." alt="" coords="279,686,449,727"/><area shape="rect" id="node21" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="277,751,451,793"/><area shape="rect" id="node22" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="297,817,431,858"/><area shape="rect" id="node23" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="297,882,431,923"/><area shape="rect" id="node24" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="297,947,431,989"/><area shape="rect" id="node25" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="297,1013,431,1054"/><area shape="rect" id="node26" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="297,1078,431,1119"/><area shape="rect" id="node27" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="277,1143,451,1185"/><area shape="rect" id="node3" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="527,5,675,32"/><area shape="rect" id="node4" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#a6661d4d696fb7af38a57a05305181702" title="Gets the byte size. " alt="" coords="528,57,675,98"/><area shape="rect" id="node5" href="../../de/dcb/namespacepx.html#abcba15aa0fdb24e9d2da828a7ff22476" title="Writes an 8&#45;byte floating&#45;point to a big&#45;endian buffer with a start offset. " alt="" coords="507,123,695,149"/><area shape="rect" id="node6" href="../../de/dcb/namespacepx.html#a485e629a57d309a962c57a9db4f07677" title="Writes a 4&#45;byte floating&#45;point to a big&#45;endian buffer with a start offset. " alt="" coords="515,173,688,200"/><area shape="rect" id="node7" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#ae9a0455f1b0dfc3e32031c7ac9e73535" title="px::db::CNullMask::\lget_byte_size" alt="" coords="528,225,675,266"/><area shape="rect" id="node8" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a996915979b66811a0c3311cb61997306" title="Get a pointer to the data in this blob for write. " alt="" coords="526,290,677,331"/><area shape="rect" id="node9" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="526,355,677,397"/><area shape="rect" id="node10" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#ac728418a5e9990c73c6ccadb8b7d6f7a" title="Set a bit at a position. " alt="" coords="518,421,685,448"/><area shape="rect" id="node11" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="526,473,677,514"/><area shape="rect" id="node12" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#a2cdd8f07d53062a70efb0788644995ca" title="Serialize to a pre&#45;allocated byte buffer with an offset. " alt="" coords="528,538,675,579"/><area shape="rect" id="node13" href="../../dd/d42/namespacepx_1_1db.html#add5000fae171b713d88b70cd73b1d4eb" title="px::db::u16be_to_buf" alt="" coords="522,604,681,631"/><area shape="rect" id="node14" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="522,655,681,681"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa13b76278af78582154e69c0d390498e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::LevelupBucketTrends </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>bucket_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>time_threshold_5min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>time_threshold_15min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>time_threshold_60min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>count_5min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>count_15min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const volatile bool &amp;&#160;</td>
          <td class="paramname"><em>exit_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>num_trended_channels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Level up (replace) the bucket trends based on the age threshold for 5, 15, and 60 minutes. </p>
<p>The bucket will be leveled up if the bucket's time is earlier than or equal to the threshold. The number of channels is a hint to us to determine how often to compact. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06240">6240</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05960">compact_trend_bucket_channel_range()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06167">LevelupBucketTrendsForChannel()</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00196">LIBPX_DEBUG</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00180">LIBPX_ERR</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05939">ReadTrendKey()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05921">SeekTrendIterator()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_aa13b76278af78582154e69c0d390498e_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_aa13b76278af78582154e69c0d390498e_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_aa13b76278af78582154e69c0d390498e_cgraph" id="dd/d42/namespacepx_1_1db_aa13b76278af78582154e69c0d390498e_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a100c87846c2377a23dc53dd9886aa8e2" title="px::db::compact_trend\l_bucket_channel_range" alt="" coords="837,1003,1011,1045"/><area shape="rect" id="node9" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="548,742,721,783"/><area shape="rect" id="node10" href="../../dd/d42/namespacepx_1_1db.html#a82270cedcbbeb2e0ab881535db3c1780" title="px::db::LevelupBucketTrends\lForChannel" alt="" coords="261,515,469,557"/><area shape="rect" id="node15" href="../../dd/d42/namespacepx_1_1db.html#a6f90113cdb4fad0481ef352c08460fa5" title="Read the Key (channel id + key) from either stage or bucket db. " alt="" coords="554,241,715,268"/><area shape="rect" id="node11" href="../../dd/d42/namespacepx_1_1db.html#a18f1b207b0a97f477f57841b01d16531" title="Move the iterator from the current position to the next position in either stage or bucket db..." alt="" coords="831,948,1017,975"/><area shape="rect" id="node13" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="857,123,991,165"/><area shape="rect" id="node3" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="1115,1003,1266,1045"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="1111,1069,1270,1096"/><area shape="rect" id="node5" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a996915979b66811a0c3311cb61997306" title="Get a pointer to the data in this blob for write. " alt="" coords="1115,938,1266,979"/><area shape="rect" id="node6" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#acdc3edf507cabe46b2f300dd16fbab8c" title="Compact the database from begin_key to end_key. " alt="" coords="1104,1171,1277,1213"/><area shape="rect" id="node7" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="1334,1149,1514,1176"/><area shape="rect" id="node8" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="1349,898,1499,939"/><area shape="rect" id="node14" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="857,189,991,230"/><area shape="rect" id="node18" href="../../dd/d42/namespacepx_1_1db.html#a3c296d3136bd6877fb4dd770ed3c57dd" title="Level up (replace) the current bucket (pointed by the it) to the target period if haven&#39;t..." alt="" coords="517,472,752,499"/><area shape="rect" id="node37" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="559,625,710,666"/><area shape="rect" id="node16" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="857,254,991,295"/><area shape="rect" id="node38" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#afd72087dcce948a0883a933125f378c8" title="Remove entries from the database (the key will be duplicated in the buffer) " alt="" coords="547,691,722,717"/><area shape="rect" id="node36" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="837,879,1011,921"/><area shape="rect" id="node12" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="1107,1120,1274,1147"/><area shape="rect" id="node17" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="1111,5,1270,32"/><area shape="rect" id="node19" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="1123,122,1258,163"/><area shape="rect" id="node20" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="1123,370,1258,411"/><area shape="rect" id="node21" href="../../dd/d42/namespacepx_1_1db.html#ab9c81d6004f662b5c242f8a27e2f8c13" title="Read trends from a bucket row to the result, based on time range and traits. " alt="" coords="800,421,1048,448"/><area shape="rect" id="node26" href="../../dd/d42/namespacepx_1_1db.html#a67cb580b2b87d15124a2e96ecd56d391" title="Aggregate a list of trends from a period to an bigger period. " alt="" coords="835,320,1013,347"/><area shape="rect" id="node28" href="../../dd/d42/namespacepx_1_1db.html#a7a2873c068af728840dc7693a9a71b53" title="Add the trend bucket to the batch to be stored in the bucket db. " alt="" coords="829,661,1019,702"/><area shape="rect" id="node22" href="../../dd/d42/namespacepx_1_1db.html#a896f98e4264f2e0ccf2f3aed99b6e38c" title="px::db::buf_to_u16be" alt="" coords="1111,188,1270,215"/><area shape="rect" id="node23" href="../../de/dcb/namespacepx.html#a950981b2c40b1e673a1ac1fad267e30c" title="Reads an 8&#45;byte floating&#45;point from a big&#45;endian buffer with a start offset. " alt="" coords="1113,239,1268,281"/><area shape="rect" id="node24" href="../../de/dcb/namespacepx.html#a1a68fc1b54175f1223ac68f0dcf8f4f0" title="Reads a 4&#45;byte floating&#45;point from a big&#45;endian buffer with a start offset. " alt="" coords="1121,305,1261,346"/><area shape="rect" id="node25" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#ae9a0455f1b0dfc3e32031c7ac9e73535" title="px::db::CNullMask::\lget_byte_size" alt="" coords="1117,435,1264,477"/><area shape="rect" id="node27" href="../../dd/d42/namespacepx_1_1db.html#a93c327007ff894fa4691acbf52269ede" title="Gets the minutes since epoch, or zero if invalid, optionally aligned to an interval in minutes; and a..." alt="" coords="1105,57,1276,98"/><area shape="rect" id="node29" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="1117,887,1265,913"/><area shape="rect" id="node30" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#a6661d4d696fb7af38a57a05305181702" title="Gets the byte size. " alt="" coords="1117,501,1264,542"/><area shape="rect" id="node31" href="../../de/dcb/namespacepx.html#abcba15aa0fdb24e9d2da828a7ff22476" title="Writes an 8&#45;byte floating&#45;point to a big&#45;endian buffer with a start offset. " alt="" coords="1097,567,1285,593"/><area shape="rect" id="node32" href="../../de/dcb/namespacepx.html#a485e629a57d309a962c57a9db4f07677" title="Writes a 4&#45;byte floating&#45;point to a big&#45;endian buffer with a start offset. " alt="" coords="1104,617,1277,644"/><area shape="rect" id="node33" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#ac728418a5e9990c73c6ccadb8b7d6f7a" title="Set a bit at a position. " alt="" coords="1107,668,1274,695"/><area shape="rect" id="node34" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#a2cdd8f07d53062a70efb0788644995ca" title="Serialize to a pre&#45;allocated byte buffer with an offset. " alt="" coords="1117,821,1264,862"/><area shape="rect" id="node35" href="../../dd/d42/namespacepx_1_1db.html#add5000fae171b713d88b70cd73b1d4eb" title="px::db::u16be_to_buf" alt="" coords="1111,769,1270,796"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3c296d3136bd6877fb4dd770ed3c57dd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool px::db::LevelupBucketTrendsRow </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>bucket_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CIterator &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>channel_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>bucket_end_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>period</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Level up (replace) the current bucket (pointed by the it) to the target period if haven't. </p>
<p>Returns true if the row is updated(leveled up), or false if the row is already leveled up and no chnage. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06311">6311</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04117">AddTrendBucketToBatch()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06395">AggregateTrends()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00107">px::db::CBlobHolder::get_mutable_ptr()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04614">ReadTrendsFromBucketRow()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00133">px::db::CBlobHolder::reset()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00068">u32be_to_buf()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>, and <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00097">px::db::CKeyValueStore::write()</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06167">LevelupBucketTrendsForChannel()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a3c296d3136bd6877fb4dd770ed3c57dd_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a3c296d3136bd6877fb4dd770ed3c57dd_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a3c296d3136bd6877fb4dd770ed3c57dd_cgraph" id="dd/d42/namespacepx_1_1db_a3c296d3136bd6877fb4dd770ed3c57dd_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a7a2873c068af728840dc7693a9a71b53" title="Add the trend bucket to the batch to be stored in the bucket db. " alt="" coords="317,333,507,374"/><area shape="rect" id="node15" href="../../dd/d42/namespacepx_1_1db.html#a67cb580b2b87d15124a2e96ecd56d391" title="Aggregate a list of trends from a period to an bigger period. " alt="" coords="323,712,501,739"/><area shape="rect" id="node8" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a996915979b66811a0c3311cb61997306" title="Get a pointer to the data in this blob for write. " alt="" coords="603,5,754,46"/><area shape="rect" id="node17" href="../../dd/d42/namespacepx_1_1db.html#ab9c81d6004f662b5c242f8a27e2f8c13" title="Read trends from a bucket row to the result, based on time range and traits. " alt="" coords="288,836,536,863"/><area shape="rect" id="node9" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="603,522,754,563"/><area shape="rect" id="node14" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="599,588,758,615"/><area shape="rect" id="node22" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="611,1003,746,1045"/><area shape="rect" id="node23" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="611,1069,746,1110"/><area shape="rect" id="node24" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="325,989,499,1030"/><area shape="rect" id="node3" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="605,121,753,148"/><area shape="rect" id="node4" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#a6661d4d696fb7af38a57a05305181702" title="Gets the byte size. " alt="" coords="605,173,752,214"/><area shape="rect" id="node5" href="../../de/dcb/namespacepx.html#abcba15aa0fdb24e9d2da828a7ff22476" title="Writes an 8&#45;byte floating&#45;point to a big&#45;endian buffer with a start offset. " alt="" coords="585,239,773,265"/><area shape="rect" id="node6" href="../../de/dcb/namespacepx.html#a485e629a57d309a962c57a9db4f07677" title="Writes a 4&#45;byte floating&#45;point to a big&#45;endian buffer with a start offset. " alt="" coords="592,289,765,316"/><area shape="rect" id="node7" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#ae9a0455f1b0dfc3e32031c7ac9e73535" title="px::db::CNullMask::\lget_byte_size" alt="" coords="605,639,752,681"/><area shape="rect" id="node10" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#ac728418a5e9990c73c6ccadb8b7d6f7a" title="Set a bit at a position. " alt="" coords="595,340,762,367"/><area shape="rect" id="node11" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="603,391,754,433"/><area shape="rect" id="node12" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#a2cdd8f07d53062a70efb0788644995ca" title="Serialize to a pre&#45;allocated byte buffer with an offset. " alt="" coords="605,457,752,498"/><area shape="rect" id="node13" href="../../dd/d42/namespacepx_1_1db.html#add5000fae171b713d88b70cd73b1d4eb" title="px::db::u16be_to_buf" alt="" coords="599,71,758,97"/><area shape="rect" id="node16" href="../../dd/d42/namespacepx_1_1db.html#a93c327007ff894fa4691acbf52269ede" title="Gets the minutes since epoch, or zero if invalid, optionally aligned to an interval in minutes; and a..." alt="" coords="593,705,764,746"/><area shape="rect" id="node18" href="../../dd/d42/namespacepx_1_1db.html#a896f98e4264f2e0ccf2f3aed99b6e38c" title="px::db::buf_to_u16be" alt="" coords="599,836,758,863"/><area shape="rect" id="node19" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="599,887,758,913"/><area shape="rect" id="node20" href="../../de/dcb/namespacepx.html#a950981b2c40b1e673a1ac1fad267e30c" title="Reads an 8&#45;byte floating&#45;point from a big&#45;endian buffer with a start offset. " alt="" coords="601,938,756,979"/><area shape="rect" id="node21" href="../../de/dcb/namespacepx.html#a1a68fc1b54175f1223ac68f0dcf8f4f0" title="Reads a 4&#45;byte floating&#45;point from a big&#45;endian buffer with a start offset. " alt="" coords="609,770,749,811"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a67cb580b2b87d15124a2e96ecd56d391"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="../../d7/d98/classpx_1_1CTrendBucketUpdate.html">px::CTrendBucketUpdate</a> &gt; px::db::AggregateTrends </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>channel_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>bucket_end_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_double</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../d4/dfe/classpx_1_1CChannelTrend.html">px::CChannelTrend</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>trends</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>period</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>aggr_period</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Aggregate a list of trends from a period to an bigger period. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06395">6395</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88ea5157e3c765af93679ea07052f30f0a6e">px::actual</a>, <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88eae322d423f075b0ab2daad27011d24909">px::avg</a>, <a class="el" href="../../df/dbb/trend__bucket__update_8hpp_source.html#l00134">px::CTrendBucketUpdate::channel_id</a>, <a class="el" href="../../de/dcb/namespacepx.html#a8231daeb7713d1005025954bc1066422ad33ec2b0bbea6d471a4706cea030e1e3">px::float32</a>, <a class="el" href="../../de/dcb/namespacepx.html#a8231daeb7713d1005025954bc1066422afb7fa22ede616c04c68a7663d0f81e92">px::float64</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05552">get_normalized_interval_timestamp()</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a9ea71a16ddb273712e18ab723d8ddd2b">px::has_actual</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a73f99728db7c0b406b1f419b2a50d40e">px::has_avg</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9acd1fd1db599cdb2537a2215e3d51c5c9">px::has_max</a>, <a class="el" href="../../de/dcb/namespacepx.html#a3598e99f8e0de6f210447c81d36be9c9a22b1e2a517991331427d7976f1e9aadc">px::has_min</a>, <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88ea2ffe4e77325d9a7152f7086ea7aa5114">px::max</a>, and <a class="el" href="../../de/dcb/namespacepx.html#ad12d789c5d68195a181e6ec438d6f88ead8bd79cc131920d5de426f914d17405a">px::min</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06311">LevelupBucketTrendsRow()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a67cb580b2b87d15124a2e96ecd56d391_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a67cb580b2b87d15124a2e96ecd56d391_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a67cb580b2b87d15124a2e96ecd56d391_cgraph" id="dd/d42/namespacepx_1_1db_a67cb580b2b87d15124a2e96ecd56d391_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a93c327007ff894fa4691acbf52269ede" title="Gets the minutes since epoch, or zero if invalid, optionally aligned to an interval in minutes; and a..." alt="" coords="232,5,403,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a18f1b207b0a97f477f57841b01d16531"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::SeekTrendIterator </td>
          <td>(</td>
          <td class="paramtype">CIterator &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>channel_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Move the iterator from the current position to the next position in either stage or bucket db. </p>
<p>Channel ID of 0 means seek to the beginning. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05921">5921</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00107">px::db::CBlobHolder::get_mutable_ptr()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00133">px::db::CBlobHolder::reset()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00090">px::db::CIterator::seek()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00068">u32be_to_buf()</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05974">DeleteTrends()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06240">LevelupBucketTrends()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06167">LevelupBucketTrendsForChannel()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a18f1b207b0a97f477f57841b01d16531_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a18f1b207b0a97f477f57841b01d16531_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a18f1b207b0a97f477f57841b01d16531_cgraph" id="dd/d42/namespacepx_1_1db_a18f1b207b0a97f477f57841b01d16531_cgraph">
<area shape="rect" id="node2" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a996915979b66811a0c3311cb61997306" title="Get a pointer to the data in this blob for write. " alt="" coords="249,5,399,46"/><area shape="rect" id="node3" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="249,70,399,111"/><area shape="rect" id="node4" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="241,136,407,163"/><area shape="rect" id="node6" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="245,187,403,213"/><area shape="rect" id="node5" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="457,136,637,163"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6f90113cdb4fad0481ef352c08460fa5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool px::db::ReadTrendKey </td>
          <td>(</td>
          <td class="paramtype">CIterator &amp;&#160;</td>
          <td class="paramname"><em>it</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>channel_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the Key (channel id + key) from either stage or bucket db. </p>
<p>Return false if the iterator is invalid. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05939">5939</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00053">buf_to_u32be()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05974">DeleteTrends()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06056">DeleteTrendsInternal()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06240">LevelupBucketTrends()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06167">LevelupBucketTrendsForChannel()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a6f90113cdb4fad0481ef352c08460fa5_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a6f90113cdb4fad0481ef352c08460fa5_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a6f90113cdb4fad0481ef352c08460fa5_cgraph" id="dd/d42/namespacepx_1_1db_a6f90113cdb4fad0481ef352c08460fa5_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="217,5,375,32"/><area shape="rect" id="node3" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="229,57,363,98"/><area shape="rect" id="node4" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="229,122,363,163"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="229,187,363,229"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a263796df6f2644d46a40a9d8dc19dd20"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool px::db::DeleteTrends </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>trend_bucket_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_set&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>channel_ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>start_day</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>end_day</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const volatile bool &amp;&#160;</td>
          <td class="paramname"><em>exit_req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete complete trend records, by date and channel, from bucket database. </p>
<p>Only complete (full day) records will be removed.</p>
<p>Dates are based on UTC, in days since epoch, inclusive on both sides; unbounded if zero; Return false if the db corrupted. Channel IDs must not be empty. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05974">5974</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00025">px::db::CBatch::clear()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05960">compact_trend_bucket_channel_range()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00196">LIBPX_DEBUG</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00180">LIBPX_ERR</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05939">ReadTrendKey()</a>, <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00061">px::db::CBatch::remove()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00133">px::db::CBlobHolder::reset()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05921">SeekTrendIterator()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00168">px::db::CIterator::value_size()</a>, <a class="el" href="../../d7/d1e/exception_8hpp_source.html#l00064">px::generic_err::what()</a>, and <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00097">px::db::CKeyValueStore::write()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a263796df6f2644d46a40a9d8dc19dd20_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a263796df6f2644d46a40a9d8dc19dd20_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a263796df6f2644d46a40a9d8dc19dd20_cgraph" id="dd/d42/namespacepx_1_1db_a263796df6f2644d46a40a9d8dc19dd20_cgraph">
<area shape="rect" id="node2" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="226,5,377,46"/><area shape="rect" id="node3" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a2dd4ae3d0fcca9eacb38c6ab93db26c9" title="Clear the current batch, and the key/value blobs buffer. " alt="" coords="223,71,379,97"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#a100c87846c2377a23dc53dd9886aa8e2" title="px::db::compact_trend\l_bucket_channel_range" alt="" coords="214,173,389,214"/><area shape="rect" id="node11" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="215,290,388,331"/><area shape="rect" id="node12" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="462,349,597,390"/><area shape="rect" id="node13" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="462,466,597,507"/><area shape="rect" id="node14" href="../../dd/d42/namespacepx_1_1db.html#a6f90113cdb4fad0481ef352c08460fa5" title="Read the Key (channel id + key) from either stage or bucket db. " alt="" coords="221,407,382,433"/><area shape="rect" id="node17" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#afd72087dcce948a0883a933125f378c8" title="Remove entries from the database (the key will be duplicated in the buffer) " alt="" coords="214,559,389,585"/><area shape="rect" id="node5" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="454,114,605,155"/><area shape="rect" id="node18" href="../../dd/d42/namespacepx_1_1db.html#a18f1b207b0a97f477f57841b01d16531" title="Move the iterator from the current position to the next position in either stage or bucket db..." alt="" coords="209,239,394,265"/><area shape="rect" id="node16" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="462,531,597,573"/><area shape="rect" id="node20" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="234,610,369,651"/><area shape="rect" id="node21" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6" title="px::generic_err::what" alt="" coords="222,676,381,703"/><area shape="rect" id="node22" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="215,727,388,769"/><area shape="rect" id="node6" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="450,180,609,207"/><area shape="rect" id="node7" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a996915979b66811a0c3311cb61997306" title="Get a pointer to the data in this blob for write. " alt="" coords="454,231,605,273"/><area shape="rect" id="node8" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#acdc3edf507cabe46b2f300dd16fbab8c" title="Compact the database from begin_key to end_key. " alt="" coords="443,49,616,90"/><area shape="rect" id="node9" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="665,205,845,232"/><area shape="rect" id="node10" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="679,49,830,90"/><area shape="rect" id="node15" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="450,415,609,441"/><area shape="rect" id="node19" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="446,297,613,324"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa4cb63e39f4152b9d8eb86a71904203f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool px::db::DeleteTrends </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>trend_bucket_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>start_day</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>end_day</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const volatile bool &amp;&#160;</td>
          <td class="paramname"><em>exit_req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete complete trend records, by date, from bucket database. </p>
<p>Only complete (full day) records will be removed.</p>
<p>Dates are based on UTC, in days since epoch, inclusive on both sides; unbounded if zero Return false if the db corrupted. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06155">6155</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06056">DeleteTrendsInternal()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_aa4cb63e39f4152b9d8eb86a71904203f_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_aa4cb63e39f4152b9d8eb86a71904203f_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_aa4cb63e39f4152b9d8eb86a71904203f_cgraph" id="dd/d42/namespacepx_1_1db_aa4cb63e39f4152b9d8eb86a71904203f_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#aa11df4828d85a633d4bd42165b49291d" title="px::db::DeleteTrendsInternal" alt="" coords="208,341,413,368"/><area shape="rect" id="node3" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a2dd4ae3d0fcca9eacb38c6ab93db26c9" title="Clear the current batch, and the key/value blobs buffer. " alt="" coords="471,5,627,32"/><area shape="rect" id="node4" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="463,57,636,98"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="466,123,633,149"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="709,229,843,270"/><area shape="rect" id="node8" href="../../dd/d42/namespacepx_1_1db.html#a6f90113cdb4fad0481ef352c08460fa5" title="Read the Key (channel id + key) from either stage or bucket db. " alt="" coords="469,291,630,317"/><area shape="rect" id="node12" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="474,443,625,485"/><area shape="rect" id="node13" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="474,509,625,550"/><area shape="rect" id="node10" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="709,346,843,387"/><area shape="rect" id="node11" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="709,411,843,453"/><area shape="rect" id="node14" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#afd72087dcce948a0883a933125f378c8" title="Remove entries from the database (the key will be duplicated in the buffer) " alt="" coords="462,575,637,601"/><area shape="rect" id="node15" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="463,626,636,667"/><area shape="rect" id="node16" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#acdc3edf507cabe46b2f300dd16fbab8c" title="Compact the database from begin_key to end_key. " alt="" coords="463,174,636,215"/><area shape="rect" id="node18" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6" title="px::generic_err::what" alt="" coords="470,692,629,719"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="686,112,866,139"/><area shape="rect" id="node9" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="697,295,855,321"/><area shape="rect" id="node17" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="701,163,851,205"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad7cc061b2a71f170f1549e0d2b00a54f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool px::db::DeleteTrends </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>trend_bucket_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>earlist_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_set&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>existing_channels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const volatile bool &amp;&#160;</td>
          <td class="paramname"><em>exit_req</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete the bucket trend records, if the date is ealier than the earlist_min, or if the channel is not in the set. </p>
<p>Dates are based on UTC, in days since epoch, inclusive on both sides; not applied if zero Return false if the db corrupted. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06149">6149</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06056">DeleteTrendsInternal()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_ad7cc061b2a71f170f1549e0d2b00a54f_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_ad7cc061b2a71f170f1549e0d2b00a54f_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_ad7cc061b2a71f170f1549e0d2b00a54f_cgraph" id="dd/d42/namespacepx_1_1db_ad7cc061b2a71f170f1549e0d2b00a54f_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#aa11df4828d85a633d4bd42165b49291d" title="px::db::DeleteTrendsInternal" alt="" coords="208,341,413,368"/><area shape="rect" id="node3" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a2dd4ae3d0fcca9eacb38c6ab93db26c9" title="Clear the current batch, and the key/value blobs buffer. " alt="" coords="471,5,627,32"/><area shape="rect" id="node4" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="463,57,636,98"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="466,123,633,149"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="709,229,843,270"/><area shape="rect" id="node8" href="../../dd/d42/namespacepx_1_1db.html#a6f90113cdb4fad0481ef352c08460fa5" title="Read the Key (channel id + key) from either stage or bucket db. " alt="" coords="469,291,630,317"/><area shape="rect" id="node12" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="474,443,625,485"/><area shape="rect" id="node13" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="474,509,625,550"/><area shape="rect" id="node10" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="709,346,843,387"/><area shape="rect" id="node11" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="709,411,843,453"/><area shape="rect" id="node14" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#afd72087dcce948a0883a933125f378c8" title="Remove entries from the database (the key will be duplicated in the buffer) " alt="" coords="462,575,637,601"/><area shape="rect" id="node15" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="463,626,636,667"/><area shape="rect" id="node16" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#acdc3edf507cabe46b2f300dd16fbab8c" title="Compact the database from begin_key to end_key. " alt="" coords="463,174,636,215"/><area shape="rect" id="node18" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6" title="px::generic_err::what" alt="" coords="470,692,629,719"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="686,112,866,139"/><area shape="rect" id="node9" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="697,295,855,321"/><area shape="rect" id="node17" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="701,163,851,205"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a93c327007ff894fa4691acbf52269ede"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::get_normalized_interval_timestamp </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> &amp;&#160;</td>
          <td class="paramname"><em>timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>aligned_minutes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>interval_timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>on_interval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the minutes since epoch, or zero if invalid, optionally aligned to an interval in minutes; and a flag indicating if the timestamp is exactly on that interval upper bound (only when aligned). </p>
<p>e.g. 5-minute interval: 1:05 covers range (1:00, 1:05]. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05552">5552</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06395">AggregateTrends()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05377">ExportTrendBucket()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03695">ImportTrendBucket()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03396">ImportTrendStage()</a>, <a class="el" href="../../d0/d1f/minutes__trigger_8cpp_source.html#l00021">MinutesTrigger::in_range()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05655">MoveTrendsFromStageToBucket()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04497">SimulateTrendBucket()</a>, and <a class="el" href="../../db/dde/trend__accumulator_8cpp_source.html#l00028">px::CTrendAccumulator::update()</a>.</p>

</div>
</div>
<a class="anchor" id="a83fff4f193d97bae0980791d8f4c2230"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::get_normalized_interval_timestamp </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>minutes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>aligned_minutes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t &amp;&#160;</td>
          <td class="paramname"><em>interval_timestamp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>on_interval</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the minutes since epoch, or zero if invalid, optionally aligned to an interval in minutes; and a flag indicating if the timestamp is exactly on that interval upper bound (only when aligned). </p>
<p>e.g. 5-minute interval: 1:05 covers range (1:00, 1:05]. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05592">5592</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3f9f1d96a70d48fe6f75f4164b6cf967"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> px::db::get_walltime </td>
          <td>(</td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>minutes</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html" title="Wall-clock time. ">CWallTime</a> from the minutes since 1970 UTC. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05621">5621</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05377">ExportTrendBucket()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03033">ExportTrendStageRow()</a>.</p>

</div>
</div>
<a class="anchor" id="ab8a976ffdf9f8d00dd4355e098e4e4eb"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> px::db::get_walltime </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> &amp;&#160;</td>
          <td class="paramname"><em>period_end_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets a <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html" title="Wall-clock time. ">CWallTime</a> from the period end <a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html" title="Wall-clock time. ">CWallTime</a> minus the 1/10 seconds offset. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05630">5630</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a938740c1b9df44c752ac918ddd48c54b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">leveldb::Status px::db::DestroyDb </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;&#160;</td>
          <td class="paramname"><em>name</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Physically delete a database's folder/files. </p>
<p>Name must not be empty. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05868">5868</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../de/dcb/namespacepx.html#a8231daeb7713d1005025954bc1066422ab45cffe084dd3d20d928bee85e7b0f21">px::string</a>.</p>

</div>
</div>
<a class="anchor" id="a57832fd08a933dc74b9c10a5708d9395"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool px::db::DoesKeyExist </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">CBlobHolder &amp;&#160;</td>
          <td class="paramname"><em>key_blob</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check to see if a key exists in the database. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05880">5880</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00099">px::db::CBlobHolder::get_ptr()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00090">px::db::CIterator::seek()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00167">px::db::CBlobHolder::size()</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05900">DoesKeyExist()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a57832fd08a933dc74b9c10a5708d9395_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a57832fd08a933dc74b9c10a5708d9395_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a57832fd08a933dc74b9c10a5708d9395_cgraph" id="dd/d42/namespacepx_1_1db_a57832fd08a933dc74b9c10a5708d9395_cgraph">
<area shape="rect" id="node2" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ab55f899b4de477e7f5cdda00dfea3b75" title="Get a pointer to the data in this blob. " alt="" coords="225,5,375,46"/><area shape="rect" id="node3" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="213,70,387,111"/><area shape="rect" id="node4" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="233,135,367,177"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="233,201,367,242"/><area shape="rect" id="node6" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="217,267,383,293"/><area shape="rect" id="node8" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="225,318,375,359"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="233,383,367,425"/><area shape="rect" id="node7" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="435,267,615,293"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a80fc9917c0b931f7b42bb0c75ad93381"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool px::db::DoesKeyExist </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>channel_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check to see if a key exists in the database. </p>
<p>Channel ID must be &gt; 0 </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05900">5900</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05880">DoesKeyExist()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00107">px::db::CBlobHolder::get_mutable_ptr()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00133">px::db::CBlobHolder::reset()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00068">u32be_to_buf()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a80fc9917c0b931f7b42bb0c75ad93381_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a80fc9917c0b931f7b42bb0c75ad93381_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a80fc9917c0b931f7b42bb0c75ad93381_cgraph" id="dd/d42/namespacepx_1_1db_a80fc9917c0b931f7b42bb0c75ad93381_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#a57832fd08a933dc74b9c10a5708d9395" title="Check to see if a key exists in the database. " alt="" coords="214,208,373,235"/><area shape="rect" id="node11" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a996915979b66811a0c3311cb61997306" title="Get a pointer to the data in this blob for write. " alt="" coords="218,259,369,301"/><area shape="rect" id="node12" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="218,325,369,366"/><area shape="rect" id="node13" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="214,391,373,417"/><area shape="rect" id="node3" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ab55f899b4de477e7f5cdda00dfea3b75" title="Get a pointer to the data in this blob. " alt="" coords="433,5,583,46"/><area shape="rect" id="node4" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="421,70,595,111"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="441,135,575,177"/><area shape="rect" id="node6" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="441,201,575,242"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="425,267,591,293"/><area shape="rect" id="node9" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="433,318,583,359"/><area shape="rect" id="node10" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="441,383,575,425"/><area shape="rect" id="node8" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="643,267,823,293"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3661c1f5f00a7a05b0a9e5aab2408873"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool px::db::IsTrendStageDbTombstoned </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>db</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check to see if a Tombstone flag is set on a stage db. </p>
<p>This feature is designed to handle the stage db deletion in a robust and redundant way. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06573">6573</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00685">_tomestone</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00090">px::db::CIterator::seek()</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a3661c1f5f00a7a05b0a9e5aab2408873_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a3661c1f5f00a7a05b0a9e5aab2408873_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a3661c1f5f00a7a05b0a9e5aab2408873_cgraph" id="dd/d42/namespacepx_1_1db_a3661c1f5f00a7a05b0a9e5aab2408873_cgraph">
<area shape="rect" id="node2" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="315,5,466,46"/><area shape="rect" id="node3" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="304,70,477,111"/><area shape="rect" id="node4" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="323,135,458,177"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="323,201,458,242"/><area shape="rect" id="node6" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="307,267,474,293"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="323,318,458,359"/><area shape="rect" id="node7" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="526,267,706,293"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abe8862f1e7ecb587d569e77a15b93c30"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::SetTrendStageDbTombstoned </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>tombstoned</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set or clear the tombstone flag on a stage db. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06586">6586</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00685">_tomestone</a>, <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00036">px::db::CBatch::add()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00061">px::db::CBatch::remove()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, and <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00097">px::db::CKeyValueStore::write()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_abe8862f1e7ecb587d569e77a15b93c30_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_abe8862f1e7ecb587d569e77a15b93c30_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_abe8862f1e7ecb587d569e77a15b93c30_cgraph" id="dd/d42/namespacepx_1_1db_abe8862f1e7ecb587d569e77a15b93c30_cgraph">
<area shape="rect" id="node2" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="329,5,477,32"/><area shape="rect" id="node3" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="327,57,478,98"/><area shape="rect" id="node4" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="316,122,489,163"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="335,187,470,229"/><area shape="rect" id="node6" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="335,253,470,294"/><area shape="rect" id="node7" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#afd72087dcce948a0883a933125f378c8" title="Remove entries from the database (the key will be duplicated in the buffer) " alt="" coords="315,319,490,345"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="335,370,470,411"/><area shape="rect" id="node9" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="316,435,489,477"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="add5000fae171b713d88b70cd73b1d4eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void px::db::u16be_to_buf </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00042">42</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04117">AddTrendBucketToBatch()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02603">AddTrendStageToBatch()</a>.</p>

</div>
</div>
<a class="anchor" id="a896f98e4264f2e0ccf2f3aed99b6e38c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint16_t px::db::buf_to_u16be </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00048">48</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03033">ExportTrendStageRow()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05655">MoveTrendsFromStageToBucket()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02807">QueryTrendStage()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04614">ReadTrendsFromBucketRow()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05013">ReadTrendsFromStageRow()</a>.</p>

</div>
</div>
<a class="anchor" id="acf853b7ce97adf0d46f786119548dc14"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t px::db::buf_to_u32be </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00053">53</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02450">allocate_ids()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00087">buf_to_u64be()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l01992">CleanupAlarms()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05377">ExportTrendBucket()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03191">ExportTrendStage()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00132">GetSchemaVersion()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05655">MoveTrendsFromStageToBucket()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l01021">QueryAlarms()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02807">QueryTrendStage()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05939">ReadTrendKey()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04614">ReadTrendsFromBucketRow()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02522">reserve_ids()</a>.</p>

</div>
</div>
<a class="anchor" id="afa2c90d91c038b90a4e30d669add119a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint32_t px::db::buf_to_u32be </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00059">59</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aae7d454e296e7215f76964c7a9229217"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void px::db::u32be_to_buf </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert 32-bit unsigned integer to 4 bytes big-endian. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00068">68</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04117">AddTrendBucketToBatch()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02603">AddTrendStageToBatch()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05960">compact_trend_bucket_channel_range()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05900">DoesKeyExist()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05377">ExportTrendBucket()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03191">ExportTrendStage()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06311">LevelupBucketTrendsRow()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02807">QueryTrendStage()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00885">SaveAlarmUpdates()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05921">SeekTrendIterator()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00114">SetSchemaVersion()</a>.</p>

</div>
</div>
<a class="anchor" id="a5ac450e45c146de5a2e58cf3cf796cbc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void px::db::u32be_to_buf </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert 32-bit unsigned integer to 4 bytes big-endian. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00079">79</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8f88884d3c2c1e8742d84127c643887a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint64_t px::db::buf_to_u64be </td>
          <td>(</td>
          <td class="paramtype">const unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00087">87</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00053">buf_to_u32be()</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02450">allocate_ids()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02276">CheckIDDB()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l01992">CleanupAlarms()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l01739">DeleteAlarms()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l01822">DeleteClosedAlarms()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l01652">LoadActiveAlarms()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00731">MigrateAlarmDB()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00840">query_alarm_index_db()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l01021">QueryAlarms()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l01450">QueryAlarmsLatestUpdate()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02522">reserve_ids()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a8f88884d3c2c1e8742d84127c643887a_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a8f88884d3c2c1e8742d84127c643887a_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a8f88884d3c2c1e8742d84127c643887a_cgraph" id="dd/d42/namespacepx_1_1db_a8f88884d3c2c1e8742d84127c643887a_cgraph">
<area shape="rect" id="node2" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="214,5,373,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afc70b7f9d0faa92257df2f1e52f4346d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void px::db::u64be_to_buf </td>
          <td>(</td>
          <td class="paramtype">unsigned char *&#160;</td>
          <td class="paramname"><em>buf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert 64-bit unsigned integer to 8 bytes big-endian. </p>

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00100">100</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00527">AddChannelToBatch()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00580">AddDeleteChannelToBatch()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00475">AddDeleteDeviceToBatch()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00440">AddDeviceToBatch()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02450">allocate_ids()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02276">CheckIDDB()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l01992">CleanupAlarms()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l01822">DeleteClosedAlarms()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l01652">LoadActiveAlarms()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00840">query_alarm_index_db()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l01021">QueryAlarms()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02522">reserve_ids()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00885">SaveAlarmUpdates()</a>.</p>

</div>
</div>
<a class="anchor" id="a4815059705101ca27f7d269a31efc212"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static uint64_t px::db::query_alarm_index_db </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>alarm_index_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">alarm_index_entry_type&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>key_value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t *&#160;</td>
          <td class="paramname"><em>found_key_value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00840">840</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00087">buf_to_u64be()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00099">px::db::CBlobHolder::get_ptr()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00078">px::db::CIterator::last()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00020">likely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00090">px::db::CIterator::seek()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00100">u64be_to_buf()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, and <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l01021">QueryAlarms()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00885">SaveAlarmUpdates()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a4815059705101ca27f7d269a31efc212_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a4815059705101ca27f7d269a31efc212_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a4815059705101ca27f7d269a31efc212_cgraph" id="dd/d42/namespacepx_1_1db_a4815059705101ca27f7d269a31efc212_cgraph">
<area shape="rect" id="node2" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="217,5,367,46"/><area shape="rect" id="node3" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a" title="px::db::buf_to_u64be" alt="" coords="213,71,371,97"/><area shape="rect" id="node5" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ab55f899b4de477e7f5cdda00dfea3b75" title="Get a pointer to the data in this blob. " alt="" coords="217,122,367,163"/><area shape="rect" id="node6" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="205,187,379,229"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="225,253,359,294"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="225,318,359,359"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a875237bff574451cc0bbe5738bdf56ee" title="Find the last entry in the table/database. " alt="" coords="213,384,371,411"/><area shape="rect" id="node10" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="209,435,375,461"/><area shape="rect" id="node12" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="213,485,371,512"/><area shape="rect" id="node13" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="225,537,359,578"/><area shape="rect" id="node14" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="225,602,359,643"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="438,71,597,97"/><area shape="rect" id="node11" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="427,435,607,461"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab72151bb0e3c48f309add250b71856b8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static std::vector&lt;<a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a>&gt; px::db::allocate_ids </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>id_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>num_requested</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">id_type&#160;</td>
          <td class="paramname"><em>type_requested</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02450">2450</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00036">px::db::CBatch::add()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00053">buf_to_u32be()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00087">buf_to_u64be()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02274">id_db_mutex</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00090">px::db::CIterator::seek()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00100">u64be_to_buf()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, and <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00097">px::db::CKeyValueStore::write()</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02510">AllocateAlarmIDs()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02504">AllocateChannelIDs()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02498">AllocateDeviceIDs()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02516">AllocateGlobalCounts()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_ab72151bb0e3c48f309add250b71856b8_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_ab72151bb0e3c48f309add250b71856b8_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_ab72151bb0e3c48f309add250b71856b8_cgraph" id="dd/d42/namespacepx_1_1db_ab72151bb0e3c48f309add250b71856b8_cgraph">
<area shape="rect" id="node2" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="215,5,363,32"/><area shape="rect" id="node3" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="214,57,365,98"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="435,148,594,175"/><area shape="rect" id="node5" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a" title="px::db::buf_to_u64be" alt="" coords="210,173,369,200"/><area shape="rect" id="node6" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="203,225,376,266"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="222,290,357,331"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="222,355,357,397"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="206,421,373,448"/><area shape="rect" id="node11" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="210,472,369,499"/><area shape="rect" id="node12" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="222,523,357,565"/><area shape="rect" id="node13" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="222,589,357,630"/><area shape="rect" id="node14" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="203,654,376,695"/><area shape="rect" id="node10" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="425,421,605,448"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a93ba3c076a1eb2f2ea9985496cb33516"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void px::db::reserve_ids </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>id_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>ids</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">id_type&#160;</td>
          <td class="paramname"><em>type_requested</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02522">2522</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00036">px::db::CBatch::add()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00053">buf_to_u32be()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00087">buf_to_u64be()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02274">id_db_mutex</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00133">px::db::CBlobHolder::reset()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00090">px::db::CIterator::seek()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00100">u64be_to_buf()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00161">px::db::CIterator::value_data()</a>, and <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00097">px::db::CKeyValueStore::write()</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02592">ReserveAlarmIDs()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02586">ReserveChannelIDs()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02581">ReserveDeviceIDs()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02597">ReserveGlobalCounts()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a93ba3c076a1eb2f2ea9985496cb33516_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a93ba3c076a1eb2f2ea9985496cb33516_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a93ba3c076a1eb2f2ea9985496cb33516_cgraph" id="dd/d42/namespacepx_1_1db_a93ba3c076a1eb2f2ea9985496cb33516_cgraph">
<area shape="rect" id="node2" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="213,5,361,32"/><area shape="rect" id="node3" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="211,57,362,98"/><area shape="rect" id="node4" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="433,148,591,175"/><area shape="rect" id="node5" href="../../dd/d42/namespacepx_1_1db.html#a8f88884d3c2c1e8742d84127c643887a" title="px::db::buf_to_u64be" alt="" coords="207,173,366,200"/><area shape="rect" id="node6" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="200,225,373,266"/><area shape="rect" id="node7" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="219,290,354,331"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="219,355,354,397"/><area shape="rect" id="node9" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="211,421,362,462"/><area shape="rect" id="node10" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="203,487,370,513"/><area shape="rect" id="node12" href="../../dd/d42/namespacepx_1_1db.html#afc70b7f9d0faa92257df2f1e52f4346d" title="Convert 64&#45;bit unsigned integer to 8 bytes big&#45;endian. " alt="" coords="207,537,366,564"/><area shape="rect" id="node13" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="219,589,354,630"/><area shape="rect" id="node14" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="219,654,354,695"/><area shape="rect" id="node15" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="200,719,373,761"/><area shape="rect" id="node11" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="422,487,602,513"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a100c87846c2377a23dc53dd9886aa8e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::compact_trend_bucket_channel_range </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>trend_bucket_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>start_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>end_channel</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05960">5960</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00181">px::db::CKeyValueStore::compact()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00107">px::db::CBlobHolder::get_mutable_ptr()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00133">px::db::CBlobHolder::reset()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l00068">u32be_to_buf()</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05974">DeleteTrends()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06240">LevelupBucketTrends()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a100c87846c2377a23dc53dd9886aa8e2_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a100c87846c2377a23dc53dd9886aa8e2_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a100c87846c2377a23dc53dd9886aa8e2_cgraph" id="dd/d42/namespacepx_1_1db_a100c87846c2377a23dc53dd9886aa8e2_cgraph">
<area shape="rect" id="node2" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#acdc3edf507cabe46b2f300dd16fbab8c" title="Compact the database from begin_key to end_key. " alt="" coords="229,27,403,69"/><area shape="rect" id="node5" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a996915979b66811a0c3311cb61997306" title="Get a pointer to the data in this blob for write. " alt="" coords="241,93,391,134"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="241,158,391,199"/><area shape="rect" id="node7" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="237,224,395,251"/><area shape="rect" id="node3" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="451,5,631,32"/><area shape="rect" id="node4" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="466,57,617,98"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa11df4828d85a633d4bd42165b49291d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool px::db::DeleteTrendsInternal </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>trend_bucket_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>start_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>end_min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const volatile bool &amp;&#160;</td>
          <td class="paramname"><em>exit_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::unordered_set&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>keep_channels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>ignore_channels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06056">6056</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00025">px::db::CBatch::clear()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00181">px::db::CKeyValueStore::compact()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00196">LIBPX_DEBUG</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00180">LIBPX_ERR</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05939">ReadTrendKey()</a>, <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00061">px::db::CBatch::remove()</a>, <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00133">px::db::CBlobHolder::reset()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00090">px::db::CIterator::seek()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, <a class="el" href="../../d7/d1e/exception_8hpp_source.html#l00064">px::generic_err::what()</a>, and <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00097">px::db::CKeyValueStore::write()</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06149">DeleteTrends()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_aa11df4828d85a633d4bd42165b49291d_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_aa11df4828d85a633d4bd42165b49291d_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_aa11df4828d85a633d4bd42165b49291d_cgraph" id="dd/d42/namespacepx_1_1db_aa11df4828d85a633d4bd42165b49291d_cgraph">
<area shape="rect" id="node2" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="271,5,422,46"/><area shape="rect" id="node3" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a2dd4ae3d0fcca9eacb38c6ab93db26c9" title="Clear the current batch, and the key/value blobs buffer. " alt="" coords="269,71,425,97"/><area shape="rect" id="node4" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#acdc3edf507cabe46b2f300dd16fbab8c" title="Compact the database from begin_key to end_key. " alt="" coords="260,173,433,214"/><area shape="rect" id="node7" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="260,238,433,279"/><area shape="rect" id="node8" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="506,281,641,322"/><area shape="rect" id="node9" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="506,398,641,439"/><area shape="rect" id="node10" href="../../dd/d42/namespacepx_1_1db.html#a6f90113cdb4fad0481ef352c08460fa5" title="Read the Key (channel id + key) from either stage or bucket db. " alt="" coords="266,355,427,381"/><area shape="rect" id="node13" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#afd72087dcce948a0883a933125f378c8" title="Remove entries from the database (the key will be duplicated in the buffer) " alt="" coords="259,507,434,533"/><area shape="rect" id="node14" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="271,558,422,599"/><area shape="rect" id="node15" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="263,121,430,148"/><area shape="rect" id="node12" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="506,463,641,505"/><area shape="rect" id="node16" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6" title="px::generic_err::what" alt="" coords="267,624,426,651"/><area shape="rect" id="node17" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="260,675,433,717"/><area shape="rect" id="node5" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="483,121,663,148"/><area shape="rect" id="node6" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="498,173,649,214"/><area shape="rect" id="node11" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="494,347,653,373"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a82270cedcbbeb2e0ab881535db3c1780"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::db::LevelupBucketTrendsForChannel </td>
          <td>(</td>
          <td class="paramtype">CKeyValueStore &amp;&#160;</td>
          <td class="paramname"><em>bucket_db</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>time_threshold_5min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>time_threshold_15min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>time_threshold_60min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>count_5min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int &amp;&#160;</td>
          <td class="paramname"><em>count_15min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const volatile bool &amp;&#160;</td>
          <td class="paramname"><em>exit_req</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t&#160;</td>
          <td class="paramname"><em>channel_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06167">6167</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>References <a class="el" href="../../d0/da4/blob__holder_8hpp_source.html#l00122">px::db::CBlobHolder::append()</a>, <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00083">px::db::CKeyValueStore::iterator()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00147">px::db::CIterator::key_data()</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00154">px::db::CIterator::key_size()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06311">LevelupBucketTrendsRow()</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00196">LIBPX_DEBUG</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05939">ReadTrendKey()</a>, <a class="el" href="../../dc/d6c/batch_8cpp_source.html#l00061">px::db::CBatch::remove()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05921">SeekTrendIterator()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../dc/d05/iterator_8cpp_source.html#l00049">px::db::CIterator::valid()</a>, and <a class="el" href="../../dd/d9b/key__value__store_8cpp_source.html#l00097">px::db::CKeyValueStore::write()</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06240">LevelupBucketTrends()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d42/namespacepx_1_1db_a82270cedcbbeb2e0ab881535db3c1780_cgraph.png" border="0" usemap="#dd/d42/namespacepx_1_1db_a82270cedcbbeb2e0ab881535db3c1780_cgraph" alt=""/></div>
<map name="dd/d42/namespacepx_1_1db_a82270cedcbbeb2e0ab881535db3c1780_cgraph" id="dd/d42/namespacepx_1_1db_a82270cedcbbeb2e0ab881535db3c1780_cgraph">
<area shape="rect" id="node2" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a083dd8b7393e2473999db53d87c8cb6e" title="Append data to the blob. " alt="" coords="303,626,454,667"/><area shape="rect" id="node3" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a925ab8f28998f4779270d15caa9a0b9a" title="Get an iterator into the database. " alt="" coords="292,691,465,733"/><area shape="rect" id="node4" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a1ed7d8479482c9a813182167b5f5670b" title="Get pointer to key value for the current iterator position. " alt="" coords="601,1001,735,1042"/><area shape="rect" id="node5" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a876a0a69bc43a66be463bdd35d1df3fe" title="Get length of key value for the current iterator position. " alt="" coords="601,1118,735,1159"/><area shape="rect" id="node6" href="../../dd/d42/namespacepx_1_1db.html#a3c296d3136bd6877fb4dd770ed3c57dd" title="Level up (replace) the current bucket (pointed by the it) to the target period if haven&#39;t..." alt="" coords="261,808,496,835"/><area shape="rect" id="node30" href="../../dd/d42/namespacepx_1_1db.html#a6f90113cdb4fad0481ef352c08460fa5" title="Read the Key (channel id + key) from either stage or bucket db. " alt="" coords="298,1071,459,1097"/><area shape="rect" id="node32" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#afd72087dcce948a0883a933125f378c8" title="Remove entries from the database (the key will be duplicated in the buffer) " alt="" coords="291,1020,466,1047"/><area shape="rect" id="node33" href="../../dd/d42/namespacepx_1_1db.html#a18f1b207b0a97f477f57841b01d16531" title="Move the iterator from the current position to the next position in either stage or bucket db..." alt="" coords="575,129,761,156"/><area shape="rect" id="node31" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a345f2f820dc5c7d529b4e1da1021090d" title="Is the iterator valid? " alt="" coords="601,1183,735,1225"/><area shape="rect" id="node29" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html#a5c32e184d847c23204af9388122e1218" title="Write a batch of updates to the database. " alt="" coords="581,935,755,977"/><area shape="rect" id="node7" href="../../dd/d42/namespacepx_1_1db.html#a7a2873c068af728840dc7693a9a71b53" title="Add the trend bucket to the batch to be stored in the bucket db. " alt="" coords="573,414,763,455"/><area shape="rect" id="node20" href="../../dd/d42/namespacepx_1_1db.html#a67cb580b2b87d15124a2e96ecd56d391" title="Aggregate a list of trends from a period to an bigger period. " alt="" coords="579,720,757,747"/><area shape="rect" id="node13" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a996915979b66811a0c3311cb61997306" title="Get a pointer to the data in this blob for write. " alt="" coords="859,57,1010,98"/><area shape="rect" id="node22" href="../../dd/d42/namespacepx_1_1db.html#ab9c81d6004f662b5c242f8a27e2f8c13" title="Read trends from a bucket row to the result, based on time range and traits. " alt="" coords="544,884,792,911"/><area shape="rect" id="node14" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#aa379d49e427c655520eb8d33053c09e2" title="Clear/reset the blob&#39;s current value. " alt="" coords="859,122,1010,163"/><area shape="rect" id="node19" href="../../dd/d42/namespacepx_1_1db.html#aae7d454e296e7215f76964c7a9229217" title="Convert 32&#45;bit unsigned integer to 4 bytes big&#45;endian. " alt="" coords="855,188,1014,215"/><area shape="rect" id="node27" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a2de322e636199a970a91da1d30354bce" title="Get pointer to value value for the current iterator position. " alt="" coords="867,887,1002,929"/><area shape="rect" id="node28" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#adcedcd7a91186b6a68fbdf5eec94a2f7" title="Get length of value value for the current iterator position. " alt="" coords="867,822,1002,863"/><area shape="rect" id="node8" href="../../dc/d98/classpx_1_1db_1_1CBatch.html#a240b1211fde470356f1d8e029004d4ec" title="Add an entry (key/value row) to the database. " alt="" coords="861,421,1009,448"/><area shape="rect" id="node9" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#a6661d4d696fb7af38a57a05305181702" title="Gets the byte size. " alt="" coords="861,473,1008,514"/><area shape="rect" id="node10" href="../../de/dcb/namespacepx.html#abcba15aa0fdb24e9d2da828a7ff22476" title="Writes an 8&#45;byte floating&#45;point to a big&#45;endian buffer with a start offset. " alt="" coords="841,539,1029,565"/><area shape="rect" id="node11" href="../../de/dcb/namespacepx.html#a485e629a57d309a962c57a9db4f07677" title="Writes a 4&#45;byte floating&#45;point to a big&#45;endian buffer with a start offset. " alt="" coords="848,589,1021,616"/><area shape="rect" id="node12" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#ae9a0455f1b0dfc3e32031c7ac9e73535" title="px::db::CNullMask::\lget_byte_size" alt="" coords="861,757,1008,798"/><area shape="rect" id="node15" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#ac728418a5e9990c73c6ccadb8b7d6f7a" title="Set a bit at a position. " alt="" coords="851,640,1018,667"/><area shape="rect" id="node16" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#ae23f62eb28dc9d343999870666145e9f" title="Get the current size of the blob. " alt="" coords="859,239,1010,281"/><area shape="rect" id="node17" href="../../d7/d4a/classpx_1_1db_1_1CNullMask.html#a2cdd8f07d53062a70efb0788644995ca" title="Serialize to a pre&#45;allocated byte buffer with an offset. " alt="" coords="861,305,1008,346"/><area shape="rect" id="node18" href="../../dd/d42/namespacepx_1_1db.html#add5000fae171b713d88b70cd73b1d4eb" title="px::db::u16be_to_buf" alt="" coords="855,371,1014,397"/><area shape="rect" id="node21" href="../../dd/d42/namespacepx_1_1db.html#a93c327007ff894fa4691acbf52269ede" title="Gets the minutes since epoch, or zero if invalid, optionally aligned to an interval in minutes; and a..." alt="" coords="849,691,1020,733"/><area shape="rect" id="node23" href="../../dd/d42/namespacepx_1_1db.html#a896f98e4264f2e0ccf2f3aed99b6e38c" title="px::db::buf_to_u16be" alt="" coords="855,953,1014,980"/><area shape="rect" id="node24" href="../../dd/d42/namespacepx_1_1db.html#acf853b7ce97adf0d46f786119548dc14" title="px::db::buf_to_u32be" alt="" coords="855,1136,1014,1163"/><area shape="rect" id="node25" href="../../de/dcb/namespacepx.html#a950981b2c40b1e673a1ac1fad267e30c" title="Reads an 8&#45;byte floating&#45;point from a big&#45;endian buffer with a start offset. " alt="" coords="857,1005,1012,1046"/><area shape="rect" id="node26" href="../../de/dcb/namespacepx.html#a1a68fc1b54175f1223ac68f0dcf8f4f0" title="Reads a 4&#45;byte floating&#45;point from a big&#45;endian buffer with a start offset. " alt="" coords="865,1070,1005,1111"/><area shape="rect" id="node34" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html#a7f699fe8e81ed5de7f275f4ec8a47c6e" title="Find the first entry &gt;= the given key in the table/database. " alt="" coords="851,5,1018,32"/><area shape="rect" id="node35" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html#a317052482c1e83504ebabba6e03f86c2" title="Get a LevelDB slice referring to this blob. " alt="" coords="1078,5,1258,32"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a128c9ca5666fecc5920a442de64c3cf9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> px::db::device_db_name = &quot;devices&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Database file names, defined in <a class="el" href="../../d7/d3d/adapter_8cpp.html">adapter.cpp</a>. </p>

<p>Definition at line <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00040">40</a> of file <a class="el" href="../../d6/dca/adapter_8hpp_source.html">adapter.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad670766f7b3dd189083630b97a36686f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> px::db::channel_db_name = &quot;channels&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00041">41</a> of file <a class="el" href="../../d6/dca/adapter_8hpp_source.html">adapter.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8d4022abc2cbba2d713d55409053c88a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> px::db::oob_db_name = &quot;oob&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00042">42</a> of file <a class="el" href="../../d6/dca/adapter_8hpp_source.html">adapter.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aeba76e5ed0ed29d3f0b5010c6dc4848f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> px::db::id_db_name = &quot;ids&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00043">43</a> of file <a class="el" href="../../d6/dca/adapter_8hpp_source.html">adapter.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a21c1014e36ef9227b5cae562cb38d3af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> px::db::alarm_db_name = &quot;alarms&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00044">44</a> of file <a class="el" href="../../d6/dca/adapter_8hpp_source.html">adapter.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad601ed35a324612417b1ebd86c9529bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> px::db::alarm_index_db_name = &quot;alarm_index&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00045">45</a> of file <a class="el" href="../../d6/dca/adapter_8hpp_source.html">adapter.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a07acc5c35860db7534783a764c2774d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char px::db::_avg_trend_mask = 0x01</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00678">678</a> of file <a class="el" href="../../d6/dca/adapter_8hpp_source.html">adapter.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04117">AddTrendBucketToBatch()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02603">AddTrendStageToBatch()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03033">ExportTrendStageRow()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05655">MoveTrendsFromStageToBucket()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02807">QueryTrendStage()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04614">ReadTrendsFromBucketRow()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05013">ReadTrendsFromStageRow()</a>.</p>

</div>
</div>
<a class="anchor" id="ac3bb8100a666eeef012a3eea472e9886"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char px::db::_min_trend_mask = 0x02</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00679">679</a> of file <a class="el" href="../../d6/dca/adapter_8hpp_source.html">adapter.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04117">AddTrendBucketToBatch()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02603">AddTrendStageToBatch()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03033">ExportTrendStageRow()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05655">MoveTrendsFromStageToBucket()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02807">QueryTrendStage()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04614">ReadTrendsFromBucketRow()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05013">ReadTrendsFromStageRow()</a>.</p>

</div>
</div>
<a class="anchor" id="ae623235cf748b9b8f2230c6fbb6a4b99"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char px::db::_max_trend_mask = 0x04</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00680">680</a> of file <a class="el" href="../../d6/dca/adapter_8hpp_source.html">adapter.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04117">AddTrendBucketToBatch()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02603">AddTrendStageToBatch()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03033">ExportTrendStageRow()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05655">MoveTrendsFromStageToBucket()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02807">QueryTrendStage()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04614">ReadTrendsFromBucketRow()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05013">ReadTrendsFromStageRow()</a>.</p>

</div>
</div>
<a class="anchor" id="aeeca6bdd7cc6f158e44406c4723f9f1c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char px::db::_actual_trend_mask = 0x08</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00681">681</a> of file <a class="el" href="../../d6/dca/adapter_8hpp_source.html">adapter.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04117">AddTrendBucketToBatch()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02603">AddTrendStageToBatch()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03033">ExportTrendStageRow()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05655">MoveTrendsFromStageToBucket()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02807">QueryTrendStage()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04614">ReadTrendsFromBucketRow()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05013">ReadTrendsFromStageRow()</a>.</p>

</div>
</div>
<a class="anchor" id="ab5ca8afea6f40d2310afbb2042458e14"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char px::db::_null_trend_mask = 0x10</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00682">682</a> of file <a class="el" href="../../d6/dca/adapter_8hpp_source.html">adapter.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04117">AddTrendBucketToBatch()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04614">ReadTrendsFromBucketRow()</a>.</p>

</div>
</div>
<a class="anchor" id="a42199392c51b4b412f06ba540122e754"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char px::db::_double_trend_mask = 0x80</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00683">683</a> of file <a class="el" href="../../d6/dca/adapter_8hpp_source.html">adapter.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04117">AddTrendBucketToBatch()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02603">AddTrendStageToBatch()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l03033">ExportTrendStageRow()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05655">MoveTrendsFromStageToBucket()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02807">QueryTrendStage()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l04614">ReadTrendsFromBucketRow()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l05013">ReadTrendsFromStageRow()</a>.</p>

</div>
</div>
<a class="anchor" id="a8d18ca988b5f6d207bc6570a4bd5bf9f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const unsigned char px::db::_tomestone = 0x00</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00685">685</a> of file <a class="el" href="../../d6/dca/adapter_8hpp_source.html">adapter.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06573">IsTrendStageDbTombstoned()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l06586">SetTrendStageDbTombstoned()</a>.</p>

</div>
</div>
<a class="anchor" id="ac6474a935aac0d3a13755025e7853e51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const size_t px::db::_avg_bit = 0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00688">688</a> of file <a class="el" href="../../d6/dca/adapter_8hpp_source.html">adapter.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae2962ce6ae68e4838374e84e585dc9e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const size_t px::db::_min_bit = 1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00689">689</a> of file <a class="el" href="../../d6/dca/adapter_8hpp_source.html">adapter.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a04ee8b95c8077f32abc2b9971650a15d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const size_t px::db::_max_bit = 2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00690">690</a> of file <a class="el" href="../../d6/dca/adapter_8hpp_source.html">adapter.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af45bd33ae0d53eebcd0c91f8735f3685"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const size_t px::db::_actual_bit = 3</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/dca/adapter_8hpp_source.html#l00691">691</a> of file <a class="el" href="../../d6/dca/adapter_8hpp_source.html">adapter.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa396260290b178fb4ef0efaf16a3cfe3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex px::db::id_db_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02274">2274</a> of file <a class="el" href="../../d7/d3d/adapter_8cpp_source.html">adapter.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02450">allocate_ids()</a>, <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02276">CheckIDDB()</a>, and <a class="el" href="../../d7/d3d/adapter_8cpp_source.html#l02522">reserve_ids()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/dcb/namespacepx.html">px</a></li><li class="navelem"><a class="el" href="../../dd/d42/namespacepx_1_1db.html">db</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:24:24 for libpx by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
