<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>libpx: adapter.hpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libpx
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d6/dca/adapter_8hpp_source.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">adapter.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d6/dca/adapter_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#ifndef _DB_ADAPTER_HPP</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define _DB_ADAPTER_HPP</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &lt;functional&gt;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &lt;set&gt;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;leveldb/status.h&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d3a/common_8hpp.html">px/common.hpp</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/db3/id_8hpp.html">px/type/id.hpp</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/dca/type_2value_8hpp.html">px/type/value.hpp</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d76/type_2string_8hpp.html">px/type/string.hpp</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d41/batch_8hpp.html">px/db/batch.hpp</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/da4/blob__holder_8hpp.html">px/db/blob_holder.hpp</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d08/device_8hpp.html">px/data/device.hpp</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/dde/iterator_8hpp.html">px/db/iterator.hpp</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d20/channel_8hpp.html">px/data/channel.hpp</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d08/device_8hpp.html">px/data/device.hpp</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/dad/alarm__update_8hpp.html">px/data/alarm_update.hpp</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../da/d38/delete__alarms_8hpp.html">px/cds/delete_alarms.hpp</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d6/d4c/key__value__store_8hpp.html">px/db/key_value_store.hpp</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;px/proto/Core.hpp&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d4f/override__level_8hpp.html">px/enum/override_level.hpp</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;px/proto/ToolkitConfiguration.hpp&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/dea/trend__trait_8hpp.html">px/data/trend_trait.hpp</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/da1/trend__stage__update_8hpp.html">px/data/trend_stage_update.hpp</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/dbb/trend__bucket__update_8hpp.html">px/data/trend_bucket_update.hpp</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d22/channel__trends_8hpp.html">px/data/channel_trends.hpp</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="keyword">namespace </span>px {</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">// Describe the database functional area here, for doxygen:</span></div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="../../dd/d42/namespacepx_1_1db.html">   36</a></span>&#160;<span class="comment"></span><span class="keyword">namespace </span>db {</div>
<div class="line"><a name="l00040"></a><span class="lineno"><a class="line" href="../../dd/d42/namespacepx_1_1db.html#a128c9ca5666fecc5920a442de64c3cf9">   40</a></span>&#160;<span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a128c9ca5666fecc5920a442de64c3cf9">device_db_name</a> = <span class="stringliteral">&quot;devices&quot;</span>;</div>
<div class="line"><a name="l00041"></a><span class="lineno"><a class="line" href="../../dd/d42/namespacepx_1_1db.html#ad670766f7b3dd189083630b97a36686f">   41</a></span>&#160;<span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#ad670766f7b3dd189083630b97a36686f">channel_db_name</a> = <span class="stringliteral">&quot;channels&quot;</span>;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="../../dd/d42/namespacepx_1_1db.html#a8d4022abc2cbba2d713d55409053c88a">   42</a></span>&#160;<span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a8d4022abc2cbba2d713d55409053c88a">oob_db_name</a> = <span class="stringliteral">&quot;oob&quot;</span>;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="../../dd/d42/namespacepx_1_1db.html#aeba76e5ed0ed29d3f0b5010c6dc4848f">   43</a></span>&#160;<span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#aeba76e5ed0ed29d3f0b5010c6dc4848f">id_db_name</a> = <span class="stringliteral">&quot;ids&quot;</span>;</div>
<div class="line"><a name="l00044"></a><span class="lineno"><a class="line" href="../../dd/d42/namespacepx_1_1db.html#a21c1014e36ef9227b5cae562cb38d3af">   44</a></span>&#160;<span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a21c1014e36ef9227b5cae562cb38d3af">alarm_db_name</a> = <span class="stringliteral">&quot;alarms&quot;</span>;</div>
<div class="line"><a name="l00045"></a><span class="lineno"><a class="line" href="../../dd/d42/namespacepx_1_1db.html#ad601ed35a324612417b1ebd86c9529bd">   45</a></span>&#160;<span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#ad601ed35a324612417b1ebd86c9529bd">alarm_index_db_name</a> = <span class="stringliteral">&quot;alarm_index&quot;</span>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> uint32_t <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a721672afeb1ee18749143e1c1443f62a">GetSchemaVersion</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db, uint32_t key_len,</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;                                                                  uint32_t def_ver = 0 );</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#aba58c266158ad63cf3a6669098ec05ee">SetSchemaVersion</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db, uint32_t key_len,</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                                                          uint32_t version );</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a843ee7c2d154dec5b7b8cdea2697eaf7">MigrateOOBDB</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db );</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#ab4055838ad2810a85a19859c78ed63cb">MigrateDeviceDB</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db );</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#ad75dbada9c2906c339d881bcd5b64727">MigrateChannelDB</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db, <a class="code" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a> &amp;mcl_iter );</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a7837adf73ea497822688d1a4a4d6664c">MigrateIDDB</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db );</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a468fb4dd6e74481b4da0007bfc03cc9e">MigrateAlarmDB</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db, <span class="keyword">const</span> std::map&lt;px::id_t, px::CChannel&gt; &amp;channel_map, <span class="keyword">const</span> std::map&lt;px::id_t, px::CDevice&gt; &amp;device_map );</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a926fbbd629f93d5abe84004b94e73a67">MigrateAlarmIndexDB</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db );</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a43b0eabe2ca9553733020eae4ca8bc92">AddOOBToBatch</a>( <a class="code" href="../../dc/d98/classpx_1_1db_1_1CBatch.html">CBatch</a> &amp;batch, <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;key,</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                                                   <span class="keyword">const</span> px::proto::toolkitStruct &amp;value );</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#aa1b6d301a05b606baf8fa79024c2b2af">AddClearOOBToBatch</a>( <a class="code" href="../../dc/d98/classpx_1_1db_1_1CBatch.html">CBatch</a> &amp;batch, <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;key );</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">bool</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a6a3caeb81045a161c4ca3ae5367cf2fa">FetchOOB</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db, <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;key,</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                                          px::proto::toolkitStruct &amp;data );</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> std::vector&lt;px::string&gt; <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a470e39b90682a339e8b6d08adacd6be2">FetchOOBKeys</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db );</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#aabb9a2536ad25c940762036f7ce7a1c6">FetchOOBs</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db, std::map&lt;px::string, px::proto::toolkitStruct&gt; &amp;map );</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#ac89825bd65a3662d17b2ba0fcc2912f1">AddDeviceToBatch</a>( <a class="code" href="../../dc/d98/classpx_1_1db_1_1CBatch.html">CBatch</a> &amp;batch, <span class="keyword">const</span> <a class="code" href="../../d6/d5b/classpx_1_1CDevice.html">px::CDevice</a> &amp;device );</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#af106f95c7e819844ed1ea301d29da93e">AddDeleteDeviceToBatch</a>( <a class="code" href="../../dc/d98/classpx_1_1db_1_1CBatch.html">CBatch</a> &amp;batch, <a class="code" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> device_id );</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a19fa53d84b23974c4c710bd52d140561">FetchDevices</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db, std::map&lt;px::id_t, px::CDevice&gt; &amp;map );</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a430af8388568fb169667e1ecb54c04ca">AddChannelToBatch</a>( <a class="code" href="../../dc/d98/classpx_1_1db_1_1CBatch.html">CBatch</a> &amp;batch, <a class="code" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a> &amp;mcl_iter, <span class="keyword">const</span> <a class="code" href="../../d0/df1/classpx_1_1CChannel.html">px::CChannel</a> &amp;channel );</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a1652e4fa6d725b981be0d04fb95c5d92">AddDeleteChannelToBatch</a>( <a class="code" href="../../dc/d98/classpx_1_1db_1_1CBatch.html">CBatch</a> &amp;batch, <a class="code" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> channel_id );</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a2cccb6f2e1009c568cf67afbee95128c">FetchChannels</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db,</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                                                   <a class="code" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a> &amp;mcl_iter,</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;                                                   std::map&lt;px::id_t, px::CChannel&gt; &amp;map,</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                                                   std::map&lt;px::id_t, px::CDevice&gt; &amp;devs );</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> px::proto::MclEntry <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a8b00be9118b4d9267e6fbad61bafdcbd">FetchMCLEntry</a>( <a class="code" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a> &amp;mcl_iter,</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                                                                                  <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;channel_name );</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> px::proto::CommandInfo <a class="code" href="../../dd/d42/namespacepx_1_1db.html#ae2450822a558bb0d0ffa098631ac2bb1">FetchCCLEntry</a>( <a class="code" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a> &amp;ccl_iter,</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                                                                                         <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;command_name );</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a93f13745a5b812e64001d06e1a7f9cd6">QueryAlarms</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_db, <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_index_db,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                                                 <span class="keywordtype">size_t</span> max_result_size, uint64_t start_global_count,</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                                                 <span class="keyword">const</span> <a class="code" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> *start_update_time,</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                                                 <span class="keyword">const</span> <a class="code" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> *end_update_time,</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;                                                 <span class="keyword">const</span> std::unordered_set&lt;px::id_t&gt; *device_ids,</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                                                 <span class="keyword">const</span> std::unordered_set&lt;px::id_t&gt; *channel_ids,</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;                                                 <span class="keyword">const</span> std::set&lt;px::id_t&gt; *alarm_ids,</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                                                 <span class="keyword">const</span> std::set&lt;px::id_t&gt; *exclude_alarm_ids,</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                                                 uint32_t starting_sequence_index,</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                                                 <span class="keywordtype">bool</span> first_updates_only,</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;                                                 <span class="keywordtype">bool</span> go_backwards,</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                                                 std::vector&lt;px::CAlarmUpdate&gt; &amp;result,</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                                                 <span class="keyword">const</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span> &amp;exit_req,</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                                                 <span class="keywordtype">size_t</span> *count_found = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                                                 <span class="keywordtype">bool</span> count_all = <span class="keyword">false</span>,</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                                                 uint32_t trigger_level = 0,</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                                                 <a class="code" href="../../d2/d92/classpx_1_1CAlarmTriggerType.html">px::CAlarmTriggerType</a> trigger_type = <a class="code" href="../../de/dcb/namespacepx.html#acf6770f6d835c0c868d8be96d1771e3fafedb2d84cafe20862cb4399751a8a7e3">px::alarm_trigger_type::invalid</a>,</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                                                 <span class="keywordtype">bool</span> gt_equal = <span class="keyword">false</span> );</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a97e10ed3d67b9a51166333c04b4f0528">QueryAlarmsLatestUpdate</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_db, <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_index_db,</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                                                                         <span class="keywordtype">size_t</span> max_result_size, uint64_t start_global_count,</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                                                                         <span class="keyword">const</span> <a class="code" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> *start_first_occur_time,</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                                                                         <span class="keyword">const</span> <a class="code" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> *end_first_occur_time,</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;                                                                         <span class="keyword">const</span> std::unordered_set&lt;px::id_t&gt; *device_ids,</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                                                                         <span class="keyword">const</span> std::unordered_set&lt;px::id_t&gt; *channel_ids,</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                                                                         <span class="keyword">const</span> std::set&lt;px::id_t&gt; *alarm_ids,</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                                                                         <span class="keyword">const</span> std::set&lt;px::id_t&gt; *exclude_alarm_ids,</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                                                                         std::vector&lt;px::CAlarmUpdate&gt; &amp;result,</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                                                                         <span class="keyword">const</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span> &amp;exit_req,</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                                                                         <span class="keywordtype">size_t</span> *count_found,</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                                                                         <span class="keywordtype">bool</span> count_all,</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                                                                         uint32_t trigger_level = 0,</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                                                                         <a class="code" href="../../d2/d92/classpx_1_1CAlarmTriggerType.html">px::CAlarmTriggerType</a> trigger_type = <a class="code" href="../../de/dcb/namespacepx.html#acf6770f6d835c0c868d8be96d1771e3fafedb2d84cafe20862cb4399751a8a7e3">px::alarm_trigger_type::invalid</a>,</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                                                                         <span class="keywordtype">bool</span> gt_equal = <span class="keyword">false</span> );</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a09b705764dd8fa39b21456323f916bf8">LoadActiveAlarms</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_db,</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                                                          <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_index_db,</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                                                          std::map&lt;px::id_t, px::CAlarmUpdate&gt; &amp;alarms );</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a8eb186bcace13964b0fcc41fae1181bd">SaveAlarmUpdates</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_db,</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                                                          <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_index_db,</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                                                          <span class="keyword">const</span> std::vector&lt;px::CAlarmUpdate&gt; &amp;updates,</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                                                          <span class="keyword">const</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span> &amp;exit_req );</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a814e7b6ae12d3b85bc175e433e155347">NoteAlarmsToDelete</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_index_db,</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                                                                <span class="keyword">const</span> std::unordered_set&lt;px::id_t&gt; &amp;ids );</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a214da843080fb412145fcf1eb132020f">DeleteAlarms</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_db,</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                                                  <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_index_db,</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                                                  <span class="keyword">const</span> std::unordered_set&lt;px::id_t&gt; &amp;ids,</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                                                  <span class="keyword">const</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span> &amp;exit_req );</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a7b8a6b083a67a3d2ee27b55698c9dc7a">DeleteClosedAlarms</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_db,</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                                                                <a class="code" href="../../d6/d68/classpx_1_1cds_1_1CDeleteAlarms.html">px::cds::CDeleteAlarms</a> &amp;alms,</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                                                                <span class="keyword">const</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span> &amp;exit_req,</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                                                                <span class="keyword">const</span> std::unordered_set&lt;px::id_t&gt; *device_ids = <span class="keyword">nullptr</span>,</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                                                                <span class="keyword">const</span> std::unordered_set&lt;px::id_t&gt; *channel_ids = <span class="keyword">nullptr</span> );</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a29cbcaf28fcae52c3a9e1492e6e3219f">CleanupAlarms</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_db, <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_index_db, uint32_t max_size, <span class="keyword">const</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span> &amp;exit_req );</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#aef84a690e2c78d11698ce19d0027c6cd">CheckIDDB</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;id_db, <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;device_db,</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;                                           <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;channel_db, <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;alarm_db );</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> std::vector&lt;px::id_t&gt; <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a708cb3f5e4608bfa09bf05dc3a8055e3">AllocateDeviceIDs</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;id_db,</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                                                                                                <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_requested );</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> std::vector&lt;px::id_t&gt; <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a7084a11cc3fa3544bd95d23cca4930a9">AllocateChannelIDs</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;id_db,</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                                                                                                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_requested );</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> std::vector&lt;px::id_t&gt; <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a114f8fae2c1460cf167f6f1ac261f8e5">AllocateAlarmIDs</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;id_db,</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                                                                                           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_requested );</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> std::vector&lt;uint64_t&gt; <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a496e94654c3b269372ade9623c018c14">AllocateGlobalCounts</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;id_db,</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                                                                                                   <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> num_requested );</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#aa8108f5c71ac7a4d4e7f6ad21fcea47e">ReserveDeviceIDs</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;id_db,</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                                                          <span class="keyword">const</span> std::vector&lt;px::id_t&gt;  &amp;ids );</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a17085176ca2aae11e701c509f48c6558">ReserveChannelIDs</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;id_db,</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                                                           <span class="keyword">const</span> std::vector&lt;px::id_t&gt; &amp;ids );</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a2cea3e029c4a66e221e55eb9a2adad70">ReserveAlarmIDs</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;id_db,</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;                                                         <span class="keyword">const</span> std::vector&lt;px::id_t&gt; &amp;ids );</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a0a36a33e888f6ff806dd8936fdb86619">ReserveGlobalCounts</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;id_db,</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                                                                 <span class="keyword">const</span> std::vector&lt;uint64_t&gt; &amp;ids );</div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#afeef37d4e2a0bbb18461922b2900bd06">AddTrendStageToBatch</a>( <a class="code" href="../../dc/d98/classpx_1_1db_1_1CBatch.html">CBatch</a> &amp;batch,</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;                                                                  std::vector&lt;std::shared_ptr&lt;px::CTrendStageUpdate&gt; &gt; &amp;updates,</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;                                                                  <span class="keywordtype">int</span> start_index = 0, <span class="keywordtype">int</span> end_index = -1 );</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="../../d3/d5f/classpx_1_1CChannelTrends.html">px::CChannelTrends</a> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a7cf25e75f20f099af70e40e96951a66d">QueryTrendStage</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_stage_db,</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;                                                                                   <span class="keyword">const</span> uint32_t channel_id,</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;                                                                                   uint32_t start_time,</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                                                                                   uint32_t end_time );</div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a1a1ec10f40f632d89f5287523be11b55">DumpHex</a>( std::ofstream &amp;file, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> *data, <span class="keyword">const</span> <span class="keywordtype">int</span> length );</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;</div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a74569b6a7541050c44ac405426251f9b">ExportTrendStageRow</a>( <span class="keyword">const</span> uint32_t channel_id, <span class="keyword">const</span> uint32_t time,</div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;                                                  <a class="code" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a> &amp;iterator, std::ofstream &amp;file,</div>
<div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;                                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> include_avg, <span class="keyword">const</span> <span class="keywordtype">bool</span> include_min,</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;                                                  <span class="keyword">const</span> <span class="keywordtype">bool</span> include_max, <span class="keyword">const</span> <span class="keywordtype">bool</span> include_actual,</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;                                                  <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;values_count );</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a73023e268dd036fb9cdf12f04942ff81">ExportTrendStage</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_stage_db,</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                                                          std::ofstream &amp;file, <span class="keyword">const</span> std::vector&lt;uint32_t&gt; &amp;channel_ids,</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;                                                          uint32_t start_time, uint32_t end_time,</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;                                                          <span class="keyword">const</span> <span class="keywordtype">bool</span> include_avg, <span class="keyword">const</span> <span class="keywordtype">bool</span> include_min,</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;                                                          <span class="keyword">const</span> <span class="keywordtype">bool</span> include_max, <span class="keyword">const</span> <span class="keywordtype">bool</span> include_actual,</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                                                          <span class="keyword">const</span> <span class="keywordtype">bool</span> include_invalid,</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;                                                          <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> row_count_limit,</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                                                          <span class="keywordtype">bool</span> &amp;more_data,</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                                                          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;values_count,</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                                                          <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;row_count, <span class="keyword">const</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span> &amp;exit_req );</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#ab42ef81a5e7a5a38e55ec3eceaf013a2">ExportTrendStageHeaderRow</a>( std::ofstream &amp;file );</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#ab8fd596352b15c8f3673666c5d6212b9">ImportTrendStage</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;file_path,</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;                                                          std::function&lt;<span class="keywordtype">void</span>( std::vector&lt;std::shared_ptr&lt;px::CTrendStageUpdate&gt; &gt; &amp; )&gt; func,</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;                                                          <span class="keywordtype">int</span> &amp;row_count, <span class="keywordtype">int</span> &amp;value_count, <span class="keyword">const</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span> &amp;exit_req );</div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a76dc0348e2b016be0b1a5602a037c022">ImportTrendBucket</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_bucket_db,</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;                                                           <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;file_path, <span class="keywordtype">int</span> &amp;row_count, <span class="keywordtype">int</span> &amp;value_count, <span class="keyword">const</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span> &amp;exit_req );</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">bool</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a7a2873c068af728840dc7693a9a71b53">AddTrendBucketToBatch</a>( <a class="code" href="../../dc/d98/classpx_1_1db_1_1CBatch.html">CBatch</a> &amp;batch,</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;                                                                   <span class="keyword">const</span> std::shared_ptr&lt;px::CTrendBucketUpdate&gt; update );</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a66b55a4a6b7d9eac9f39658a50ffa602">StoreTrendBucketsToDb</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_bucket_db,</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;                                                                   <span class="keyword">const</span> std::map&lt;uint32_t, std::shared_ptr&lt;px::CTrendBucketUpdate&gt; &gt; &amp;cache,</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;                                                                   <span class="keywordtype">bool</span> sync_db, <span class="keyword">const</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span> &amp;exit_req );</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#ae8231c6bdaafbf0c8cb8dc1ba2c7e78d">SimulateTrendBucket</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_bucket_db,</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;                                                                 <span class="keyword">const</span> std::vector&lt;uint32_t&gt; &amp;channel_ids, <span class="keywordtype">int</span> period,</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                                                                 <span class="keyword">const</span> <a class="code" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> &amp;start, <span class="keyword">const</span> <a class="code" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> &amp;end,</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;                                                                 <span class="keywordtype">int</span> &amp;trends_count );</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#ab9c81d6004f662b5c242f8a27e2f8c13">ReadTrendsFromBucketRow</a>( <a class="code" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a> &amp;iterator, std::vector&lt;px::CChannelTrend&gt; &amp;result,</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;                                                                         <span class="keyword">const</span> uint32_t bucket_end_time, <span class="keyword">const</span> uint32_t start_minutes, <span class="keyword">const</span> uint32_t end_minutes,</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;                                                                         <span class="keyword">const</span> <span class="keywordtype">int</span> request_period,</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;                                                                         <span class="keyword">const</span> <span class="keywordtype">bool</span> include_avg,</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;                                                                         <span class="keyword">const</span> <span class="keywordtype">bool</span> include_min,</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;                                                                         <span class="keyword">const</span> <span class="keywordtype">bool</span> include_max,</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;                                                                         <span class="keyword">const</span> <span class="keywordtype">bool</span> include_actual,</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                                                                         <span class="keywordtype">int</span> &amp;read_period,</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;                                                                         <span class="keywordtype">bool</span> &amp;is_double,</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;                                                                         <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> row_count_limit,</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;                                                                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;row_count,</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                                                                         <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;rtn_values_count,</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;                                                                         <span class="keywordtype">bool</span> newest_first = <span class="keyword">false</span>, <span class="keywordtype">bool</span> include_holes = <span class="keyword">true</span> );</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#ac536596e4c2592cf30ef67c2c8f89dfb">ReadTrendsFromStageRow</a>( <a class="code" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">px::db::CIterator</a> &amp;it,</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;                                                                        std::vector&lt;px::CChannelTrend&gt; &amp;trends,</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;                                                                        <span class="keyword">const</span> <span class="keywordtype">bool</span> include_avg, <span class="keyword">const</span> <span class="keywordtype">bool</span> include_min, <span class="keyword">const</span> <span class="keywordtype">bool</span> include_max,</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;                                                                        <span class="keyword">const</span> <span class="keywordtype">bool</span> include_actual,</div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;                                                                        <span class="keywordtype">bool</span> &amp;is_double,</div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;                                                                        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;row_count,</div>
<div class="line"><a name="l00483"></a><span class="lineno">  483</span>&#160;                                                                        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;rtn_values_count );</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a7b7c6c7992c484dd3bdedb01e40a7354">ExportTrendBucketHeaderRow</a>( std::ofstream &amp;file,</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;                                                                                <span class="keyword">const</span> std::vector&lt;uint32_t&gt; &amp;channel_ids,</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                                                                                <span class="keyword">const</span> <span class="keywordtype">bool</span> include_avg, <span class="keyword">const</span> <span class="keywordtype">bool</span> include_min,</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;                                                                                <span class="keyword">const</span> <span class="keywordtype">bool</span> include_max, <span class="keyword">const</span> <span class="keywordtype">bool</span> include_actual );</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a5908b90e252a2f3eb15ce535d8bf31d2">ExportTrendBucket</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_bucket_db,</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                                                           std::ofstream &amp;file, <span class="keyword">const</span> std::vector&lt;uint32_t&gt; &amp;channel_ids,</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;                                                           uint32_t start_minutes, uint32_t end_minutes,</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;                                                           <span class="keyword">const</span> <span class="keywordtype">bool</span> include_avg, <span class="keyword">const</span> <span class="keywordtype">bool</span> include_min,</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;                                                           <span class="keyword">const</span> <span class="keywordtype">bool</span> include_max, <span class="keyword">const</span> <span class="keywordtype">bool</span> include_actual,</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                                                           <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> row_count_limit,</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;                                                           <span class="keywordtype">bool</span> &amp;more_data,</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;                                                           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;values_count,</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;                                                           <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;row_count, <span class="keyword">const</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span> &amp;exit_req );</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a22b24b7fc0dcc140d4fa0d22d98e870d">ExportTrendsHeaderRow</a>( std::ofstream &amp;file,</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;                                                                   <span class="keyword">const</span> std::vector&lt;uint32_t&gt; &amp;channel_ids,</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;                                                                   <span class="keyword">const</span> std::unordered_map&lt;uint32_t, uint32_t&gt; &amp;channel_device_map,</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;                                                                   <span class="keyword">const</span> std::unordered_map&lt;uint32_t, px::shared_string&gt; &amp;channel_name_map,</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;                                                                   <span class="keyword">const</span> std::unordered_map&lt;uint32_t, px::shared_string&gt; &amp;device_name_map,</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;                                                                   <span class="keyword">const</span> <span class="keywordtype">bool</span> separate_date_time, <span class="keyword">const</span> <span class="keywordtype">bool</span> include_period,</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;                                                                   <span class="keyword">const</span> <span class="keywordtype">bool</span> include_avg, <span class="keyword">const</span> <span class="keywordtype">bool</span> include_min, <span class="keyword">const</span> <span class="keywordtype">bool</span> include_min_time,</div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;                                                                   <span class="keyword">const</span> <span class="keywordtype">bool</span> include_max, <span class="keyword">const</span> <span class="keywordtype">bool</span> include_max_time, <span class="keyword">const</span> <span class="keywordtype">bool</span> include_actual );</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a22b24b7fc0dcc140d4fa0d22d98e870d">ExportTrendsHeaderRow</a>( std::ofstream &amp;file,</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                                                                   <span class="keyword">const</span> std::vector&lt;uint32_t&gt; &amp;channel_ids,</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;                                                                   <span class="keyword">const</span> std::unordered_map&lt;uint32_t, std::bitset&lt;4&gt; &gt; &amp;channel_traits_map,</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                                                                   <span class="keyword">const</span> std::unordered_map&lt;uint32_t, uint32_t&gt; &amp;channel_device_map,</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;                                                                   <span class="keyword">const</span> std::unordered_map&lt;uint32_t, px::shared_string&gt; &amp;channel_name_map,</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;                                                                   <span class="keyword">const</span> std::unordered_map&lt;uint32_t, px::shared_string&gt; &amp;device_name_map,</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;                                                                   <span class="keyword">const</span> <span class="keywordtype">bool</span> separate_date_time, <span class="keyword">const</span> <span class="keywordtype">bool</span> include_period,</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;                                                                   <span class="keyword">const</span> <span class="keywordtype">bool</span> include_avg, <span class="keyword">const</span> <span class="keywordtype">bool</span> include_min, <span class="keyword">const</span> <span class="keywordtype">bool</span> include_min_time,</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;                                                                   <span class="keyword">const</span> <span class="keywordtype">bool</span> include_max, <span class="keyword">const</span> <span class="keywordtype">bool</span> include_max_time, <span class="keyword">const</span> <span class="keywordtype">bool</span> include_actual );</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a91ad39211dbae5b4426f0efb6ce234e0">MoveTrendsFromStageToBucket</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_stage_db,</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;                                                                                 <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_bucket_db, uint32_t mature_minutes, <span class="keyword">const</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span> &amp;exit_req );</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#aa13b76278af78582154e69c0d390498e">LevelupBucketTrends</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;bucket_db, <span class="keyword">const</span> uint32_t time_threshold_5min,</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                                                                 <span class="keyword">const</span> uint32_t time_threshold_15min, <span class="keyword">const</span> uint32_t time_threshold_60min,</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;                                                                 <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;count_5min, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;count_15min, <span class="keyword">const</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span> &amp;exit_req, <span class="keyword">const</span> <span class="keywordtype">size_t</span> num_trended_channels );</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a3c296d3136bd6877fb4dd770ed3c57dd">LevelupBucketTrendsRow</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;bucket_db, <a class="code" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a> &amp;it,</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;                                                         <span class="keyword">const</span> uint32_t channel_id, <span class="keyword">const</span> uint32_t bucket_end_time,</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;                                                         <span class="keyword">const</span> <span class="keywordtype">int</span> period );</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;std::shared_ptr&lt;px::CTrendBucketUpdate&gt; <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a67cb580b2b87d15124a2e96ecd56d391">AggregateTrends</a>(</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;        <span class="keyword">const</span> uint32_t channel_id, <span class="keyword">const</span> uint32_t bucket_end_time, <span class="keywordtype">bool</span> is_double,</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keyword">const</span> std::vector&lt;px::CChannelTrend&gt; &amp;trends, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> period,</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> aggr_period );</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a18f1b207b0a97f477f57841b01d16531">SeekTrendIterator</a>( <a class="code" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a> &amp;it, <span class="keyword">const</span> uint32_t channel_id, <span class="keyword">const</span> uint32_t time );</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">bool</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a6f90113cdb4fad0481ef352c08460fa5">ReadTrendKey</a>( <a class="code" href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">CIterator</a> &amp;it, uint32_t &amp;channel_id, uint32_t &amp;time );</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">bool</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a263796df6f2644d46a40a9d8dc19dd20">DeleteTrends</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_bucket_db,</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;                                                  <span class="keyword">const</span> std::unordered_set&lt;uint32_t&gt; &amp;channel_ids,</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;                                                  uint32_t start_day, uint32_t end_day, <span class="keyword">const</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span> &amp;exit_req );</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">bool</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a263796df6f2644d46a40a9d8dc19dd20">DeleteTrends</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_bucket_db, uint32_t start_day, uint32_t end_day, <span class="keyword">const</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span> &amp;exit_req );</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">bool</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a263796df6f2644d46a40a9d8dc19dd20">DeleteTrends</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;trend_bucket_db, <span class="keyword">const</span> uint32_t earlist_min, <span class="keyword">const</span> std::unordered_set&lt;uint32_t&gt; &amp;existing_channels, <span class="keyword">const</span> <span class="keyword">volatile</span> <span class="keywordtype">bool</span> &amp;exit_req );</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a93c327007ff894fa4691acbf52269ede">get_normalized_interval_timestamp</a>(</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        <span class="keyword">const</span> <a class="code" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> &amp;timestamp, <span class="keyword">const</span> uint32_t aligned_minutes,</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        uint32_t &amp;interval_timestamp, <span class="keywordtype">bool</span> &amp;on_interval );</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a93c327007ff894fa4691acbf52269ede">get_normalized_interval_timestamp</a>(</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <span class="keyword">const</span> uint32_t minutes, <span class="keyword">const</span> uint32_t aligned_minutes,</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        uint32_t &amp;interval_timestamp, <span class="keywordtype">bool</span> &amp;on_interval );</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a3f9f1d96a70d48fe6f75f4164b6cf967">get_walltime</a>( <span class="keyword">const</span> uint32_t minutes );</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="code" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a3f9f1d96a70d48fe6f75f4164b6cf967">get_walltime</a>( <span class="keyword">const</span> <a class="code" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> &amp;period_end_time, <span class="keyword">const</span> uint32_t offset );</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> leveldb::Status <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a938740c1b9df44c752ac918ddd48c54b">DestroyDb</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;name );</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">bool</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a57832fd08a933dc74b9c10a5708d9395">DoesKeyExist</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db, <a class="code" href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html">CBlobHolder</a> &amp;key_blob );</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">bool</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a57832fd08a933dc74b9c10a5708d9395">DoesKeyExist</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db,</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;                                                  <span class="keyword">const</span> uint32_t channel_id, <span class="keyword">const</span> uint32_t time );</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">bool</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a3661c1f5f00a7a05b0a9e5aab2408873">IsTrendStageDbTombstoned</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db );</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;<a class="code" href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <span class="keywordtype">void</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#abe8862f1e7ecb587d569e77a15b93c30">SetTrendStageDbTombstoned</a>( <a class="code" href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">CKeyValueStore</a> &amp;db, <span class="keywordtype">bool</span> tombstoned );</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;<span class="comment">// masks used in the trend/stage db</span></div>
<div class="line"><a name="l00678"></a><span class="lineno"><a class="line" href="../../dd/d42/namespacepx_1_1db.html#a07acc5c35860db7534783a764c2774d6">  678</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a07acc5c35860db7534783a764c2774d6">_avg_trend_mask</a> = 0x01;</div>
<div class="line"><a name="l00679"></a><span class="lineno"><a class="line" href="../../dd/d42/namespacepx_1_1db.html#ac3bb8100a666eeef012a3eea472e9886">  679</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#ac3bb8100a666eeef012a3eea472e9886">_min_trend_mask</a> = 0x02;</div>
<div class="line"><a name="l00680"></a><span class="lineno"><a class="line" href="../../dd/d42/namespacepx_1_1db.html#ae623235cf748b9b8f2230c6fbb6a4b99">  680</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#ae623235cf748b9b8f2230c6fbb6a4b99">_max_trend_mask</a> = 0x04;</div>
<div class="line"><a name="l00681"></a><span class="lineno"><a class="line" href="../../dd/d42/namespacepx_1_1db.html#aeeca6bdd7cc6f158e44406c4723f9f1c">  681</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#aeeca6bdd7cc6f158e44406c4723f9f1c">_actual_trend_mask</a> = 0x08;</div>
<div class="line"><a name="l00682"></a><span class="lineno"><a class="line" href="../../dd/d42/namespacepx_1_1db.html#ab5ca8afea6f40d2310afbb2042458e14">  682</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#ab5ca8afea6f40d2310afbb2042458e14">_null_trend_mask</a> = 0x10;</div>
<div class="line"><a name="l00683"></a><span class="lineno"><a class="line" href="../../dd/d42/namespacepx_1_1db.html#a42199392c51b4b412f06ba540122e754">  683</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a42199392c51b4b412f06ba540122e754">_double_trend_mask</a> = 0x80;</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div>
<div class="line"><a name="l00685"></a><span class="lineno"><a class="line" href="../../dd/d42/namespacepx_1_1db.html#a8d18ca988b5f6d207bc6570a4bd5bf9f">  685</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a8d18ca988b5f6d207bc6570a4bd5bf9f">_tomestone</a> = 0x00;</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment">// masks used in trend export (to store the trend traits flags in a bitset)</span></div>
<div class="line"><a name="l00688"></a><span class="lineno"><a class="line" href="../../dd/d42/namespacepx_1_1db.html#ac6474a935aac0d3a13755025e7853e51">  688</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#ac6474a935aac0d3a13755025e7853e51">_avg_bit</a> = 0;</div>
<div class="line"><a name="l00689"></a><span class="lineno"><a class="line" href="../../dd/d42/namespacepx_1_1db.html#ae2962ce6ae68e4838374e84e585dc9e2">  689</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#ae2962ce6ae68e4838374e84e585dc9e2">_min_bit</a> = 1;</div>
<div class="line"><a name="l00690"></a><span class="lineno"><a class="line" href="../../dd/d42/namespacepx_1_1db.html#a04ee8b95c8077f32abc2b9971650a15d">  690</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#a04ee8b95c8077f32abc2b9971650a15d">_max_bit</a> = 2;</div>
<div class="line"><a name="l00691"></a><span class="lineno"><a class="line" href="../../dd/d42/namespacepx_1_1db.html#af45bd33ae0d53eebcd0c91f8735f3685">  691</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">size_t</span> <a class="code" href="../../dd/d42/namespacepx_1_1db.html#af45bd33ae0d53eebcd0c91f8735f3685">_actual_bit</a> = 3;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;}       <span class="comment">// namespace px::db</span></div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;}       <span class="comment">// namespace px</span></div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="ttc" id="namespacepx_1_1db_html_aa1b6d301a05b606baf8fa79024c2b2af"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#aa1b6d301a05b606baf8fa79024c2b2af">px::db::AddClearOOBToBatch</a></div><div class="ttdeci">PUBLIC void AddClearOOBToBatch(CBatch &amp;batch, const px::string &amp;key)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00348">adapter.cpp:348</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a114f8fae2c1460cf167f6f1ac261f8e5"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a114f8fae2c1460cf167f6f1ac261f8e5">px::db::AllocateAlarmIDs</a></div><div class="ttdeci">PUBLIC std::vector&lt; px::id_t &gt; AllocateAlarmIDs(CKeyValueStore &amp;id_db, unsigned int num_requested)</div><div class="ttdoc">Allocate alarm IDs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l02510">adapter.cpp:2510</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_ae2962ce6ae68e4838374e84e585dc9e2"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#ae2962ce6ae68e4838374e84e585dc9e2">px::db::_min_bit</a></div><div class="ttdeci">const size_t _min_bit</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dca/adapter_8hpp_source.html#l00689">adapter.hpp:689</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a21c1014e36ef9227b5cae562cb38d3af"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a21c1014e36ef9227b5cae562cb38d3af">px::db::alarm_db_name</a></div><div class="ttdeci">const px::string alarm_db_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dca/adapter_8hpp_source.html#l00044">adapter.hpp:44</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a496e94654c3b269372ade9623c018c14"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a496e94654c3b269372ade9623c018c14">px::db::AllocateGlobalCounts</a></div><div class="ttdeci">PUBLIC std::vector&lt; uint64_t &gt; AllocateGlobalCounts(CKeyValueStore &amp;id_db, unsigned int num_requested)</div><div class="ttdoc">Allocate alarm global counts. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l02516">adapter.cpp:2516</a></div></div>
<div class="ttc" id="trend__bucket__update_8hpp_html"><div class="ttname"><a href="../../df/dbb/trend__bucket__update_8hpp.html">trend_bucket_update.hpp</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a07acc5c35860db7534783a764c2774d6"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a07acc5c35860db7534783a764c2774d6">px::db::_avg_trend_mask</a></div><div class="ttdeci">const unsigned char _avg_trend_mask</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dca/adapter_8hpp_source.html#l00678">adapter.hpp:678</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_af106f95c7e819844ed1ea301d29da93e"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#af106f95c7e819844ed1ea301d29da93e">px::db::AddDeleteDeviceToBatch</a></div><div class="ttdeci">PUBLIC void AddDeleteDeviceToBatch(CBatch &amp;batch, px::id_t device_id)</div><div class="ttdoc">Set up a CBatch update to the device database. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00475">adapter.cpp:475</a></div></div>
<div class="ttc" id="device_8hpp_html"><div class="ttname"><a href="../../d5/d08/device_8hpp.html">device.hpp</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a97e10ed3d67b9a51166333c04b4f0528"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a97e10ed3d67b9a51166333c04b4f0528">px::db::QueryAlarmsLatestUpdate</a></div><div class="ttdeci">PUBLIC void QueryAlarmsLatestUpdate(CKeyValueStore &amp;alarm_db, CKeyValueStore &amp;alarm_index_db, size_t max_result_size, uint64_t start_global_count, const px::CWallTime *start_first_occur_time, const px::CWallTime *end_first_occur_time, const std::unordered_set&lt; px::id_t &gt; *device_ids, const std::unordered_set&lt; px::id_t &gt; *channel_ids, const std::set&lt; px::id_t &gt; *alarm_ids, const std::set&lt; px::id_t &gt; *exclude_alarm_ids, std::vector&lt; px::CAlarmUpdate &gt; &amp;result, const volatile bool &amp;exit_req, size_t *count_found, bool count_all, uint32_t trigger_level=0, px::CAlarmTriggerType trigger_type=px::alarm_trigger_type::invalid, bool gt_equal=false)</div><div class="ttdoc">Given alarm parameters, return the most recent update for each matching entry in the database...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l01450">adapter.cpp:1450</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a7084a11cc3fa3544bd95d23cca4930a9"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a7084a11cc3fa3544bd95d23cca4930a9">px::db::AllocateChannelIDs</a></div><div class="ttdeci">PUBLIC std::vector&lt; px::id_t &gt; AllocateChannelIDs(CKeyValueStore &amp;id_db, unsigned int num_requested)</div><div class="ttdoc">Allocate channel IDs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l02504">adapter.cpp:2504</a></div></div>
<div class="ttc" id="classpx_1_1db_1_1CIterator_html"><div class="ttname"><a href="../../d9/ddb/classpx_1_1db_1_1CIterator.html">px::db::CIterator</a></div><div class="ttdoc">Iterator into a sorted string table or key/value database. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dde/iterator_8hpp_source.html#l00029">iterator.hpp:29</a></div></div>
<div class="ttc" id="blob__holder_8hpp_html"><div class="ttname"><a href="../../d0/da4/blob__holder_8hpp.html">blob_holder.hpp</a></div></div>
<div class="ttc" id="trend__stage__update_8hpp_html"><div class="ttname"><a href="../../d5/da1/trend__stage__update_8hpp.html">trend_stage_update.hpp</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a91ad39211dbae5b4426f0efb6ce234e0"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a91ad39211dbae5b4426f0efb6ce234e0">px::db::MoveTrendsFromStageToBucket</a></div><div class="ttdeci">PUBLIC void MoveTrendsFromStageToBucket(CKeyValueStore &amp;trend_stage_db, CKeyValueStore &amp;trend_bucket_db, uint32_t mature_minutes, const volatile bool &amp;exit_req)</div><div class="ttdoc">Move trends from stage to bucket if the timestamps are matured (older than the UTC today + 1 hour gra...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l05655">adapter.cpp:5655</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a0a36a33e888f6ff806dd8936fdb86619"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a0a36a33e888f6ff806dd8936fdb86619">px::db::ReserveGlobalCounts</a></div><div class="ttdeci">PUBLIC void ReserveGlobalCounts(CKeyValueStore &amp;id_db, const std::vector&lt; uint64_t &gt; &amp;ids)</div><div class="ttdoc">Reserve a set of alarm global counts so that they will not be automatically assigned by AllocateGloba...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l02597">adapter.cpp:2597</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a5908b90e252a2f3eb15ce535d8bf31d2"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a5908b90e252a2f3eb15ce535d8bf31d2">px::db::ExportTrendBucket</a></div><div class="ttdeci">PUBLIC void ExportTrendBucket(CKeyValueStore &amp;trend_bucket_db, std::ofstream &amp;file, const std::vector&lt; uint32_t &gt; &amp;channel_ids, uint32_t start_minutes, uint32_t end_minutes, const bool include_avg, const bool include_min, const bool include_max, const bool include_actual, const unsigned int row_count_limit, bool &amp;more_data, unsigned int &amp;values_count, unsigned int &amp;row_count, const volatile bool &amp;exit_req)</div><div class="ttdoc">Export a list of channels&amp;#39; trends from the bucket db to a csv file, returns the exported trends count...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l05377">adapter.cpp:5377</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a3661c1f5f00a7a05b0a9e5aab2408873"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a3661c1f5f00a7a05b0a9e5aab2408873">px::db::IsTrendStageDbTombstoned</a></div><div class="ttdeci">PUBLIC bool IsTrendStageDbTombstoned(CKeyValueStore &amp;db)</div><div class="ttdoc">Check to see if a Tombstone flag is set on a stage db. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l06573">adapter.cpp:6573</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_aef84a690e2c78d11698ce19d0027c6cd"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#aef84a690e2c78d11698ce19d0027c6cd">px::db::CheckIDDB</a></div><div class="ttdeci">PUBLIC void CheckIDDB(CKeyValueStore &amp;id_db, CKeyValueStore &amp;device_db, CKeyValueStore &amp;channel_db, CKeyValueStore &amp;alarm_db)</div><div class="ttdoc">Double-check the ID database against the channel and device DBs, update the last-issued ID to be high...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l02276">adapter.cpp:2276</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a74569b6a7541050c44ac405426251f9b"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a74569b6a7541050c44ac405426251f9b">px::db::ExportTrendStageRow</a></div><div class="ttdeci">void ExportTrendStageRow(const uint32_t channel_id, const uint32_t time, CIterator &amp;iterator, std::ofstream &amp;file, const bool include_avg, const bool include_min, const bool include_max, const bool include_actual, unsigned int &amp;values_count)</div><div class="ttdoc">Export a record from the trend stage db to an opened file stream. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l03033">adapter.cpp:3033</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a3f9f1d96a70d48fe6f75f4164b6cf967"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a3f9f1d96a70d48fe6f75f4164b6cf967">px::db::get_walltime</a></div><div class="ttdeci">PUBLIC px::CWallTime get_walltime(const uint32_t minutes)</div><div class="ttdoc">Gets a CWallTime from the minutes since 1970 UTC. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l05621">adapter.cpp:5621</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a7cf25e75f20f099af70e40e96951a66d"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a7cf25e75f20f099af70e40e96951a66d">px::db::QueryTrendStage</a></div><div class="ttdeci">PUBLIC px::CChannelTrends QueryTrendStage(CKeyValueStore &amp;trend_stage_db, const uint32_t channel_id, uint32_t start_time, uint32_t end_time)</div><div class="ttdoc">Return a list of trends from the stage db, based on the channel id and time range. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l02807">adapter.cpp:2807</a></div></div>
<div class="ttc" id="classpx_1_1CChannel_html"><div class="ttname"><a href="../../d0/df1/classpx_1_1CChannel.html">px::CChannel</a></div><div class="ttdoc">Channel as referred to by the CDS. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d20/channel_8hpp_source.html#l00027">channel.hpp:27</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a1652e4fa6d725b981be0d04fb95c5d92"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a1652e4fa6d725b981be0d04fb95c5d92">px::db::AddDeleteChannelToBatch</a></div><div class="ttdeci">PUBLIC void AddDeleteChannelToBatch(CBatch &amp;batch, px::id_t channel_id)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00580">adapter.cpp:580</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_aeba76e5ed0ed29d3f0b5010c6dc4848f"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#aeba76e5ed0ed29d3f0b5010c6dc4848f">px::db::id_db_name</a></div><div class="ttdeci">const px::string id_db_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dca/adapter_8hpp_source.html#l00043">adapter.hpp:43</a></div></div>
<div class="ttc" id="batch_8hpp_html"><div class="ttname"><a href="../../d1/d41/batch_8hpp.html">batch.hpp</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a814e7b6ae12d3b85bc175e433e155347"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a814e7b6ae12d3b85bc175e433e155347">px::db::NoteAlarmsToDelete</a></div><div class="ttdeci">PUBLIC void NoteAlarmsToDelete(CKeyValueStore &amp;alarm_index_db, const std::unordered_set&lt; px::id_t &gt; &amp;ids)</div><div class="ttdoc">Persistently note that alarms with these device and/or channel IDs are to be deleted. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l01718">adapter.cpp:1718</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a67cb580b2b87d15124a2e96ecd56d391"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a67cb580b2b87d15124a2e96ecd56d391">px::db::AggregateTrends</a></div><div class="ttdeci">std::shared_ptr&lt; px::CTrendBucketUpdate &gt; AggregateTrends(const uint32_t channel_id, const uint32_t bucket_end_time, bool is_double, const std::vector&lt; px::CChannelTrend &gt; &amp;trends, const unsigned int period, const unsigned int aggr_period)</div><div class="ttdoc">Aggregate a list of trends from a period to an bigger period. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l06395">adapter.cpp:6395</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a1a1ec10f40f632d89f5287523be11b55"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a1a1ec10f40f632d89f5287523be11b55">px::db::DumpHex</a></div><div class="ttdeci">void DumpHex(std::ofstream &amp;file, const unsigned char *data, const int length)</div><div class="ttdoc">Dump the hex string from a binary blob. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l03009">adapter.cpp:3009</a></div></div>
<div class="ttc" id="classpx_1_1db_1_1CBlobHolder_html"><div class="ttname"><a href="../../d3/dc9/classpx_1_1db_1_1CBlobHolder.html">px::db::CBlobHolder</a></div><div class="ttdoc">Binary Blob Holder class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/da4/blob__holder_8hpp_source.html#l00027">blob_holder.hpp:27</a></div></div>
<div class="ttc" id="channel_8hpp_html"><div class="ttname"><a href="../../db/d20/channel_8hpp.html">channel.hpp</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_ac3bb8100a666eeef012a3eea472e9886"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#ac3bb8100a666eeef012a3eea472e9886">px::db::_min_trend_mask</a></div><div class="ttdeci">const unsigned char _min_trend_mask</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dca/adapter_8hpp_source.html#l00679">adapter.hpp:679</a></div></div>
<div class="ttc" id="namespacepx_html_a9188d298ea20cd951b49ba50d698a49b"><div class="ttname"><a href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a></div><div class="ttdeci">uint64_t id_t</div><div class="ttdoc">Unique identifier. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/db3/id_8hpp_source.html#l00023">id.hpp:23</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_ad670766f7b3dd189083630b97a36686f"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#ad670766f7b3dd189083630b97a36686f">px::db::channel_db_name</a></div><div class="ttdeci">const px::string channel_db_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dca/adapter_8hpp_source.html#l00041">adapter.hpp:41</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a93f13745a5b812e64001d06e1a7f9cd6"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a93f13745a5b812e64001d06e1a7f9cd6">px::db::QueryAlarms</a></div><div class="ttdeci">PUBLIC void QueryAlarms(CKeyValueStore &amp;alarm_db, CKeyValueStore &amp;alarm_index_db, size_t max_result_size, uint64_t start_global_count, const px::CWallTime *start_update_time, const px::CWallTime *end_update_time, const std::unordered_set&lt; px::id_t &gt; *device_ids, const std::unordered_set&lt; px::id_t &gt; *channel_ids, const std::set&lt; px::id_t &gt; *alarm_ids, const std::set&lt; px::id_t &gt; *exclude_alarm_ids, uint32_t starting_sequence_index, bool first_updates_only, bool go_backwards, std::vector&lt; px::CAlarmUpdate &gt; &amp;result, const volatile bool &amp;exit_req, size_t *count_found=nullptr, bool count_all=false, uint32_t trigger_level=0, px::CAlarmTriggerType trigger_type=px::alarm_trigger_type::invalid, bool gt_equal=false)</div><div class="ttdoc">Return a list of alarm updates, that meet all of the specified criteria, from the alarm history datab...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l01021">adapter.cpp:1021</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a2cccb6f2e1009c568cf67afbee95128c"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a2cccb6f2e1009c568cf67afbee95128c">px::db::FetchChannels</a></div><div class="ttdeci">PUBLIC void FetchChannels(CKeyValueStore &amp;db, CIterator &amp;mcl_iter, std::map&lt; px::id_t, px::CChannel &gt; &amp;map, std::map&lt; px::id_t, px::CDevice &gt; &amp;devs)</div><div class="ttdoc">Fetch all channels from the database, into a map. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00593">adapter.cpp:593</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a7a2873c068af728840dc7693a9a71b53"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a7a2873c068af728840dc7693a9a71b53">px::db::AddTrendBucketToBatch</a></div><div class="ttdeci">PUBLIC bool AddTrendBucketToBatch(CBatch &amp;batch, const std::shared_ptr&lt; px::CTrendBucketUpdate &gt; update)</div><div class="ttdoc">Add the trend bucket to the batch to be stored in the bucket db. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l04117">adapter.cpp:4117</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a128c9ca5666fecc5920a442de64c3cf9"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a128c9ca5666fecc5920a442de64c3cf9">px::db::device_db_name</a></div><div class="ttdeci">const px::string device_db_name</div><div class="ttdoc">Database file names, defined in adapter.cpp. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dca/adapter_8hpp_source.html#l00040">adapter.hpp:40</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_ab5ca8afea6f40d2310afbb2042458e14"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#ab5ca8afea6f40d2310afbb2042458e14">px::db::_null_trend_mask</a></div><div class="ttdeci">const unsigned char _null_trend_mask</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dca/adapter_8hpp_source.html#l00682">adapter.hpp:682</a></div></div>
<div class="ttc" id="alarm__update_8hpp_html"><div class="ttname"><a href="../../d5/dad/alarm__update_8hpp.html">alarm_update.hpp</a></div></div>
<div class="ttc" id="classpx_1_1CAlarmTriggerType_html"><div class="ttname"><a href="../../d2/d92/classpx_1_1CAlarmTriggerType.html">px::CAlarmTriggerType</a></div><div class="ttdoc">Alarm trigger types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/df5/alarm__trigger__type_8hpp_source.html#l00013">alarm_trigger_type.hpp:13</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a17085176ca2aae11e701c509f48c6558"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a17085176ca2aae11e701c509f48c6558">px::db::ReserveChannelIDs</a></div><div class="ttdeci">PUBLIC void ReserveChannelIDs(CKeyValueStore &amp;id_db, const std::vector&lt; px::id_t &gt; &amp;ids)</div><div class="ttdoc">Reserve a set of channel IDs so that they will not be automatically assigned by AllocateChannelIDs()...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l02586">adapter.cpp:2586</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_ac6474a935aac0d3a13755025e7853e51"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#ac6474a935aac0d3a13755025e7853e51">px::db::_avg_bit</a></div><div class="ttdeci">const size_t _avg_bit</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dca/adapter_8hpp_source.html#l00688">adapter.hpp:688</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_aba58c266158ad63cf3a6669098ec05ee"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#aba58c266158ad63cf3a6669098ec05ee">px::db::SetSchemaVersion</a></div><div class="ttdeci">PUBLIC void SetSchemaVersion(CKeyValueStore &amp;db, uint32_t key_len, uint32_t version)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00114">adapter.cpp:114</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_afeef37d4e2a0bbb18461922b2900bd06"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#afeef37d4e2a0bbb18461922b2900bd06">px::db::AddTrendStageToBatch</a></div><div class="ttdeci">PUBLIC void AddTrendStageToBatch(CBatch &amp;batch, std::vector&lt; std::shared_ptr&lt; px::CTrendStageUpdate &gt; &gt; &amp;updates, int start_index=0, int end_index=-1)</div><div class="ttdoc">Add the trends from the accumulators to the batch to be stored in trend stage db. ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l02603">adapter.cpp:2603</a></div></div>
<div class="ttc" id="namespacepx_html_acf6770f6d835c0c868d8be96d1771e3fafedb2d84cafe20862cb4399751a8a7e3"><div class="ttname"><a href="../../de/dcb/namespacepx.html#acf6770f6d835c0c868d8be96d1771e3fafedb2d84cafe20862cb4399751a8a7e3">px::alarm_trigger_type::invalid</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a7b7c6c7992c484dd3bdedb01e40a7354"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a7b7c6c7992c484dd3bdedb01e40a7354">px::db::ExportTrendBucketHeaderRow</a></div><div class="ttdeci">PUBLIC void ExportTrendBucketHeaderRow(std::ofstream &amp;file, const std::vector&lt; uint32_t &gt; &amp;channel_ids, const bool include_avg, const bool include_min, const bool include_max, const bool include_actual)</div><div class="ttdoc">Write the header (title) row to the bucket trends export CSV file: channel_id, time, mask, avg, min, max, actual Channel IDs must not be empty. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l05174">adapter.cpp:5174</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a263796df6f2644d46a40a9d8dc19dd20"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a263796df6f2644d46a40a9d8dc19dd20">px::db::DeleteTrends</a></div><div class="ttdeci">PUBLIC bool DeleteTrends(CKeyValueStore &amp;trend_bucket_db, const std::unordered_set&lt; uint32_t &gt; &amp;channel_ids, uint32_t start_day, uint32_t end_day, const volatile bool &amp;exit_req)</div><div class="ttdoc">Delete complete trend records, by date and channel, from bucket database. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l05974">adapter.cpp:5974</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a04ee8b95c8077f32abc2b9971650a15d"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a04ee8b95c8077f32abc2b9971650a15d">px::db::_max_bit</a></div><div class="ttdeci">const size_t _max_bit</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dca/adapter_8hpp_source.html#l00690">adapter.hpp:690</a></div></div>
<div class="ttc" id="common_8hpp_html"><div class="ttname"><a href="../../dd/d3a/common_8hpp.html">common.hpp</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_ae8231c6bdaafbf0c8cb8dc1ba2c7e78d"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#ae8231c6bdaafbf0c8cb8dc1ba2c7e78d">px::db::SimulateTrendBucket</a></div><div class="ttdeci">PUBLIC void SimulateTrendBucket(CKeyValueStore &amp;trend_bucket_db, const std::vector&lt; uint32_t &gt; &amp;channel_ids, int period, const px::CWallTime &amp;start, const px::CWallTime &amp;end, int &amp;trends_count)</div><div class="ttdoc">Simulates the data to fill up the trend bucket. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l04497">adapter.cpp:4497</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a09b705764dd8fa39b21456323f916bf8"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a09b705764dd8fa39b21456323f916bf8">px::db::LoadActiveAlarms</a></div><div class="ttdeci">PUBLIC void LoadActiveAlarms(CKeyValueStore &amp;alarm_db, CKeyValueStore &amp;alarm_index_db, std::map&lt; px::id_t, px::CAlarmUpdate &gt; &amp;alarms)</div><div class="ttdoc">Load active alarms from the database into the given map. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l01652">adapter.cpp:1652</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_ae2450822a558bb0d0ffa098631ac2bb1"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#ae2450822a558bb0d0ffa098631ac2bb1">px::db::FetchCCLEntry</a></div><div class="ttdeci">PUBLIC px::proto::CommandInfo FetchCCLEntry(CIterator &amp;ccl_iter, const px::string &amp;command_name)</div><div class="ttdoc">Get an CCL entry, in the form of a CommandInfo protobuf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00705">adapter.cpp:705</a></div></div>
<div class="ttc" id="type_2string_8hpp_html"><div class="ttname"><a href="../../d4/d76/type_2string_8hpp.html">string.hpp</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a2cea3e029c4a66e221e55eb9a2adad70"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a2cea3e029c4a66e221e55eb9a2adad70">px::db::ReserveAlarmIDs</a></div><div class="ttdeci">PUBLIC void ReserveAlarmIDs(CKeyValueStore &amp;id_db, const std::vector&lt; px::id_t &gt; &amp;ids)</div><div class="ttdoc">Reserve a set of alarm IDs so that they will not be automatically assigned by AllocateAlarmIDs(). </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l02592">adapter.cpp:2592</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a8d18ca988b5f6d207bc6570a4bd5bf9f"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a8d18ca988b5f6d207bc6570a4bd5bf9f">px::db::_tomestone</a></div><div class="ttdeci">const unsigned char _tomestone</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dca/adapter_8hpp_source.html#l00685">adapter.hpp:685</a></div></div>
<div class="ttc" id="trend__trait_8hpp_html"><div class="ttname"><a href="../../db/dea/trend__trait_8hpp.html">trend_trait.hpp</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a76dc0348e2b016be0b1a5602a037c022"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a76dc0348e2b016be0b1a5602a037c022">px::db::ImportTrendBucket</a></div><div class="ttdeci">PUBLIC void ImportTrendBucket(CKeyValueStore &amp;trend_bucket_db, const px::string &amp;file_path, int &amp;row_count, int &amp;value_count, const volatile bool &amp;exit_req)</div><div class="ttdoc">Import trends from a csv file to the bucket db, return the imported rows and values count...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l03695">adapter.cpp:3695</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_aa13b76278af78582154e69c0d390498e"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#aa13b76278af78582154e69c0d390498e">px::db::LevelupBucketTrends</a></div><div class="ttdeci">PUBLIC void LevelupBucketTrends(CKeyValueStore &amp;bucket_db, const uint32_t time_threshold_5min, const uint32_t time_threshold_15min, const uint32_t time_threshold_60min, unsigned int &amp;count_5min, unsigned int &amp;count_15min, const volatile bool &amp;exit_req, const size_t num_trended_channels)</div><div class="ttdoc">Level up (replace) the bucket trends based on the age threshold for 5, 15, and 60 minutes...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l06240">adapter.cpp:6240</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a29cbcaf28fcae52c3a9e1492e6e3219f"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a29cbcaf28fcae52c3a9e1492e6e3219f">px::db::CleanupAlarms</a></div><div class="ttdeci">PUBLIC void CleanupAlarms(CKeyValueStore &amp;alarm_db, CKeyValueStore &amp;alarm_index_db, uint32_t max_size, const volatile bool &amp;exit_req)</div><div class="ttdoc">Roll off old alarms if the database has gotten too large. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l01992">adapter.cpp:1992</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a3c296d3136bd6877fb4dd770ed3c57dd"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a3c296d3136bd6877fb4dd770ed3c57dd">px::db::LevelupBucketTrendsRow</a></div><div class="ttdeci">bool LevelupBucketTrendsRow(CKeyValueStore &amp;bucket_db, CIterator &amp;it, const uint32_t channel_id, const uint32_t bucket_end_time, const int period)</div><div class="ttdoc">Level up (replace) the current bucket (pointed by the it) to the target period if haven&amp;#39;t...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l06311">adapter.cpp:6311</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a7b8a6b083a67a3d2ee27b55698c9dc7a"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a7b8a6b083a67a3d2ee27b55698c9dc7a">px::db::DeleteClosedAlarms</a></div><div class="ttdeci">PUBLIC void DeleteClosedAlarms(CKeyValueStore &amp;alarm_db, px::cds::CDeleteAlarms &amp;alms, const volatile bool &amp;exit_req, const std::unordered_set&lt; px::id_t &gt; *device_ids=nullptr, const std::unordered_set&lt; px::id_t &gt; *channel_ids=nullptr)</div><div class="ttdoc">Delete alarm updates, for the specified alarm ids or those which satify given crieria of end_time...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l01822">adapter.cpp:1822</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_ab42ef81a5e7a5a38e55ec3eceaf013a2"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#ab42ef81a5e7a5a38e55ec3eceaf013a2">px::db::ExportTrendStageHeaderRow</a></div><div class="ttdeci">PUBLIC void ExportTrendStageHeaderRow(std::ofstream &amp;file)</div><div class="ttdoc">Write the header (title) row to the stage trends export CSV file: channel_id, time, mask, avg, min, max, actual. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l03384">adapter.cpp:3384</a></div></div>
<div class="ttc" id="classpx_1_1CWallTime_html"><div class="ttname"><a href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a></div><div class="ttdoc">Wall-clock time. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dda/wall__time_8hpp_source.html#l00026">wall_time.hpp:26</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a214da843080fb412145fcf1eb132020f"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a214da843080fb412145fcf1eb132020f">px::db::DeleteAlarms</a></div><div class="ttdeci">PUBLIC void DeleteAlarms(CKeyValueStore &amp;alarm_db, CKeyValueStore &amp;alarm_index_db, const std::unordered_set&lt; px::id_t &gt; &amp;ids, const volatile bool &amp;exit_req)</div><div class="ttdoc">Delete alarm updates for the specified devices/channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l01739">adapter.cpp:1739</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a42199392c51b4b412f06ba540122e754"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a42199392c51b4b412f06ba540122e754">px::db::_double_trend_mask</a></div><div class="ttdeci">const unsigned char _double_trend_mask</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dca/adapter_8hpp_source.html#l00683">adapter.hpp:683</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a43b0eabe2ca9553733020eae4ca8bc92"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a43b0eabe2ca9553733020eae4ca8bc92">px::db::AddOOBToBatch</a></div><div class="ttdeci">PUBLIC void AddOOBToBatch(CBatch &amp;batch, const px::string &amp;key, const px::proto::toolkitStruct &amp;value)</div><div class="ttdoc">Set up a CBatch update to the OOB-data persistent key-value store. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00328">adapter.cpp:328</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a18f1b207b0a97f477f57841b01d16531"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a18f1b207b0a97f477f57841b01d16531">px::db::SeekTrendIterator</a></div><div class="ttdeci">PUBLIC void SeekTrendIterator(CIterator &amp;it, const uint32_t channel_id, const uint32_t time)</div><div class="ttdoc">Move the iterator from the current position to the next position in either stage or bucket db...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l05921">adapter.cpp:5921</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a6f90113cdb4fad0481ef352c08460fa5"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a6f90113cdb4fad0481ef352c08460fa5">px::db::ReadTrendKey</a></div><div class="ttdeci">PUBLIC bool ReadTrendKey(CIterator &amp;it, uint32_t &amp;channel_id, uint32_t &amp;time)</div><div class="ttdoc">Read the Key (channel id + key) from either stage or bucket db. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l05939">adapter.cpp:5939</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a8b00be9118b4d9267e6fbad61bafdcbd"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a8b00be9118b4d9267e6fbad61bafdcbd">px::db::FetchMCLEntry</a></div><div class="ttdeci">PUBLIC px::proto::MclEntry FetchMCLEntry(CIterator &amp;mcl_iter, const px::string &amp;channel_name)</div><div class="ttdoc">Get an MCL entry, in the form of a channel protobuf. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00662">adapter.cpp:662</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a721672afeb1ee18749143e1c1443f62a"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a721672afeb1ee18749143e1c1443f62a">px::db::GetSchemaVersion</a></div><div class="ttdeci">PUBLIC uint32_t GetSchemaVersion(CKeyValueStore &amp;db, uint32_t key_len, uint32_t def_ver=0)</div><div class="ttdoc">Get/set schema version for a database. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00132">adapter.cpp:132</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a708cb3f5e4608bfa09bf05dc3a8055e3"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a708cb3f5e4608bfa09bf05dc3a8055e3">px::db::AllocateDeviceIDs</a></div><div class="ttdeci">PUBLIC std::vector&lt; px::id_t &gt; AllocateDeviceIDs(CKeyValueStore &amp;id_db, unsigned int num_requested)</div><div class="ttdoc">Allocate device IDs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l02498">adapter.cpp:2498</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_ae623235cf748b9b8f2230c6fbb6a4b99"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#ae623235cf748b9b8f2230c6fbb6a4b99">px::db::_max_trend_mask</a></div><div class="ttdeci">const unsigned char _max_trend_mask</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dca/adapter_8hpp_source.html#l00680">adapter.hpp:680</a></div></div>
<div class="ttc" id="key__value__store_8hpp_html"><div class="ttname"><a href="../../d6/d4c/key__value__store_8hpp.html">key_value_store.hpp</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_aa8108f5c71ac7a4d4e7f6ad21fcea47e"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#aa8108f5c71ac7a4d4e7f6ad21fcea47e">px::db::ReserveDeviceIDs</a></div><div class="ttdeci">PUBLIC void ReserveDeviceIDs(CKeyValueStore &amp;id_db, const std::vector&lt; px::id_t &gt; &amp;ids)</div><div class="ttdoc">Reserve a set of device IDs so that they will not be automatically assigned by AllocateDeviceIDs(). </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l02581">adapter.cpp:2581</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a468fb4dd6e74481b4da0007bfc03cc9e"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a468fb4dd6e74481b4da0007bfc03cc9e">px::db::MigrateAlarmDB</a></div><div class="ttdeci">PUBLIC void MigrateAlarmDB(CKeyValueStore &amp;db, const std::map&lt; px::id_t, px::CChannel &gt; &amp;channel_map, const std::map&lt; px::id_t, px::CDevice &gt; &amp;device_map)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00731">adapter.cpp:731</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_aabb9a2536ad25c940762036f7ce7a1c6"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#aabb9a2536ad25c940762036f7ce7a1c6">px::db::FetchOOBs</a></div><div class="ttdeci">PUBLIC void FetchOOBs(CKeyValueStore &amp;db, std::map&lt; px::string, px::proto::toolkitStruct &gt; &amp;map)</div><div class="ttdoc">Fetch all OOB objects from the database, into a map. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00407">adapter.cpp:407</a></div></div>
<div class="ttc" id="classpx_1_1db_1_1CKeyValueStore_html"><div class="ttname"><a href="../../db/d6e/classpx_1_1db_1_1CKeyValueStore.html">px::db::CKeyValueStore</a></div><div class="ttdoc">Read-write Key/Value Store. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d4c/key__value__store_8hpp_source.html#l00036">key_value_store.hpp:36</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a430af8388568fb169667e1ecb54c04ca"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a430af8388568fb169667e1ecb54c04ca">px::db::AddChannelToBatch</a></div><div class="ttdeci">PUBLIC void AddChannelToBatch(CBatch &amp;batch, CIterator &amp;mcl_iter, const px::CChannel &amp;channel)</div><div class="ttdoc">Set up a CBatch update to the channel database. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00527">adapter.cpp:527</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a19fa53d84b23974c4c710bd52d140561"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a19fa53d84b23974c4c710bd52d140561">px::db::FetchDevices</a></div><div class="ttdeci">PUBLIC void FetchDevices(CKeyValueStore &amp;db, std::map&lt; px::id_t, px::CDevice &gt; &amp;map)</div><div class="ttdoc">Fetch all devices from the database, into a map. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00488">adapter.cpp:488</a></div></div>
<div class="ttc" id="type_2value_8hpp_html"><div class="ttname"><a href="../../d2/dca/type_2value_8hpp.html">value.hpp</a></div></div>
<div class="ttc" id="channel__trends_8hpp_html"><div class="ttname"><a href="../../d7/d22/channel__trends_8hpp.html">channel_trends.hpp</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a66b55a4a6b7d9eac9f39658a50ffa602"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a66b55a4a6b7d9eac9f39658a50ffa602">px::db::StoreTrendBucketsToDb</a></div><div class="ttdeci">PUBLIC void StoreTrendBucketsToDb(CKeyValueStore &amp;trend_bucket_db, const std::map&lt; uint32_t, std::shared_ptr&lt; px::CTrendBucketUpdate &gt; &gt; &amp;cache, bool sync_db, const volatile bool &amp;exit_req)</div><div class="ttdoc">Stores a list of buckets to the bucket db. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l04086">adapter.cpp:4086</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a938740c1b9df44c752ac918ddd48c54b"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a938740c1b9df44c752ac918ddd48c54b">px::db::DestroyDb</a></div><div class="ttdeci">PUBLIC leveldb::Status DestroyDb(const px::string &amp;name)</div><div class="ttdoc">Physically delete a database&amp;#39;s folder/files. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l05868">adapter.cpp:5868</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a8d4022abc2cbba2d713d55409053c88a"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a8d4022abc2cbba2d713d55409053c88a">px::db::oob_db_name</a></div><div class="ttdeci">const px::string oob_db_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dca/adapter_8hpp_source.html#l00042">adapter.hpp:42</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_ab4055838ad2810a85a19859c78ed63cb"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#ab4055838ad2810a85a19859c78ed63cb">px::db::MigrateDeviceDB</a></div><div class="ttdeci">PUBLIC void MigrateDeviceDB(CKeyValueStore &amp;db)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00175">adapter.cpp:175</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_ad601ed35a324612417b1ebd86c9529bd"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#ad601ed35a324612417b1ebd86c9529bd">px::db::alarm_index_db_name</a></div><div class="ttdeci">const px::string alarm_index_db_name</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dca/adapter_8hpp_source.html#l00045">adapter.hpp:45</a></div></div>
<div class="ttc" id="classpx_1_1CDevice_html"><div class="ttname"><a href="../../d6/d5b/classpx_1_1CDevice.html">px::CDevice</a></div><div class="ttdoc">Represents a device, which can be either a publisher, a device connected to the publisher, or a network connector such as INCOM port 1. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d08/device_8hpp_source.html#l00036">device.hpp:36</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a7837adf73ea497822688d1a4a4d6664c"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a7837adf73ea497822688d1a4a4d6664c">px::db::MigrateIDDB</a></div><div class="ttdeci">PUBLIC void MigrateIDDB(CKeyValueStore &amp;db)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00309">adapter.cpp:309</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a93c327007ff894fa4691acbf52269ede"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a93c327007ff894fa4691acbf52269ede">px::db::get_normalized_interval_timestamp</a></div><div class="ttdeci">PUBLIC void get_normalized_interval_timestamp(const px::CWallTime &amp;timestamp, const uint32_t aligned_minutes, uint32_t &amp;interval_timestamp, bool &amp;on_interval)</div><div class="ttdoc">Gets the minutes since epoch, or zero if invalid, optionally aligned to an interval in minutes; and a...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l05552">adapter.cpp:5552</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_abe8862f1e7ecb587d569e77a15b93c30"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#abe8862f1e7ecb587d569e77a15b93c30">px::db::SetTrendStageDbTombstoned</a></div><div class="ttdeci">PUBLIC void SetTrendStageDbTombstoned(CKeyValueStore &amp;db, bool tombstoned)</div><div class="ttdoc">Set or clear the tombstone flag on a stage db. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l06586">adapter.cpp:6586</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a843ee7c2d154dec5b7b8cdea2697eaf7"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a843ee7c2d154dec5b7b8cdea2697eaf7">px::db::MigrateOOBDB</a></div><div class="ttdeci">PUBLIC void MigrateOOBDB(CKeyValueStore &amp;db)</div><div class="ttdoc">Given one of our databases, check to see if migration is needed, and perform such migration if so...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00163">adapter.cpp:163</a></div></div>
<div class="ttc" id="iterator_8hpp_html"><div class="ttname"><a href="../../d9/dde/iterator_8hpp.html">iterator.hpp</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a22b24b7fc0dcc140d4fa0d22d98e870d"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a22b24b7fc0dcc140d4fa0d22d98e870d">px::db::ExportTrendsHeaderRow</a></div><div class="ttdeci">PUBLIC void ExportTrendsHeaderRow(std::ofstream &amp;file, const std::vector&lt; uint32_t &gt; &amp;channel_ids, const std::unordered_map&lt; uint32_t, uint32_t &gt; &amp;channel_device_map, const std::unordered_map&lt; uint32_t, px::shared_string &gt; &amp;channel_name_map, const std::unordered_map&lt; uint32_t, px::shared_string &gt; &amp;device_name_map, const bool separate_date_time, const bool include_period, const bool include_avg, const bool include_min, const bool include_min_time, const bool include_max, const bool include_max_time, const bool include_actual)</div><div class="ttdoc">Write the header (title) row to the trends export (from bucket only) CSV file: time, period, channel_id(trait), channel_id(trait), ... </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l05206">adapter.cpp:5206</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a6a3caeb81045a161c4ca3ae5367cf2fa"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a6a3caeb81045a161c4ca3ae5367cf2fa">px::db::FetchOOB</a></div><div class="ttdeci">PUBLIC bool FetchOOB(CKeyValueStore &amp;db, const px::string &amp;key, px::proto::toolkitStruct &amp;data)</div><div class="ttdoc">Fetch an OOB data value from the store. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00359">adapter.cpp:359</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CDeleteAlarms_html"><div class="ttname"><a href="../../d6/d68/classpx_1_1cds_1_1CDeleteAlarms.html">px::cds::CDeleteAlarms</a></div><div class="ttdoc">Delete a list of alarms. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d38/delete__alarms_8hpp_source.html#l00025">delete_alarms.hpp:25</a></div></div>
<div class="ttc" id="id_8hpp_html"><div class="ttname"><a href="../../db/db3/id_8hpp.html">id.hpp</a></div></div>
<div class="ttc" id="override__level_8hpp_html"><div class="ttname"><a href="../../db/d4f/override__level_8hpp.html">override_level.hpp</a></div></div>
<div class="ttc" id="classpx_1_1CChannelTrends_html"><div class="ttname"><a href="../../d3/d5f/classpx_1_1CChannelTrends.html">px::CChannelTrends</a></div><div class="ttdoc">Represents a list of interval trend values from a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d22/channel__trends_8hpp_source.html#l00016">channel_trends.hpp:16</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_ab9c81d6004f662b5c242f8a27e2f8c13"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#ab9c81d6004f662b5c242f8a27e2f8c13">px::db::ReadTrendsFromBucketRow</a></div><div class="ttdeci">PUBLIC void ReadTrendsFromBucketRow(CIterator &amp;iterator, std::vector&lt; px::CChannelTrend &gt; &amp;result, const uint32_t bucket_end_time, const uint32_t start_minutes, const uint32_t end_minutes, const int request_period, const bool include_avg, const bool include_min, const bool include_max, const bool include_actual, int &amp;read_period, bool &amp;is_double, const unsigned int row_count_limit, unsigned int &amp;row_count, unsigned int &amp;rtn_values_count, bool newest_first=false, bool include_holes=true)</div><div class="ttdoc">Read trends from a bucket row to the result, based on time range and traits. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l04614">adapter.cpp:4614</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_ac536596e4c2592cf30ef67c2c8f89dfb"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#ac536596e4c2592cf30ef67c2c8f89dfb">px::db::ReadTrendsFromStageRow</a></div><div class="ttdeci">PUBLIC void ReadTrendsFromStageRow(px::db::CIterator &amp;it, std::vector&lt; px::CChannelTrend &gt; &amp;trends, const bool include_avg, const bool include_min, const bool include_max, const bool include_actual, bool &amp;is_double, unsigned int &amp;row_count, unsigned int &amp;rtn_values_count)</div><div class="ttdoc">Read trends from a stage row to the result, based on the traits. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l05013">adapter.cpp:5013</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a73023e268dd036fb9cdf12f04942ff81"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a73023e268dd036fb9cdf12f04942ff81">px::db::ExportTrendStage</a></div><div class="ttdeci">PUBLIC void ExportTrendStage(CKeyValueStore &amp;trend_stage_db, std::ofstream &amp;file, const std::vector&lt; uint32_t &gt; &amp;channel_ids, uint32_t start_time, uint32_t end_time, const bool include_avg, const bool include_min, const bool include_max, const bool include_actual, const bool include_invalid, const unsigned int row_count_limit, bool &amp;more_data, unsigned int &amp;values_count, unsigned int &amp;row_count, const volatile bool &amp;exit_req)</div><div class="ttdoc">Export all trends from the stage db to a csv file, returns the exported trends count. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l03191">adapter.cpp:3191</a></div></div>
<div class="ttc" id="classpx_1_1db_1_1CBatch_html"><div class="ttname"><a href="../../dc/d98/classpx_1_1db_1_1CBatch.html">px::db::CBatch</a></div><div class="ttdoc">Batch of Database Operations. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d41/batch_8hpp_source.html#l00028">batch.hpp:28</a></div></div>
<div class="ttc" id="namespacepx_html_a7acb13796ae56fe8e773fe781eedd790"><div class="ttname"><a href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a></div><div class="ttdeci">::__gnu_cxx::__vstring string</div><div class="ttdoc">We&amp;#39;re currently utilizing GCC&amp;#39;s &amp;quot;versatile string&amp;quot; class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d76/type_2string_8hpp_source.html#l00028">type/string.hpp:28</a></div></div>
<div class="ttc" id="cds__data__interface_8hpp_html_ad17d551e31d1828c68acf40684849b7e"><div class="ttname"><a href="../../d5/db6/cds__data__interface_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a></div><div class="ttdeci">#define PUBLIC</div><div class="ttdoc">This file defines the interface class providing all the APIs, which can be accessed by Data Validatio...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/db6/cds__data__interface_8hpp_source.html#l00022">cds_data_interface.hpp:22</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a57832fd08a933dc74b9c10a5708d9395"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a57832fd08a933dc74b9c10a5708d9395">px::db::DoesKeyExist</a></div><div class="ttdeci">PUBLIC bool DoesKeyExist(CKeyValueStore &amp;db, CBlobHolder &amp;key_blob)</div><div class="ttdoc">Check to see if a key exists in the database. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l05880">adapter.cpp:5880</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_ad75dbada9c2906c339d881bcd5b64727"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#ad75dbada9c2906c339d881bcd5b64727">px::db::MigrateChannelDB</a></div><div class="ttdeci">PUBLIC void MigrateChannelDB(CKeyValueStore &amp;db, CIterator &amp;mcl_iter)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00228">adapter.cpp:228</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a470e39b90682a339e8b6d08adacd6be2"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a470e39b90682a339e8b6d08adacd6be2">px::db::FetchOOBKeys</a></div><div class="ttdeci">PUBLIC std::vector&lt; px::string &gt; FetchOOBKeys(CKeyValueStore &amp;db)</div><div class="ttdoc">Fetch a list of all keys in the persistent OOB database. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00383">adapter.cpp:383</a></div></div>
<div class="ttc" id="delete__alarms_8hpp_html"><div class="ttname"><a href="../../da/d38/delete__alarms_8hpp.html">delete_alarms.hpp</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_ac89825bd65a3662d17b2ba0fcc2912f1"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#ac89825bd65a3662d17b2ba0fcc2912f1">px::db::AddDeviceToBatch</a></div><div class="ttdeci">PUBLIC void AddDeviceToBatch(CBatch &amp;batch, const px::CDevice &amp;device)</div><div class="ttdoc">Set up a CBatch update to the device database. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00440">adapter.cpp:440</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_ab8fd596352b15c8f3673666c5d6212b9"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#ab8fd596352b15c8f3673666c5d6212b9">px::db::ImportTrendStage</a></div><div class="ttdeci">PUBLIC void ImportTrendStage(const px::string &amp;file_path, std::function&lt; void(std::vector&lt; std::shared_ptr&lt; px::CTrendStageUpdate &gt; &gt; &amp;)&gt; func, int &amp;row_count, int &amp;value_count, const volatile bool &amp;exit_req)</div><div class="ttdoc">Import trends from a csv file to the daily stage db(s) based on the timestamps; return the imported r...</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l03396">adapter.cpp:3396</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a926fbbd629f93d5abe84004b94e73a67"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a926fbbd629f93d5abe84004b94e73a67">px::db::MigrateAlarmIndexDB</a></div><div class="ttdeci">PUBLIC void MigrateAlarmIndexDB(CKeyValueStore &amp;db)</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00800">adapter.cpp:800</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_af45bd33ae0d53eebcd0c91f8735f3685"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#af45bd33ae0d53eebcd0c91f8735f3685">px::db::_actual_bit</a></div><div class="ttdeci">const size_t _actual_bit</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dca/adapter_8hpp_source.html#l00691">adapter.hpp:691</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_aeeca6bdd7cc6f158e44406c4723f9f1c"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#aeeca6bdd7cc6f158e44406c4723f9f1c">px::db::_actual_trend_mask</a></div><div class="ttdeci">const unsigned char _actual_trend_mask</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/dca/adapter_8hpp_source.html#l00681">adapter.hpp:681</a></div></div>
<div class="ttc" id="namespacepx_1_1db_html_a8eb186bcace13964b0fcc41fae1181bd"><div class="ttname"><a href="../../dd/d42/namespacepx_1_1db.html#a8eb186bcace13964b0fcc41fae1181bd">px::db::SaveAlarmUpdates</a></div><div class="ttdeci">PUBLIC void SaveAlarmUpdates(CKeyValueStore &amp;alarm_db, CKeyValueStore &amp;alarm_index_db, const std::vector&lt; px::CAlarmUpdate &gt; &amp;updates, const volatile bool &amp;exit_req)</div><div class="ttdoc">Add an alarm update to the history database, update the index DB as needed. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d3d/adapter_8cpp_source.html#l00885">adapter.cpp:885</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_300cf34c71e59e8584f33129bb80bcbd.html">include</a></li><li class="navelem"><a class="el" href="../../dir_b5a093f53af0854df77e904db2e7bac9.html">exports</a></li><li class="navelem"><a class="el" href="../../dir_ec9ac27b6f9601ed1deac160bb247190.html">px</a></li><li class="navelem"><a class="el" href="../../dir_375044bc7f502bdcf0c2e60d17cf0f18.html">db</a></li><li class="navelem"><a class="el" href="../../d6/dca/adapter_8hpp.html">adapter.hpp</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:24:18 for libpx by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
