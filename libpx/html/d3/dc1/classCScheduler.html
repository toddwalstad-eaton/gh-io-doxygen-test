<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>libpx: CScheduler Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libpx
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d3/dc1/classCScheduler.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../da/d9d/classCScheduler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CScheduler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><a class="el" href="../../d3/dc1/classCScheduler.html" title="CScheduler maintains a pool of 1 or more threads that executes tasks on a schedule. ">CScheduler</a> maintains a pool of 1 or more threads that executes tasks on a schedule.  
 <a href="../../d3/dc1/classCScheduler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d6/de8/scheduler_8hpp_source.html">scheduler.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for CScheduler:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/da9/classCScheduler__coll__graph.png" border="0" usemap="#CScheduler_coll__map" alt="Collaboration graph"/></div>
<map name="CScheduler_coll__map" id="CScheduler_coll__map">
<area shape="rect" id="node3" title="STL class. " alt="" coords="216,257,373,335"/><area shape="rect" id="node7" href="../../d9/d7d/classpx_1_1CWallTime.html" title="Wall&#45;clock time. " alt="" coords="885,523,1003,776"/><area shape="rect" id="node8" href="../../d6/d4e/classpx_1_1CTimestamp.html" title="Wrapper around a &quot;timespec&quot; structure that provides additional useful functionality. " alt="" coords="819,147,1039,445"/><area shape="rect" id="node9" href="../../da/d9d/classtimespec.html" title="{timespec\n||}" alt="" coords="843,5,925,83"/><area shape="rect" id="node12" title="STL class. " alt="" coords="1063,257,1192,335"/><area shape="rect" id="node17" title="STL class. " alt="" coords="1423,257,1591,335"/><area shape="rect" id="node19" title="STL class. " alt="" coords="1625,250,1777,342"/></map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab3910bbf1bde2db382db381bb97a8db2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#ab3910bbf1bde2db382db381bb97a8db2">CScheduler</a> (const uint8_t num_threads, const bool start_now=false)</td></tr>
<tr class="memdesc:ab3910bbf1bde2db382db381bb97a8db2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a scheduler.  <a href="#ab3910bbf1bde2db382db381bb97a8db2">More...</a><br/></td></tr>
<tr class="separator:ab3910bbf1bde2db382db381bb97a8db2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab453c8d28d84cf31ee3d5f621f4f45ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#ab453c8d28d84cf31ee3d5f621f4f45ed">~CScheduler</a> ()</td></tr>
<tr class="separator:ab453c8d28d84cf31ee3d5f621f4f45ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6247b3e8922bbe118fce4f55ae6de31b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#a6247b3e8922bbe118fce4f55ae6de31b">start</a> ()</td></tr>
<tr class="memdesc:a6247b3e8922bbe118fce4f55ae6de31b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts the worker threads that executes tasks.  <a href="#a6247b3e8922bbe118fce4f55ae6de31b">More...</a><br/></td></tr>
<tr class="separator:a6247b3e8922bbe118fce4f55ae6de31b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a71c18132c8f80a4feba9aa6fe146d819"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#a71c18132c8f80a4feba9aa6fe146d819">shutdown</a> (const bool wait_for_jobs_to_complete)</td></tr>
<tr class="memdesc:a71c18132c8f80a4feba9aa6fe146d819"><td class="mdescLeft">&#160;</td><td class="mdescRight">Halts the scheduler's execution of tasks, and cleans up all resources.  <a href="#a71c18132c8f80a4feba9aa6fe146d819">More...</a><br/></td></tr>
<tr class="separator:a71c18132c8f80a4feba9aa6fe146d819"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3576dea0c19a673d86e6bcc3c8b03738"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#a3576dea0c19a673d86e6bcc3c8b03738">run_task_async</a> (std::shared_ptr&lt; <a class="el" href="../../d4/d4c/classITask.html">ITask</a> &gt; task)</td></tr>
<tr class="memdesc:a3576dea0c19a673d86e6bcc3c8b03738"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue up task for asynchronous execution on one of the scheduler's worker threads.  <a href="#a3576dea0c19a673d86e6bcc3c8b03738">More...</a><br/></td></tr>
<tr class="separator:a3576dea0c19a673d86e6bcc3c8b03738"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad48f6a3f4a525702cab19c1497e5c485"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#ad48f6a3f4a525702cab19c1497e5c485">schedule_task</a> (std::shared_ptr&lt; <a class="el" href="../../d4/d4c/classITask.html">ITask</a> &gt; task, std::unique_ptr&lt; <a class="el" href="../../da/de7/classITrigger.html">ITrigger</a> &gt; &amp;trigger)</td></tr>
<tr class="memdesc:ad48f6a3f4a525702cab19c1497e5c485"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue up task to be executed in the future, based on a trigger schedule.  <a href="#ad48f6a3f4a525702cab19c1497e5c485">More...</a><br/></td></tr>
<tr class="separator:ad48f6a3f4a525702cab19c1497e5c485"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fd76e01c5cda9ac42cc60462dc3f024"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#a0fd76e01c5cda9ac42cc60462dc3f024">get_num_threads</a> ()</td></tr>
<tr class="separator:a0fd76e01c5cda9ac42cc60462dc3f024"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a6144f88c0f19cadabcc9edfb8d88bd71"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#a6144f88c0f19cadabcc9edfb8d88bd71">start_thread</a> ()</td></tr>
<tr class="memdesc:a6144f88c0f19cadabcc9edfb8d88bd71"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize logger and hand thread over to io_service.run()  <a href="#a6144f88c0f19cadabcc9edfb8d88bd71">More...</a><br/></td></tr>
<tr class="separator:a6144f88c0f19cadabcc9edfb8d88bd71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6778cde13867cb727841163cab1f05a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#a6778cde13867cb727841163cab1f05a0">execute_task_cb</a> (std::shared_ptr&lt; <a class="el" href="../../d4/d4c/classITask.html">ITask</a> &gt; task, uint64_t id)</td></tr>
<tr class="memdesc:a6778cde13867cb727841163cab1f05a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function provided to boost asio post(), in order to execute task and clean up task list.  <a href="#a6778cde13867cb727841163cab1f05a0">More...</a><br/></td></tr>
<tr class="separator:a6778cde13867cb727841163cab1f05a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb3ccee6555d827c9d1de83cafa66349"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#adb3ccee6555d827c9d1de83cafa66349">timer_cb</a> (const boost::system::error_code &amp;error)</td></tr>
<tr class="memdesc:adb3ccee6555d827c9d1de83cafa66349"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for timer - helps manage scheduled task execution.  <a href="#adb3ccee6555d827c9d1de83cafa66349">More...</a><br/></td></tr>
<tr class="separator:adb3ccee6555d827c9d1de83cafa66349"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca7480d88d0580ed29adbcf7ea5514cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#aca7480d88d0580ed29adbcf7ea5514cd">reset_timer</a> ()</td></tr>
<tr class="separator:aca7480d88d0580ed29adbcf7ea5514cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a7cc68f9017f8dc51ddf7e68d323e9e9f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#a7cc68f9017f8dc51ddf7e68d323e9e9f">_num_threads</a></td></tr>
<tr class="memdesc:a7cc68f9017f8dc51ddf7e68d323e9e9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Number of threads scheduler is configured to use.  <a href="#a7cc68f9017f8dc51ddf7e68d323e9e9f">More...</a><br/></td></tr>
<tr class="separator:a7cc68f9017f8dc51ddf7e68d323e9e9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80428790c77218b2e275819fcf79d3bb"><td class="memItemLeft" align="right" valign="top">std::unique_ptr<br class="typebreak"/>
&lt; boost::asio::io_service &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#a80428790c77218b2e275819fcf79d3bb">_io_service</a></td></tr>
<tr class="memdesc:a80428790c77218b2e275819fcf79d3bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Manages threads, job execution.  <a href="#a80428790c77218b2e275819fcf79d3bb">More...</a><br/></td></tr>
<tr class="separator:a80428790c77218b2e275819fcf79d3bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a30d862e827d93e6645cf8166cfe4b265"><td class="memItemLeft" align="right" valign="top">std::unique_ptr<br class="typebreak"/>
&lt; boost::asio::io_service::work &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#a30d862e827d93e6645cf8166cfe4b265">_work</a></td></tr>
<tr class="memdesc:a30d862e827d93e6645cf8166cfe4b265"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prevents io_service from exiting when no tasks pending.  <a href="#a30d862e827d93e6645cf8166cfe4b265">More...</a><br/></td></tr>
<tr class="separator:a30d862e827d93e6645cf8166cfe4b265"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96973f9cc6766ba22212c1a517e854e6"><td class="memItemLeft" align="right" valign="top">std::unique_ptr<br class="typebreak"/>
&lt; boost::asio::steady_timer &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#a96973f9cc6766ba22212c1a517e854e6">_timer</a></td></tr>
<tr class="memdesc:a96973f9cc6766ba22212c1a517e854e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Helps schedule tasks.  <a href="#a96973f9cc6766ba22212c1a517e854e6">More...</a><br/></td></tr>
<tr class="separator:a96973f9cc6766ba22212c1a517e854e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfda7c6f153ed58ee1a25951463d3b89"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::thread &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#adfda7c6f153ed58ee1a25951463d3b89">_thread_pool</a></td></tr>
<tr class="memdesc:adfda7c6f153ed58ee1a25951463d3b89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Worker threads.  <a href="#adfda7c6f153ed58ee1a25951463d3b89">More...</a><br/></td></tr>
<tr class="separator:adfda7c6f153ed58ee1a25951463d3b89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fb74dc74e73791a24bcf4352375470d"><td class="memItemLeft" align="right" valign="top">uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#a7fb74dc74e73791a24bcf4352375470d">_next_id</a></td></tr>
<tr class="memdesc:a7fb74dc74e73791a24bcf4352375470d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Next available internal task id.  <a href="#a7fb74dc74e73791a24bcf4352375470d">More...</a><br/></td></tr>
<tr class="separator:a7fb74dc74e73791a24bcf4352375470d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a145637fb0dd6fc0ff69ddafd3b88c18a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#a145637fb0dd6fc0ff69ddafd3b88c18a">_prev_time</a></td></tr>
<tr class="memdesc:a145637fb0dd6fc0ff69ddafd3b88c18a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Previous cycle time (the last time the timer was triggered to search for the scheduled tasks)  <a href="#a145637fb0dd6fc0ff69ddafd3b88c18a">More...</a><br/></td></tr>
<tr class="separator:a145637fb0dd6fc0ff69ddafd3b88c18a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b0550bff38ac7cb413cea340c7018e5"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; uint64_t, <br class="typebreak"/>
std::shared_ptr&lt; <a class="el" href="../../d4/d4c/classITask.html">ITask</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#a8b0550bff38ac7cb413cea340c7018e5">_active_tasks</a></td></tr>
<tr class="memdesc:a8b0550bff38ac7cb413cea340c7018e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Active tasks by ID.  <a href="#a8b0550bff38ac7cb413cea340c7018e5">More...</a><br/></td></tr>
<tr class="separator:a8b0550bff38ac7cb413cea340c7018e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56d6495fc1f7efabd13d82cc721b78f2"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; uint64_t, <br class="typebreak"/>
std::shared_ptr&lt; <a class="el" href="../../d4/d4c/classITask.html">ITask</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#a56d6495fc1f7efabd13d82cc721b78f2">_scheduled_tasks</a></td></tr>
<tr class="memdesc:a56d6495fc1f7efabd13d82cc721b78f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scheduled tasks by ID.  <a href="#a56d6495fc1f7efabd13d82cc721b78f2">More...</a><br/></td></tr>
<tr class="separator:a56d6495fc1f7efabd13d82cc721b78f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a837ad34d05fff444be069f9bcd8ff1db"><td class="memItemLeft" align="right" valign="top">std::multimap&lt; uint64_t, <br class="typebreak"/>
std::unique_ptr&lt; <a class="el" href="../../da/de7/classITrigger.html">ITrigger</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#a837ad34d05fff444be069f9bcd8ff1db">_trigger_map</a></td></tr>
<tr class="memdesc:a837ad34d05fff444be069f9bcd8ff1db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map of Triggers by scheduled task ID.  <a href="#a837ad34d05fff444be069f9bcd8ff1db">More...</a><br/></td></tr>
<tr class="separator:a837ad34d05fff444be069f9bcd8ff1db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab029f374b9568d8e134d1878c1401cd5"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#ab029f374b9568d8e134d1878c1401cd5">_mutex</a></td></tr>
<tr class="memdesc:ab029f374b9568d8e134d1878c1401cd5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mutex to protect _next_id, _active_tasks, _scheduled_tasks, and _trigger_map.  <a href="#ab029f374b9568d8e134d1878c1401cd5">More...</a><br/></td></tr>
<tr class="separator:ab029f374b9568d8e134d1878c1401cd5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a23a6ab0b2883cefea99905609d177f"><td class="memItemLeft" align="right" valign="top">boost::thread_specific_ptr<br class="typebreak"/>
&lt; toolkit::CSysLog &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/dc1/classCScheduler.html#a9a23a6ab0b2883cefea99905609d177f">_thread_local_syslog</a></td></tr>
<tr class="memdesc:a9a23a6ab0b2883cefea99905609d177f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Needed to log in worker threads.  <a href="#a9a23a6ab0b2883cefea99905609d177f">More...</a><br/></td></tr>
<tr class="separator:a9a23a6ab0b2883cefea99905609d177f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><a class="el" href="../../d3/dc1/classCScheduler.html" title="CScheduler maintains a pool of 1 or more threads that executes tasks on a schedule. ">CScheduler</a> maintains a pool of 1 or more threads that executes tasks on a schedule. </p>

<p>Definition at line <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00036">36</a> of file <a class="el" href="../../d6/de8/scheduler_8hpp_source.html">scheduler.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab3910bbf1bde2db382db381bb97a8db2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CScheduler::CScheduler </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>num_threads</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>start_now</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a scheduler. </p>

<p>Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00021">21</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

<p>References <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00048">start()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc1/classCScheduler_ab3910bbf1bde2db382db381bb97a8db2_cgraph.png" border="0" usemap="#d3/dc1/classCScheduler_ab3910bbf1bde2db382db381bb97a8db2_cgraph" alt=""/></div>
<map name="d3/dc1/classCScheduler_ab3910bbf1bde2db382db381bb97a8db2_cgraph" id="d3/dc1/classCScheduler_ab3910bbf1bde2db382db381bb97a8db2_cgraph">
<area shape="rect" id="node2" href="../../d3/dc1/classCScheduler.html#a6247b3e8922bbe118fce4f55ae6de31b" title="Starts the worker threads that executes tasks. " alt="" coords="229,56,363,83"/><area shape="rect" id="node3" href="../../d3/dc1/classCScheduler.html#a6144f88c0f19cadabcc9edfb8d88bd71" title="Initialize logger and hand thread over to io_service.run() " alt="" coords="411,5,594,32"/><area shape="rect" id="node5" href="../../d9/d7d/classpx_1_1CWallTime.html#a4452bc7e8e4fbb8c976f5763269593e7" title="Factory function to create a new CWallTime instance set to &quot;now&quot;. " alt="" coords="895,56,1046,83"/><area shape="rect" id="node6" href="../../d3/dc1/classCScheduler.html#aca7480d88d0580ed29adbcf7ea5514cd" title="CScheduler::reset_timer" alt="" coords="413,107,592,133"/><area shape="rect" id="node4" href="../../d5/dc3/classpx_1_1CUtil.html#adf7cffe1ca62e79d6af4386052e20c42" title="Set a thread&#39;s name, visible in &quot;ps&quot;. " alt="" coords="643,5,842,32"/><area shape="rect" id="node7" href="../../d3/dc1/classCScheduler.html#adb3ccee6555d827c9d1de83cafa66349" title="Callback for timer &#45; helps manage scheduled task execution. " alt="" coords="663,107,823,133"/><area shape="rect" id="node8" href="../../d3/dc1/classCScheduler.html#a3576dea0c19a673d86e6bcc3c8b03738" title="Queue up task for asynchronous execution on one of the scheduler&#39;s worker threads. " alt="" coords="891,107,1050,149"/><area shape="rect" id="node9" href="../../d3/dc1/classCScheduler.html#a6778cde13867cb727841163cab1f05a0" title="Function provided to boost asio post(), in order to execute task and clean up task list..." alt="" coords="1099,107,1253,149"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab453c8d28d84cf31ee3d5f621f4f45ed"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CScheduler::~CScheduler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00031">31</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

<p>References <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00081">shutdown()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc1/classCScheduler_ab453c8d28d84cf31ee3d5f621f4f45ed_cgraph.png" border="0" usemap="#d3/dc1/classCScheduler_ab453c8d28d84cf31ee3d5f621f4f45ed_cgraph" alt=""/></div>
<map name="d3/dc1/classCScheduler_ab453c8d28d84cf31ee3d5f621f4f45ed_cgraph" id="d3/dc1/classCScheduler_ab453c8d28d84cf31ee3d5f621f4f45ed_cgraph">
<area shape="rect" id="node2" href="../../d3/dc1/classCScheduler.html#a71c18132c8f80a4feba9aa6fe146d819" title="Halts the scheduler&#39;s execution of tasks, and cleans up all resources. " alt="" coords="241,5,407,32"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a6247b3e8922bbe118fce4f55ae6de31b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CScheduler::start </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Starts the worker threads that executes tasks. </p>

<p>Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00048">48</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

<p>References <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00088">_io_service</a>, <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00085">_num_threads</a>, <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00103">_prev_time</a>, <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00097">_thread_pool</a>, <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00094">_timer</a>, <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00091">_work</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00182">LIBPX_FERR</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00188">LIBPX_NOTICE</a>, <a class="el" href="../../d1/d22/wall__time_8cpp_source.html#l00010">px::CWallTime::now()</a>, <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00240">reset_timer()</a>, and <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00149">start_thread()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00021">CScheduler()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc1/classCScheduler_a6247b3e8922bbe118fce4f55ae6de31b_cgraph.png" border="0" usemap="#d3/dc1/classCScheduler_a6247b3e8922bbe118fce4f55ae6de31b_cgraph" alt=""/></div>
<map name="d3/dc1/classCScheduler_a6247b3e8922bbe118fce4f55ae6de31b_cgraph" id="d3/dc1/classCScheduler_a6247b3e8922bbe118fce4f55ae6de31b_cgraph">
<area shape="rect" id="node2" href="../../d9/d7d/classpx_1_1CWallTime.html#a4452bc7e8e4fbb8c976f5763269593e7" title="Factory function to create a new CWallTime instance set to &quot;now&quot;. " alt="" coords="671,5,822,32"/><area shape="rect" id="node3" href="../../d3/dc1/classCScheduler.html#aca7480d88d0580ed29adbcf7ea5514cd" title="CScheduler::reset_timer" alt="" coords="189,56,368,83"/><area shape="rect" id="node7" href="../../d3/dc1/classCScheduler.html#a6144f88c0f19cadabcc9edfb8d88bd71" title="Initialize logger and hand thread over to io_service.run() " alt="" coords="187,107,370,133"/><area shape="rect" id="node4" href="../../d3/dc1/classCScheduler.html#adb3ccee6555d827c9d1de83cafa66349" title="Callback for timer &#45; helps manage scheduled task execution. " alt="" coords="439,56,599,83"/><area shape="rect" id="node5" href="../../d3/dc1/classCScheduler.html#a3576dea0c19a673d86e6bcc3c8b03738" title="Queue up task for asynchronous execution on one of the scheduler&#39;s worker threads. " alt="" coords="667,57,826,98"/><area shape="rect" id="node6" href="../../d3/dc1/classCScheduler.html#a6778cde13867cb727841163cab1f05a0" title="Function provided to boost asio post(), in order to execute task and clean up task list..." alt="" coords="875,57,1029,98"/><area shape="rect" id="node8" href="../../d5/dc3/classpx_1_1CUtil.html#adf7cffe1ca62e79d6af4386052e20c42" title="Set a thread&#39;s name, visible in &quot;ps&quot;. " alt="" coords="419,107,618,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a71c18132c8f80a4feba9aa6fe146d819"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CScheduler::shutdown </td>
          <td>(</td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>wait_for_jobs_to_complete</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Halts the scheduler's execution of tasks, and cleans up all resources. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">wait_for_jobs_to_complete</td><td>if true the scheduler will not allow this method to return until all currently executing jobs have completed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00081">81</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

<p>References <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00088">_io_service</a>, <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00097">_thread_pool</a>, <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00094">_timer</a>, and <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00091">_work</a>.</p>

<p>Referenced by <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00031">~CScheduler()</a>.</p>

</div>
</div>
<a class="anchor" id="a3576dea0c19a673d86e6bcc3c8b03738"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CScheduler::run_task_async </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../d4/d4c/classITask.html">ITask</a> &gt;&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue up task for asynchronous execution on one of the scheduler's worker threads. </p>
<p>Execution will occur as soon as possible. Task must not be null. </p>

<p>Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00111">111</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

<p>References <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00107">_active_tasks</a>, <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00088">_io_service</a>, <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00116">_mutex</a>, <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00100">_next_id</a>, and <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00168">execute_task_cb()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00191">timer_cb()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc1/classCScheduler_a3576dea0c19a673d86e6bcc3c8b03738_cgraph.png" border="0" usemap="#d3/dc1/classCScheduler_a3576dea0c19a673d86e6bcc3c8b03738_cgraph" alt=""/></div>
<map name="d3/dc1/classCScheduler_a3576dea0c19a673d86e6bcc3c8b03738_cgraph" id="d3/dc1/classCScheduler_a3576dea0c19a673d86e6bcc3c8b03738_cgraph">
<area shape="rect" id="node2" href="../../d3/dc1/classCScheduler.html#a6778cde13867cb727841163cab1f05a0" title="Function provided to boost asio post(), in order to execute task and clean up task list..." alt="" coords="213,5,368,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad48f6a3f4a525702cab19c1497e5c485"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CScheduler::schedule_task </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../d4/d4c/classITask.html">ITask</a> &gt;&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::unique_ptr&lt; <a class="el" href="../../da/de7/classITrigger.html">ITrigger</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>trigger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Queue up task to be executed in the future, based on a trigger schedule. </p>
<p>Ptr must not be null. </p>

<p>Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00133">133</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

<p>References <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00116">_mutex</a>, <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00100">_next_id</a>, <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00110">_scheduled_tasks</a>, and <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00113">_trigger_map</a>.</p>

</div>
</div>
<a class="anchor" id="a0fd76e01c5cda9ac42cc60462dc3f024"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CScheduler::get_num_threads </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00234">234</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

<p>References <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00085">_num_threads</a>.</p>

</div>
</div>
<a class="anchor" id="a6144f88c0f19cadabcc9edfb8d88bd71"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CScheduler::start_thread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize logger and hand thread over to io_service.run() </p>

<p>Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00149">149</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

<p>References <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00088">_io_service</a>, <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00119">_thread_local_syslog</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00182">LIBPX_FERR</a>, and <a class="el" href="../../df/d2d/util_8cpp_source.html#l00882">px::CUtil::set_thread_name()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00048">start()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc1/classCScheduler_a6144f88c0f19cadabcc9edfb8d88bd71_cgraph.png" border="0" usemap="#d3/dc1/classCScheduler_a6144f88c0f19cadabcc9edfb8d88bd71_cgraph" alt=""/></div>
<map name="d3/dc1/classCScheduler_a6144f88c0f19cadabcc9edfb8d88bd71_cgraph" id="d3/dc1/classCScheduler_a6144f88c0f19cadabcc9edfb8d88bd71_cgraph">
<area shape="rect" id="node2" href="../../d5/dc3/classpx_1_1CUtil.html#adf7cffe1ca62e79d6af4386052e20c42" title="Set a thread&#39;s name, visible in &quot;ps&quot;. " alt="" coords="238,5,437,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6778cde13867cb727841163cab1f05a0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CScheduler::execute_task_cb </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../d4/d4c/classITask.html">ITask</a> &gt;&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Function provided to boost asio post(), in order to execute task and clean up task list. </p>

<p>Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00168">168</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

<p>References <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00107">_active_tasks</a>, <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00116">_mutex</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00180">LIBPX_ERR</a>, and <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00192">LIBPX_INFO</a>.</p>

<p>Referenced by <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00111">run_task_async()</a>.</p>

</div>
</div>
<a class="anchor" id="adb3ccee6555d827c9d1de83cafa66349"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CScheduler::timer_cb </td>
          <td>(</td>
          <td class="paramtype">const boost::system::error_code &amp;&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback for timer - helps manage scheduled task execution. </p>

<p>Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00191">191</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

<p>References <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00116">_mutex</a>, <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00103">_prev_time</a>, <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00110">_scheduled_tasks</a>, <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00113">_trigger_map</a>, <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00091">_work</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00182">LIBPX_FERR</a>, <a class="el" href="../../d1/d22/wall__time_8cpp_source.html#l00010">px::CWallTime::now()</a>, <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00240">reset_timer()</a>, and <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00111">run_task_async()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00240">reset_timer()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc1/classCScheduler_adb3ccee6555d827c9d1de83cafa66349_cgraph.png" border="0" usemap="#d3/dc1/classCScheduler_adb3ccee6555d827c9d1de83cafa66349_cgraph" alt=""/></div>
<map name="d3/dc1/classCScheduler_adb3ccee6555d827c9d1de83cafa66349_cgraph" id="d3/dc1/classCScheduler_adb3ccee6555d827c9d1de83cafa66349_cgraph">
<area shape="rect" id="node2" href="../../d9/d7d/classpx_1_1CWallTime.html#a4452bc7e8e4fbb8c976f5763269593e7" title="Factory function to create a new CWallTime instance set to &quot;now&quot;. " alt="" coords="227,5,378,32"/><area shape="rect" id="node3" href="../../d3/dc1/classCScheduler.html#aca7480d88d0580ed29adbcf7ea5514cd" title="CScheduler::reset_timer" alt="" coords="213,56,392,83"/><area shape="rect" id="node4" href="../../d3/dc1/classCScheduler.html#a3576dea0c19a673d86e6bcc3c8b03738" title="Queue up task for asynchronous execution on one of the scheduler&#39;s worker threads. " alt="" coords="223,107,382,149"/><area shape="rect" id="node5" href="../../d3/dc1/classCScheduler.html#a6778cde13867cb727841163cab1f05a0" title="Function provided to boost asio post(), in order to execute task and clean up task list..." alt="" coords="440,107,595,149"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aca7480d88d0580ed29adbcf7ea5514cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CScheduler::reset_timer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00240">240</a> of file <a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a>.</p>

<p>References <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00094">_timer</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00182">LIBPX_FERR</a>, and <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00191">timer_cb()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00048">start()</a>, and <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00191">timer_cb()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/dc1/classCScheduler_aca7480d88d0580ed29adbcf7ea5514cd_cgraph.png" border="0" usemap="#d3/dc1/classCScheduler_aca7480d88d0580ed29adbcf7ea5514cd_cgraph" alt=""/></div>
<map name="d3/dc1/classCScheduler_aca7480d88d0580ed29adbcf7ea5514cd_cgraph" id="d3/dc1/classCScheduler_aca7480d88d0580ed29adbcf7ea5514cd_cgraph">
<area shape="rect" id="node2" href="../../d3/dc1/classCScheduler.html#adb3ccee6555d827c9d1de83cafa66349" title="Callback for timer &#45; helps manage scheduled task execution. " alt="" coords="232,35,392,61"/><area shape="rect" id="node3" href="../../d9/d7d/classpx_1_1CWallTime.html#a4452bc7e8e4fbb8c976f5763269593e7" title="Factory function to create a new CWallTime instance set to &quot;now&quot;. " alt="" coords="445,5,595,32"/><area shape="rect" id="node4" href="../../d3/dc1/classCScheduler.html#a3576dea0c19a673d86e6bcc3c8b03738" title="Queue up task for asynchronous execution on one of the scheduler&#39;s worker threads. " alt="" coords="441,57,599,98"/><area shape="rect" id="node5" href="../../d3/dc1/classCScheduler.html#a6778cde13867cb727841163cab1f05a0" title="Function provided to boost asio post(), in order to execute task and clean up task list..." alt="" coords="648,57,803,98"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a7cc68f9017f8dc51ddf7e68d323e9e9f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t CScheduler::_num_threads</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Number of threads scheduler is configured to use. </p>

<p>Definition at line <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00085">85</a> of file <a class="el" href="../../d6/de8/scheduler_8hpp_source.html">scheduler.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00234">get_num_threads()</a>, and <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00048">start()</a>.</p>

</div>
</div>
<a class="anchor" id="a80428790c77218b2e275819fcf79d3bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;boost::asio::io_service&gt; CScheduler::_io_service</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Manages threads, job execution. </p>

<p>Definition at line <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00088">88</a> of file <a class="el" href="../../d6/de8/scheduler_8hpp_source.html">scheduler.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00111">run_task_async()</a>, <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00081">shutdown()</a>, <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00048">start()</a>, and <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00149">start_thread()</a>.</p>

</div>
</div>
<a class="anchor" id="a30d862e827d93e6645cf8166cfe4b265"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;boost::asio::io_service::work&gt; CScheduler::_work</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prevents io_service from exiting when no tasks pending. </p>

<p>Definition at line <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00091">91</a> of file <a class="el" href="../../d6/de8/scheduler_8hpp_source.html">scheduler.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00081">shutdown()</a>, <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00048">start()</a>, and <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00191">timer_cb()</a>.</p>

</div>
</div>
<a class="anchor" id="a96973f9cc6766ba22212c1a517e854e6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;boost::asio::steady_timer&gt; CScheduler::_timer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Helps schedule tasks. </p>

<p>Definition at line <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00094">94</a> of file <a class="el" href="../../d6/de8/scheduler_8hpp_source.html">scheduler.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00240">reset_timer()</a>, <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00081">shutdown()</a>, and <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00048">start()</a>.</p>

</div>
</div>
<a class="anchor" id="adfda7c6f153ed58ee1a25951463d3b89"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;std::thread&gt; CScheduler::_thread_pool</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Worker threads. </p>

<p>Definition at line <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00097">97</a> of file <a class="el" href="../../d6/de8/scheduler_8hpp_source.html">scheduler.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00081">shutdown()</a>, and <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00048">start()</a>.</p>

</div>
</div>
<a class="anchor" id="a7fb74dc74e73791a24bcf4352375470d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t CScheduler::_next_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Next available internal task id. </p>

<p>Definition at line <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00100">100</a> of file <a class="el" href="../../d6/de8/scheduler_8hpp_source.html">scheduler.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00111">run_task_async()</a>, and <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00133">schedule_task()</a>.</p>

</div>
</div>
<a class="anchor" id="a145637fb0dd6fc0ff69ddafd3b88c18a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> CScheduler::_prev_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Previous cycle time (the last time the timer was triggered to search for the scheduled tasks) </p>

<p>Definition at line <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00103">103</a> of file <a class="el" href="../../d6/de8/scheduler_8hpp_source.html">scheduler.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00048">start()</a>, and <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00191">timer_cb()</a>.</p>

</div>
</div>
<a class="anchor" id="a8b0550bff38ac7cb413cea340c7018e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;uint64_t, std::shared_ptr&lt;<a class="el" href="../../d4/d4c/classITask.html">ITask</a>&gt; &gt; CScheduler::_active_tasks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Active tasks by ID. </p>
<p>Includes tasks from run_async and scheduled tasks that are currently running </p>

<p>Definition at line <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00107">107</a> of file <a class="el" href="../../d6/de8/scheduler_8hpp_source.html">scheduler.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00168">execute_task_cb()</a>, and <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00111">run_task_async()</a>.</p>

</div>
</div>
<a class="anchor" id="a56d6495fc1f7efabd13d82cc721b78f2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;uint64_t, std::shared_ptr&lt;<a class="el" href="../../d4/d4c/classITask.html">ITask</a>&gt; &gt; CScheduler::_scheduled_tasks</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Scheduled tasks by ID. </p>

<p>Definition at line <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00110">110</a> of file <a class="el" href="../../d6/de8/scheduler_8hpp_source.html">scheduler.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00133">schedule_task()</a>, and <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00191">timer_cb()</a>.</p>

</div>
</div>
<a class="anchor" id="a837ad34d05fff444be069f9bcd8ff1db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::multimap&lt;uint64_t, std::unique_ptr&lt;<a class="el" href="../../da/de7/classITrigger.html">ITrigger</a>&gt; &gt; CScheduler::_trigger_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map of Triggers by scheduled task ID. </p>

<p>Definition at line <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00113">113</a> of file <a class="el" href="../../d6/de8/scheduler_8hpp_source.html">scheduler.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00133">schedule_task()</a>, and <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00191">timer_cb()</a>.</p>

</div>
</div>
<a class="anchor" id="ab029f374b9568d8e134d1878c1401cd5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex CScheduler::_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mutex to protect _next_id, _active_tasks, _scheduled_tasks, and _trigger_map. </p>

<p>Definition at line <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00116">116</a> of file <a class="el" href="../../d6/de8/scheduler_8hpp_source.html">scheduler.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00168">execute_task_cb()</a>, <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00111">run_task_async()</a>, <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00133">schedule_task()</a>, and <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00191">timer_cb()</a>.</p>

</div>
</div>
<a class="anchor" id="a9a23a6ab0b2883cefea99905609d177f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::thread_specific_ptr&lt;toolkit::CSysLog&gt; CScheduler::_thread_local_syslog</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Needed to log in worker threads. </p>

<p>Definition at line <a class="el" href="../../d6/de8/scheduler_8hpp_source.html#l00119">119</a> of file <a class="el" href="../../d6/de8/scheduler_8hpp_source.html">scheduler.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d8b/scheduler_8cpp_source.html#l00149">start_thread()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../d6/de8/scheduler_8hpp_source.html">scheduler.hpp</a></li>
<li><a class="el" href="../../db/d8b/scheduler_8cpp_source.html">scheduler.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d3/dc1/classCScheduler.html">CScheduler</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:24:21 for libpx by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
