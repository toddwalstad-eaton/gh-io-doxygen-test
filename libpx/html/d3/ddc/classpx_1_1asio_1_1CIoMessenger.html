<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>libpx: px::asio::CIoMessenger Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libpx
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d3/ddc/classpx_1_1asio_1_1CIoMessenger.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d7/d5f/classpx_1_1asio_1_1CIoMessenger-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">px::asio::CIoMessenger Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>I/O "Messenger" class.  
 <a href="../../d3/ddc/classpx_1_1asio_1_1CIoMessenger.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d8/de6/io__messenger_8hpp_source.html">io_messenger.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for px::asio::CIoMessenger:</div>
<div class="dyncontent">
<div class="center"><img src="../../d5/de8/classpx_1_1asio_1_1CIoMessenger__inherit__graph.png" border="0" usemap="#px_1_1asio_1_1CIoMessenger_inherit__map" alt="Inheritance graph"/></div>
<map name="px_1_1asio_1_1CIoMessenger_inherit__map" id="px_1_1asio_1_1CIoMessenger_inherit__map">
<area shape="rect" id="node2" href="../../dd/d60/classpx_1_1asio_1_1CIoActor.html" title="The I/O &quot;Actor&quot; base class. " alt="" coords="17,147,169,327"/></map>
</div>
<div class="dynheader">
Collaboration diagram for px::asio::CIoMessenger:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d20/classpx_1_1asio_1_1CIoMessenger__coll__graph.png" border="0" usemap="#px_1_1asio_1_1CIoMessenger_coll__map" alt="Collaboration graph"/></div>
<map name="px_1_1asio_1_1CIoMessenger_coll__map" id="px_1_1asio_1_1CIoMessenger_coll__map">
<area shape="rect" id="node2" href="../../dd/d60/classpx_1_1asio_1_1CIoActor.html" title="The I/O &quot;Actor&quot; base class. " alt="" coords="3342,1798,3494,1978"/><area shape="rect" id="node4" href="../../d6/d32/classpx_1_1asio_1_1CIoManager.html" title="The main I/O manager to host the Power Xpert Toolkit&#39;s ASIO framework. " alt="" coords="614,1494,812,1733"/><area shape="rect" id="node5" href="../../d2/dcb/classpx_1_1asio_1_1CCdsHandler.html" title="ABC for CDS Handler, provides a common synchronous/asynchronous interface to the CDS API..." alt="" coords="2330,1059,2544,1429"/><area shape="rect" id="node6" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html" title="Provides a set of common CDS utility functions. " alt="" coords="1002,671,1194,910"/><area shape="rect" id="node9" title="STL class. " alt="" coords="3055,405,3189,483"/><area shape="rect" id="node14" href="../../dd/d57/classpx_1_1CBitset.html" title="{px::CBitset\&lt; px::permissions \&gt;\n||+ CBitset()\l+ get()\l+ set()\l+ reset()\l+ mask_set()\l+ mask_clear()\l+ mask()\l+ empty()\l+ operator==()\l+ operator!=()\land 11 more...\l+ size()\l+ nbytes()\l}" alt="" coords="3392,664,3618,917"/><area shape="rect" id="node19" href="../../dd/d57/classpx_1_1CBitset.html" title="Stores a bit&#45;field of flags defined by an enumerated type. " alt="" coords="3558,317,3689,571"/><area shape="rect" id="node17" title="STL class. " alt="" coords="3408,5,3530,83"/><area shape="rect" id="node27" title="STL class. " alt="" coords="4206,405,4334,483"/><area shape="rect" id="node35" title="STL class. " alt="" coords="176,752,333,829"/><area shape="rect" id="node36" href="../../dc/d82/classpx_1_1asio_1_1CServerCore.html" title="Server core class. " alt="" coords="364,1176,526,1312"/><area shape="rect" id="node39" title="STL class. " alt="" coords="690,752,872,829"/></map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ab24b29b5055906802811b00f09a1d6ca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/ddc/classpx_1_1asio_1_1CIoMessenger.html#ab24b29b5055906802811b00f09a1d6ca">CIoMessenger</a> (<a class="el" href="../../d6/d32/classpx_1_1asio_1_1CIoManager.html">CIoManager</a> &amp;manager, const std::shared_ptr&lt; CPort &gt; &amp;port)</td></tr>
<tr class="memdesc:ab24b29b5055906802811b00f09a1d6ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#ab24b29b5055906802811b00f09a1d6ca">More...</a><br/></td></tr>
<tr class="separator:ab24b29b5055906802811b00f09a1d6ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ef559b90522c67f58e8a733a59241fc"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/ddc/classpx_1_1asio_1_1CIoMessenger.html#a7ef559b90522c67f58e8a733a59241fc">~CIoMessenger</a> ()</td></tr>
<tr class="memdesc:a7ef559b90522c67f58e8a733a59241fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor, a virtual.  <a href="#a7ef559b90522c67f58e8a733a59241fc">More...</a><br/></td></tr>
<tr class="separator:a7ef559b90522c67f58e8a733a59241fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabbcaadddc8469e4ee87b7d49f4fc46d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/ddc/classpx_1_1asio_1_1CIoMessenger.html#aabbcaadddc8469e4ee87b7d49f4fc46d">execute</a> ()</td></tr>
<tr class="memdesc:aabbcaadddc8469e4ee87b7d49f4fc46d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute the next I/O operation.  <a href="#aabbcaadddc8469e4ee87b7d49f4fc46d">More...</a><br/></td></tr>
<tr class="separator:aabbcaadddc8469e4ee87b7d49f4fc46d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89ce62c9c9dc0a503a04f2f9341bf5d6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/ddc/classpx_1_1asio_1_1CIoMessenger.html#a89ce62c9c9dc0a503a04f2f9341bf5d6">read_more</a> (boost::asio::mutable_buffer &amp;buf)=0</td></tr>
<tr class="memdesc:a89ce62c9c9dc0a503a04f2f9341bf5d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read more data from the messenger's input source.  <a href="#a89ce62c9c9dc0a503a04f2f9341bf5d6">More...</a><br/></td></tr>
<tr class="separator:a89ce62c9c9dc0a503a04f2f9341bf5d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f10cef014ac57d31edffa0586ff308c"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/ddc/classpx_1_1asio_1_1CIoMessenger.html#a8f10cef014ac57d31edffa0586ff308c">write</a> (boost::asio::const_buffer &amp;buf)=0</td></tr>
<tr class="memdesc:a8f10cef014ac57d31edffa0586ff308c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write data to the messenger's output channel.  <a href="#a8f10cef014ac57d31edffa0586ff308c">More...</a><br/></td></tr>
<tr class="separator:a8f10cef014ac57d31edffa0586ff308c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb785c9c46bd7f34657a90c135097deb"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/ddc/classpx_1_1asio_1_1CIoMessenger.html#afb785c9c46bd7f34657a90c135097deb">flush</a> ()=0</td></tr>
<tr class="memdesc:afb785c9c46bd7f34657a90c135097deb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flush input data from the messenger's input source.  <a href="#afb785c9c46bd7f34657a90c135097deb">More...</a><br/></td></tr>
<tr class="separator:afb785c9c46bd7f34657a90c135097deb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a578c46013418310ac7e130617d5bcbe3"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/ddc/classpx_1_1asio_1_1CIoMessenger.html#a578c46013418310ac7e130617d5bcbe3">cancel</a> ()=0</td></tr>
<tr class="memdesc:a578c46013418310ac7e130617d5bcbe3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel all outstanding asynchronous read or write operations associated with the port.  <a href="#a578c46013418310ac7e130617d5bcbe3">More...</a><br/></td></tr>
<tr class="separator:a578c46013418310ac7e130617d5bcbe3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49a1d64c089bc652e5ed254821765313"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/ddc/classpx_1_1asio_1_1CIoMessenger.html#a49a1d64c089bc652e5ed254821765313">next_msg</a> ()</td></tr>
<tr class="memdesc:a49a1d64c089bc652e5ed254821765313"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute the next message.  <a href="#a49a1d64c089bc652e5ed254821765313">More...</a><br/></td></tr>
<tr class="separator:a49a1d64c089bc652e5ed254821765313"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classpx_1_1asio_1_1CIoActor"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classpx_1_1asio_1_1CIoActor')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../dd/d60/classpx_1_1asio_1_1CIoActor.html">px::asio::CIoActor</a></td></tr>
<tr class="memitem:a7653b0224c4b15c790ffa44bd6292e2a inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d60/classpx_1_1asio_1_1CIoActor.html#a7653b0224c4b15c790ffa44bd6292e2a">CIoActor</a> (<a class="el" href="../../d6/d32/classpx_1_1asio_1_1CIoManager.html">CIoManager</a> &amp;manager)</td></tr>
<tr class="memdesc:a7653b0224c4b15c790ffa44bd6292e2a inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a7653b0224c4b15c790ffa44bd6292e2a">More...</a><br/></td></tr>
<tr class="separator:a7653b0224c4b15c790ffa44bd6292e2a inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1efc9dfb72925d84709148e0b4c05a29 inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d60/classpx_1_1asio_1_1CIoActor.html#a1efc9dfb72925d84709148e0b4c05a29">~CIoActor</a> ()</td></tr>
<tr class="memdesc:a1efc9dfb72925d84709148e0b4c05a29 inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a1efc9dfb72925d84709148e0b4c05a29">More...</a><br/></td></tr>
<tr class="separator:a1efc9dfb72925d84709148e0b4c05a29 inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc1b6afc8fe38b780c2d228bdf9a85a4 inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d60/classpx_1_1asio_1_1CIoActor.html#abc1b6afc8fe38b780c2d228bdf9a85a4">close</a> ()</td></tr>
<tr class="memdesc:abc1b6afc8fe38b780c2d228bdf9a85a4 inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gracefully close this actor.  <a href="#abc1b6afc8fe38b780c2d228bdf9a85a4">More...</a><br/></td></tr>
<tr class="separator:abc1b6afc8fe38b780c2d228bdf9a85a4 inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad90c314c7d733326fe1f0d88e0bede2 inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="memItemLeft" align="right" valign="top">boost::asio::io_service &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d60/classpx_1_1asio_1_1CIoActor.html#aad90c314c7d733326fe1f0d88e0bede2">get_io_service</a> () const </td></tr>
<tr class="memdesc:aad90c314c7d733326fe1f0d88e0bede2 inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the I/O service associated with the owner of this actor.  <a href="#aad90c314c7d733326fe1f0d88e0bede2">More...</a><br/></td></tr>
<tr class="separator:aad90c314c7d733326fe1f0d88e0bede2 inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a973b5ccd8ce103464bfe1864edbca799 inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="el" href="../../dc/d82/classpx_1_1asio_1_1CServerCore.html">CServerCore</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d60/classpx_1_1asio_1_1CIoActor.html#a973b5ccd8ce103464bfe1864edbca799">get_server_core</a> () const </td></tr>
<tr class="memdesc:a973b5ccd8ce103464bfe1864edbca799 inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the container for CDS data management.  <a href="#a973b5ccd8ce103464bfe1864edbca799">More...</a><br/></td></tr>
<tr class="separator:a973b5ccd8ce103464bfe1864edbca799 inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3fc29a365bc84e0da8c49715aad0347b inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="el" href="../../d2/dcb/classpx_1_1asio_1_1CCdsHandler.html">CCdsHandler</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d60/classpx_1_1asio_1_1CIoActor.html#a3fc29a365bc84e0da8c49715aad0347b">get_cds_handler</a> () const </td></tr>
<tr class="memdesc:a3fc29a365bc84e0da8c49715aad0347b inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the container for CDS data management.  <a href="#a3fc29a365bc84e0da8c49715aad0347b">More...</a><br/></td></tr>
<tr class="separator:a3fc29a365bc84e0da8c49715aad0347b inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0333a95689686837e3bb066b6921976 inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d60/classpx_1_1asio_1_1CIoActor.html#ad0333a95689686837e3bb066b6921976">get_quit_status</a> ()</td></tr>
<tr class="memdesc:ad0333a95689686837e3bb066b6921976 inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the quit status from connection IO manager.  <a href="#ad0333a95689686837e3bb066b6921976">More...</a><br/></td></tr>
<tr class="separator:ad0333a95689686837e3bb066b6921976 inherit pub_methods_classpx_1_1asio_1_1CIoActor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a81a02238809bc606bb8c648bbf6d9da2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/ddc/classpx_1_1asio_1_1CIoMessenger.html#a81a02238809bc606bb8c648bbf6d9da2">handle_read</a> (const boost::system::error_code &amp;err, size_t nbytes)</td></tr>
<tr class="memdesc:a81a02238809bc606bb8c648bbf6d9da2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function to handle incoming data (invoked by ASIO::async_read_some() ).  <a href="#a81a02238809bc606bb8c648bbf6d9da2">More...</a><br/></td></tr>
<tr class="separator:a81a02238809bc606bb8c648bbf6d9da2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8c4e44c56bc91685ea3e38307aecf7af"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/ddc/classpx_1_1asio_1_1CIoMessenger.html#a8c4e44c56bc91685ea3e38307aecf7af">handle_write</a> (const boost::system::error_code &amp;err)</td></tr>
<tr class="memdesc:a8c4e44c56bc91685ea3e38307aecf7af"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function to handle a completed "write" operation (invoked by ASIO::async_write() ).  <a href="#a8c4e44c56bc91685ea3e38307aecf7af">More...</a><br/></td></tr>
<tr class="separator:a8c4e44c56bc91685ea3e38307aecf7af"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_classpx_1_1asio_1_1CIoActor"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_classpx_1_1asio_1_1CIoActor')"><img src="../../closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="../../dd/d60/classpx_1_1asio_1_1CIoActor.html">px::asio::CIoActor</a></td></tr>
<tr class="memitem:a600254e6230b6364526cade554813e56 inherit pro_methods_classpx_1_1asio_1_1CIoActor"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d60/classpx_1_1asio_1_1CIoActor.html#a600254e6230b6364526cade554813e56">remove</a> ()</td></tr>
<tr class="memdesc:a600254e6230b6364526cade554813e56 inherit pro_methods_classpx_1_1asio_1_1CIoActor"><td class="mdescLeft">&#160;</td><td class="mdescRight">This method is called when an actor wants to remove itself from the I/O management interface.  <a href="#a600254e6230b6364526cade554813e56">More...</a><br/></td></tr>
<tr class="separator:a600254e6230b6364526cade554813e56 inherit pro_methods_classpx_1_1asio_1_1CIoActor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:add21bbd4e2d19684d8c33b0d9dbc2656"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/ddc/classpx_1_1asio_1_1CIoMessenger.html#add21bbd4e2d19684d8c33b0d9dbc2656">_queue_len</a></td></tr>
<tr class="memdesc:add21bbd4e2d19684d8c33b0d9dbc2656"><td class="mdescLeft">&#160;</td><td class="mdescRight">The target size of _queue.  <a href="#add21bbd4e2d19684d8c33b0d9dbc2656">More...</a><br/></td></tr>
<tr class="separator:add21bbd4e2d19684d8c33b0d9dbc2656"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classpx_1_1asio_1_1CIoActor"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classpx_1_1asio_1_1CIoActor')"><img src="../../closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="../../dd/d60/classpx_1_1asio_1_1CIoActor.html">px::asio::CIoActor</a></td></tr>
<tr class="memitem:ab074f57fd45113a0a82e0fbf51a6b32f inherit pro_attribs_classpx_1_1asio_1_1CIoActor"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d32/classpx_1_1asio_1_1CIoManager.html">CIoManager</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d60/classpx_1_1asio_1_1CIoActor.html#ab074f57fd45113a0a82e0fbf51a6b32f">_owner</a></td></tr>
<tr class="memdesc:ab074f57fd45113a0a82e0fbf51a6b32f inherit pro_attribs_classpx_1_1asio_1_1CIoActor"><td class="mdescLeft">&#160;</td><td class="mdescRight">The I/O manager object that "owns" this connection.  <a href="#ab074f57fd45113a0a82e0fbf51a6b32f">More...</a><br/></td></tr>
<tr class="separator:ab074f57fd45113a0a82e0fbf51a6b32f inherit pro_attribs_classpx_1_1asio_1_1CIoActor"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2d9454bd7b35fa535eae342646705b08"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; CPort &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/ddc/classpx_1_1asio_1_1CIoMessenger.html#a2d9454bd7b35fa535eae342646705b08">_port</a></td></tr>
<tr class="memdesc:a2d9454bd7b35fa535eae342646705b08"><td class="mdescLeft">&#160;</td><td class="mdescRight">The port associated with this I/O messenger.  <a href="#a2d9454bd7b35fa535eae342646705b08">More...</a><br/></td></tr>
<tr class="separator:a2d9454bd7b35fa535eae342646705b08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd1f8c51359881605b0e573ec9908141"><td class="memItemLeft" align="right" valign="top">std::deque&lt; std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="../../d5/d33/classpx_1_1asio_1_1CIoMessage.html">CIoMessage</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/ddc/classpx_1_1asio_1_1CIoMessenger.html#acd1f8c51359881605b0e573ec9908141">_queue</a></td></tr>
<tr class="memdesc:acd1f8c51359881605b0e573ec9908141"><td class="mdescLeft">&#160;</td><td class="mdescRight">Queue of messages to be executed.  <a href="#acd1f8c51359881605b0e573ec9908141">More...</a><br/></td></tr>
<tr class="separator:acd1f8c51359881605b0e573ec9908141"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>I/O "Messenger" class. </p>
<p>An I/O messenger is a special kind of actor: one that can receive external messages and service them. Not all actors are messengers; for example, signal handlers, timers, or TCP listening sockets don't actually do anything directly in response to external input. But things like established TCP or serial connections handle input directly, and therefore share the same "messenger" interface.</p>
<p>For the device handler, the "normal" messenger which we care about is a serial port, e.g. "/dev/ttyS1". But the specific sub-class (like "serial
connection") builds on top of what's here, because most of the functionality is the same regardless of what kind of medium we're actually dealing with.</p>
<p>Other parts of the DH that this class needs to know about:</p>
<p>CPort (to create new messages) <a class="el" href="../../d3/ddc/classpx_1_1asio_1_1CIoMessenger.html" title="I/O &quot;Messenger&quot; class. ">CIoMessenger</a> (to execute useful work) <a class="el" href="../../d6/d32/classpx_1_1asio_1_1CIoManager.html" title="The main I/O manager to host the Power Xpert Toolkit&#39;s ASIO framework. ">CIoManager</a> (to initialize internal stuff) </p>

<p>Definition at line <a class="el" href="../../d8/de6/io__messenger_8hpp_source.html#l00040">40</a> of file <a class="el" href="../../d8/de6/io__messenger_8hpp_source.html">io_messenger.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ab24b29b5055906802811b00f09a1d6ca"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">px::asio::CIoMessenger::CIoMessenger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d32/classpx_1_1asio_1_1CIoManager.html">CIoManager</a> &amp;&#160;</td>
          <td class="paramname"><em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; CPort &gt; &amp;&#160;</td>
          <td class="paramname"><em>port</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<p>The I/O manager "owns" this messenger, but is otherwise unimportant.</p>
<p>The port is initialized based on configuration items that we read from the CDS at startup, then given to this messenger. The messenger "owns" the port from there forward.</p>
<p>Although there's a 1:1 relationship between messenger and port, they should be treated as 2 distinct entities in code. The messenger concerns itself only with I/O, and doesn't really care what the device handler is doing. (The I/O subsystem should be re-usable in other apps with little/no modification!) The port, on the other hand, knows all about e.g. what kinds of devices are connected to it.</p>
<p>The port is a shared_ptr, rather than a unique_ptr, to allow for cases in which sharing is desirable. A real example: TCP works under ASIO by creating a messenger object per connection. We'll handle Modbus pass-through by using a pass-through "port", but we probably don't want to duplicate it over &amp; over for each active connection. Instead, all the pass-through connections will just point to the same port. </p>

</div>
</div>
<a class="anchor" id="a7ef559b90522c67f58e8a733a59241fc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual px::asio::CIoMessenger::~CIoMessenger </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default destructor, a virtual. </p>
<p>Needed when derived classes are freed or memory leak will occur. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aabbcaadddc8469e4ee87b7d49f4fc46d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::asio::CIoMessenger::execute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute the next I/O operation. </p>
<p>This call performs the "real work" of the I/O messenger. It is called initially to kick-start the loop of I/O messages on this interface, and then called again each time a message completes and we wish to execute the next one. It transfer control to the CIoMessage-derived class. </p>

</div>
</div>
<a class="anchor" id="a89ce62c9c9dc0a503a04f2f9341bf5d6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void px::asio::CIoMessenger::read_more </td>
          <td>(</td>
          <td class="paramtype">boost::asio::mutable_buffer &amp;&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read more data from the messenger's input source. </p>
<p>This call initiates an asynchronous read operation, filling the given receive buffer with any additional data that can be read. It is invoked by the active I/O message (_queue.front()).</p>
<p>The I/O message provides us with the buffer into which data should be read; the messenger itself does not manage the buffer. This allows each message to be self-contained.</p>
<p>A pure virtual function here, this is implemented in a sub-class specific manner, e.g. by reading data from a serial port or TCP socket.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>The buffer (whose allocated memory actually resides in the originating <a class="el" href="../../d5/d33/classpx_1_1asio_1_1CIoMessage.html" title="I/O Message base class. ">CIoMessage</a>) which will hold the response as it is read in. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8f10cef014ac57d31edffa0586ff308c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void px::asio::CIoMessenger::write </td>
          <td>(</td>
          <td class="paramtype">boost::asio::const_buffer &amp;&#160;</td>
          <td class="paramname"><em>buf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write data to the messenger's output channel. </p>
<p>This call initiates an asynchronous write operation, writing the entire given buffer out. It is invoked by the active I/O message.</p>
<p>The I/O message provides us with the buffer from which data should be written; the messenger itself does not manage the buffer. This allows each message to be self-contained.</p>
<p>A pure virtual function here, this is implemented in a sub-class specific manner, e.g. by writing data to a serial port or TCP socket.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">buf</td><td>The buffer (whose allocated memory actually resides in the originating <a class="el" href="../../d5/d33/classpx_1_1asio_1_1CIoMessage.html" title="I/O Message base class. ">CIoMessage</a>) which holds the request bytes to be written. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="afb785c9c46bd7f34657a90c135097deb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool px::asio::CIoMessenger::flush </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flush input data from the messenger's input source. </p>
<p>This call initiates a flush of the given receive buffer.</p>
<p>A pure virtual function here, this is implemented in a sub-class specific manner, e.g. by reading data from a serial port or TCP socket.</p>
<dl class="section return"><dt>Returns</dt><dd>true on success. false on error </dd></dl>

</div>
</div>
<a class="anchor" id="a578c46013418310ac7e130617d5bcbe3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void px::asio::CIoMessenger::cancel </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cancel all outstanding asynchronous read or write operations associated with the port. </p>
<p>The operations finish immediately and the handlers for the canceled operations will be passed "operation aborted" error.</p>
<p>A pure virtual function here, this is implemented in a sub-class specific manner, e.g. a serial port or TCP socket.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">none.</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a49a1d64c089bc652e5ed254821765313"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::asio::CIoMessenger::next_msg </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Execute the next message. </p>
<p>This is invoked by the I/O message when it no longer needs any I/O performed on its behalf. </p>

</div>
</div>
<a class="anchor" id="a81a02238809bc606bb8c648bbf6d9da2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void px::asio::CIoMessenger::handle_read </td>
          <td>(</td>
          <td class="paramtype">const boost::system::error_code &amp;&#160;</td>
          <td class="paramname"><em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>nbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback function to handle incoming data (invoked by ASIO::async_read_some() ). </p>
<p>This simply defers to the active message's error handler if there's an error; otherwise, it calls the message's the recv handler.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">err</td><td>The error_code returned by ASIO (if any). </td></tr>
    <tr><td class="paramname">nbytes</td><td>The number of bytes that were read in. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a8c4e44c56bc91685ea3e38307aecf7af"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void px::asio::CIoMessenger::handle_write </td>
          <td>(</td>
          <td class="paramtype">const boost::system::error_code &amp;&#160;</td>
          <td class="paramname"><em>err</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback function to handle a completed "write" operation (invoked by ASIO::async_write() ). </p>
<p>This simply defers to the active message if there's an error; otherwise it calls the message's send handler.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">err</td><td>The error_code returned by ASIO (if any). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="add21bbd4e2d19684d8c33b0d9dbc2656"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t px::asio::CIoMessenger::_queue_len</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The target size of _queue. </p>
<p>Whenever the queue size falls below this number, the messenger will ask the port for additional messages. By default this is initialized to 2, but it can be overridden by sub-classes, and potentially even altered on the fly.</p>
<p>Note that some of the other interfaces of this class will need to be revisited if we ever allow more than 1 message to be active at a time, though. </p>

<p>Definition at line <a class="el" href="../../d8/de6/io__messenger_8hpp_source.html#l00186">186</a> of file <a class="el" href="../../d8/de6/io__messenger_8hpp_source.html">io_messenger.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2d9454bd7b35fa535eae342646705b08"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;CPort&gt; px::asio::CIoMessenger::_port</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The port associated with this I/O messenger. </p>
<p>While an I/O messenger loosely corresponds to our notion of a "port", there are good reasons for keeping them separate. This is the port object to which this I/O messenger is bound; we will execute messages that are generated by this port. </p>

<p>Definition at line <a class="el" href="../../d8/de6/io__messenger_8hpp_source.html#l00229">229</a> of file <a class="el" href="../../d8/de6/io__messenger_8hpp_source.html">io_messenger.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="acd1f8c51359881605b0e573ec9908141"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::deque&lt;std::shared_ptr&lt;<a class="el" href="../../d5/d33/classpx_1_1asio_1_1CIoMessage.html">CIoMessage</a>&gt; &gt; px::asio::CIoMessenger::_queue</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Queue of messages to be executed. </p>
<p>The item in the front of this queue is the currently-active message. Queue size is kept minimal for typical serial devices (normally 1 or 2), so that we select messages as closely as possible to the time at which they're executed.</p>
<p>For sub-classes which can benefit from a deeper pipeline of messages (e.g. a connection to a Netlink device), a larger queue size may be used. </p>

<p>Definition at line <a class="el" href="../../d8/de6/io__messenger_8hpp_source.html#l00243">243</a> of file <a class="el" href="../../d8/de6/io__messenger_8hpp_source.html">io_messenger.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="../../d8/de6/io__messenger_8hpp_source.html">io_messenger.hpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/dcb/namespacepx.html">px</a></li><li class="navelem"><a class="el" href="../../d6/dbb/namespacepx_1_1asio.html">asio</a></li><li class="navelem"><a class="el" href="../../d3/ddc/classpx_1_1asio_1_1CIoMessenger.html">CIoMessenger</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:24:22 for libpx by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
