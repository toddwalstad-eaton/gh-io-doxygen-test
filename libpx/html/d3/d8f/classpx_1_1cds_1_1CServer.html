<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>libpx: px::cds::CServer Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libpx
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d3/d8f/classpx_1_1cds_1_1CServer.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d4/d44/classpx_1_1cds_1_1CServer-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">px::cds::CServer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Singleton class to manage CDS connections, from server side.  
 <a href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../df/d0a/server_8hpp_source.html">server.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for px::cds::CServer:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/daa/classpx_1_1cds_1_1CServer__coll__graph.png" border="0" usemap="#px_1_1cds_1_1CServer_coll__map" alt="Collaboration graph"/></div>
<map name="px_1_1cds_1_1CServer_coll__map" id="px_1_1cds_1_1CServer_coll__map">
<area shape="rect" id="node5" title="STL class. " alt="" coords="185,6,337,98"/><area shape="rect" id="node7" href="../../d7/d2b/classpx_1_1cds_1_1CSignalPipe.html" title="Class for catching UNIX signals &amp; delivering them to the main polling loop. " alt="" coords="674,176,827,312"/><area shape="rect" id="node10" title="STL class. " alt="" coords="938,13,1067,91"/></map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae5f04a6e951028146e907e7e378486ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#ae5f04a6e951028146e907e7e378486ef">listen</a> ()</td></tr>
<tr class="memdesc:ae5f04a6e951028146e907e7e378486ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start listening for connections.  <a href="#ae5f04a6e951028146e907e7e378486ef">More...</a><br/></td></tr>
<tr class="separator:ae5f04a6e951028146e907e7e378486ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7eb02a3cda7a73401a97bf77f3eca844"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#a7eb02a3cda7a73401a97bf77f3eca844">shutdown</a> ()</td></tr>
<tr class="memdesc:a7eb02a3cda7a73401a97bf77f3eca844"><td class="mdescLeft">&#160;</td><td class="mdescRight">Terminate existing connections.  <a href="#a7eb02a3cda7a73401a97bf77f3eca844">More...</a><br/></td></tr>
<tr class="separator:a7eb02a3cda7a73401a97bf77f3eca844"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a485828b58f68269b4d354df9fdad3197"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> std::vector<br class="typebreak"/>
&lt; std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="../../d3/dbb/classpx_1_1cds_1_1CRequestResponse.html">CRequestResponse</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#a485828b58f68269b4d354df9fdad3197">get_pending_requests</a> ()</td></tr>
<tr class="memdesc:a485828b58f68269b4d354df9fdad3197"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a list of pending requests to process.  <a href="#a485828b58f68269b4d354df9fdad3197">More...</a><br/></td></tr>
<tr class="separator:a485828b58f68269b4d354df9fdad3197"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad960c9a5c4e6d15dbd311511e1e447ad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#ad960c9a5c4e6d15dbd311511e1e447ad">send_response</a> (std::shared_ptr&lt; <a class="el" href="../../d3/dbb/classpx_1_1cds_1_1CRequestResponse.html">CRequestResponse</a> &gt; response)</td></tr>
<tr class="memdesc:ad960c9a5c4e6d15dbd311511e1e447ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a response, to the client_id set in the RequestResponse object.  <a href="#ad960c9a5c4e6d15dbd311511e1e447ad">More...</a><br/></td></tr>
<tr class="separator:ad960c9a5c4e6d15dbd311511e1e447ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbba1a3b095402aed9c0cb5aed6d84b2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#acbba1a3b095402aed9c0cb5aed6d84b2">source</a> (<a class="el" href="../../d5/dd5/namespacepx_1_1cds.html#a347c78562e97c05e97a62e455b166814">ClientID</a>) const </td></tr>
<tr class="memdesc:acbba1a3b095402aed9c0cb5aed6d84b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple getter to retrive client name given client id.  <a href="#acbba1a3b095402aed9c0cb5aed6d84b2">More...</a><br/></td></tr>
<tr class="separator:acbba1a3b095402aed9c0cb5aed6d84b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb09956817c46f24236b8bf7be72c3ef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#abb09956817c46f24236b8bf7be72c3ef">uid</a> (<a class="el" href="../../d5/dd5/namespacepx_1_1cds.html#a347c78562e97c05e97a62e455b166814">ClientID</a> id) const </td></tr>
<tr class="memdesc:abb09956817c46f24236b8bf7be72c3ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the Linux UID of the process connected to a particular client ID.  <a href="#abb09956817c46f24236b8bf7be72c3ef">More...</a><br/></td></tr>
<tr class="separator:abb09956817c46f24236b8bf7be72c3ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef65f1fe4050e9c401d329cd1d31b55e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#aef65f1fe4050e9c401d329cd1d31b55e">update_uid</a> (<a class="el" href="../../d5/dd5/namespacepx_1_1cds.html#a347c78562e97c05e97a62e455b166814">ClientID</a> id)</td></tr>
<tr class="memdesc:aef65f1fe4050e9c401d329cd1d31b55e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the UID, in case the process has done a setuid() Returns the new UID (even if unchanged), -1 if not known.  <a href="#aef65f1fe4050e9c401d329cd1d31b55e">More...</a><br/></td></tr>
<tr class="separator:aef65f1fe4050e9c401d329cd1d31b55e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af49f5ddf6ff5c13d640c34ac53da28b9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#af49f5ddf6ff5c13d640c34ac53da28b9">update_uid</a> (<a class="el" href="../../d5/dd5/namespacepx_1_1cds.html#a347c78562e97c05e97a62e455b166814">ClientID</a> id, int new_uid)</td></tr>
<tr class="memdesc:af49f5ddf6ff5c13d640c34ac53da28b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the client's uid to new_uid.  <a href="#af49f5ddf6ff5c13d640c34ac53da28b9">More...</a><br/></td></tr>
<tr class="separator:af49f5ddf6ff5c13d640c34ac53da28b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a36baefc7dda8ae424ea666c4a3a6fff8"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/dec/data__validation__subscription_8hpp.html#ad17d551e31d1828c68acf40684849b7e">PUBLIC</a> <a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html">CServer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#a36baefc7dda8ae424ea666c4a3a6fff8">get</a> ()</td></tr>
<tr class="memdesc:a36baefc7dda8ae424ea666c4a3a6fff8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Factory function: constructs if necessary, returns existing instance otherwise.  <a href="#a36baefc7dda8ae424ea666c4a3a6fff8">More...</a><br/></td></tr>
<tr class="separator:a36baefc7dda8ae424ea666c4a3a6fff8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:ac012e85631da3dc8f78a9eddf7692a27"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; <a class="el" href="../../d5/dd5/namespacepx_1_1cds.html#a347c78562e97c05e97a62e455b166814">ClientID</a>, <br class="typebreak"/>
std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="../../d4/dce/classpx_1_1cds_1_1CServerConnection.html">CServerConnection</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#ac012e85631da3dc8f78a9eddf7692a27">connections</a></td></tr>
<tr class="separator:ac012e85631da3dc8f78a9eddf7692a27"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54ea33415557639e09b3c2215db0137b"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#a54ea33415557639e09b3c2215db0137b">conn_list_lock</a></td></tr>
<tr class="separator:a54ea33415557639e09b3c2215db0137b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a200aa748e7ed6eb3b24380424327402c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#a200aa748e7ed6eb3b24380424327402c">CServer</a> ()</td></tr>
<tr class="memdesc:a200aa748e7ed6eb3b24380424327402c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor, private so one must construct using <a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#a36baefc7dda8ae424ea666c4a3a6fff8" title="Factory function: constructs if necessary, returns existing instance otherwise. ">get()</a>  <a href="#a200aa748e7ed6eb3b24380424327402c">More...</a><br/></td></tr>
<tr class="separator:a200aa748e7ed6eb3b24380424327402c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a411c66618f5276c641ecab931b34afc1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#a411c66618f5276c641ecab931b34afc1">check_for_connections</a> ()</td></tr>
<tr class="memdesc:a411c66618f5276c641ecab931b34afc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look for any new connections, establish them, set up the new client IDs and IPC objects.  <a href="#a411c66618f5276c641ecab931b34afc1">More...</a><br/></td></tr>
<tr class="separator:a411c66618f5276c641ecab931b34afc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0566ff85c1ad0f76732e8b09e7ee67b3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#a0566ff85c1ad0f76732e8b09e7ee67b3">serve_client_conn_req</a> (<a class="el" href="../../d5/dd5/namespacepx_1_1cds.html#a347c78562e97c05e97a62e455b166814">ClientID</a> client_id, int client_socket)</td></tr>
<tr class="memdesc:a0566ff85c1ad0f76732e8b09e7ee67b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Look for any new messages on the client connection socket.  <a href="#a0566ff85c1ad0f76732e8b09e7ee67b3">More...</a><br/></td></tr>
<tr class="separator:a0566ff85c1ad0f76732e8b09e7ee67b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ad9e0d49b19f526dee6a02f4df3b2a954"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d5/dd5/namespacepx_1_1cds.html#a347c78562e97c05e97a62e455b166814">ClientID</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#ad9e0d49b19f526dee6a02f4df3b2a954">next_client_id</a></td></tr>
<tr class="separator:ad9e0d49b19f526dee6a02f4df3b2a954"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab184b100fb39f4188a989fd44e4cf622"><td class="memItemLeft" align="right" valign="top">std::vector&lt; struct pollfd &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#ab184b100fb39f4188a989fd44e4cf622">watch_files</a></td></tr>
<tr class="separator:ab184b100fb39f4188a989fd44e4cf622"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae98b333984f95badf83d80b5111c02e1"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#ae98b333984f95badf83d80b5111c02e1">master_socket</a></td></tr>
<tr class="separator:ae98b333984f95badf83d80b5111c02e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9ee9de3dd3fc4ef591d98381fc804cc7"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#a9ee9de3dd3fc4ef591d98381fc804cc7">shutdown_socket</a></td></tr>
<tr class="separator:a9ee9de3dd3fc4ef591d98381fc804cc7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad687aa3c68fbc71d4844fd90a45130aa"><td class="memItemLeft" align="right" valign="top">std::vector&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#ad687aa3c68fbc71d4844fd90a45130aa">pending_connections</a></td></tr>
<tr class="separator:ad687aa3c68fbc71d4844fd90a45130aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a249e21846ac13d771be54963921c083c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d2b/classpx_1_1cds_1_1CSignalPipe.html">CSignalPipe</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#a249e21846ac13d771be54963921c083c">sigpipe</a></td></tr>
<tr class="separator:a249e21846ac13d771be54963921c083c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Singleton class to manage CDS connections, from server side. </p>

<p>Definition at line <a class="el" href="../../df/d0a/server_8hpp_source.html#l00020">20</a> of file <a class="el" href="../../df/d0a/server_8hpp_source.html">server.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a200aa748e7ed6eb3b24380424327402c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::cds::CServer::CServer </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default constructor, private so one must construct using <a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#a36baefc7dda8ae424ea666c4a3a6fff8" title="Factory function: constructs if necessary, returns existing instance otherwise. ">get()</a> </p>

<p>Definition at line <a class="el" href="../../df/d0a/server_8hpp_source.html#l00116">116</a> of file <a class="el" href="../../df/d0a/server_8hpp_source.html">server.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../df/dd7/server_8cpp_source.html#l00032">get()</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a36baefc7dda8ae424ea666c4a3a6fff8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html">CServer</a> * px::cds::CServer::get </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Factory function: constructs if necessary, returns existing instance otherwise. </p>

<p>Definition at line <a class="el" href="../../df/dd7/server_8cpp_source.html#l00032">32</a> of file <a class="el" href="../../df/dd7/server_8cpp_source.html">server.cpp</a>.</p>

<p>References <a class="el" href="../../df/d0a/server_8hpp_source.html#l00116">CServer()</a>, <a class="el" href="../../df/dd7/server_8cpp_source.html#l00027">px::cds::g_cdsServer</a>, <a class="el" href="../../df/dd7/server_8cpp_source.html#l00029">px::cds::g_cdsServer_mutex</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00180">LIBPX_ERR</a>, and <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d8f/classpx_1_1cds_1_1CServer_a36baefc7dda8ae424ea666c4a3a6fff8_cgraph.png" border="0" usemap="#d3/d8f/classpx_1_1cds_1_1CServer_a36baefc7dda8ae424ea666c4a3a6fff8_cgraph" alt=""/></div>
<map name="d3/d8f/classpx_1_1cds_1_1CServer_a36baefc7dda8ae424ea666c4a3a6fff8_cgraph" id="d3/d8f/classpx_1_1cds_1_1CServer_a36baefc7dda8ae424ea666c4a3a6fff8_cgraph">
<area shape="rect" id="node2" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#a200aa748e7ed6eb3b24380424327402c" title="Default constructor, private so one must construct using get() " alt="" coords="211,5,397,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae5f04a6e951028146e907e7e378486ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::cds::CServer::listen </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start listening for connections. </p>
<p>May throw: <a class="el" href="../../d1/d2c/structpx_1_1generic__err.html" title="Exception class used to indicate a generic error. ">generic_err</a> if can't open a socket for the connection. </p>

<p>Definition at line <a class="el" href="../../df/dd7/server_8cpp_source.html#l00268">268</a> of file <a class="el" href="../../df/dd7/server_8cpp_source.html">server.cpp</a>.</p>

<p>References <a class="el" href="../../de/d7c/request__response_8hpp_source.html#l00051">CDS_SOCKET_PATH</a>, <a class="el" href="../../d0/d4e/signal__pipe_8hpp_source.html#l00078">px::cds::CSignalPipe::fd()</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00184">LIBPX_WARN</a>, <a class="el" href="../../df/d0a/server_8hpp_source.html#l00137">master_socket</a>, <a class="el" href="../../df/dd7/server_8cpp_source.html#l00250">shutdown()</a>, <a class="el" href="../../df/d0a/server_8hpp_source.html#l00139">shutdown_socket</a>, <a class="el" href="../../df/d0a/server_8hpp_source.html#l00145">sigpipe</a>, and <a class="el" href="../../df/d0a/server_8hpp_source.html#l00135">watch_files</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d8f/classpx_1_1cds_1_1CServer_ae5f04a6e951028146e907e7e378486ef_cgraph.png" border="0" usemap="#d3/d8f/classpx_1_1cds_1_1CServer_ae5f04a6e951028146e907e7e378486ef_cgraph" alt=""/></div>
<map name="d3/d8f/classpx_1_1cds_1_1CServer_ae5f04a6e951028146e907e7e378486ef_cgraph" id="d3/d8f/classpx_1_1cds_1_1CServer_ae5f04a6e951028146e907e7e378486ef_cgraph">
<area shape="rect" id="node2" href="../../d7/d2b/classpx_1_1cds_1_1CSignalPipe.html#a10a7ac470fc31363514f20e1ae650dc1" title="Return a file descriptor which is suitable for polling (via select(), epoll(), or similar) for read&#45;r..." alt="" coords="237,5,411,32"/><area shape="rect" id="node3" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#a7eb02a3cda7a73401a97bf77f3eca844" title="Terminate existing connections. " alt="" coords="225,56,423,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7eb02a3cda7a73401a97bf77f3eca844"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void px::cds::CServer::shutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Terminate existing connections. </p>

<p>Definition at line <a class="el" href="../../df/dd7/server_8cpp_source.html#l00250">250</a> of file <a class="el" href="../../df/dd7/server_8cpp_source.html">server.cpp</a>.</p>

<p>References <a class="el" href="../../df/d0a/server_8hpp_source.html#l00105">conn_list_lock</a>, <a class="el" href="../../df/d0a/server_8hpp_source.html#l00103">connections</a>, <a class="el" href="../../df/d0a/server_8hpp_source.html#l00137">master_socket</a>, and <a class="el" href="../../df/d0a/server_8hpp_source.html#l00135">watch_files</a>.</p>

<p>Referenced by <a class="el" href="../../df/dd7/server_8cpp_source.html#l00457">get_pending_requests()</a>, and <a class="el" href="../../df/dd7/server_8cpp_source.html#l00268">listen()</a>.</p>

</div>
</div>
<a class="anchor" id="a485828b58f68269b4d354df9fdad3197"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::shared_ptr&lt; <a class="el" href="../../d3/dbb/classpx_1_1cds_1_1CRequestResponse.html">CRequestResponse</a> &gt; &gt; px::cds::CServer::get_pending_requests </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a list of pending requests to process. </p>
<p>Side effect: Will notice any new client connections and establish them. Will block if there are no new connections or pending requests. May return an empty list (if all that happened was new connections).</p>
<p>The returned requests may be from any client or combination thereof. Will usually return all pending requests for all connected clients.</p>
<p>May throw: <a class="el" href="../../d1/d2c/structpx_1_1generic__err.html" title="Exception class used to indicate a generic error. ">generic_err</a> if can't re-open a socket for the connection. </p>

<p>Definition at line <a class="el" href="../../df/dd7/server_8cpp_source.html#l00457">457</a> of file <a class="el" href="../../df/dd7/server_8cpp_source.html">server.cpp</a>.</p>

<p>References <a class="el" href="../../df/dd7/server_8cpp_source.html#l00057">check_for_connections()</a>, <a class="el" href="../../d4/d1b/signal__pipe_8cpp_source.html#l00103">px::cds::CSignalPipe::clear()</a>, <a class="el" href="../../df/d0a/server_8hpp_source.html#l00105">conn_list_lock</a>, <a class="el" href="../../df/d0a/server_8hpp_source.html#l00103">connections</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00180">LIBPX_ERR</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00188">LIBPX_NOTICE</a>, <a class="el" href="../../df/d0a/server_8hpp_source.html#l00137">master_socket</a>, <a class="el" href="../../df/d0a/server_8hpp_source.html#l00142">pending_connections</a>, <a class="el" href="../../de/d18/packer_8cpp_source.html#l00643">px::cds::req_unpack()</a>, <a class="el" href="../../df/dd7/server_8cpp_source.html#l00709">serve_client_conn_req()</a>, <a class="el" href="../../df/dd7/server_8cpp_source.html#l00250">shutdown()</a>, <a class="el" href="../../df/d0a/server_8hpp_source.html#l00139">shutdown_socket</a>, <a class="el" href="../../df/d0a/server_8hpp_source.html#l00145">sigpipe</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, and <a class="el" href="../../df/d0a/server_8hpp_source.html#l00135">watch_files</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d8f/classpx_1_1cds_1_1CServer_a485828b58f68269b4d354df9fdad3197_cgraph.png" border="0" usemap="#d3/d8f/classpx_1_1cds_1_1CServer_a485828b58f68269b4d354df9fdad3197_cgraph" alt=""/></div>
<map name="d3/d8f/classpx_1_1cds_1_1CServer_a485828b58f68269b4d354df9fdad3197_cgraph" id="d3/d8f/classpx_1_1cds_1_1CServer_a485828b58f68269b4d354df9fdad3197_cgraph">
<area shape="rect" id="node2" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#a411c66618f5276c641ecab931b34afc1" title="Look for any new connections, establish them, set up the new client IDs and IPC objects. " alt="" coords="224,5,397,46"/><area shape="rect" id="node6" href="../../d7/d2b/classpx_1_1cds_1_1CSignalPipe.html#acd94e725edcf8d7b6c2cf4b55b2d430c" title="Clear notification of the incoming signal so that we can continue normal operation. " alt="" coords="234,70,387,111"/><area shape="rect" id="node7" href="../../d5/dd5/namespacepx_1_1cds.html#a6d877d2364c718b3fdc8e7f013776da7" title="px::cds::req_unpack" alt="" coords="235,136,386,163"/><area shape="rect" id="node8" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#a0566ff85c1ad0f76732e8b09e7ee67b3" title="Look for any new messages on the client connection socket. " alt="" coords="225,187,396,229"/><area shape="rect" id="node9" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#a7eb02a3cda7a73401a97bf77f3eca844" title="Terminate existing connections. " alt="" coords="211,253,410,280"/><area shape="rect" id="node3" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#acbba1a3b095402aed9c0cb5aed6d84b2" title="Simple getter to retrive client name given client id. " alt="" coords="473,12,652,39"/><area shape="rect" id="node4" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#aef65f1fe4050e9c401d329cd1d31b55e" title="Update the UID, in case the process has done a setuid() Returns the new UID (even if unchanged)..." alt="" coords="459,128,666,155"/><area shape="rect" id="node5" href="../../d5/dc3/classpx_1_1CUtil.html#a157761daad85221750f73edfd65f5715" title="Get a process&#39;s group IDs. " alt="" coords="715,128,914,155"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad960c9a5c4e6d15dbd311511e1e447ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool px::cds::CServer::send_response </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../d3/dbb/classpx_1_1cds_1_1CRequestResponse.html">CRequestResponse</a> &gt;&#160;</td>
          <td class="paramname"><em>response</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a response, to the client_id set in the RequestResponse object. </p>
<p>Returns true if successful, false if the queue is full. If the client connection is gone or nonexistent, returns true and silently discards the response. Safe to call on background threads.</p>
<p>May throw: <a class="el" href="../../d5/d5f/structpx_1_1too__much__data.html" title="Thrown when an operation fails due to an excess of data (context-specific). ">too_much_data</a> (if the response is too large to ever fit in the buffer), <a class="el" href="../../d1/d2c/structpx_1_1generic__err.html" title="Exception class used to indicate a generic error. ">generic_err</a> </p>

<p>Definition at line <a class="el" href="../../df/dd7/server_8cpp_source.html#l00324">324</a> of file <a class="el" href="../../df/dd7/server_8cpp_source.html">server.cpp</a>.</p>

<p>References <a class="el" href="../../de/d7c/request__response_8hpp_source.html#l00026">CALLBACK_NONE</a>, <a class="el" href="../../df/d0a/server_8hpp_source.html#l00105">conn_list_lock</a>, <a class="el" href="../../df/d0a/server_8hpp_source.html#l00103">connections</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00180">LIBPX_ERR</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00184">LIBPX_WARN</a>, <a class="el" href="../../de/d7c/request__response_8hpp_source.html#l00068">px::cds::QUEUE_FULL</a>, <a class="el" href="../../de/d18/packer_8cpp_source.html#l01150">px::cds::req_pack()</a>, <a class="el" href="../../de/d7c/request__response_8hpp_source.html#l00071">px::cds::RESPONSE_TOO_BIG</a>, <a class="el" href="../../de/d7c/request__response_8hpp_source.html#l00062">px::cds::SUCCEEDED</a>, and <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d8f/classpx_1_1cds_1_1CServer_ad960c9a5c4e6d15dbd311511e1e447ad_cgraph.png" border="0" usemap="#d3/d8f/classpx_1_1cds_1_1CServer_ad960c9a5c4e6d15dbd311511e1e447ad_cgraph" alt=""/></div>
<map name="d3/d8f/classpx_1_1cds_1_1CServer_ad960c9a5c4e6d15dbd311511e1e447ad_cgraph" id="d3/d8f/classpx_1_1cds_1_1CServer_ad960c9a5c4e6d15dbd311511e1e447ad_cgraph">
<area shape="rect" id="node2" href="../../d5/dd5/namespacepx_1_1cds.html#a49c47a7060e04ef5eaccdab3e441f264" title="px::cds::req_pack" alt="" coords="222,71,357,97"/><area shape="rect" id="node3" href="../../d5/dd5/namespacepx_1_1cds.html#ade09d8ce5c3cbc71080e4c9658c71848" title="Given a CRequestResponse pointer, return the type enumeration value. " alt="" coords="429,5,582,46"/><area shape="rect" id="node4" href="../../de/dcb/namespacepx.html#a7996667dd567e40923855ae03e3ab8ba" title="Polymorphic casting: this utilizes dynamic_cast&lt;&gt; for non&#45;release builds, thus ensuring that the cast..." alt="" coords="451,71,559,97"/><area shape="rect" id="node5" href="../../d1/d21/classpx_1_1serialize_1_1CByteCounter.html#aedb482ba261e695b9e707c53586de650" title="Get the number of bytes which have been accumulated. " alt="" coords="406,122,605,163"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acbba1a3b095402aed9c0cb5aed6d84b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> px::cds::CServer::source </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dd5/namespacepx_1_1cds.html#a347c78562e97c05e97a62e455b166814">ClientID</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple getter to retrive client name given client id. </p>
<p>returns "unknown" if unable to find client ID </p>

<p>Definition at line <a class="el" href="../../df/dd7/server_8cpp_source.html#l00619">619</a> of file <a class="el" href="../../df/dd7/server_8cpp_source.html">server.cpp</a>.</p>

<p>References <a class="el" href="../../df/d0a/server_8hpp_source.html#l00105">conn_list_lock</a>, and <a class="el" href="../../df/d0a/server_8hpp_source.html#l00103">connections</a>.</p>

<p>Referenced by <a class="el" href="../../df/dd7/server_8cpp_source.html#l00057">check_for_connections()</a>.</p>

</div>
</div>
<a class="anchor" id="abb09956817c46f24236b8bf7be72c3ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int px::cds::CServer::uid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dd5/namespacepx_1_1cds.html#a347c78562e97c05e97a62e455b166814">ClientID</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the Linux UID of the process connected to a particular client ID. </p>
<p>Returns -1 if not known. </p>

<p>Definition at line <a class="el" href="../../df/dd7/server_8cpp_source.html#l00631">631</a> of file <a class="el" href="../../df/dd7/server_8cpp_source.html">server.cpp</a>.</p>

<p>References <a class="el" href="../../df/d0a/server_8hpp_source.html#l00105">conn_list_lock</a>, <a class="el" href="../../df/d0a/server_8hpp_source.html#l00103">connections</a>, and <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>.</p>

</div>
</div>
<a class="anchor" id="aef65f1fe4050e9c401d329cd1d31b55e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int px::cds::CServer::update_uid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dd5/namespacepx_1_1cds.html#a347c78562e97c05e97a62e455b166814">ClientID</a>&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the UID, in case the process has done a setuid() Returns the new UID (even if unchanged), -1 if not known. </p>

<p>Definition at line <a class="el" href="../../df/dd7/server_8cpp_source.html#l00681">681</a> of file <a class="el" href="../../df/dd7/server_8cpp_source.html">server.cpp</a>.</p>

<p>References <a class="el" href="../../df/d0a/server_8hpp_source.html#l00105">conn_list_lock</a>, <a class="el" href="../../df/d0a/server_8hpp_source.html#l00103">connections</a>, <a class="el" href="../../df/d2d/util_8cpp_source.html#l00925">px::CUtil::get_process_gids()</a>, and <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>.</p>

<p>Referenced by <a class="el" href="../../df/dd7/server_8cpp_source.html#l00057">check_for_connections()</a>, and <a class="el" href="../../df/dd7/server_8cpp_source.html#l00709">serve_client_conn_req()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d8f/classpx_1_1cds_1_1CServer_aef65f1fe4050e9c401d329cd1d31b55e_cgraph.png" border="0" usemap="#d3/d8f/classpx_1_1cds_1_1CServer_aef65f1fe4050e9c401d329cd1d31b55e_cgraph" alt=""/></div>
<map name="d3/d8f/classpx_1_1cds_1_1CServer_aef65f1fe4050e9c401d329cd1d31b55e_cgraph" id="d3/d8f/classpx_1_1cds_1_1CServer_aef65f1fe4050e9c401d329cd1d31b55e_cgraph">
<area shape="rect" id="node2" href="../../d5/dc3/classpx_1_1CUtil.html#a157761daad85221750f73edfd65f5715" title="Get a process&#39;s group IDs. " alt="" coords="262,5,461,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af49f5ddf6ff5c13d640c34ac53da28b9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int px::cds::CServer::update_uid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dd5/namespacepx_1_1cds.html#a347c78562e97c05e97a62e455b166814">ClientID</a>&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>new_uid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the client's uid to new_uid. </p>
<p>new_uid is useful when the uid is set <b>after</b> a CDS connection is made. </p>

<p>Definition at line <a class="el" href="../../df/dd7/server_8cpp_source.html#l00648">648</a> of file <a class="el" href="../../df/dd7/server_8cpp_source.html">server.cpp</a>.</p>

<p>References <a class="el" href="../../df/d0a/server_8hpp_source.html#l00105">conn_list_lock</a>, <a class="el" href="../../df/d0a/server_8hpp_source.html#l00103">connections</a>, <a class="el" href="../../df/d2d/util_8cpp_source.html#l00925">px::CUtil::get_process_gids()</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00188">LIBPX_NOTICE</a>, and <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d8f/classpx_1_1cds_1_1CServer_af49f5ddf6ff5c13d640c34ac53da28b9_cgraph.png" border="0" usemap="#d3/d8f/classpx_1_1cds_1_1CServer_af49f5ddf6ff5c13d640c34ac53da28b9_cgraph" alt=""/></div>
<map name="d3/d8f/classpx_1_1cds_1_1CServer_af49f5ddf6ff5c13d640c34ac53da28b9_cgraph" id="d3/d8f/classpx_1_1cds_1_1CServer_af49f5ddf6ff5c13d640c34ac53da28b9_cgraph">
<area shape="rect" id="node2" href="../../d5/dc3/classpx_1_1CUtil.html#a157761daad85221750f73edfd65f5715" title="Get a process&#39;s group IDs. " alt="" coords="262,5,461,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a411c66618f5276c641ecab931b34afc1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void px::cds::CServer::check_for_connections </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Look for any new connections, establish them, set up the new client IDs and IPC objects. </p>
<p>Can throw <a class="el" href="../../d1/d2c/structpx_1_1generic__err.html" title="Exception class used to indicate a generic error. ">px::generic_err</a> if can't open a socket for the connection. </p>

<p>Definition at line <a class="el" href="../../df/dd7/server_8cpp_source.html#l00057">57</a> of file <a class="el" href="../../df/dd7/server_8cpp_source.html">server.cpp</a>.</p>

<p>References <a class="el" href="../../df/d0a/server_8hpp_source.html#l00103">connections</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00188">LIBPX_NOTICE</a>, <a class="el" href="../../df/d0a/server_8hpp_source.html#l00137">master_socket</a>, <a class="el" href="../../df/d0a/server_8hpp_source.html#l00132">next_client_id</a>, <a class="el" href="../../df/d0a/server_8hpp_source.html#l00142">pending_connections</a>, <a class="el" href="../../df/dd7/server_8cpp_source.html#l00619">source()</a>, <a class="el" href="../../dd/d3a/common_8hpp_source.html#l00024">unlikely</a>, <a class="el" href="../../df/dd7/server_8cpp_source.html#l00681">update_uid()</a>, and <a class="el" href="../../df/d0a/server_8hpp_source.html#l00135">watch_files</a>.</p>

<p>Referenced by <a class="el" href="../../df/dd7/server_8cpp_source.html#l00457">get_pending_requests()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d8f/classpx_1_1cds_1_1CServer_a411c66618f5276c641ecab931b34afc1_cgraph.png" border="0" usemap="#d3/d8f/classpx_1_1cds_1_1CServer_a411c66618f5276c641ecab931b34afc1_cgraph" alt=""/></div>
<map name="d3/d8f/classpx_1_1cds_1_1CServer_a411c66618f5276c641ecab931b34afc1_cgraph" id="d3/d8f/classpx_1_1cds_1_1CServer_a411c66618f5276c641ecab931b34afc1_cgraph">
<area shape="rect" id="node2" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#acbba1a3b095402aed9c0cb5aed6d84b2" title="Simple getter to retrive client name given client id. " alt="" coords="241,5,420,32"/><area shape="rect" id="node3" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#aef65f1fe4050e9c401d329cd1d31b55e" title="Update the UID, in case the process has done a setuid() Returns the new UID (even if unchanged)..." alt="" coords="227,56,434,83"/><area shape="rect" id="node4" href="../../d5/dc3/classpx_1_1CUtil.html#a157761daad85221750f73edfd65f5715" title="Get a process&#39;s group IDs. " alt="" coords="483,56,682,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0566ff85c1ad0f76732e8b09e7ee67b3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void px::cds::CServer::serve_client_conn_req </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d5/dd5/namespacepx_1_1cds.html#a347c78562e97c05e97a62e455b166814">ClientID</a>&#160;</td>
          <td class="paramname"><em>client_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>client_socket</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Look for any new messages on the client connection socket. </p>
<p>SCM_CREDENTIALS is an example of a client message. </p>

<p>Definition at line <a class="el" href="../../df/dd7/server_8cpp_source.html#l00709">709</a> of file <a class="el" href="../../df/dd7/server_8cpp_source.html">server.cpp</a>.</p>

<p>References <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00180">LIBPX_ERR</a>, <a class="el" href="../../d4/d3d/log_8hpp_source.html#l00184">LIBPX_WARN</a>, and <a class="el" href="../../df/dd7/server_8cpp_source.html#l00681">update_uid()</a>.</p>

<p>Referenced by <a class="el" href="../../df/dd7/server_8cpp_source.html#l00457">get_pending_requests()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d8f/classpx_1_1cds_1_1CServer_a0566ff85c1ad0f76732e8b09e7ee67b3_cgraph.png" border="0" usemap="#d3/d8f/classpx_1_1cds_1_1CServer_a0566ff85c1ad0f76732e8b09e7ee67b3_cgraph" alt=""/></div>
<map name="d3/d8f/classpx_1_1cds_1_1CServer_a0566ff85c1ad0f76732e8b09e7ee67b3_cgraph" id="d3/d8f/classpx_1_1cds_1_1CServer_a0566ff85c1ad0f76732e8b09e7ee67b3_cgraph">
<area shape="rect" id="node2" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html#aef65f1fe4050e9c401d329cd1d31b55e" title="Update the UID, in case the process has done a setuid() Returns the new UID (even if unchanged)..." alt="" coords="225,12,431,39"/><area shape="rect" id="node3" href="../../d5/dc3/classpx_1_1CUtil.html#a157761daad85221750f73edfd65f5715" title="Get a process&#39;s group IDs. " alt="" coords="481,12,679,39"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ac012e85631da3dc8f78a9eddf7692a27"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;<a class="el" href="../../d5/dd5/namespacepx_1_1cds.html#a347c78562e97c05e97a62e455b166814">ClientID</a>, std::shared_ptr&lt;<a class="el" href="../../d4/dce/classpx_1_1cds_1_1CServerConnection.html">CServerConnection</a>&gt; &gt; px::cds::CServer::connections</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d0a/server_8hpp_source.html#l00103">103</a> of file <a class="el" href="../../df/d0a/server_8hpp_source.html">server.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../df/dd7/server_8cpp_source.html#l00057">check_for_connections()</a>, <a class="el" href="../../df/dd7/server_8cpp_source.html#l00457">get_pending_requests()</a>, <a class="el" href="../../df/dd7/server_8cpp_source.html#l00324">send_response()</a>, <a class="el" href="../../df/dd7/server_8cpp_source.html#l00250">shutdown()</a>, <a class="el" href="../../df/dd7/server_8cpp_source.html#l00619">source()</a>, <a class="el" href="../../df/dd7/server_8cpp_source.html#l00631">uid()</a>, and <a class="el" href="../../df/dd7/server_8cpp_source.html#l00648">update_uid()</a>.</p>

</div>
</div>
<a class="anchor" id="a54ea33415557639e09b3c2215db0137b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex px::cds::CServer::conn_list_lock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d0a/server_8hpp_source.html#l00105">105</a> of file <a class="el" href="../../df/d0a/server_8hpp_source.html">server.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../df/dd7/server_8cpp_source.html#l00457">get_pending_requests()</a>, <a class="el" href="../../df/dd7/server_8cpp_source.html#l00324">send_response()</a>, <a class="el" href="../../df/dd7/server_8cpp_source.html#l00250">shutdown()</a>, <a class="el" href="../../df/dd7/server_8cpp_source.html#l00619">source()</a>, <a class="el" href="../../df/dd7/server_8cpp_source.html#l00631">uid()</a>, and <a class="el" href="../../df/dd7/server_8cpp_source.html#l00648">update_uid()</a>.</p>

</div>
</div>
<a class="anchor" id="ad9e0d49b19f526dee6a02f4df3b2a954"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d5/dd5/namespacepx_1_1cds.html#a347c78562e97c05e97a62e455b166814">ClientID</a> px::cds::CServer::next_client_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d0a/server_8hpp_source.html#l00132">132</a> of file <a class="el" href="../../df/d0a/server_8hpp_source.html">server.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../df/dd7/server_8cpp_source.html#l00057">check_for_connections()</a>.</p>

</div>
</div>
<a class="anchor" id="ab184b100fb39f4188a989fd44e4cf622"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;struct pollfd&gt; px::cds::CServer::watch_files</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d0a/server_8hpp_source.html#l00135">135</a> of file <a class="el" href="../../df/d0a/server_8hpp_source.html">server.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../df/dd7/server_8cpp_source.html#l00057">check_for_connections()</a>, <a class="el" href="../../df/dd7/server_8cpp_source.html#l00457">get_pending_requests()</a>, <a class="el" href="../../df/dd7/server_8cpp_source.html#l00268">listen()</a>, and <a class="el" href="../../df/dd7/server_8cpp_source.html#l00250">shutdown()</a>.</p>

</div>
</div>
<a class="anchor" id="ae98b333984f95badf83d80b5111c02e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int px::cds::CServer::master_socket</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d0a/server_8hpp_source.html#l00137">137</a> of file <a class="el" href="../../df/d0a/server_8hpp_source.html">server.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../df/dd7/server_8cpp_source.html#l00057">check_for_connections()</a>, <a class="el" href="../../df/dd7/server_8cpp_source.html#l00457">get_pending_requests()</a>, <a class="el" href="../../df/dd7/server_8cpp_source.html#l00268">listen()</a>, and <a class="el" href="../../df/dd7/server_8cpp_source.html#l00250">shutdown()</a>.</p>

</div>
</div>
<a class="anchor" id="a9ee9de3dd3fc4ef591d98381fc804cc7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int px::cds::CServer::shutdown_socket</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d0a/server_8hpp_source.html#l00139">139</a> of file <a class="el" href="../../df/d0a/server_8hpp_source.html">server.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../df/dd7/server_8cpp_source.html#l00457">get_pending_requests()</a>, and <a class="el" href="../../df/dd7/server_8cpp_source.html#l00268">listen()</a>.</p>

</div>
</div>
<a class="anchor" id="ad687aa3c68fbc71d4844fd90a45130aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;int&gt; px::cds::CServer::pending_connections</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d0a/server_8hpp_source.html#l00142">142</a> of file <a class="el" href="../../df/d0a/server_8hpp_source.html">server.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../df/dd7/server_8cpp_source.html#l00057">check_for_connections()</a>, and <a class="el" href="../../df/dd7/server_8cpp_source.html#l00457">get_pending_requests()</a>.</p>

</div>
</div>
<a class="anchor" id="a249e21846ac13d771be54963921c083c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d2b/classpx_1_1cds_1_1CSignalPipe.html">CSignalPipe</a> px::cds::CServer::sigpipe</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d0a/server_8hpp_source.html#l00145">145</a> of file <a class="el" href="../../df/d0a/server_8hpp_source.html">server.hpp</a>.</p>

<p>Referenced by <a class="el" href="../../df/dd7/server_8cpp_source.html#l00457">get_pending_requests()</a>, and <a class="el" href="../../df/dd7/server_8cpp_source.html#l00268">listen()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="../../df/d0a/server_8hpp_source.html">server.hpp</a></li>
<li><a class="el" href="../../df/dd7/server_8cpp_source.html">server.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../de/dcb/namespacepx.html">px</a></li><li class="navelem"><a class="el" href="../../d5/dd5/namespacepx_1_1cds.html">cds</a></li><li class="navelem"><a class="el" href="../../d3/d8f/classpx_1_1cds_1_1CServer.html">CServer</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:24:23 for libpx by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
