<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>libpx: cds_sync_io.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">libpx
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('db/d78/cds__sync__io_8cpp_source.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">cds_sync_io.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../db/d78/cds__sync__io_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno"><a class="line" href="../../db/d78/cds__sync__io_8cpp.html#a15e74dc945b6abf9c8ce62fcba2e517a">    1</a></span>&#160;<span class="preprocessor">#define LIBPX_LOG_SUBSYSTEM LIBPX_LOG_CDS_HANDLE</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#include &quot;<a class="code" href="../../d2/dfe/client_8hpp.html">px/cds/client.hpp</a>&quot;</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d0/d4e/signal__pipe_8hpp.html">px/cds/signal_pipe.hpp</a>&quot;</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d64/clear__watchdog_8hpp.html">px/cds/clear_watchdog.hpp</a>&quot;</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d8b/ping__watchdog_8hpp.html">px/cds/ping_watchdog.hpp</a>&quot;</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/d07/register__watchdog_8hpp.html">px/cds/register_watchdog.hpp</a>&quot;</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/d43/create__channel_8hpp.html">px/cds/create_channel.hpp</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/df8/delete__channel_8hpp.html">px/cds/delete_channel.hpp</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dd/d1e/get__oob__tags_8hpp.html">px/cds/get_oob_tags.hpp</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d16/clear__oob__data_8hpp.html">px/cds/clear_oob_data.hpp</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d4b/get__channel_8hpp.html">px/cds/get_channel.hpp</a>&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d6c/get__channel__settings_8hpp.html">px/cds/get_channel_settings.hpp</a>&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d89/get__channel__value_8hpp.html">px/cds/get_channel_value.hpp</a>&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d4b/update__channel__value_8hpp.html">px/cds/update_channel_value.hpp</a>&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/d8b/update__device_8hpp.html">px/cds/update_device.hpp</a>&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/db0/create__device_8hpp.html">px/cds/create_device.hpp</a>&quot;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/db7/delete__device_8hpp.html">px/cds/delete_device.hpp</a>&quot;</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../dc/dc8/get__device_8hpp.html">px/cds/get_device.hpp</a>&quot;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d15/manage__subscriber__ids_8hpp.html">px/cds/manage_subscriber_ids.hpp</a>&quot;</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d9/dbb/subscribe_8hpp.html">px/cds/subscribe.hpp</a>&quot;</span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/df9/subscriber__notify_8hpp.html">px/cds/subscriber_notify.hpp</a>&quot;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../df/d45/get__alarms_8hpp.html">px/cds/get_alarms.hpp</a>&quot;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d6e/login_8hpp.html">px/cds/login.hpp</a>&quot;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../db/d8b/permission_8hpp.html">px/enum/permission.hpp</a>&quot;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/df0/query__trends_8hpp.html">px/cds/query_trends.hpp</a>&quot;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/d22/channel__trends_8hpp.html">px/data/channel_trends.hpp</a>&quot;</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d7/dc6/cds__sync__io_8hpp.html">px/asio/cds/cds_sync_io.hpp</a>&quot;</span></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d32/util_2util_8hpp.html">px/util/util.hpp</a>&quot;</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d3/d06/string__util_8hpp.html">px/util/string_util.hpp</a>&quot;</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor">#include &quot;px_config.h&quot;</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;sys/epoll.h&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d4/d3d/log_8hpp.html">log.hpp</a>&quot;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="../../db/d78/cds__sync__io_8cpp.html#a43dd095543dc83039eea2312e0939986">   42</a></span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../db/d78/cds__sync__io_8cpp.html#a43dd095543dc83039eea2312e0939986">MAX_CHANNELS_PER_REQ</a> = 50;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="keyword">namespace </span>px {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="keyword">namespace </span>asio {</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">// Constructor</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">//CCdsSyncIO::CCdsSyncIO()</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment">//      _bypass_validation( false )</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">//{</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">//}</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">// Constructor</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00057"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a63f75ebe08fd50b221eecfe9befb42ec">   57</a></span>&#160;<a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a63f75ebe08fd50b221eecfe9befb42ec">CCdsSyncIO::CCdsSyncIO</a>( <span class="keyword">const</span> <span class="keywordtype">bool</span> enable_data_validation )</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        : _bypass_validation( !enable_data_validation )</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;{}</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">// Simple destructor</span></div>
<div class="line"><a name="l00062"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#afc091f1a1c51f005aa453e8607a1c3b1">   62</a></span>&#160;<a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#afc091f1a1c51f005aa453e8607a1c3b1">CCdsSyncIO::~CCdsSyncIO</a>()</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <span class="comment">// Do a graceful disconnect, closing out subscriptions, etc</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a5aa42d307a74fdd3117745f85a587e34">disconnect</a>();</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;}</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">   72</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">CCdsSyncIO::check_cds_result</a>( <span class="keyword">const</span> std::shared_ptr&lt;px::cds::CRequestResponse&gt; cds_resp,</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                                                                   <span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d5/dd5/namespacepx_1_1cds.html#af13231d122984b008813ea52d906041b">req_name</a> )<span class="keyword"> const</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        assert( req_name );</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordtype">char</span> msg[120];</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordflow">if</span> ( !cds_resp.get() )</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                snprintf( msg, 120, <span class="stringliteral">&quot;CDS error: Failed to get a response for %s&quot;</span>, req_name );</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                <span class="keywordflow">throw</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a>( msg );</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordflow">if</span> ( cds_resp-&gt;status != <a class="code" href="../../d5/dd5/namespacepx_1_1cds.html#a24c4c8fb05021548bccecd5fa3f2e5feababe2b4a31ed96d73bd4c7d9556e583a">px::cds::RequestStatus::SUCCEEDED</a> )</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                snprintf( msg, 120, <span class="stringliteral">&quot;CDS error result: %s for %s&quot;</span>, cds_resp-&gt;get_status_text(), <a class="code" href="../../d5/dd5/namespacepx_1_1cds.html#af13231d122984b008813ea52d906041b">req_name</a> );</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;                <span class="keywordflow">throw</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a>( msg );</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;}</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">// See cds_handler.hpp for description</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a4987f836e19aa1836a480e804e4d6fd8">   96</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a4987f836e19aa1836a480e804e4d6fd8">CCdsSyncIO::cds_login</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;service,</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                                                   <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;session_token,</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                                                   <a class="code" href="../../dd/d57/classpx_1_1CBitset.html">px::CBitset&lt;px::permissions&gt;</a> &amp;my_perms )</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;{</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <a class="code" href="../../dc/d26/classpx_1_1cds_1_1CCdsClientLogin.html">px::cds::CCdsClientLogin</a> cds_req;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        cds_req.<a class="code" href="../../dc/d26/classpx_1_1cds_1_1CCdsClientLogin.html#a00af3c2448a31ece1c0036c4a4ae9c4b">service</a> = service;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="comment">// Set for no timeouts</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;        cds_req.<a class="code" href="../../dc/d26/classpx_1_1cds_1_1CCdsClientLogin.html#a53937ef73561f7e3fbedd780a162dc48">idle_timeout</a> = cds_req.<a class="code" href="../../dc/d26/classpx_1_1cds_1_1CCdsClientLogin.html#a5b8a5bf99d23d11123ea3ae3ce7ba277">hard_timeout</a> = 0;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        std::shared_ptr&lt;px::cds::CCdsClientLogin&gt; cds_resp =</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                std::dynamic_pointer_cast&lt;<a class="code" href="../../dc/d26/classpx_1_1cds_1_1CCdsClientLogin.html">px::cds::CCdsClientLogin</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( cds_req ) );</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                <span class="keywordflow">if</span> ( cds_resp )</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( cds_resp, <span class="stringliteral">&quot;CCdsClientLogin&quot;</span> );</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a> &amp;e )</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;Generic exception during cds result checking : %s&quot;</span>, e.<a class="code" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6">what</a>() );</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                <span class="keywordflow">return</span> ( -1 );</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">if</span> ( !cds_resp-&gt;session_token.empty() &amp;&amp; !cds_resp-&gt;permissions.empty() )</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 2, <span class="stringliteral">&quot;CCdsClientLogin returned token %s for perms %s&quot;</span>,</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                                         cds_resp-&gt;session_token.c_str(), <a class="code" href="../../da/dda/namespacepx_1_1permission.html#a7449a16cbcc654759961b6640de7ce33">px::permission::perms_to_short_str</a>( cds_resp-&gt;permissions ).c_str() );</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                session_token = cds_resp-&gt;session_token;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                my_perms = cds_resp-&gt;permissions;</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <span class="comment">// Otherwise:</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a87e1fdf1ba293b942ef6f9a1d51e6f3f">LIBPX_WARN</a>( 1, <span class="stringliteral">&quot;CCdsClientLogin(%s) failed to get token or permissions&quot;</span>, cds_req.<a class="code" href="../../dc/d26/classpx_1_1cds_1_1CCdsClientLogin.html#a00af3c2448a31ece1c0036c4a4ae9c4b">service</a>.c_str() );</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                <span class="keywordflow">return</span> ( -1 );</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        }</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordflow">return</span> ( 0 );</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;}</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#afe5de53abf68ed17c140fc7a3f3914b1">  145</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#afe5de53abf68ed17c140fc7a3f3914b1">CCdsSyncIO::ping_watchdog_s</a>()</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;{</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <a class="code" href="../../d9/d9c/classpx_1_1cds_1_1CPingWatchdog.html">px::cds::CPingWatchdog</a> ping_msg;                <span class="comment">// no arguments for this simple message</span></div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        <span class="comment">// Fire n forget</span></div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a907410082d34b93630b2f0b0abe44186">submit</a>( ping_msg );</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 8, <span class="stringliteral">&quot;Pinging Watchdog directly.&quot;</span> );</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        }</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a> &amp;ex )</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 2, <span class="stringliteral">&quot;Failed to ping watchdog: %s&quot;</span>, ex.<a class="code" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6">what</a>() );</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        }</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;}</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00165"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a8f29ea559d6d336777c87277ccaf5692">  165</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a8f29ea559d6d336777c87277ccaf5692">CCdsSyncIO::register_watchdog</a>( uint32_t timeout, <span class="keywordtype">bool</span> auto_clear_on_close )</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;{</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        assert( timeout );</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        <a class="code" href="../../db/d07/classpx_1_1cds_1_1CRegisterWatchdog.html">px::cds::CRegisterWatchdog</a> reg_watchdog_msg( timeout, auto_clear_on_close );</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a907410082d34b93630b2f0b0abe44186">submit</a>( reg_watchdog_msg );</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#aedf82e390ea25288cf698a9d9eb470ef">LIBPX_INFO</a>( 5, <span class="stringliteral">&quot;Watchdog registered&quot;</span> );</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;}</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00180"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a384337eb525df4765a6f88b031040674">  180</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a384337eb525df4765a6f88b031040674">CCdsSyncIO::clear_watchdog</a>()</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;{</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        <a class="code" href="../../d6/dbd/classpx_1_1cds_1_1CClearWatchdog.html">px::cds::CClearWatchdog</a> clear_msg;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( clear_msg );</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#aedf82e390ea25288cf698a9d9eb470ef">LIBPX_INFO</a>( 5, <span class="stringliteral">&quot;Closed down Watchdog&quot;</span> );</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;}</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00193"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#ac57f4a954601fe7fc552abc36410898d">  193</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#ac57f4a954601fe7fc552abc36410898d">CCdsSyncIO::get_oob</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;tag, px::proto::toolkitStruct &amp;data )</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;{</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;        assert( !tag.empty() );</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <a class="code" href="../../d3/d07/classpx_1_1cds_1_1CGetOOBData.html">px::cds::CGetOOBData</a> cds_req;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        cds_req.<a class="code" href="../../d3/d07/classpx_1_1cds_1_1CGetOOBData.html#a52441f65d0838baad03b632fe436d137">tags</a>.push_back( tag );</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="comment">// We won&#39;t throw just because submit() failed or an OOB isn&#39;t there;</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        <span class="comment">// we have a false return to handle that</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        {</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                std::shared_ptr&lt;px::cds::CGetOOBData&gt; cds_resp =</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                        std::dynamic_pointer_cast&lt;<a class="code" href="../../d3/d07/classpx_1_1cds_1_1CGetOOBData.html">px::cds::CGetOOBData</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( cds_req ) );</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( cds_resp, <span class="stringliteral">&quot;CGetOOBData&quot;</span> );</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                <span class="keywordflow">if</span> ( !cds_resp-&gt;data.empty() &amp;&amp; cds_resp-&gt;data[0].valid )</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                        <span class="comment">// (If more than one OOB returned, you aren&#39;t going to know...)</span></div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                        <span class="comment">// Copy the result to our structure to be returned.</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                        data = cds_resp-&gt;data[0].data;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                        <span class="keywordflow">return</span> ( <span class="keyword">true</span> );</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a> &amp;ex )</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;        {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a87e1fdf1ba293b942ef6f9a1d51e6f3f">LIBPX_WARN</a>( 2, <span class="stringliteral">&quot;Failed to get OOB %s : %s&quot;</span>, tag.c_str(), ex.<a class="code" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6">what</a>() );</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;        <span class="comment">// Otherwise:</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;        <span class="keywordflow">return</span> ( <span class="keyword">false</span> );</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;}</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;</div>
<div class="line"><a name="l00228"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a867ef196ae4e9b77a551c1ba3f113e3e">  228</a></span>&#160;std::pair&lt;px::CValue, bool&gt; <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a867ef196ae4e9b77a551c1ba3f113e3e">CCdsSyncIO::get_oob_field</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;tag_name, <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;field_name )<span class="keyword"> const</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        <a class="code" href="../../de/db2/classpx_1_1cds_1_1CSingleField.html">px::cds::CSingleField</a> oob_field( <a class="code" href="../../d5/dd5/namespacepx_1_1cds.html#a9f04b036ac0ec3e9d9966164dfe257eaa2245023265ae4cf87d02c8b6ba991139">px::cds::field_message_type::config</a>, field_name, tag_name );</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        <a class="code" href="../../dd/d71/classpx_1_1cds_1_1CGetFieldValue.html">px::cds::CGetFieldValue</a> msg;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keywordtype">bool</span> success = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;        <a class="code" href="../../db/dd9/classpx_1_1CValue.html">px::CValue</a> field_value;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        msg.<a class="code" href="../../dd/d71/classpx_1_1cds_1_1CGetFieldValue.html#a17b35c218a3fe4ad08fb48f6345b9227">fields</a>.insert( oob_field );</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="comment">// We won&#39;t throw just because submit() failed or an OOB isn&#39;t there;</span></div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="comment">// we have a false return to handle that</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        {</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                std::shared_ptr&lt;px::cds::CGetFieldValue&gt; cds_resp =</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                        std::dynamic_pointer_cast&lt;<a class="code" href="../../dd/d71/classpx_1_1cds_1_1CGetFieldValue.html">px::cds::CGetFieldValue</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( msg ) );</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( cds_resp, <span class="stringliteral">&quot;CGetFieldValue&quot;</span> );</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                <span class="keywordflow">if</span> ( cds_resp-&gt;fields.size() &gt; 0 )</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                {</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                        <span class="keywordflow">if</span> ( cds_resp-&gt;fields.begin()-&gt;value.type() != <a class="code" href="../../de/dcb/namespacepx.html#acf6770f6d835c0c868d8be96d1771e3fafedb2d84cafe20862cb4399751a8a7e3">px::datatype::invalid</a> )</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                        {</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                                success = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                                field_value = cds_resp-&gt;fields.begin()-&gt;value;</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                        }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                }</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;        }</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a> &amp;ex )</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;        {</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a87e1fdf1ba293b942ef6f9a1d51e6f3f">LIBPX_WARN</a>( 2, <span class="stringliteral">&quot;Failed to get OOB field %s.%s : %s&quot;</span>, tag_name.c_str(), field_name.c_str(), ex.<a class="code" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6">what</a>() );</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;        }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;        <span class="keywordflow">return</span> ( std::make_pair( field_value, success ) );</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;}</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;<span class="comment">// Get the list of OOB tags, given a starting hint (which can be empty to get all).</span></div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a4cb43e9c33bce2fd28e6a720384b4ffd">  267</a></span>&#160;std::vector&lt;px::string&gt; <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a4cb43e9c33bce2fd28e6a720384b4ffd">CCdsSyncIO::get_oob_tags</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;tag_hint )</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;{</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;        <a class="code" href="../../d4/d5b/classpx_1_1cds_1_1CGetOOBTags.html">px::cds::CGetOOBTags</a> cds_req;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;        <span class="keywordflow">if</span> ( !tag_hint.empty() )</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;        {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                cds_req.<a class="code" href="../../d4/d5b/classpx_1_1cds_1_1CGetOOBTags.html#a643180a63150df17649485131b524133">filters</a>.push_back( tag_hint );</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        <span class="comment">// We won&#39;t throw just because submit() failed or some other error;</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        <span class="comment">// we have an empty return to handle that</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        {</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                std::shared_ptr&lt;px::cds::CGetOOBTags&gt; cds_resp =</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                        std::dynamic_pointer_cast&lt;<a class="code" href="../../d4/d5b/classpx_1_1cds_1_1CGetOOBTags.html">px::cds::CGetOOBTags</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( cds_req ) );</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( cds_resp, <span class="stringliteral">&quot;CGetOOBTags&quot;</span> );</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                <span class="keywordflow">if</span> ( !cds_resp-&gt;tags.empty() )</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;                {</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;                        <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 5, <span class="stringliteral">&quot;GetOOBTags returned %zu tags for hint %s (eg, %s)&quot;</span>, cds_resp-&gt;tags.size(),</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;                                                 tag_hint.c_str(), cds_resp-&gt;tags[0].c_str() );</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;                        <span class="keywordflow">return</span> ( cds_resp-&gt;tags );</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;                }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;                {</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;                        <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 4, <span class="stringliteral">&quot;GetOOBTags returned no tags for hint %s&quot;</span>, tag_hint.c_str() );</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                }</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        }</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a> &amp;ex )</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        {</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a87e1fdf1ba293b942ef6f9a1d51e6f3f">LIBPX_WARN</a>( 1, <span class="stringliteral">&quot;Failed to get OOB tags for hint %s : %s&quot;</span>, tag_hint.c_str(), ex.<a class="code" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6">what</a>() );</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        }</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;        <span class="comment">// Otherwise:</span></div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        std::vector&lt;px::string&gt; empty_tag_list;</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <span class="keywordflow">return</span> ( empty_tag_list );</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;}</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;<span class="comment">// What you lose here compared to CCdsHandler::set_oob() is guarding against</span></div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="comment">// making this synchronous submit() call if you happen to already be in a callback.</span></div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00311"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a64076f2bd2e412acf0ba3df9985cc1ab">  311</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a64076f2bd2e412acf0ba3df9985cc1ab">CCdsSyncIO::set_oob_s</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;tag, <span class="keyword">const</span> px::proto::toolkitStruct &amp;data, <span class="keywordtype">bool</span> persist )</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;{</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;        assert( !tag.empty() );</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;        <a class="code" href="../../d4/d55/classpx_1_1cds_1_1CSetOOBData.html">px::cds::CSetOOBData</a> cds_req;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;        cds_req.<a class="code" href="../../d4/d55/classpx_1_1cds_1_1CSetOOBData.html#a86c87efc4c9a5194b13059406cdf6888">data</a>.push_back( <a class="code" href="../../d6/d60/classpx_1_1cds_1_1CSetOOBDataUnit.html">px::cds::CSetOOBDataUnit</a>( tag, data, ( persist ? <a class="code" href="../../d5/dd5/namespacepx_1_1cds.html#afb592c0e9297414bf72bd442764b079aa4e4104ab10b7592af99a7bbc6023d93f">px::cds::persistence::save_always</a> : <a class="code" href="../../d5/dd5/namespacepx_1_1cds.html#afb592c0e9297414bf72bd442764b079aac8c45f79829ea04ab6d397525bf35b94">px::cds::persistence::do_not_save</a> ) ) );</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        {</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a907410082d34b93630b2f0b0abe44186">submit</a>( cds_req );</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#aedf82e390ea25288cf698a9d9eb470ef">LIBPX_INFO</a>( 5, <span class="stringliteral">&quot;Updated %s OOB data.&quot;</span>, tag.c_str() );</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="comment">// ToDo: can it really throw this exception?  CDS itself throws px:: exceptions</span></div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::exception &amp;ex )</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;        {</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;When updating %s OOB data : %s&quot;</span>, tag.c_str(), ex.what() );</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;                <span class="comment">/* Coverity was flagging uncaught exceptions when we throw here;</span></div>
<div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;<span class="comment">                 * given that this seems highly unlikely to occur,</span></div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;<span class="comment">                 * and since the CdsHandler is supposed to provide convenience,</span></div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;<span class="comment">                 * just log the Error but don&#39;t throw.</span></div>
<div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;<span class="comment">                 */</span></div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;                <span class="comment">// px::string msg( &quot;Failure to set OOB Data &quot; );</span></div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;                <span class="comment">// msg += tag;</span></div>
<div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;                <span class="comment">// throw px::generic_err( msg.c_str() );</span></div>
<div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;        }</div>
<div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;}</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div>
<div class="line"><a name="l00341"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a31ee6e1a2bcfb48b87fe0d281b485851">  341</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a31ee6e1a2bcfb48b87fe0d281b485851">CCdsSyncIO::set_oob_wait</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;tag, <span class="keyword">const</span> px::proto::toolkitStruct &amp;data, <span class="keywordtype">bool</span> persist )</div>
<div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;{</div>
<div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;        assert( !tag.empty() );</div>
<div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;</div>
<div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;        <span class="keywordtype">bool</span> bOK = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <a class="code" href="../../d4/d55/classpx_1_1cds_1_1CSetOOBData.html">px::cds::CSetOOBData</a> cds_req;</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;</div>
<div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;        cds_req.<a class="code" href="../../d4/d55/classpx_1_1cds_1_1CSetOOBData.html#a86c87efc4c9a5194b13059406cdf6888">data</a>.push_back( <a class="code" href="../../d6/d60/classpx_1_1cds_1_1CSetOOBDataUnit.html">px::cds::CSetOOBDataUnit</a>( tag, data, ( persist ? <a class="code" href="../../d5/dd5/namespacepx_1_1cds.html#afb592c0e9297414bf72bd442764b079aa4e4104ab10b7592af99a7bbc6023d93f">px::cds::persistence::save_always</a> : <a class="code" href="../../d5/dd5/namespacepx_1_1cds.html#afb592c0e9297414bf72bd442764b079aac8c45f79829ea04ab6d397525bf35b94">px::cds::persistence::do_not_save</a> ) ) );</div>
<div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;        {</div>
<div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                <span class="comment">// Small advantage to waiting for the result, for error checking.</span></div>
<div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                <span class="keyword">auto</span> resp = <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( cds_req );</div>
<div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( resp, <span class="stringliteral">&quot;set_oob_wait&quot;</span> );</div>
<div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                <span class="comment">// That will throw px::generic_err if there was a problem</span></div>
<div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#aedf82e390ea25288cf698a9d9eb470ef">LIBPX_INFO</a>( 5, <span class="stringliteral">&quot;Updated %s OOB data.&quot;</span>, tag.c_str() );</div>
<div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;        }</div>
<div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;        <span class="comment">// ToDo: can it really throw this exception?  CDS itself throws px:: exceptions</span></div>
<div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a> &amp;ex )</div>
<div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;        {</div>
<div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;When updating %s OOB data : %s&quot;</span>, tag.c_str(), ex.<a class="code" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6">what</a>() );</div>
<div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;                bOK = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;        }</div>
<div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;        <span class="keywordflow">return</span> ( bOK );</div>
<div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;}</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00371"></a><span class="lineno">  371</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00372"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#aedfbfe9393279db9c73f1f8aa10c993f">  372</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#aedfbfe9393279db9c73f1f8aa10c993f">CCdsSyncIO::set_oob_field</a>( ::<a class="code" href="../../de/db2/classpx_1_1cds_1_1CSingleField.html">cds::field_t</a> &amp;field )</div>
<div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;{</div>
<div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div>
<div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;        assert( !field.<a class="code" href="../../de/db2/classpx_1_1cds_1_1CSingleField.html#a90b703d1e069b85df63cc9e4fc165cf3">tag</a>.empty() );</div>
<div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;</div>
<div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;        field.<a class="code" href="../../de/db2/classpx_1_1cds_1_1CSingleField.html#afc2e4fae3ef1dadb2a5f47a95977004d">id</a> = 0;</div>
<div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;        field.<a class="code" href="../../de/db2/classpx_1_1cds_1_1CSingleField.html#abec3554446de7c23fe0b654db1d2c92d">pv</a> = <a class="code" href="../../d5/dd5/namespacepx_1_1cds.html#afb592c0e9297414bf72bd442764b079aa4e4104ab10b7592af99a7bbc6023d93f">px::cds::persistence::save_always</a>;</div>
<div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;</div>
<div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;        <a class="code" href="../../d9/db7/classpx_1_1cds_1_1CSetFieldValue.html">::cds::setv_field_t</a> msg;</div>
<div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;        msg.<a class="code" href="../../d9/db7/classpx_1_1cds_1_1CSetFieldValue.html#a856d0f098cd8de0c82579f36f946cbbd">fields</a>.insert( field );</div>
<div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;</div>
<div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;        std::shared_ptr&lt;px::cds::CSetFieldValue&gt; cds_resp =</div>
<div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;                std::dynamic_pointer_cast&lt;<a class="code" href="../../d9/db7/classpx_1_1cds_1_1CSetFieldValue.html">px::cds::CSetFieldValue</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( msg ) );</div>
<div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div>
<div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( cds_resp, <span class="stringliteral">&quot;CSetFieldValue&quot;</span> );</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;        <span class="keywordflow">if</span> ( cds_resp-&gt;fields.size() &gt; 0 )</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;        {</div>
<div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;                <span class="keywordflow">if</span> ( cds_resp-&gt;fields.begin()-&gt;value.type() != <a class="code" href="../../de/dcb/namespacepx.html#acf6770f6d835c0c868d8be96d1771e3fafedb2d84cafe20862cb4399751a8a7e3">px::datatype::invalid</a> )</div>
<div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;                {</div>
<div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;                        <span class="keywordflow">return</span> ( 0 );</div>
<div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;                }</div>
<div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;        }</div>
<div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;Error: Failed to set oob field value!&quot;</span> );</div>
<div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;        <span class="keywordflow">return</span> ( 1 );</div>
<div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;}</div>
<div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div>
<div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;<span class="comment">// Utility function to delete an OOB object from the CDS.</span></div>
<div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00402"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#afac4e106a5712ab07075f9d51d7c82df">  402</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#afac4e106a5712ab07075f9d51d7c82df">CCdsSyncIO::clear_oob</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;tag )</div>
<div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;{</div>
<div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;</div>
<div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;        assert( !tag.empty() );</div>
<div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <a class="code" href="../../dc/d1b/classpx_1_1cds_1_1CClearOOBData.html">px::cds::CClearOOBData</a> cds_req;</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;        cds_req.<a class="code" href="../../dc/d1b/classpx_1_1cds_1_1CClearOOBData.html#a36afe6e2c552d2a5b08156a04cb5ad49">tags</a>.push_back( tag );</div>
<div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;</div>
<div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;        {</div>
<div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;                <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a907410082d34b93630b2f0b0abe44186">submit</a>( cds_req );</div>
<div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#aedf82e390ea25288cf698a9d9eb470ef">LIBPX_INFO</a>( 5, <span class="stringliteral">&quot;Cleared %s OOB data.&quot;</span>, tag.c_str() );</div>
<div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;        }</div>
<div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;        <span class="comment">// Catch and report exception, but let it go</span></div>
<div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a> &amp;ex )</div>
<div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;        {</div>
<div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;When clearing %s OOB data : %s&quot;</span>, tag.c_str(), ex.<a class="code" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6">what</a>() );</div>
<div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;        }</div>
<div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;}</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00426"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a58cd40e87e5b32dce7935089c65921a5">  426</a></span>&#160;<a class="code" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a58cd40e87e5b32dce7935089c65921a5">CCdsSyncIO::create_channel</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> dev_id,</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;                                                                         <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;canonical_name,</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;                                                                         <span class="keyword">const</span> <span class="keywordtype">bool</span> is_custom )</div>
<div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;{</div>
<div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div>
<div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;        assert( dev_id );</div>
<div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;        assert( !canonical_name.empty() );</div>
<div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div>
<div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;        <span class="keywordflow">if</span> ( canonical_name.empty() )</div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        {</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;                <span class="keywordflow">return</span> ( 0 );</div>
<div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;        }</div>
<div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;</div>
<div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;        <a class="code" href="../../d9/de4/classpx_1_1cds_1_1CCreateChannel.html">px::cds::CCreateChannel</a> cds_req;</div>
<div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;        cds_req.<a class="code" href="../../d9/de4/classpx_1_1cds_1_1CCreateChannel.html#adabe7241523192f95d80386b69037c7d">requests</a>.emplace_back( <a class="code" href="../../d6/d2f/classpx_1_1cds_1_1CCreateSingleChannel.html">px::cds::CCreateSingleChannel</a>( dev_id, canonical_name, !is_custom ) );</div>
<div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;</div>
<div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 8, <span class="stringliteral">&quot;Create channel %s under parent device ID  %&quot;</span> PRIu64 <span class="stringliteral">&quot;&quot;</span>, canonical_name.c_str(), dev_id );</div>
<div class="line"><a name="l00444"></a><span class="lineno">  444</span>&#160;        std::shared_ptr&lt;px::cds::CCreateChannel&gt; cds_resp =</div>
<div class="line"><a name="l00445"></a><span class="lineno">  445</span>&#160;                std::dynamic_pointer_cast&lt;<a class="code" href="../../d9/de4/classpx_1_1cds_1_1CCreateChannel.html">px::cds::CCreateChannel</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( cds_req ) );</div>
<div class="line"><a name="l00446"></a><span class="lineno">  446</span>&#160;</div>
<div class="line"><a name="l00447"></a><span class="lineno">  447</span>&#160;        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( cds_resp, <span class="stringliteral">&quot;CCreateChannel&quot;</span> );</div>
<div class="line"><a name="l00448"></a><span class="lineno">  448</span>&#160;        <span class="keywordflow">if</span> ( cds_resp-&gt;created_channels.size() != 1 )</div>
<div class="line"><a name="l00449"></a><span class="lineno">  449</span>&#160;        {</div>
<div class="line"><a name="l00450"></a><span class="lineno">  450</span>&#160;                <span class="keywordflow">throw</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a>( <span class="stringliteral">&quot;Failed to create requested channel&quot;</span> );</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        }</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div>
<div class="line"><a name="l00453"></a><span class="lineno">  453</span>&#160;        <span class="keywordflow">return</span> ( cds_resp-&gt;created_channels[0].id() );</div>
<div class="line"><a name="l00454"></a><span class="lineno">  454</span>&#160;}</div>
<div class="line"><a name="l00455"></a><span class="lineno">  455</span>&#160;</div>
<div class="line"><a name="l00456"></a><span class="lineno">  456</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00457"></a><span class="lineno">  457</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00458"></a><span class="lineno">  458</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00459"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a98e736116e1949964028fa426ae76a60">  459</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a98e736116e1949964028fa426ae76a60">CCdsSyncIO::delete_channel</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> ch_id )</div>
<div class="line"><a name="l00460"></a><span class="lineno">  460</span>&#160;{</div>
<div class="line"><a name="l00461"></a><span class="lineno">  461</span>&#160;        assert( ch_id );</div>
<div class="line"><a name="l00462"></a><span class="lineno">  462</span>&#160;</div>
<div class="line"><a name="l00463"></a><span class="lineno">  463</span>&#160;        <a class="code" href="../../d1/d7c/classpx_1_1cds_1_1CDeleteChannel.html">px::cds::CDeleteChannel</a> cds_req;</div>
<div class="line"><a name="l00464"></a><span class="lineno">  464</span>&#160;</div>
<div class="line"><a name="l00465"></a><span class="lineno">  465</span>&#160;        <span class="keywordflow">if</span> ( !ch_id )</div>
<div class="line"><a name="l00466"></a><span class="lineno">  466</span>&#160;        {</div>
<div class="line"><a name="l00467"></a><span class="lineno">  467</span>&#160;                <span class="keywordflow">return</span> ( 1 );</div>
<div class="line"><a name="l00468"></a><span class="lineno">  468</span>&#160;        }</div>
<div class="line"><a name="l00469"></a><span class="lineno">  469</span>&#160;        cds_req.<a class="code" href="../../d1/d7c/classpx_1_1cds_1_1CDeleteChannel.html#a0b973a8adb7484850748a24c2fbb1265">ids</a>.push_back( ch_id );</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;</div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 8, <span class="stringliteral">&quot;Delete channel %&quot;</span> PRIu64 <span class="stringliteral">&quot;&quot;</span>, ch_id );</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        std::shared_ptr&lt;px::cds::CDeleteChannel&gt; cds_resp =</div>
<div class="line"><a name="l00473"></a><span class="lineno">  473</span>&#160;                std::dynamic_pointer_cast&lt;<a class="code" href="../../d1/d7c/classpx_1_1cds_1_1CDeleteChannel.html">px::cds::CDeleteChannel</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( cds_req ) );</div>
<div class="line"><a name="l00474"></a><span class="lineno">  474</span>&#160;</div>
<div class="line"><a name="l00475"></a><span class="lineno">  475</span>&#160;        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( cds_resp, <span class="stringliteral">&quot;CDeleteChannel&quot;</span> );</div>
<div class="line"><a name="l00476"></a><span class="lineno">  476</span>&#160;</div>
<div class="line"><a name="l00477"></a><span class="lineno">  477</span>&#160;        <span class="keywordflow">return</span> ( 0 );</div>
<div class="line"><a name="l00478"></a><span class="lineno">  478</span>&#160;}</div>
<div class="line"><a name="l00479"></a><span class="lineno">  479</span>&#160;</div>
<div class="line"><a name="l00480"></a><span class="lineno">  480</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00481"></a><span class="lineno">  481</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00482"></a><span class="lineno">  482</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00483"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#aaf16d3efcf698ad0b32bdc6d8a72dbd0">  483</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#aaf16d3efcf698ad0b32bdc6d8a72dbd0">CCdsSyncIO::delete_channels</a>( <span class="keyword">const</span> std::vector&lt;px::id_t&gt; ch_ids )</div>
<div class="line"><a name="l00484"></a><span class="lineno">  484</span>&#160;{</div>
<div class="line"><a name="l00485"></a><span class="lineno">  485</span>&#160;        assert( !ch_ids.empty() );</div>
<div class="line"><a name="l00486"></a><span class="lineno">  486</span>&#160;        assert( ch_ids.front() );</div>
<div class="line"><a name="l00487"></a><span class="lineno">  487</span>&#160;</div>
<div class="line"><a name="l00488"></a><span class="lineno">  488</span>&#160;        <a class="code" href="../../d1/d7c/classpx_1_1cds_1_1CDeleteChannel.html">px::cds::CDeleteChannel</a> cds_req;</div>
<div class="line"><a name="l00489"></a><span class="lineno">  489</span>&#160;</div>
<div class="line"><a name="l00490"></a><span class="lineno">  490</span>&#160;        <span class="keywordflow">if</span> ( ch_ids.empty() )</div>
<div class="line"><a name="l00491"></a><span class="lineno">  491</span>&#160;        {</div>
<div class="line"><a name="l00492"></a><span class="lineno">  492</span>&#160;                <span class="keywordflow">return</span> ( 1 );</div>
<div class="line"><a name="l00493"></a><span class="lineno">  493</span>&#160;        }</div>
<div class="line"><a name="l00494"></a><span class="lineno">  494</span>&#160;        cds_req.<a class="code" href="../../d1/d7c/classpx_1_1cds_1_1CDeleteChannel.html#a0b973a8adb7484850748a24c2fbb1265">ids</a> = ch_ids;</div>
<div class="line"><a name="l00495"></a><span class="lineno">  495</span>&#160;</div>
<div class="line"><a name="l00496"></a><span class="lineno">  496</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00497"></a><span class="lineno">  497</span>&#160;        {</div>
<div class="line"><a name="l00498"></a><span class="lineno">  498</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 8, <span class="stringliteral">&quot;Deleting %zu channels&quot;</span>, cds_req.ids.size() );</div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;                std::shared_ptr&lt;px::cds::CDeleteChannel&gt; cds_resp =</div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                        std::dynamic_pointer_cast&lt;<a class="code" href="../../d1/d7c/classpx_1_1cds_1_1CDeleteChannel.html">px::cds::CDeleteChannel</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( cds_req ) );</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div>
<div class="line"><a name="l00502"></a><span class="lineno">  502</span>&#160;                <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( cds_resp, <span class="stringliteral">&quot;CDeleteChannel&quot;</span> );</div>
<div class="line"><a name="l00503"></a><span class="lineno">  503</span>&#160;</div>
<div class="line"><a name="l00504"></a><span class="lineno">  504</span>&#160;                <span class="keywordflow">return</span> ( 0 );</div>
<div class="line"><a name="l00505"></a><span class="lineno">  505</span>&#160;        }</div>
<div class="line"><a name="l00506"></a><span class="lineno">  506</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a> &amp;ex )</div>
<div class="line"><a name="l00507"></a><span class="lineno">  507</span>&#160;        {</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;Failed to delete requested channels: %s&quot;</span>, ex.<a class="code" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6">what</a>() );</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;        }</div>
<div class="line"><a name="l00510"></a><span class="lineno">  510</span>&#160;        <span class="keywordflow">return</span> ( 1 );</div>
<div class="line"><a name="l00511"></a><span class="lineno">  511</span>&#160;}</div>
<div class="line"><a name="l00512"></a><span class="lineno">  512</span>&#160;</div>
<div class="line"><a name="l00513"></a><span class="lineno">  513</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00514"></a><span class="lineno">  514</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00516"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a761116acf281585a3e9dbe12e8076986">  516</a></span>&#160;<a class="code" href="../../d0/df1/classpx_1_1CChannel.html">px::CChannel</a> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a761116acf281585a3e9dbe12e8076986">CCdsSyncIO::get_channel</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> chan_id )</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;{</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00519"></a><span class="lineno">  519</span>&#160;</div>
<div class="line"><a name="l00520"></a><span class="lineno">  520</span>&#160;        assert( chan_id );</div>
<div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="comment">// Ask the CDS for it</span></div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;        <a class="code" href="../../d5/d83/classpx_1_1cds_1_1CGetChannel.html">px::cds::CGetChannel</a> chan_req;</div>
<div class="line"><a name="l00524"></a><span class="lineno">  524</span>&#160;        <span class="comment">// Leave the request set to no recursion (level 0)</span></div>
<div class="line"><a name="l00525"></a><span class="lineno">  525</span>&#160;        chan_req.<a class="code" href="../../d5/d83/classpx_1_1cds_1_1CGetChannel.html#a2dc4f811c9fff82c56705db418067972">ids</a>.push_back( chan_id );</div>
<div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 8, <span class="stringliteral">&quot;Requesting Channel %&quot;</span> PRIu64 <span class="stringliteral">&quot; info from the CDS&quot;</span>, chan_id );</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;        std::shared_ptr&lt;px::cds::CGetChannel&gt; chan_resp =</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;                std::dynamic_pointer_cast&lt;<a class="code" href="../../d5/d83/classpx_1_1cds_1_1CGetChannel.html">px::cds::CGetChannel</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( chan_req ) );</div>
<div class="line"><a name="l00529"></a><span class="lineno">  529</span>&#160;</div>
<div class="line"><a name="l00530"></a><span class="lineno">  530</span>&#160;        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( chan_resp, <span class="stringliteral">&quot;CGetChannel&quot;</span> );</div>
<div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;        <span class="keywordflow">if</span> ( chan_resp-&gt;channels.size() != 1 )</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;        {</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;                <span class="keywordflow">throw</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a>( <span class="stringliteral">&quot;Failed to retrieve requested channel&quot;</span> );</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        }</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;        <span class="keywordflow">return</span> ( chan_resp-&gt;channels[0].channel );</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;}</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00542"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a17da95dd919f2f8cfbb295582d44e491">  542</a></span>&#160;std::vector&lt;px::cds::CGetSingleChannel&gt; <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a17da95dd919f2f8cfbb295582d44e491">CCdsSyncIO::get_channels</a>( <a class="code" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> dev_id )</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;{</div>
<div class="line"><a name="l00544"></a><span class="lineno">  544</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;        assert( dev_id );</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;        <a class="code" href="../../d5/d83/classpx_1_1cds_1_1CGetChannel.html">px::cds::CGetChannel</a> ch_req;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        ch_req.<a class="code" href="../../d5/d83/classpx_1_1cds_1_1CGetChannel.html#ac556249ea5ddc2856c29a35bfdb61f5c">device_id</a> = dev_id;</div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        <span class="comment">// Leave the request set to no recursion</span></div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;        {</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;                std::shared_ptr&lt;px::cds::CGetChannel&gt; ch_resp =</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;                        std::dynamic_pointer_cast&lt;<a class="code" href="../../d5/d83/classpx_1_1cds_1_1CGetChannel.html">px::cds::CGetChannel</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( ch_req ) );</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;</div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;                <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( ch_resp, <span class="stringliteral">&quot;CGetChannel&quot;</span> );</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;                <span class="comment">// We won&#39;t check whether or not there are any such channels in the response</span></div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;                <span class="keywordflow">return</span> ( ch_resp-&gt;channels );</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;        }</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a> &amp;ex )</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;        {</div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a87e1fdf1ba293b942ef6f9a1d51e6f3f">LIBPX_WARN</a>( 1, <span class="stringliteral">&quot;Failed to get the requested channels for %u: %s&quot;</span>, ( uint32_t ) dev_id, ex.<a class="code" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6">what</a>() );</div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;        }</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;        std::vector&lt;px::cds::CGetSingleChannel&gt; <a class="code" href="../../de/dcb/namespacepx.html#adf365a161bded4b259cd6bec81c4179fa334c4a4c42fdb79d7ebc3e73b517e6f8">none</a>;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keywordflow">return</span> ( none );</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;}</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00572"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#aa1454a5700791f4cafd08181de39bbd6">  572</a></span>&#160;std::vector&lt;px::cds::CGetSingleChannel&gt; <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#aa1454a5700791f4cafd08181de39bbd6">CCdsSyncIO::get_channels_by_name</a>( <a class="code" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> dev_id,</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;                                                                                                                                                  <span class="keyword">const</span> std::vector&lt;px::string&gt; &amp;canonical_names )</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;{</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;        assert( dev_id );</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        assert( !canonical_names.empty() );</div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        assert( !canonical_names.front().empty() );</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;        <a class="code" href="../../d5/d83/classpx_1_1cds_1_1CGetChannel.html">px::cds::CGetChannel</a> ch_req;</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        ch_req.<a class="code" href="../../d5/d83/classpx_1_1cds_1_1CGetChannel.html#ac556249ea5ddc2856c29a35bfdb61f5c">device_id</a> = dev_id;</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        ch_req.canonical_names = canonical_names;</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        <span class="comment">// Leave the request set to no recursion</span></div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        std::shared_ptr&lt;px::cds::CGetChannel&gt; ch_resp =</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;                std::dynamic_pointer_cast&lt;<a class="code" href="../../d5/d83/classpx_1_1cds_1_1CGetChannel.html">px::cds::CGetChannel</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( ch_req ) );</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;        {</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;                <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( ch_resp, <span class="stringliteral">&quot;CGetChannel&quot;</span> );</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;        }</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a> &amp;ex )</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;        {</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#aa8ec782c869726676d2a38e6bdc1d8db">LIBPX_FNOTICE</a>( 1, <span class="stringliteral">&quot;Failed to get requested channels: %s&quot;</span>, ex.<a class="code" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6">what</a>() );</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        }</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;        <span class="comment">// We won&#39;t check whether or not there are any such channels in the response</span></div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="keywordflow">return</span> ( ch_resp-&gt;channels );</div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;}</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00604"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a360b5622da14b7bef31147de28db63a4">  604</a></span>&#160;std::shared_ptr&lt;px::cds::CGetChannelSettings&gt; <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a360b5622da14b7bef31147de28db63a4">CCdsSyncIO::get_channel_settings</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> dev_id )</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;{</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        assert( dev_id );</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        std::shared_ptr&lt;px::cds::CGetChannelSettings&gt; ch_settings;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <a class="code" href="../../de/dab/classpx_1_1cds_1_1CGetChannelSettings.html">px::cds::CGetChannelSettings</a> gcs_req;</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <a class="code" href="../../dc/d8a/classpx_1_1cds_1_1CGetDevice.html">px::cds::CGetDevice</a> cds_req;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        cds_req.<a class="code" href="../../dc/d8a/classpx_1_1cds_1_1CGetDevice.html#aa779eaea10042f59a4a3da534ea8e2a2">maxdepth</a> = 0;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        cds_req.<a class="code" href="../../dc/d8a/classpx_1_1cds_1_1CGetDevice.html#ae6beff875f8f7d70853848c58b870a43">requested_ids</a>.push_back( dev_id );</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 8, <span class="stringliteral">&quot;Requesting Device %&quot;</span> PRIu64 <span class="stringliteral">&quot; info from the CDS&quot;</span>, dev_id );</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        std::shared_ptr&lt;px::cds::CGetDevice&gt; cds_resp =</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;                std::dynamic_pointer_cast&lt;<a class="code" href="../../dc/d8a/classpx_1_1cds_1_1CGetDevice.html">px::cds::CGetDevice</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( cds_req ) );</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( cds_resp, <span class="stringliteral">&quot;CGetDevice&quot;</span> );</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;        <span class="keywordflow">if</span> ( cds_resp-&gt;devices.size() == 0 )</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;        {</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;                <span class="comment">// Return if no devices found</span></div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;                <span class="keywordflow">return</span> ( ch_settings );</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        }</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="comment">// Now get the CDS channel settings for this device.</span></div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="keywordflow">for</span> ( <span class="keyword">const</span> <span class="keyword">auto</span> &amp;cds_id : cds_resp-&gt;devices[0].channels )</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        {</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;                gcs_req.<a class="code" href="../../de/dab/classpx_1_1cds_1_1CGetChannelSettings.html#a9f57e428683c3eb02eb104d36adbfa32">ids</a>.push_back( cds_id );</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;        }</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 8, <span class="stringliteral">&quot;Requesting channel settings for Device %&quot;</span> PRIu64 <span class="stringliteral">&quot; from the CDS&quot;</span>, dev_id );</div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;</div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        ch_settings = std::dynamic_pointer_cast&lt;<a class="code" href="../../de/dab/classpx_1_1cds_1_1CGetChannelSettings.html">px::cds::CGetChannelSettings</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( gcs_req ) );</div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;</div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="keywordflow">if</span> ( !ch_settings.get() )</div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;        {</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;                <span class="keywordflow">throw</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a>( <span class="stringliteral">&quot;CDS error: Failed to get a response for CGetChannelSettings&quot;</span> );</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;        }</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="keywordflow">if</span> ( !ch_settings-&gt;channels.size() )</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        {</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;                <span class="keywordflow">if</span> ( ch_settings-&gt;status == <a class="code" href="../../d5/dd5/namespacepx_1_1cds.html#a24c4c8fb05021548bccecd5fa3f2e5fead142aa0ce67a683b04d4e9afa2ba0f9e">px::cds::RequestStatus::RESPONSE_TOO_BIG</a> )</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;                {</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;                        std::vector&lt;px::CChannelSettings&gt; settings;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;                        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> offset = 0;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;                        <span class="keywordflow">while</span> ( offset &lt; gcs_req.<a class="code" href="../../de/dab/classpx_1_1cds_1_1CGetChannelSettings.html#a9f57e428683c3eb02eb104d36adbfa32">ids</a>.size() )</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;                        {</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;                                settings.clear();</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;                                settings = <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#ac16bc3ed9a33fa666cf9fdd45e601140">get_channel_by_group</a>( gcs_req.<a class="code" href="../../de/dab/classpx_1_1cds_1_1CGetChannelSettings.html#a9f57e428683c3eb02eb104d36adbfa32">ids</a>, offset, <a class="code" href="../../db/d78/cds__sync__io_8cpp.html#a43dd095543dc83039eea2312e0939986">MAX_CHANNELS_PER_REQ</a> );</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;                                ch_settings-&gt;channels.insert( ch_settings-&gt;channels.begin(), settings.begin(), settings.end() );</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;                                offset += <a class="code" href="../../db/d78/cds__sync__io_8cpp.html#a43dd095543dc83039eea2312e0939986">MAX_CHANNELS_PER_REQ</a>;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;                        }</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;                }</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;                {</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;                        ch_settings.reset();</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                }</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        }</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <span class="keywordflow">return</span> ( ch_settings );</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;}</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;</div>
<div class="line"><a name="l00664"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#ac16bc3ed9a33fa666cf9fdd45e601140">  664</a></span>&#160;std::vector&lt;px::CChannelSettings&gt; <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#ac16bc3ed9a33fa666cf9fdd45e601140">CCdsSyncIO::get_channel_by_group</a>( <span class="keyword">const</span> std::vector&lt;px::id_t&gt; &amp;get_ids, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> offset, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> &amp;limit )</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;{</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <a class="code" href="../../de/dab/classpx_1_1cds_1_1CGetChannelSettings.html">px::cds::CGetChannelSettings</a> req;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        std::shared_ptr&lt;px::cds::CGetChannelSettings&gt; resp;</div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="keywordflow">for</span> ( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> idx = 0; idx &lt; limit; ++idx )</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        {</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;                <span class="keywordflow">if</span> ( offset &lt; get_ids.size() )</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;                {</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;                        req.<a class="code" href="../../de/dab/classpx_1_1cds_1_1CGetChannelSettings.html#a9f57e428683c3eb02eb104d36adbfa32">ids</a>.push_back( get_ids[offset++] );</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;                }</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;                {</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;                        <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;                }</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        }</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        resp = std::dynamic_pointer_cast&lt;<a class="code" href="../../de/dab/classpx_1_1cds_1_1CGetChannelSettings.html">px::cds::CGetChannelSettings</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( req ) );</div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( resp, <span class="stringliteral">&quot;CGetChannelSettings&quot;</span> );</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <span class="keywordflow">return</span> ( resp-&gt;channels );</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;}</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00688"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#aa8ae8b0580ffe4675d0d0e167ed78cdd">  688</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#aa8ae8b0580ffe4675d0d0e167ed78cdd">CCdsSyncIO::set_channel_value_s</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> channel_id, <span class="keyword">const</span> <a class="code" href="../../db/dd9/classpx_1_1CValue.html">px::CValue</a> &amp;value )</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;{</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;</div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        assert( channel_id );</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        <a class="code" href="../../db/df2/classpx_1_1cds_1_1CUpdateChannelValue.html">px::cds::CUpdateChannelValue</a> cds_req;</div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        cds_req.<a class="code" href="../../db/df2/classpx_1_1cds_1_1CUpdateChannelValue.html#a574a585ede62fb7e7c36b8daa6d567ac">bypass_validation</a> = <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#af8d5efcbedf3f138017689799ec31c29">_bypass_validation</a>;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        cds_req.<a class="code" href="../../db/df2/classpx_1_1cds_1_1CUpdateChannelValue.html#aa0f5f0710d5595d207dff8c05e0ad227">updates</a>.emplace_back( <a class="code" href="../../d2/dfb/classpx_1_1cds_1_1CUpdateSingleChannelValue.html">px::cds::CUpdateSingleChannelValue</a>( channel_id, value ) );</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;        cds_req.<a class="code" href="../../db/df2/classpx_1_1cds_1_1CUpdateChannelValue.html#a9b664c078f4f54522c625e0be0b128f2">when</a> = <a class="code" href="../../d9/d7d/classpx_1_1CWallTime.html#a4452bc7e8e4fbb8c976f5763269593e7">px::CWallTime::now</a>();</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        {</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;                <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a907410082d34b93630b2f0b0abe44186">submit</a>( cds_req );</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#aedf82e390ea25288cf698a9d9eb470ef">LIBPX_INFO</a>( 8, <span class="stringliteral">&quot;Updated Channel %&quot;</span> PRIu64 <span class="stringliteral">&quot; value to %s.&quot;</span>, channel_id, value.<a class="code" href="../../db/dd9/classpx_1_1CValue.html#a746a26c3a4970db4ea4f27f30c5d4d9a">as_string</a>().c_str() );</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        }</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::exception &amp;ex )</div>
<div class="line"><a name="l00705"></a><span class="lineno">  705</span>&#160;        {</div>
<div class="line"><a name="l00706"></a><span class="lineno">  706</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;When updating Channel %&quot;</span> PRIu64 <span class="stringliteral">&quot; value : %s&quot;</span>, channel_id, ex.what() );</div>
<div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;                <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> msg( <span class="stringliteral">&quot;Failure to UpdateChannelValue: &quot;</span> );</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;                msg += ex.what();</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;                <span class="keywordflow">throw</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a>( msg.c_str() );</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;        }</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;}</div>
<div class="line"><a name="l00712"></a><span class="lineno">  712</span>&#160;</div>
<div class="line"><a name="l00713"></a><span class="lineno">  713</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00716"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a0d2d70fcb7176c98c20dcff17633b141">  716</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a0d2d70fcb7176c98c20dcff17633b141">CCdsSyncIO::set_channel_values</a>( <span class="keyword">const</span> std::vector&lt;px::cds::CUpdateSingleChannelValue&gt; &amp;values )</div>
<div class="line"><a name="l00717"></a><span class="lineno">  717</span>&#160;{</div>
<div class="line"><a name="l00718"></a><span class="lineno">  718</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;        assert( !values.empty() );</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;</div>
<div class="line"><a name="l00722"></a><span class="lineno">  722</span>&#160;        <span class="keywordflow">if</span> ( values.empty() )</div>
<div class="line"><a name="l00723"></a><span class="lineno">  723</span>&#160;        {</div>
<div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;        }</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;</div>
<div class="line"><a name="l00727"></a><span class="lineno">  727</span>&#160;        <a class="code" href="../../db/df2/classpx_1_1cds_1_1CUpdateChannelValue.html">px::cds::CUpdateChannelValue</a> cds_req;</div>
<div class="line"><a name="l00728"></a><span class="lineno">  728</span>&#160;        cds_req.<a class="code" href="../../db/df2/classpx_1_1cds_1_1CUpdateChannelValue.html#a574a585ede62fb7e7c36b8daa6d567ac">bypass_validation</a> = <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#af8d5efcbedf3f138017689799ec31c29">_bypass_validation</a>;</div>
<div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;        cds_req.<a class="code" href="../../db/df2/classpx_1_1cds_1_1CUpdateChannelValue.html#aa0f5f0710d5595d207dff8c05e0ad227">updates</a> = values;       <span class="comment">// copy values vector into the request</span></div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;        cds_req.<a class="code" href="../../db/df2/classpx_1_1cds_1_1CUpdateChannelValue.html#a9b664c078f4f54522c625e0be0b128f2">when</a> = <a class="code" href="../../d9/d7d/classpx_1_1CWallTime.html#a4452bc7e8e4fbb8c976f5763269593e7">px::CWallTime::now</a>();</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;</div>
<div class="line"><a name="l00732"></a><span class="lineno">  732</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00733"></a><span class="lineno">  733</span>&#160;        {</div>
<div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;                <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a907410082d34b93630b2f0b0abe44186">submit</a>( cds_req );</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#aedf82e390ea25288cf698a9d9eb470ef">LIBPX_INFO</a>( 8, <span class="stringliteral">&quot;Updated Channel values&quot;</span> );</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;        }</div>
<div class="line"><a name="l00737"></a><span class="lineno">  737</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::exception &amp;ex )</div>
<div class="line"><a name="l00738"></a><span class="lineno">  738</span>&#160;        {</div>
<div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;                <span class="comment">// Pretty unlikely failures</span></div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;When updating Channel values: %s&quot;</span>, ex.what() );</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;                <span class="comment">// Decided not to re-throw but just let the error log cover this unlikely case.</span></div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;        }</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;}</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;</div>
<div class="line"><a name="l00745"></a><span class="lineno">  745</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00746"></a><span class="lineno">  746</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00748"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#abd288df108e36c0c6b2f35b1a4f3e341">  748</a></span>&#160;<a class="code" href="../../d6/d5b/classpx_1_1CDevice.html">px::CDevice</a> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#abd288df108e36c0c6b2f35b1a4f3e341">CCdsSyncIO::create_device</a>( <span class="keyword">const</span> <span class="keywordtype">bool</span> use_given_id,</div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;                                                                           <span class="keyword">const</span> <a class="code" href="../../d6/d5b/classpx_1_1CDevice.html">px::CDevice</a> &amp;device )</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;{</div>
<div class="line"><a name="l00751"></a><span class="lineno">  751</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00752"></a><span class="lineno">  752</span>&#160;</div>
<div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;        <a class="code" href="../../d3/d57/classpx_1_1cds_1_1CCreateDevice.html">px::cds::CCreateDevice</a> cds_req;</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;        cds_req.<a class="code" href="../../d3/d57/classpx_1_1cds_1_1CCreateDevice.html#a87f57125b3b0679ebe664b73ac1c787c">use_given_ids</a> = use_given_id;</div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;        cds_req.<a class="code" href="../../d3/d57/classpx_1_1cds_1_1CCreateDevice.html#a5120d29c773c7b011f76377835208e73">devices</a>.emplace_back( device );</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;        std::shared_ptr&lt;px::cds::CCreateDevice&gt; cds_resp =</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;                std::dynamic_pointer_cast&lt;<a class="code" href="../../d3/d57/classpx_1_1cds_1_1CCreateDevice.html">px::cds::CCreateDevice</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( cds_req ) );</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( cds_resp, <span class="stringliteral">&quot;CCreateDevice&quot;</span> );</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;        <span class="keywordflow">if</span> ( cds_resp-&gt;devices.size() != 1 )</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;        {</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;                <span class="keywordflow">throw</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a>( <span class="stringliteral">&quot;Failed to create requested device&quot;</span> );</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;        }</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <span class="keywordflow">return</span> ( cds_resp-&gt;devices[0] );</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;}</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00772"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a48a14ec56ea8a434795e522bcbb36774">  772</a></span>&#160;std::vector&lt;px::CDevice&gt; <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a48a14ec56ea8a434795e522bcbb36774">CCdsSyncIO::create_devices</a>( <span class="keyword">const</span> <span class="keywordtype">bool</span> use_given_ids,</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;                                                                                                         <span class="keyword">const</span> std::vector&lt;px::CDevice&gt; &amp;devices )</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;{</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;        assert( !devices.empty() );</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;</div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        <span class="keywordflow">if</span> ( devices.empty() )</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;        {</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;create_devices: Empty devices vector passed into function.&quot;</span> );</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> msg( <span class="stringliteral">&quot;Empty devices vector passed into function.&quot;</span> );</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                <span class="keywordflow">throw</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a>( msg.c_str() );</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;        }</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;        <a class="code" href="../../d3/d57/classpx_1_1cds_1_1CCreateDevice.html">px::cds::CCreateDevice</a> cds_req;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;        cds_req.<a class="code" href="../../d3/d57/classpx_1_1cds_1_1CCreateDevice.html#a87f57125b3b0679ebe664b73ac1c787c">use_given_ids</a> = use_given_ids;</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        cds_req.<a class="code" href="../../d3/d57/classpx_1_1cds_1_1CCreateDevice.html#a5120d29c773c7b011f76377835208e73">devices</a> = devices;      <span class="comment">// copy px_devices vector into the request</span></div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        std::shared_ptr&lt;px::cds::CCreateDevice&gt; cds_resp =</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;                std::dynamic_pointer_cast&lt;<a class="code" href="../../d3/d57/classpx_1_1cds_1_1CCreateDevice.html">px::cds::CCreateDevice</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( cds_req ) );</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( cds_resp, <span class="stringliteral">&quot;CCreateDevice&quot;</span> );</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;        <span class="keywordflow">if</span> ( !cds_resp-&gt;devices.size() )</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;        {</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;                <span class="keywordflow">throw</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a>( <span class="stringliteral">&quot;Failed to create requested devices&quot;</span> );</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        }</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;        <span class="keywordflow">return</span> ( cds_resp-&gt;devices );</div>
<div class="line"><a name="l00800"></a><span class="lineno">  800</span>&#160;}</div>
<div class="line"><a name="l00801"></a><span class="lineno">  801</span>&#160;</div>
<div class="line"><a name="l00802"></a><span class="lineno">  802</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00803"></a><span class="lineno">  803</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00805"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#afcdbf12918ec8754406edea937ffabb6">  805</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#afcdbf12918ec8754406edea937ffabb6">CCdsSyncIO::delete_device</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> delete_id )</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;{</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;        assert( delete_id );</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;        <a class="code" href="../../db/d93/classpx_1_1cds_1_1CDeleteDevice.html">px::cds::CDeleteDevice</a> cds_req;</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        cds_req.<a class="code" href="../../db/d93/classpx_1_1cds_1_1CDeleteDevice.html#a38f6c7c9c15d0f39795f3ffd5945c3c1">devices</a>.push_back( delete_id );</div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;        {</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;                std::shared_ptr&lt;px::cds::CDeleteDevice&gt; cds_resp =</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;                        std::dynamic_pointer_cast&lt;<a class="code" href="../../db/d93/classpx_1_1cds_1_1CDeleteDevice.html">px::cds::CDeleteDevice</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( cds_req ) );</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;                <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( cds_resp, <span class="stringliteral">&quot;CDeleteDevice&quot;</span> );</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#aedf82e390ea25288cf698a9d9eb470ef">LIBPX_INFO</a>( 8, <span class="stringliteral">&quot;Deleted Device&quot;</span> );</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;        }</div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::exception &amp;ex )</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        {</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;When deleting device: %s&quot;</span>, ex.what() );</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;                <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> msg( <span class="stringliteral">&quot;Failure to delete device: &quot;</span> );</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;                msg += ex.what();</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;                <span class="keywordflow">throw</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a>( msg.c_str() );</div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;        }</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;}</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00833"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a15b56b1c2cd4a35632cf37901d73d2ba">  833</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a15b56b1c2cd4a35632cf37901d73d2ba">CCdsSyncIO::delete_devices</a>( <span class="keyword">const</span> std::vector&lt;px::id_t&gt; &amp;delete_ids )</div>
<div class="line"><a name="l00834"></a><span class="lineno">  834</span>&#160;{</div>
<div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;        assert( !delete_ids.empty() );</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;        assert( delete_ids.front() );</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <span class="keywordflow">if</span> ( delete_ids.empty() )</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;        {</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;        }</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        <a class="code" href="../../db/d93/classpx_1_1cds_1_1CDeleteDevice.html">px::cds::CDeleteDevice</a> cds_req;</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;        cds_req.<a class="code" href="../../db/d93/classpx_1_1cds_1_1CDeleteDevice.html#a38f6c7c9c15d0f39795f3ffd5945c3c1">devices</a> = delete_ids;           <span class="comment">// copy the list of IDs</span></div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;        {</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;                <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a907410082d34b93630b2f0b0abe44186">submit</a>( cds_req );</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#aedf82e390ea25288cf698a9d9eb470ef">LIBPX_INFO</a>( 8, <span class="stringliteral">&quot;Deleted Devices&quot;</span> );</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;        }</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::exception &amp;ex )</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;        {</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                <span class="comment">// Pretty unlikely failures</span></div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;When deleting devices: %s&quot;</span>, ex.what() );</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> msg( <span class="stringliteral">&quot;Failure to delete devices: &quot;</span> );</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;                msg += ex.what();</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                <span class="keywordflow">throw</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a>( msg.c_str() );</div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;        }</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;}</div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;</div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00866"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a7e084fa58c440056cc6157261773310a">  866</a></span>&#160;<a class="code" href="../../d6/d5b/classpx_1_1CDevice.html">px::CDevice</a> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a7e084fa58c440056cc6157261773310a">CCdsSyncIO::get_device_s</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> dev_id )</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;{</div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;        assert( dev_id );</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;        <a class="code" href="../../dc/d8a/classpx_1_1cds_1_1CGetDevice.html">px::cds::CGetDevice</a> cds_req;</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;        cds_req.<a class="code" href="../../dc/d8a/classpx_1_1cds_1_1CGetDevice.html#aa779eaea10042f59a4a3da534ea8e2a2">maxdepth</a> = 0;</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;        cds_req.<a class="code" href="../../dc/d8a/classpx_1_1cds_1_1CGetDevice.html#ae6beff875f8f7d70853848c58b870a43">requested_ids</a>.push_back( dev_id );</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;</div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 8, <span class="stringliteral">&quot;Requesting Device %&quot;</span> PRIu64 <span class="stringliteral">&quot; info from the CDS&quot;</span>, dev_id );</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;        std::shared_ptr&lt;px::cds::CGetDevice&gt; cds_resp =</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                std::dynamic_pointer_cast&lt;<a class="code" href="../../dc/d8a/classpx_1_1cds_1_1CGetDevice.html">px::cds::CGetDevice</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( cds_req ) );</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( cds_resp, <span class="stringliteral">&quot;CGetDevice&quot;</span> );</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;        <span class="keywordflow">if</span> ( cds_resp-&gt;devices.size() != 1 )</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;        {</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                <span class="keywordflow">throw</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a>( <span class="stringliteral">&quot;Failed to retrieve requested device&quot;</span> );</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;        }</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;</div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;        <span class="keywordflow">return</span> ( cds_resp-&gt;devices[0] );</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;}</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00892"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#ad53afe060e7c2dcc46f4fb81cb9b1477">  892</a></span>&#160;std::map&lt;px::id_t, px::CDevice&gt; <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#ad53afe060e7c2dcc46f4fb81cb9b1477">CCdsSyncIO::get_devices</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> starting_dev_id )</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;{</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;        assert( starting_dev_id );</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;        std::map&lt;px::id_t, px::CDevice&gt; device_map;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;        <a class="code" href="../../dc/d8a/classpx_1_1cds_1_1CGetDevice.html">px::cds::CGetDevice</a> cds_req;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;        cds_req.<a class="code" href="../../dc/d8a/classpx_1_1cds_1_1CGetDevice.html#aa779eaea10042f59a4a3da534ea8e2a2">maxdepth</a> = UINT_MAX;    <span class="comment">// Down maxdepth level to devices</span></div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;        cds_req.<a class="code" href="../../dc/d8a/classpx_1_1cds_1_1CGetDevice.html#ae6beff875f8f7d70853848c58b870a43">requested_ids</a>.push_back( starting_dev_id );</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;        {</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 8, <span class="stringliteral">&quot;Requesting Devices from the CDS, starting at ID  %&quot;</span> PRIu64 <span class="stringliteral">&quot;&quot;</span>, starting_dev_id );</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                std::shared_ptr&lt;px::cds::CGetDevice&gt; cds_resp =</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                        std::dynamic_pointer_cast&lt;<a class="code" href="../../dc/d8a/classpx_1_1cds_1_1CGetDevice.html">px::cds::CGetDevice</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( cds_req ) );</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;</div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( cds_resp, <span class="stringliteral">&quot;CGetDevice&quot;</span> );</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                <span class="keywordflow">if</span> ( cds_resp-&gt;devices.size() )</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;                {</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                        <span class="keywordflow">for</span> ( <a class="code" href="../../d6/d5b/classpx_1_1CDevice.html">px::CDevice</a> device : cds_resp-&gt;devices )</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;                        {</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;                                device_map.insert( std::make_pair( device.<a class="code" href="../../d6/d5b/classpx_1_1CDevice.html#ab836878b0d7f55ad3d16b937994f3df0">id</a>(), <a class="code" href="../../d6/d5b/classpx_1_1CDevice.html">px::CDevice</a>( device ) ) );</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;                        }</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;                }</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;        }</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a> &amp;ex )</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;        {</div>
<div class="line"><a name="l00920"></a><span class="lineno">  920</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a87e1fdf1ba293b942ef6f9a1d51e6f3f">LIBPX_WARN</a>( 1, <span class="stringliteral">&quot;Failed to find requested device %u: %s&quot;</span>, ( uint32_t ) starting_dev_id, ex.<a class="code" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6">what</a>() );</div>
<div class="line"><a name="l00921"></a><span class="lineno">  921</span>&#160;        }</div>
<div class="line"><a name="l00922"></a><span class="lineno">  922</span>&#160;</div>
<div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;        <span class="keywordflow">return</span> ( device_map );</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;}</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00929"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a6733a020e3dde21abd50ec59c611266e">  929</a></span>&#160;std::vector&lt;px::CChannelTrends&gt; <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a6733a020e3dde21abd50ec59c611266e">CCdsSyncIO::get_device_trend_row</a>( <a class="code" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> dev_id, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> interval_minutes,</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;                                                                                                                                  <a class="code" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> start_time, <span class="keywordtype">bool</span> recursive )</div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;{</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;        assert( dev_id );</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;        <span class="keywordflow">if</span> ( !start_time.valid() )</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;        {</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;                <span class="comment">// If was the &quot;invalid&quot; default, then set to last interval time, using the interval minutes</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;                <a class="code" href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a> tnow = <a class="code" href="../../d9/d7d/classpx_1_1CWallTime.html#a4452bc7e8e4fbb8c976f5763269593e7">px::CWallTime::now</a>();</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;                start_time.tv_nsec = 0;</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;                <span class="comment">// Get the seconds for the last trend interval at this trend cadence</span></div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;                time_t trend_interval_secs = interval_minutes * 60;</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;                start_time.tv_sec = tnow.tv_sec - ( tnow.tv_sec % trend_interval_secs );</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;        }</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;        <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> ttrend_str = start_time.<a class="code" href="../../d6/d4e/classpx_1_1CTimestamp.html#a23664b3ae0d503a0abb51bc97ccfd474">localtime_str</a>();</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 8, <span class="stringliteral">&quot;Requesting Trend data for Device %u at %s&quot;</span>,</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;                                 ( uint32_t ) dev_id, ttrend_str.c_str() );</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;        <a class="code" href="../../d6/dee/classpx_1_1cds_1_1CQueryTrends.html">px::cds::CQueryTrends</a> qt_req;</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;        qt_req.<a class="code" href="../../d6/dee/classpx_1_1cds_1_1CQueryTrends.html#ac6384489c5a9e3a26e3360f71e742fc5">start_time</a> = start_time;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;        qt_req.count_limit = 1;         <span class="comment">// just want one row&#39;s worth</span></div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        qt_req.channel_selector.devices.insert( dev_id );</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;        qt_req.channel_selector.recursive = recursive;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        qt_req.interval = interval_minutes;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;        std::shared_ptr&lt;px::cds::CQueryTrends&gt; qt_resp =</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;                std::dynamic_pointer_cast&lt;<a class="code" href="../../d6/dee/classpx_1_1cds_1_1CQueryTrends.html">px::cds::CQueryTrends</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( qt_req ) );</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( qt_resp, <span class="stringliteral">&quot;CQueryTrends&quot;</span> );</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;        <span class="keywordflow">if</span> ( qt_resp-&gt;channel_trends.empty() )</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;        {</div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a87e1fdf1ba293b942ef6f9a1d51e6f3f">LIBPX_WARN</a>( 2, <span class="stringliteral">&quot;No Trend data for Device %u at or after %s&quot;</span>,</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;                                        ( uint32_t ) dev_id, ttrend_str.c_str() );</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        }</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="keywordflow">return</span> ( qt_resp-&gt;channel_trends );</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;}</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00973"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#ad10d90f18af2a33e9e6e185db5170c50">  973</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#ad10d90f18af2a33e9e6e185db5170c50">CCdsSyncIO::set_device_guid</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;name_str, <a class="code" href="../../d6/d5b/classpx_1_1CDevice.html">px::CDevice</a> &amp;px_device,</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;                                                                 <span class="keywordtype">bool</span> is_direct, <span class="keywordtype">bool</span> do_forget )</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;{</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        assert( !name_str.empty() );</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        assert( px_device.<a class="code" href="../../d6/d5b/classpx_1_1CDevice.html#ab836878b0d7f55ad3d16b937994f3df0">id</a>() );</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> guid_string;</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        <span class="keywordflow">if</span> ( is_direct )</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        {</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;                <span class="comment">// As long as the length is for the plain UUID (32 characters) or hyphenated (36):</span></div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;                <span class="keywordflow">if</span> ( ( name_str.length() == 36 ) || ( name_str.length() == 32 ) )</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;                {</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;                        guid_string = name_str;</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;                        <span class="comment">// Test the conversion to hex, to see if all the characters are valid</span></div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;                        std::vector&lt;unsigned char&gt; test_vect = <a class="code" href="../../de/dcb/namespacepx.html#a1758acc018aedb5f4c8cb1ba54f50031">px::guid_2_bytes</a>( guid_string );</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;                        <span class="keywordflow">if</span> ( test_vect.size() != 32 )</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;                        {</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;                                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;Invalid UUID characters: %s&quot;</span>, name_str.c_str() );</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                                <span class="keywordflow">return</span> ( -1 );</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;                        }</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;                }</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;                {</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;                        <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;Not a valid UUID string: %s&quot;</span>, name_str.c_str() );</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;                        <span class="keywordflow">return</span> ( -1 );</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;                }</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        }</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;        {</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                guid_string = <a class="code" href="../../d5/dc3/classpx_1_1CUtil.html#a33bf9bd732565c94e278b18f878515d9">px::CUtil::create_uuid</a>( name_str );</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                <span class="keywordflow">if</span> ( guid_string.empty() )</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                        <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;Did not generate UUID string&quot;</span> );</div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                        <span class="keywordflow">return</span> ( -1 );</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                }</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                {</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;                        <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 5, <span class="stringliteral">&quot;Generated UUID = %s for Device %u&quot;</span>, guid_string.c_str(), ( uint32_t ) px_device.<a class="code" href="../../d6/d5b/classpx_1_1CDevice.html#ab836878b0d7f55ad3d16b937994f3df0">id</a>() );</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;                }</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        }</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        <span class="comment">// Store the UUID in the device, removing any dashes</span></div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;        px_device.<a class="code" href="../../d6/d5b/classpx_1_1CDevice.html#a04927ad93a56dfbd9a9bb545a5afdc31">set_device_uuid</a>( guid_string );</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        <a class="code" href="../../db/d63/classpx_1_1cds_1_1CUpdateDevice.html">px::cds::CUpdateDevice</a> ud_req;</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;        ud_req.<a class="code" href="../../db/d63/classpx_1_1cds_1_1CUpdateDevice.html#a35e7472799fb30cd0525ad468083ad55">devices</a>.push_back( px_device );</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;        {</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;                <span class="keywordflow">if</span> ( do_forget )</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;                {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                        <span class="comment">// No callback provided, no transaction_id returned - fire-and-forget:</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                        <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a907410082d34b93630b2f0b0abe44186">submit</a>( ud_req );</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;                }</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                {</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                        std::shared_ptr&lt;px::cds::CUpdateDevice&gt; cds_resp =</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                                std::dynamic_pointer_cast&lt;<a class="code" href="../../db/d63/classpx_1_1cds_1_1CUpdateDevice.html">px::cds::CUpdateDevice</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( ud_req ) );</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( cds_resp, <span class="stringliteral">&quot;CUpdateDevice&quot;</span> );</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                }</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;        }</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a> &amp;ex )</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;        {</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;When updating device %&quot;</span> PRIu64 <span class="stringliteral">&quot;, err: %s&quot;</span>, px_device.<a class="code" href="../../d6/d5b/classpx_1_1CDevice.html#ab836878b0d7f55ad3d16b937994f3df0">id</a>(), ex.<a class="code" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6">what</a>() );</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;                <span class="keywordflow">return</span> ( -1 );</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        }</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::exception &amp;ex )</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;        {</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;When updating device %&quot;</span> PRIu64 <span class="stringliteral">&quot;: %s&quot;</span>, px_device.<a class="code" href="../../d6/d5b/classpx_1_1CDevice.html#ab836878b0d7f55ad3d16b937994f3df0">id</a>(), ex.what() );</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;                <span class="keywordflow">return</span> ( -1 );</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;        }</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        <span class="keywordflow">return</span> ( 0 );</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;}</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;</div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01053"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a4653c7ebcf14938387460972f0efcd13"> 1053</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#ad10d90f18af2a33e9e6e185db5170c50">CCdsSyncIO::set_device_guid</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> &amp;name_str, <a class="code" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> dev_id )</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;{</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;        assert( !name_str.empty() );</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;        assert( dev_id );</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        {</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;                <a class="code" href="../../d6/d5b/classpx_1_1CDevice.html">px::CDevice</a> dev = <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a7e084fa58c440056cc6157261773310a">get_device_s</a>( dev_id );</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;                <span class="keywordflow">return</span> ( <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#ad10d90f18af2a33e9e6e185db5170c50">set_device_guid</a>( name_str, dev ) );</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;        }</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::exception &amp;ex )</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;        {</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;When getting device %&quot;</span> PRIu64 <span class="stringliteral">&quot;: %s&quot;</span>, dev_id, ex.what() );</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;        }</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;        <span class="keywordflow">return</span> ( -1 );</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;}</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l01074"></a><span class="lineno"> 1074</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01075"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a72afbdb38c9d17a0e9a98ebc4c846ffe"> 1075</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a72afbdb38c9d17a0e9a98ebc4c846ffe">CCdsSyncIO::set_device_state</a>( <span class="keyword">const</span> std::vector&lt;px::cds::CSetSingleDeviceState&gt; &amp;dev_states )</div>
<div class="line"><a name="l01076"></a><span class="lineno"> 1076</span>&#160;{</div>
<div class="line"><a name="l01077"></a><span class="lineno"> 1077</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l01078"></a><span class="lineno"> 1078</span>&#160;</div>
<div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;        assert( !dev_states.empty() );</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;</div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;        <span class="keywordflow">if</span> ( dev_states.empty() )</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;        {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        }</div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        <a class="code" href="../../d3/db5/classpx_1_1cds_1_1CSetDeviceState.html">px::cds::CSetDeviceState</a> cds_req;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;        cds_req.<a class="code" href="../../d3/db5/classpx_1_1cds_1_1CSetDeviceState.html#a109ade836286981162261589ed682272">devices</a> = dev_states;</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;        {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;                <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a907410082d34b93630b2f0b0abe44186">submit</a>( cds_req );</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#aedf82e390ea25288cf698a9d9eb470ef">LIBPX_INFO</a>( 8, <span class="stringliteral">&quot;Set Device States&quot;</span> );</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        }</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::exception &amp;ex )</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;        {</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;                <span class="comment">// Pretty unlikely failures</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;When setting device states: %s&quot;</span>, ex.what() );</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;                <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> msg( <span class="stringliteral">&quot;Failure set device states: &quot;</span> );</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;                msg += ex.what();</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;                <span class="keywordflow">throw</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a>( msg.c_str() );</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        }</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;}</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01107"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a851b79851d18794d25308ed49187ac9e"> 1107</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a851b79851d18794d25308ed49187ac9e">CCdsSyncIO::set_channel_state</a>( <span class="keyword">const</span> std::vector&lt;px::cds::CSetSingleChannelState&gt; &amp;chan_states )</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;{</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;        assert( !chan_states.empty() );</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;        <span class="keywordflow">if</span> ( chan_states.empty() )</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        {</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        }</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;</div>
<div class="line"><a name="l01118"></a><span class="lineno"> 1118</span>&#160;        <a class="code" href="../../d0/d46/classpx_1_1cds_1_1CSetChannelState.html">px::cds::CSetChannelState</a> cds_req;</div>
<div class="line"><a name="l01119"></a><span class="lineno"> 1119</span>&#160;        cds_req.<a class="code" href="../../d0/d46/classpx_1_1cds_1_1CSetChannelState.html#a3ea14f0caac15101ec832098a3d7e0c0">channels</a> = chan_states;</div>
<div class="line"><a name="l01120"></a><span class="lineno"> 1120</span>&#160;</div>
<div class="line"><a name="l01121"></a><span class="lineno"> 1121</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l01122"></a><span class="lineno"> 1122</span>&#160;        {</div>
<div class="line"><a name="l01123"></a><span class="lineno"> 1123</span>&#160;                <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a907410082d34b93630b2f0b0abe44186">submit</a>( cds_req );</div>
<div class="line"><a name="l01124"></a><span class="lineno"> 1124</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#aedf82e390ea25288cf698a9d9eb470ef">LIBPX_INFO</a>( 8, <span class="stringliteral">&quot;Set Channel States&quot;</span> );</div>
<div class="line"><a name="l01125"></a><span class="lineno"> 1125</span>&#160;        }</div>
<div class="line"><a name="l01126"></a><span class="lineno"> 1126</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> std::exception &amp;ex )</div>
<div class="line"><a name="l01127"></a><span class="lineno"> 1127</span>&#160;        {</div>
<div class="line"><a name="l01128"></a><span class="lineno"> 1128</span>&#160;                <span class="comment">// Pretty unlikely failures</span></div>
<div class="line"><a name="l01129"></a><span class="lineno"> 1129</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;When setting channel states: %s&quot;</span>, ex.what() );</div>
<div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;                <span class="comment">// Remove the px::generic_err throw here, since the error is logged and is unlikely.</span></div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;        }</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;}</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01137"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a125da60f95820328713e9014d64f0b41"> 1137</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a125da60f95820328713e9014d64f0b41">CCdsSyncIO::enable_device</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> dev_id,</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;                                                                <span class="keyword">const</span> <span class="keywordtype">bool</span> is_enabled )</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;{</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;</div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        assert( dev_id );</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;        <span class="comment">// Set or clear the disabled bit flag - inverse of the is_enabled input param</span></div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;        <a class="code" href="../../d5/dd5/namespacepx_1_1cds.html#a24c8b06bd3c68fd33086f5e5609c5dfb">px::cds::state_op</a> op = ( ( !is_enabled ) ? <a class="code" href="../../d5/dd5/namespacepx_1_1cds.html#a24c8b06bd3c68fd33086f5e5609c5dfba3a19cec3443a55b63f1ed5b73b3b5c0a">px::cds::state_op::op_set_flags</a> : <a class="code" href="../../d5/dd5/namespacepx_1_1cds.html#a24c8b06bd3c68fd33086f5e5609c5dfbab12ec8cb40a1d9d0481a3e190fbd0d1e">px::cds::state_op::op_clear_flags</a> );</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;        <a class="code" href="../../dd/d57/classpx_1_1CBitset.html">px::CBitset&lt;px::realtime_state&gt;</a> requested_flags;</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;        requested_flags.<a class="code" href="../../dd/d57/classpx_1_1CBitset.html#af10bc1fcbc0d917ed7d3531c81f16621">reset</a>();</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;        requested_flags.<a class="code" href="../../dd/d57/classpx_1_1CBitset.html#ad0dc233a4abd8d91c033f2582b193768">set</a>( <a class="code" href="../../de/dcb/namespacepx.html#a60cb4a870ad1ada57e20d9e76de5578ca075ae3d2fc31640504f814f60e5ef713">px::realtime_state::disabled</a>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;        std::vector&lt;px::cds::CSetSingleDeviceState&gt; dev_state;</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;        <a class="code" href="../../d3/db5/classpx_1_1cds_1_1CSetDeviceState.html">px::cds::CSetDeviceState</a> req;</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;        dev_state.emplace_back( <a class="code" href="../../df/dd0/classpx_1_1cds_1_1CSetSingleDeviceState.html">px::cds::CSetSingleDeviceState</a>( dev_id, requested_flags, op ) );</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a72afbdb38c9d17a0e9a98ebc4c846ffe">CCdsSyncIO::set_device_state</a>( dev_state );</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;}</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01160"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#ab063ec2b5c189264e0ac2a2f32066e62"> 1160</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a125da60f95820328713e9014d64f0b41">CCdsSyncIO::enable_device</a>( <a class="code" href="../../d6/d5b/classpx_1_1CDevice.html">px::CDevice</a> &amp;device,</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                                                                <span class="keyword">const</span> <span class="keywordtype">bool</span> is_enabled )</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;{</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;        assert( device.<a class="code" href="../../d6/d5b/classpx_1_1CDevice.html#ab836878b0d7f55ad3d16b937994f3df0">id</a>() );</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a125da60f95820328713e9014d64f0b41">enable_device</a>( device.<a class="code" href="../../d6/d5b/classpx_1_1CDevice.html#ab836878b0d7f55ad3d16b937994f3df0">id</a>(), is_enabled );</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;        <span class="comment">// Now update our copy of this flag, too:</span></div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;        <a class="code" href="../../dd/d57/classpx_1_1CBitset.html">px::CBitset&lt;px::realtime_state&gt;</a> new_state( device.<a class="code" href="../../d6/d5b/classpx_1_1CDevice.html#abfc55a39e8c96431ef6588a56869ea71">get_state</a>() );</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;        new_state.<a class="code" href="../../dd/d57/classpx_1_1CBitset.html#ad0dc233a4abd8d91c033f2582b193768">set</a>( <a class="code" href="../../de/dcb/namespacepx.html#a60cb4a870ad1ada57e20d9e76de5578ca075ae3d2fc31640504f814f60e5ef713">px::realtime_state::disabled</a>, !is_enabled );</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;        device.<a class="code" href="../../d6/d5b/classpx_1_1CDevice.html#a806bd549a06559074ccae14be9afd925">set_state</a>( new_state );</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;}</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01179"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a29d0493c4249135dba398c841a74a82c"> 1179</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a29d0493c4249135dba398c841a74a82c">CCdsSyncIO::set_device_communicating</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> dev_id,</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                                                                                   <span class="keyword">const</span> <span class="keywordtype">bool</span> is_communicating )</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;{</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        assert( dev_id );</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;        <span class="comment">// Set or clear the disabled bit flag - inverse of the is_enabled input param</span></div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;        <a class="code" href="../../d5/dd5/namespacepx_1_1cds.html#a24c8b06bd3c68fd33086f5e5609c5dfb">px::cds::state_op</a> op = ( ( !is_communicating ) ? <a class="code" href="../../d5/dd5/namespacepx_1_1cds.html#a24c8b06bd3c68fd33086f5e5609c5dfba3a19cec3443a55b63f1ed5b73b3b5c0a">px::cds::state_op::op_set_flags</a> : <a class="code" href="../../d5/dd5/namespacepx_1_1cds.html#a24c8b06bd3c68fd33086f5e5609c5dfbab12ec8cb40a1d9d0481a3e190fbd0d1e">px::cds::state_op::op_clear_flags</a> );</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;        <a class="code" href="../../dd/d57/classpx_1_1CBitset.html">px::CBitset&lt;px::realtime_state&gt;</a> requested_flags;</div>
<div class="line"><a name="l01189"></a><span class="lineno"> 1189</span>&#160;        requested_flags.<a class="code" href="../../dd/d57/classpx_1_1CBitset.html#af10bc1fcbc0d917ed7d3531c81f16621">reset</a>();</div>
<div class="line"><a name="l01190"></a><span class="lineno"> 1190</span>&#160;        requested_flags.<a class="code" href="../../dd/d57/classpx_1_1CBitset.html#ad0dc233a4abd8d91c033f2582b193768">set</a>( <a class="code" href="../../de/dcb/namespacepx.html#a60cb4a870ad1ada57e20d9e76de5578ca0c161174c6857de22a3653e43574df78">px::realtime_state::not_communicating</a>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01191"></a><span class="lineno"> 1191</span>&#160;</div>
<div class="line"><a name="l01192"></a><span class="lineno"> 1192</span>&#160;        std::vector&lt;px::cds::CSetSingleDeviceState&gt; dev_state;</div>
<div class="line"><a name="l01193"></a><span class="lineno"> 1193</span>&#160;        <a class="code" href="../../d3/db5/classpx_1_1cds_1_1CSetDeviceState.html">px::cds::CSetDeviceState</a> req;</div>
<div class="line"><a name="l01194"></a><span class="lineno"> 1194</span>&#160;        dev_state.emplace_back( <a class="code" href="../../df/dd0/classpx_1_1cds_1_1CSetSingleDeviceState.html">px::cds::CSetSingleDeviceState</a>( dev_id, requested_flags, op ) );</div>
<div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a72afbdb38c9d17a0e9a98ebc4c846ffe">CCdsSyncIO::set_device_state</a>( dev_state );</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;}</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;</div>
<div class="line"><a name="l01199"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#afa9ac7aba50d5314077128b91be7fa7e"> 1199</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a29d0493c4249135dba398c841a74a82c">CCdsSyncIO::set_device_communicating</a>( <a class="code" href="../../d6/d5b/classpx_1_1CDevice.html">px::CDevice</a> &amp;device,</div>
<div class="line"><a name="l01200"></a><span class="lineno"> 1200</span>&#160;                                                                                   <span class="keyword">const</span> <span class="keywordtype">bool</span> is_communicating )</div>
<div class="line"><a name="l01201"></a><span class="lineno"> 1201</span>&#160;{</div>
<div class="line"><a name="l01202"></a><span class="lineno"> 1202</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l01203"></a><span class="lineno"> 1203</span>&#160;</div>
<div class="line"><a name="l01204"></a><span class="lineno"> 1204</span>&#160;        assert( device.<a class="code" href="../../d6/d5b/classpx_1_1CDevice.html#ab836878b0d7f55ad3d16b937994f3df0">id</a>() );</div>
<div class="line"><a name="l01205"></a><span class="lineno"> 1205</span>&#160;</div>
<div class="line"><a name="l01206"></a><span class="lineno"> 1206</span>&#160;        <span class="comment">// Set state</span></div>
<div class="line"><a name="l01207"></a><span class="lineno"> 1207</span>&#160;        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a29d0493c4249135dba398c841a74a82c">set_device_communicating</a>( device.<a class="code" href="../../d6/d5b/classpx_1_1CDevice.html#ab836878b0d7f55ad3d16b937994f3df0">id</a>(), is_communicating );</div>
<div class="line"><a name="l01208"></a><span class="lineno"> 1208</span>&#160;</div>
<div class="line"><a name="l01209"></a><span class="lineno"> 1209</span>&#160;        <span class="comment">// Now update our copy of this flag, too:</span></div>
<div class="line"><a name="l01210"></a><span class="lineno"> 1210</span>&#160;        <a class="code" href="../../dd/d57/classpx_1_1CBitset.html">px::CBitset&lt;px::realtime_state&gt;</a> new_state( device.<a class="code" href="../../d6/d5b/classpx_1_1CDevice.html#abfc55a39e8c96431ef6588a56869ea71">get_state</a>() );</div>
<div class="line"><a name="l01211"></a><span class="lineno"> 1211</span>&#160;</div>
<div class="line"><a name="l01212"></a><span class="lineno"> 1212</span>&#160;        new_state.<a class="code" href="../../dd/d57/classpx_1_1CBitset.html#ad0dc233a4abd8d91c033f2582b193768">set</a>( <a class="code" href="../../de/dcb/namespacepx.html#a60cb4a870ad1ada57e20d9e76de5578ca0c161174c6857de22a3653e43574df78">px::realtime_state::not_communicating</a>, !is_communicating );</div>
<div class="line"><a name="l01213"></a><span class="lineno"> 1213</span>&#160;        device.<a class="code" href="../../d6/d5b/classpx_1_1CDevice.html#a806bd549a06559074ccae14be9afd925">set_state</a>( new_state );</div>
<div class="line"><a name="l01214"></a><span class="lineno"> 1214</span>&#160;}</div>
<div class="line"><a name="l01215"></a><span class="lineno"> 1215</span>&#160;</div>
<div class="line"><a name="l01216"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#ae5a9730604632c13e89d871a535c5a4c"> 1216</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#ae5a9730604632c13e89d871a535c5a4c">CCdsSyncIO::set_channel_communicating</a>( <span class="keyword">const</span> <a class="code" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> chan_id, <span class="keyword">const</span> <span class="keywordtype">bool</span> is_communicating )</div>
<div class="line"><a name="l01217"></a><span class="lineno"> 1217</span>&#160;{</div>
<div class="line"><a name="l01218"></a><span class="lineno"> 1218</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l01219"></a><span class="lineno"> 1219</span>&#160;</div>
<div class="line"><a name="l01220"></a><span class="lineno"> 1220</span>&#160;        assert( chan_id );</div>
<div class="line"><a name="l01221"></a><span class="lineno"> 1221</span>&#160;</div>
<div class="line"><a name="l01222"></a><span class="lineno"> 1222</span>&#160;        <span class="comment">// Set or clear the disabled bit flag - inverse of the is_enabled input param</span></div>
<div class="line"><a name="l01223"></a><span class="lineno"> 1223</span>&#160;        <a class="code" href="../../d5/dd5/namespacepx_1_1cds.html#a24c8b06bd3c68fd33086f5e5609c5dfb">px::cds::state_op</a> op = ( ( !is_communicating ) ? <a class="code" href="../../d5/dd5/namespacepx_1_1cds.html#a24c8b06bd3c68fd33086f5e5609c5dfba3a19cec3443a55b63f1ed5b73b3b5c0a">px::cds::state_op::op_set_flags</a> : <a class="code" href="../../d5/dd5/namespacepx_1_1cds.html#a24c8b06bd3c68fd33086f5e5609c5dfbab12ec8cb40a1d9d0481a3e190fbd0d1e">px::cds::state_op::op_clear_flags</a> );</div>
<div class="line"><a name="l01224"></a><span class="lineno"> 1224</span>&#160;        <a class="code" href="../../dd/d57/classpx_1_1CBitset.html">px::CBitset&lt;px::realtime_state&gt;</a> requested_flags;</div>
<div class="line"><a name="l01225"></a><span class="lineno"> 1225</span>&#160;        requested_flags.<a class="code" href="../../dd/d57/classpx_1_1CBitset.html#af10bc1fcbc0d917ed7d3531c81f16621">reset</a>();</div>
<div class="line"><a name="l01226"></a><span class="lineno"> 1226</span>&#160;        requested_flags.<a class="code" href="../../dd/d57/classpx_1_1CBitset.html#ad0dc233a4abd8d91c033f2582b193768">set</a>( <a class="code" href="../../de/dcb/namespacepx.html#a60cb4a870ad1ada57e20d9e76de5578ca0c161174c6857de22a3653e43574df78">px::realtime_state::not_communicating</a>, <span class="keyword">true</span> );</div>
<div class="line"><a name="l01227"></a><span class="lineno"> 1227</span>&#160;</div>
<div class="line"><a name="l01228"></a><span class="lineno"> 1228</span>&#160;        std::vector&lt;px::cds::CSetSingleChannelState&gt; channel_state;</div>
<div class="line"><a name="l01229"></a><span class="lineno"> 1229</span>&#160;        <a class="code" href="../../d0/d46/classpx_1_1cds_1_1CSetChannelState.html">px::cds::CSetChannelState</a> req;</div>
<div class="line"><a name="l01230"></a><span class="lineno"> 1230</span>&#160;        channel_state.emplace_back( <a class="code" href="../../d9/d72/classpx_1_1cds_1_1CSetSingleChannelState.html">px::cds::CSetSingleChannelState</a>( chan_id, requested_flags, op ) );</div>
<div class="line"><a name="l01231"></a><span class="lineno"> 1231</span>&#160;</div>
<div class="line"><a name="l01232"></a><span class="lineno"> 1232</span>&#160;        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a851b79851d18794d25308ed49187ac9e">CCdsSyncIO::set_channel_state</a>( channel_state );</div>
<div class="line"><a name="l01233"></a><span class="lineno"> 1233</span>&#160;}</div>
<div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01238"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a483fa88db7f8fded55166cf1c25feb2d"> 1238</a></span>&#160;<a class="code" href="../../de/db2/classpx_1_1cds_1_1CSingleField.html">::cds::field_t</a> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a483fa88db7f8fded55166cf1c25feb2d">CCdsSyncIO::get_field</a>( <a class="code" href="../../d9/d60/namespacecds.html#aed79a24c9cb7fbc05cc6167ee5993d5a">const ::cds::field_t</a> &amp;field )<span class="keyword"> const</span></div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;<span class="keyword"></span>{</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;</div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;        <a class="code" href="../../dd/d71/classpx_1_1cds_1_1CGetFieldValue.html">::cds::getv_field_t</a> msg;</div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;</div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;        msg.<a class="code" href="../../dd/d71/classpx_1_1cds_1_1CGetFieldValue.html#a17b35c218a3fe4ad08fb48f6345b9227">fields</a>.insert( field );</div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;</div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;        std::shared_ptr&lt;px::cds::CGetFieldValue&gt; cds_resp =</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;                std::dynamic_pointer_cast&lt;<a class="code" href="../../dd/d71/classpx_1_1cds_1_1CGetFieldValue.html">px::cds::CGetFieldValue</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( msg ) );</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( cds_resp, <span class="stringliteral">&quot;CGetFieldValue&quot;</span> );</div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;</div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        <span class="keywordflow">if</span> ( cds_resp-&gt;fields.begin()-&gt;value.type() == <a class="code" href="../../de/dcb/namespacepx.html#acf6770f6d835c0c868d8be96d1771e3fafedb2d84cafe20862cb4399751a8a7e3">px::datatype::invalid</a> )</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;        {</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a87e1fdf1ba293b942ef6f9a1d51e6f3f">LIBPX_WARN</a>( 1, <span class="stringliteral">&quot;CDS GetField(%s/%s) returned no valid Value&quot;</span>, field.tag.c_str(), field.field.c_str() );</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;        }</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;        <span class="keywordflow">return</span> ( *( cds_resp-&gt;fields.begin() ) );</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;}</div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;</div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01262"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a1d2200c5dca43e713cf980d0e7d79abb"> 1262</a></span>&#160;<span class="keywordtype">int</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a1d2200c5dca43e713cf980d0e7d79abb">CCdsSyncIO::set_field</a>( ::<a class="code" href="../../de/db2/classpx_1_1cds_1_1CSingleField.html">cds::field_t</a> &amp;field )</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;{</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;        <a class="code" href="../../d9/db7/classpx_1_1cds_1_1CSetFieldValue.html">::cds::setv_field_t</a> msg;</div>
<div class="line"><a name="l01267"></a><span class="lineno"> 1267</span>&#160;        msg.<a class="code" href="../../d9/db7/classpx_1_1cds_1_1CSetFieldValue.html#a856d0f098cd8de0c82579f36f946cbbd">fields</a>.insert( field );</div>
<div class="line"><a name="l01268"></a><span class="lineno"> 1268</span>&#160;        <span class="keywordtype">int</span> rc = 1;             <span class="comment">// assume the failure case</span></div>
<div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;        {</div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;                std::shared_ptr&lt;px::cds::CSetFieldValue&gt; cds_resp =</div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;                        std::dynamic_pointer_cast&lt;<a class="code" href="../../d9/db7/classpx_1_1cds_1_1CSetFieldValue.html">px::cds::CSetFieldValue</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( msg ) );</div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;                <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( cds_resp, <span class="stringliteral">&quot;CSetFieldValue&quot;</span> );</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;                <span class="keywordflow">if</span> ( cds_resp-&gt;fields.size() &gt; 0 )</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;                {</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;                        <span class="keywordflow">if</span> ( cds_resp-&gt;fields.begin()-&gt;value.type() != <a class="code" href="../../de/dcb/namespacepx.html#acf6770f6d835c0c868d8be96d1771e3fafedb2d84cafe20862cb4399751a8a7e3">px::datatype::invalid</a> )</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;                        {</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;                                rc = 0;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;                        }</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;                }</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;                <span class="keywordflow">if</span> ( rc )</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;                {</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;                        <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;Error: Failed to set field %s value!&quot;</span>, field.<a class="code" href="../../de/db2/classpx_1_1cds_1_1CSingleField.html#a3f714407a3cea20748e6ad7b37a99680">field</a>.c_str() );</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;                }</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;        }</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a> &amp;ex )</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;        {</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;When Setting Field %s: %s&quot;</span>, field.<a class="code" href="../../de/db2/classpx_1_1cds_1_1CSingleField.html#a3f714407a3cea20748e6ad7b37a99680">field</a>.c_str(), ex.<a class="code" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6">what</a>() );</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;        }</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;        <span class="keywordflow">return</span> ( rc );</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;}</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01300"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a05d8476df7f52c80163f1c35195877dc"> 1300</a></span>&#160;uint64_t <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a05d8476df7f52c80163f1c35195877dc">CCdsSyncIO::subscribe_by_id</a>( uint64_t sub_id, <a class="code" href="../../df/d8a/namespacepx_1_1sub.html#a9f14ba2d87747d37025c1be590176841">px::sub::subscription_type</a> sub_type,</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;                                                                          <a class="code" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> item_id, <span class="keywordtype">bool</span> is_recursive_device,</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;                                                                          <span class="keywordtype">bool</span> is_reflexive, <a class="code" href="../../de/dcb/namespacepx.html#a8231daeb7713d1005025954bc1066422ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> library_name )</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;{</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        assert( item_id );</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;        <span class="comment">// Test to make sure we have a handler already set for unsolicited messages</span></div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        <span class="keywordflow">if</span> ( !<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;have_unsolicited_callback() )</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;        {</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;Trying to subscribe, but no unsolicited callback handler has been set yet.&quot;</span> );</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;                <span class="keywordflow">return</span> ( 0 );</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;        }</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;        <span class="keywordflow">if</span> ( sub_id == 0 )</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;        {</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;                <span class="comment">// Then we have to request a subscription ID to use</span></div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;                std::vector&lt;uint64_t&gt; new_ids = <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a9476cf54a2363a1a646f3769c5fcd3dc">get_subscriber_ids</a>( 1, is_reflexive );</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;                sub_id = new_ids[0];</div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 5, <span class="stringliteral">&quot;Created subscription ID = %&quot;</span> PRIu64 <span class="stringliteral">&quot;&quot;</span>, sub_id );</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;        }</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;        <a class="code" href="../../d9/dda/classpx_1_1cds_1_1CSubscribe.html">px::cds::CSubscribe</a> sub_req;</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;        sub_req.<a class="code" href="../../d9/dda/classpx_1_1cds_1_1CSubscribe.html#a25fa8f9d345b56c2eed0a707b37d927c">subscriptions</a>.emplace_back( <a class="code" href="../../dc/d4b/classpx_1_1cds_1_1CSubscribeSingle.html">px::cds::CSubscribeSingle</a>( sub_id, sub_type, item_id, is_recursive_device ) );</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;        <span class="keywordflow">if</span> ( !library_name.empty() )</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;        {</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;                sub_req.<a class="code" href="../../d9/dda/classpx_1_1cds_1_1CSubscribe.html#a1c0e9f87cfa96fb9735cd0b5eaf04602">libraryName</a> = library_name;</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        }</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;        std::shared_ptr&lt;px::cds::CRequestResponse&gt; sub_resp = <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( sub_req );</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( sub_resp, <span class="stringliteral">&quot;CSubscribe&quot;</span> );</div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 5, <span class="stringliteral">&quot;Subscribed to Item %&quot;</span> PRIu64 <span class="stringliteral">&quot; Type %u on subscription %&quot;</span> PRIu64 <span class="stringliteral">&quot;&quot;</span>, item_id, ( uint8_t ) sub_type, sub_id );</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        <span class="keywordflow">return</span> ( sub_id );</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;}</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a1976b6d1bf0f0ad19db3fc79b0420519"> 1338</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a1976b6d1bf0f0ad19db3fc79b0420519">CCdsSyncIO::unsubscribe_id</a>( uint64_t sub_id,</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;                                                                 <a class="code" href="../../df/d8a/namespacepx_1_1sub.html#a9f14ba2d87747d37025c1be590176841">px::sub::subscription_type</a> sub_type,</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;                                                                 <a class="code" href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a> item_id, <a class="code" href="../../de/dcb/namespacepx.html#a8231daeb7713d1005025954bc1066422ab45cffe084dd3d20d928bee85e7b0f21">std::string</a> library_name )</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;{</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;        assert( sub_id );</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;        assert( item_id );</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;</div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <a class="code" href="../../d9/dda/classpx_1_1cds_1_1CSubscribe.html">px::cds::CSubscribe</a> sub_req;</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;        <span class="comment">// Recursive is False but Unsubscribe is True</span></div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        sub_req.<a class="code" href="../../d9/dda/classpx_1_1cds_1_1CSubscribe.html#a25fa8f9d345b56c2eed0a707b37d927c">subscriptions</a>.emplace_back( <a class="code" href="../../dc/d4b/classpx_1_1cds_1_1CSubscribeSingle.html">px::cds::CSubscribeSingle</a>( sub_id, sub_type, item_id, <span class="keyword">false</span>, <span class="keyword">true</span> ) );</div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        <span class="keywordflow">if</span> ( !library_name.empty() )</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;        {</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                sub_req.<a class="code" href="../../d9/dda/classpx_1_1cds_1_1CSubscribe.html#a1c0e9f87cfa96fb9735cd0b5eaf04602">libraryName</a> = library_name;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;        }</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;        std::shared_ptr&lt;px::cds::CRequestResponse&gt; sub_resp = <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( sub_req );</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( sub_resp, <span class="stringliteral">&quot;(un)CSubscribe&quot;</span> );</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 5, <span class="stringliteral">&quot;Unsubscribed Item %&quot;</span> PRIu64 <span class="stringliteral">&quot; Type %u on subscription %&quot;</span> PRIu64 <span class="stringliteral">&quot;&quot;</span>, item_id, ( uint8_t ) sub_type, sub_id );</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;        <span class="keywordflow">return</span> ( <span class="keyword">true</span> );</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;}</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;<span class="comment">// See cds_sync_io.hpp for description</span></div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l01363"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a9476cf54a2363a1a646f3769c5fcd3dc"> 1363</a></span>&#160;std::vector&lt;uint64_t&gt; <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a9476cf54a2363a1a646f3769c5fcd3dc">CCdsSyncIO::get_subscriber_ids</a>( <span class="keywordtype">size_t</span> count, <span class="keywordtype">bool</span> reflexive )</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;{</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        <a class="code" href="../../d9/d00/classpx_1_1cds_1_1CManageSubscriberIDs.html">px::cds::CManageSubscriberIDs</a> get_ids;</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        get_ids.<a class="code" href="../../d9/d00/classpx_1_1cds_1_1CManageSubscriberIDs.html#a0e4690ce20fe2a058f742ae731bbc74a">new_ids_requested</a> = count;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;        get_ids.<a class="code" href="../../d9/d00/classpx_1_1cds_1_1CManageSubscriberIDs.html#a89e615d22fabf32894c2a966eadf6f38">reflexive</a> = reflexive;</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;        std::shared_ptr&lt;px::cds::CManageSubscriberIDs&gt; ids_resp =</div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;                std::dynamic_pointer_cast&lt;<a class="code" href="../../d9/d00/classpx_1_1cds_1_1CManageSubscriberIDs.html">px::cds::CManageSubscriberIDs</a>&gt;( <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( get_ids ) );</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;        <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( ids_resp, <span class="stringliteral">&quot;CManageSubscriberIDs&quot;</span> );</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 6, <span class="stringliteral">&quot;Requested / got %zu new subscriber IDs&quot;</span>, ids_resp-&gt;new_ids.size() );</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <span class="keywordflow">return</span> ( ids_resp-&gt;new_ids );</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;}</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;<span class="comment">// Create or update a subscription for the OOB with the given tag (name).</span></div>
<div class="line"><a name="l01379"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a08c4d972a499a0197492627375f516c3"> 1379</a></span>&#160;uint64_t <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a08c4d972a499a0197492627375f516c3">CCdsSyncIO::subscribe_oob</a>( uint64_t sub_id, <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> oob_tag, <span class="keywordtype">bool</span> is_reflexive, <span class="keywordtype">bool</span> is_tag_partial )</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;{</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;        assert( !oob_tag.empty() );</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;        <span class="comment">// Test to make sure we have a handler already set for unsolicited messages</span></div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;        <span class="keywordflow">if</span> ( !<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad5be40f5758e6efc07bc2e3feec50c8c">have_unsolicited_callback</a>() )</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;        {</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;Trying to subscribe, but no unsolicited callback handler has been set yet.&quot;</span> );</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;                <span class="keywordflow">return</span> ( 0 );</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        }</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;        {</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;                <span class="keywordflow">if</span> ( sub_id == 0 )</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;                {</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;                        <span class="comment">// Then we have to request a subscription ID to use</span></div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;                        std::vector&lt;uint64_t&gt; new_ids = <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a9476cf54a2363a1a646f3769c5fcd3dc">get_subscriber_ids</a>( 1, is_reflexive );</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;                        sub_id = new_ids[0];</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;                        <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 5, <span class="stringliteral">&quot;Created subscription ID = %&quot;</span> PRIu64 <span class="stringliteral">&quot;&quot;</span>, sub_id );</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;                }</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;                <a class="code" href="../../d9/dda/classpx_1_1cds_1_1CSubscribe.html">px::cds::CSubscribe</a> sub_req;</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;                sub_req.<a class="code" href="../../d9/dda/classpx_1_1cds_1_1CSubscribe.html#a25fa8f9d345b56c2eed0a707b37d927c">subscriptions</a>.emplace_back( <a class="code" href="../../dc/d4b/classpx_1_1cds_1_1CSubscribeSingle.html">px::cds::CSubscribeSingle</a>( sub_id,</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;                                                                                                                                           <a class="code" href="../../df/d8a/namespacepx_1_1sub.html#a9f14ba2d87747d37025c1be590176841a9ed4982b3d5ffd3af3ea1367b7703b84">px::sub::subscription_type::oob_data</a>, oob_tag, <span class="keyword">false</span>, <span class="keyword">false</span>, is_tag_partial ) );</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;                std::shared_ptr&lt;px::cds::CRequestResponse&gt; sub_resp = <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( sub_req );</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;                <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( sub_resp, <span class="stringliteral">&quot;CSubscribe&quot;</span> );</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 5, <span class="stringliteral">&quot;Subscribed to OOB %s on subscription %&quot;</span> PRIu64 <span class="stringliteral">&quot;&quot;</span>, oob_tag.c_str(), sub_id );</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        }</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a> &amp;ex )</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;        {</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;When Subscribing to OOB %s: %s&quot;</span>, oob_tag.c_str(), ex.<a class="code" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6">what</a>() );</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;                sub_id = 0;</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;        }</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;        <span class="keywordflow">return</span> ( sub_id );</div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;}</div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;<span class="comment">// Unsubscribe the given OOB from the given subscription (by ID).</span></div>
<div class="line"><a name="l01419"></a><span class="lineno"><a class="line" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#aaeb2a75ce694924e4a1c70b17dca581d"> 1419</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#aaeb2a75ce694924e4a1c70b17dca581d">CCdsSyncIO::unsubscribe_oob</a>( uint64_t sub_id, <a class="code" href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a> oob_tag, <span class="keywordtype">bool</span> is_tag_partial )</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;{</div>
<div class="line"><a name="l01421"></a><span class="lineno"> 1421</span>&#160;        PUSH_FUNC;</div>
<div class="line"><a name="l01422"></a><span class="lineno"> 1422</span>&#160;</div>
<div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;        assert( sub_id );</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;        assert( !oob_tag.empty() );</div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;        <a class="code" href="../../d9/dda/classpx_1_1cds_1_1CSubscribe.html">px::cds::CSubscribe</a> sub_req;</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;        {</div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;                <span class="comment">// Unsubscribe is True</span></div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;                sub_req.<a class="code" href="../../d9/dda/classpx_1_1cds_1_1CSubscribe.html#a25fa8f9d345b56c2eed0a707b37d927c">subscriptions</a>.emplace_back( <a class="code" href="../../dc/d4b/classpx_1_1cds_1_1CSubscribeSingle.html">px::cds::CSubscribeSingle</a>( sub_id,</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;                                                                                                                                           <a class="code" href="../../df/d8a/namespacepx_1_1sub.html#a9f14ba2d87747d37025c1be590176841a9ed4982b3d5ffd3af3ea1367b7703b84">px::sub::subscription_type::oob_data</a>, oob_tag, <span class="keyword">true</span>, <span class="keyword">false</span>, is_tag_partial ) );</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;                std::shared_ptr&lt;px::cds::CRequestResponse&gt; sub_resp = <a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a>()-&gt;<a class="code" href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">submit_wait</a>( sub_req );</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;                <a class="code" href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">check_cds_result</a>( sub_resp, <span class="stringliteral">&quot;(un)CSubscribe&quot;</span> );</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a>( 5, <span class="stringliteral">&quot;Unsubscribed OOB %s on subscription %&quot;</span> PRIu64 <span class="stringliteral">&quot;&quot;</span>, oob_tag.c_str(), sub_id );</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;                <span class="keywordflow">return</span> ( <span class="keyword">true</span> );</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;        }</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;        <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code" href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a> &amp;ex )</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;        {</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a>( 1, <span class="stringliteral">&quot;When Unsubscribing OOB %s: %s&quot;</span>, oob_tag.c_str(), ex.<a class="code" href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6">what</a>() );</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;                <span class="keywordflow">return</span> ( <span class="keyword">false</span> );</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;        }</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;}</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;}       <span class="comment">// asio</span></div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;}       <span class="comment">// px</span></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a483fa88db7f8fded55166cf1c25feb2d"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a483fa88db7f8fded55166cf1c25feb2d">px::asio::CCdsSyncIO::get_field</a></div><div class="ttdeci">PUBLIC::cds::field_t get_field(const ::cds::field_t &amp;field) const </div><div class="ttdoc">Field Related Member Functions. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l01238">cds_sync_io.cpp:1238</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CGetOOBData_html"><div class="ttname"><a href="../../d3/d07/classpx_1_1cds_1_1CGetOOBData.html">px::cds::CGetOOBData</a></div><div class="ttdoc">Get the OOB data corresponding to a list of tags. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d3b/get__oob__data_8hpp_source.html#l00085">get_oob_data.hpp:85</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_afac4e106a5712ab07075f9d51d7c82df"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#afac4e106a5712ab07075f9d51d7c82df">px::asio::CCdsSyncIO::clear_oob</a></div><div class="ttdeci">PUBLIC void clear_oob(const px::string &amp;tag)</div><div class="ttdoc">Utility function to delete an OOB object from the CDS. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00402">cds_sync_io.cpp:402</a></div></div>
<div class="ttc" id="classpx_1_1CTimestamp_html_a23664b3ae0d503a0abb51bc97ccfd474"><div class="ttname"><a href="../../d6/d4e/classpx_1_1CTimestamp.html#a23664b3ae0d503a0abb51bc97ccfd474">px::CTimestamp::localtime_str</a></div><div class="ttdeci">px::string localtime_str() const </div><div class="ttdoc">Generate a string representation of this timestamp, assuming local time. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/db0/timestamp_8hpp_source.html#l00428">timestamp.hpp:428</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a4cb43e9c33bce2fd28e6a720384b4ffd"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a4cb43e9c33bce2fd28e6a720384b4ffd">px::asio::CCdsSyncIO::get_oob_tags</a></div><div class="ttdeci">PUBLIC std::vector&lt; px::string &gt; get_oob_tags(const px::string &amp;tag_hint)</div><div class="ttdoc">Get the list of OOB tags, given a starting hint (which can be empty to get all). </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00267">cds_sync_io.cpp:267</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CUpdateChannelValue_html_a574a585ede62fb7e7c36b8daa6d567ac"><div class="ttname"><a href="../../db/df2/classpx_1_1cds_1_1CUpdateChannelValue.html#a574a585ede62fb7e7c36b8daa6d567ac">px::cds::CUpdateChannelValue::bypass_validation</a></div><div class="ttdeci">bool bypass_validation</div><div class="ttdoc">Bypass data validation. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d4b/update__channel__value_8hpp_source.html#l00128">update_channel_value.hpp:128</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CClient_html_ad3a241ca4570471536d3436ee23b3d65"><div class="ttname"><a href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad3a241ca4570471536d3436ee23b3d65">px::cds::CClient::get</a></div><div class="ttdeci">static PUBLIC CClient * get()</div><div class="ttdoc">Static Factory function: constructs if necessary, returns existing instance of CClient otherwise...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/client_8cpp_source.html#l00051">client.cpp:51</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CClearOOBData_html_a36afe6e2c552d2a5b08156a04cb5ad49"><div class="ttname"><a href="../../dc/d1b/classpx_1_1cds_1_1CClearOOBData.html#a36afe6e2c552d2a5b08156a04cb5ad49">px::cds::CClearOOBData::tags</a></div><div class="ttdeci">std::vector&lt; px::string &gt; tags</div><div class="ttdoc">Request: the list of tags of OOB items to erase. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d16/clear__oob__data_8hpp_source.html#l00065">clear_oob_data.hpp:65</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_af8d5efcbedf3f138017689799ec31c29"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#af8d5efcbedf3f138017689799ec31c29">px::asio::CCdsSyncIO::_bypass_validation</a></div><div class="ttdeci">bool _bypass_validation</div><div class="ttdoc">If true, bypass CDS data validation when setting channel values. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/dc6/cds__sync__io_8hpp_source.html#l00715">cds_sync_io.hpp:715</a></div></div>
<div class="ttc" id="classpx_1_1CDevice_html_abfc55a39e8c96431ef6588a56869ea71"><div class="ttname"><a href="../../d6/d5b/classpx_1_1CDevice.html#abfc55a39e8c96431ef6588a56869ea71">px::CDevice::get_state</a></div><div class="ttdeci">PUBLIC px::CBitset&lt; px::realtime_state &gt; get_state() const </div><div class="ttdoc">Return the device&amp;#39;s state, the union of bits set by inherited_state and own_state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd4/device_8cpp_source.html#l00955">device.cpp:955</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a8f29ea559d6d336777c87277ccaf5692"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a8f29ea559d6d336777c87277ccaf5692">px::asio::CCdsSyncIO::register_watchdog</a></div><div class="ttdeci">PUBLIC void register_watchdog(uint32_t timeout, bool auto_clear_on_close=true)</div><div class="ttdoc">Utility function to register the CDS watchdog timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00165">cds_sync_io.cpp:165</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CUpdateChannelValue_html_a9b664c078f4f54522c625e0be0b128f2"><div class="ttname"><a href="../../db/df2/classpx_1_1cds_1_1CUpdateChannelValue.html#a9b664c078f4f54522c625e0be0b128f2">px::cds::CUpdateChannelValue::when</a></div><div class="ttdeci">px::CWallTime when</div><div class="ttdoc">Timestamp of the update, to be returned by px::cds::CGetChannelValue and put into subscription update...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d4b/update__channel__value_8hpp_source.html#l00123">update_channel_value.hpp:123</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a5f8a8b6012a3798213d38f323d330867"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a5f8a8b6012a3798213d38f323d330867">px::asio::CCdsSyncIO::check_cds_result</a></div><div class="ttdeci">PUBLIC void check_cds_result(const std::shared_ptr&lt; px::cds::CRequestResponse &gt; cds_resp, const char *req_name) const </div><div class="ttdoc">Utility function to check if we got a response, and that the returned CDS Results status is Success...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00072">cds_sync_io.cpp:72</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CGetChannel_html_a2dc4f811c9fff82c56705db418067972"><div class="ttname"><a href="../../d5/d83/classpx_1_1cds_1_1CGetChannel.html#a2dc4f811c9fff82c56705db418067972">px::cds::CGetChannel::ids</a></div><div class="ttdeci">std::vector&lt; px::id_t &gt; ids</div><div class="ttdoc">List of channels to fetch. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d4b/get__channel_8hpp_source.html#l00123">get_channel.hpp:123</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CSubscribe_html"><div class="ttname"><a href="../../d9/dda/classpx_1_1cds_1_1CSubscribe.html">px::cds::CSubscribe</a></div><div class="ttdoc">Manage subscriptions, to get notified when CDS data objects change. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dbb/subscribe_8hpp_source.html#l00137">subscribe.hpp:137</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CGetOOBTags_html"><div class="ttname"><a href="../../d4/d5b/classpx_1_1cds_1_1CGetOOBTags.html">px::cds::CGetOOBTags</a></div><div class="ttdoc">Get a list of current OOB tags. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d1e/get__oob__tags_8hpp_source.html#l00024">get_oob_tags.hpp:24</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CCreateDevice_html"><div class="ttname"><a href="../../d3/d57/classpx_1_1cds_1_1CCreateDevice.html">px::cds::CCreateDevice</a></div><div class="ttdoc">Create one or more devices. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db0/create__device_8hpp_source.html#l00029">create_device.hpp:29</a></div></div>
<div class="ttc" id="structpx_1_1generic__err_html_ab55d991a1469e98c5d79a27d1b93b4d6"><div class="ttname"><a href="../../d1/d2c/structpx_1_1generic__err.html#ab55d991a1469e98c5d79a27d1b93b4d6">px::generic_err::what</a></div><div class="ttdeci">virtual const char * what() const noexcept</div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1e/exception_8hpp_source.html#l00064">exception.hpp:64</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CSetOOBDataUnit_html"><div class="ttname"><a href="../../d6/d60/classpx_1_1cds_1_1CSetOOBDataUnit.html">px::cds::CSetOOBDataUnit</a></div><div class="ttdoc">Encapsulates a unit of OOB data: tag, data, whether data should be persisted to disk or not The API o...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d5f/set__oob__data_8hpp_source.html#l00038">set_oob_data.hpp:38</a></div></div>
<div class="ttc" id="string__util_8hpp_html"><div class="ttname"><a href="../../d3/d06/string__util_8hpp.html">string_util.hpp</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_ae5a9730604632c13e89d871a535c5a4c"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#ae5a9730604632c13e89d871a535c5a4c">px::asio::CCdsSyncIO::set_channel_communicating</a></div><div class="ttdeci">PUBLIC void set_channel_communicating(const px::id_t chan_id, const bool is_communicating)</div><div class="ttdoc">Utility function to set the communicating state of a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l01216">cds_sync_io.cpp:1216</a></div></div>
<div class="ttc" id="log_8hpp_html_a87e1fdf1ba293b942ef6f9a1d51e6f3f"><div class="ttname"><a href="../../d4/d3d/log_8hpp.html#a87e1fdf1ba293b942ef6f9a1d51e6f3f">LIBPX_WARN</a></div><div class="ttdeci">#define LIBPX_WARN(__VLVL__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d3d/log_8hpp_source.html#l00184">log.hpp:184</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CDeleteChannel_html_a0b973a8adb7484850748a24c2fbb1265"><div class="ttname"><a href="../../d1/d7c/classpx_1_1cds_1_1CDeleteChannel.html#a0b973a8adb7484850748a24c2fbb1265">px::cds::CDeleteChannel::ids</a></div><div class="ttdeci">std::vector&lt; px::id_t &gt; ids</div><div class="ttdoc">IDs of channels to delete. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/delete__channel_8hpp_source.html#l00063">delete_channel.hpp:63</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a08c4d972a499a0197492627375f516c3"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a08c4d972a499a0197492627375f516c3">px::asio::CCdsSyncIO::subscribe_oob</a></div><div class="ttdeci">PUBLIC uint64_t subscribe_oob(uint64_t sub_id, px::string oob_tag, bool is_reflexive=false, bool is_tag_partial=false)</div><div class="ttdoc">Create or update a subscription for the OOB with the given tag (name). </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l01379">cds_sync_io.cpp:1379</a></div></div>
<div class="ttc" id="classpx_1_1CBitset_html_af10bc1fcbc0d917ed7d3531c81f16621"><div class="ttname"><a href="../../dd/d57/classpx_1_1CBitset.html#af10bc1fcbc0d917ed7d3531c81f16621">px::CBitset::reset</a></div><div class="ttdeci">void reset()</div><div class="ttdoc">Zero out all flags. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/bitset_8hpp_source.html#l00120">bitset.hpp:120</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CGetDevice_html_ae6beff875f8f7d70853848c58b870a43"><div class="ttname"><a href="../../dc/d8a/classpx_1_1cds_1_1CGetDevice.html#ae6beff875f8f7d70853848c58b870a43">px::cds::CGetDevice::requested_ids</a></div><div class="ttdeci">std::vector&lt; px::id_t &gt; requested_ids</div><div class="ttdoc">The device IDs to query. Default = 1 (the publisher / root device). </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc8/get__device_8hpp_source.html#l00067">get_device.hpp:67</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a63f75ebe08fd50b221eecfe9befb42ec"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a63f75ebe08fd50b221eecfe9befb42ec">px::asio::CCdsSyncIO::CCdsSyncIO</a></div><div class="ttdeci">PUBLIC CCdsSyncIO(const bool enable_data_validation=true)</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00057">cds_sync_io.cpp:57</a></div></div>
<div class="ttc" id="subscribe_8hpp_html"><div class="ttname"><a href="../../d9/dbb/subscribe_8hpp.html">subscribe.hpp</a></div></div>
<div class="ttc" id="classpx_1_1CChannel_html"><div class="ttname"><a href="../../d0/df1/classpx_1_1CChannel.html">px::CChannel</a></div><div class="ttdoc">Channel as referred to by the CDS. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d20/channel_8hpp_source.html#l00027">channel.hpp:27</a></div></div>
<div class="ttc" id="classpx_1_1CDevice_html_a04927ad93a56dfbd9a9bb545a5afdc31"><div class="ttname"><a href="../../d6/d5b/classpx_1_1CDevice.html#a04927ad93a56dfbd9a9bb545a5afdc31">px::CDevice::set_device_uuid</a></div><div class="ttdeci">PUBLIC void set_device_uuid(const px::string &amp;uuid_str)</div><div class="ttdoc">Set the Device guid attribute using a character string in UUID format, with or without dashes...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd4/device_8cpp_source.html#l01008">device.cpp:1008</a></div></div>
<div class="ttc" id="namespacepx_1_1cds_html_af13231d122984b008813ea52d906041b"><div class="ttname"><a href="../../d5/dd5/namespacepx_1_1cds.html#af13231d122984b008813ea52d906041b">px::cds::req_name</a></div><div class="ttdeci">PUBLIC px::string req_name(const CRequestResponse *req)</div><div class="ttdoc">Return the string name of a RequestResponse command. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d18/packer_8cpp_source.html#l00439">packer.cpp:439</a></div></div>
<div class="ttc" id="delete__channel_8hpp_html"><div class="ttname"><a href="../../d9/df8/delete__channel_8hpp.html">delete_channel.hpp</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CGetDevice_html"><div class="ttname"><a href="../../dc/d8a/classpx_1_1cds_1_1CGetDevice.html">px::cds::CGetDevice</a></div><div class="ttdoc">Get list of devices from the CDS. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc8/get__device_8hpp_source.html#l00026">get_device.hpp:26</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_aaeb2a75ce694924e4a1c70b17dca581d"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#aaeb2a75ce694924e4a1c70b17dca581d">px::asio::CCdsSyncIO::unsubscribe_oob</a></div><div class="ttdeci">PUBLIC bool unsubscribe_oob(uint64_t sub_id, px::string oob_tag, bool is_tag_partial=false)</div><div class="ttdoc">Unsubscribe the given OOB from the given subscription (by ID). </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l01419">cds_sync_io.cpp:1419</a></div></div>
<div class="ttc" id="classpx_1_1CDevice_html_a806bd549a06559074ccae14be9afd925"><div class="ttname"><a href="../../d6/d5b/classpx_1_1CDevice.html#a806bd549a06559074ccae14be9afd925">px::CDevice::set_state</a></div><div class="ttdeci">PUBLIC void set_state(const px::CBitset&lt; px::realtime_state &gt; &amp;st)</div><div class="ttdoc">Set the device&amp;#39;s own_state. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/dd4/device_8cpp_source.html#l00966">device.cpp:966</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CClearWatchdog_html"><div class="ttname"><a href="../../d6/dbd/classpx_1_1cds_1_1CClearWatchdog.html">px::cds::CClearWatchdog</a></div><div class="ttdoc">Undoes the effect of CRegisterWatchdog. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d64/clear__watchdog_8hpp_source.html#l00020">clear_watchdog.hpp:20</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CCreateSingleChannel_html"><div class="ttname"><a href="../../d6/d2f/classpx_1_1cds_1_1CCreateSingleChannel.html">px::cds::CCreateSingleChannel</a></div><div class="ttdoc">Represents a single channel-creation request. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d43/create__channel_8hpp_source.html#l00018">create_channel.hpp:18</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a867ef196ae4e9b77a551c1ba3f113e3e"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a867ef196ae4e9b77a551c1ba3f113e3e">px::asio::CCdsSyncIO::get_oob_field</a></div><div class="ttdeci">PUBLIC std::pair&lt; px::CValue, bool &gt; get_oob_field(const px::string &amp;tag_name, const px::string &amp;field_name) const </div><div class="ttdoc">Convenience method for synchronous CDS request to get one OOB field value. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00228">cds_sync_io.cpp:228</a></div></div>
<div class="ttc" id="namespacepx_html_a9188d298ea20cd951b49ba50d698a49b"><div class="ttname"><a href="../../de/dcb/namespacepx.html#a9188d298ea20cd951b49ba50d698a49b">px::id_t</a></div><div class="ttdeci">uint64_t id_t</div><div class="ttdoc">Unique identifier. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/db3/id_8hpp_source.html#l00023">id.hpp:23</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_afc091f1a1c51f005aa453e8607a1c3b1"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#afc091f1a1c51f005aa453e8607a1c3b1">px::asio::CCdsSyncIO::~CCdsSyncIO</a></div><div class="ttdeci">virtual PUBLIC ~CCdsSyncIO()</div><div class="ttdoc">Default destructor. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00062">cds_sync_io.cpp:62</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_afcdbf12918ec8754406edea937ffabb6"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#afcdbf12918ec8754406edea937ffabb6">px::asio::CCdsSyncIO::delete_device</a></div><div class="ttdeci">PUBLIC void delete_device(const px::id_t delete_id)</div><div class="ttdoc">Delete the provided device ID from the CDS. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00805">cds_sync_io.cpp:805</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CSetSingleChannelState_html"><div class="ttname"><a href="../../d9/d72/classpx_1_1cds_1_1CSetSingleChannelState.html">px::cds::CSetSingleChannelState</a></div><div class="ttdoc">Describe the requested changes of Realtime State bits for one channel The CDS API object...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d69/set__channel__state_8hpp_source.html#l00019">set_channel_state.hpp:19</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a0d2d70fcb7176c98c20dcff17633b141"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a0d2d70fcb7176c98c20dcff17633b141">px::asio::CCdsSyncIO::set_channel_values</a></div><div class="ttdeci">PUBLIC void set_channel_values(const std::vector&lt; px::cds::CUpdateSingleChannelValue &gt; &amp;values)</div><div class="ttdoc">Utility function to set the current Values of multiple Channels into the CDS. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00716">cds_sync_io.cpp:716</a></div></div>
<div class="ttc" id="namespacepx_1_1sub_html_a9f14ba2d87747d37025c1be590176841"><div class="ttname"><a href="../../df/d8a/namespacepx_1_1sub.html#a9f14ba2d87747d37025c1be590176841">px::sub::subscription_type</a></div><div class="ttdeci">subscription_type</div><div class="ttdoc">Subscription types. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d8f/subscription__type_8hpp_source.html#l00017">subscription_type.hpp:17</a></div></div>
<div class="ttc" id="register__watchdog_8hpp_html"><div class="ttname"><a href="../../d8/d07/register__watchdog_8hpp.html">register_watchdog.hpp</a></div></div>
<div class="ttc" id="create__channel_8hpp_html"><div class="ttname"><a href="../../dc/d43/create__channel_8hpp.html">create_channel.hpp</a></div></div>
<div class="ttc" id="namespacepx_1_1cds_html_a24c4c8fb05021548bccecd5fa3f2e5fead142aa0ce67a683b04d4e9afa2ba0f9e"><div class="ttname"><a href="../../d5/dd5/namespacepx_1_1cds.html#a24c4c8fb05021548bccecd5fa3f2e5fead142aa0ce67a683b04d4e9afa2ba0f9e">px::cds::RESPONSE_TOO_BIG</a></div><div class="ttdoc">Response is itself too large to fit in an empty queue, it will never succeed. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7c/request__response_8hpp_source.html#l00071">request_response.hpp:71</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a15b56b1c2cd4a35632cf37901d73d2ba"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a15b56b1c2cd4a35632cf37901d73d2ba">px::asio::CCdsSyncIO::delete_devices</a></div><div class="ttdeci">PUBLIC void delete_devices(const std::vector&lt; px::id_t &gt; &amp;delete_ids)</div><div class="ttdoc">Delete the provided device IDs from the CDS. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00833">cds_sync_io.cpp:833</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CSingleField_html"><div class="ttname"><a href="../../de/db2/classpx_1_1cds_1_1CSingleField.html">px::cds::CSingleField</a></div><div class="ttdoc">Singular get/set field request. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfb/get__field__value_8hpp_source.html#l00107">get_field_value.hpp:107</a></div></div>
<div class="ttc" id="get__channel__settings_8hpp_html"><div class="ttname"><a href="../../d4/d6c/get__channel__settings_8hpp.html">get_channel_settings.hpp</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_afe5de53abf68ed17c140fc7a3f3914b1"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#afe5de53abf68ed17c140fc7a3f3914b1">px::asio::CCdsSyncIO::ping_watchdog_s</a></div><div class="ttdeci">PUBLIC void ping_watchdog_s()</div><div class="ttdoc">Watchdog Related Member Functions. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00145">cds_sync_io.cpp:145</a></div></div>
<div class="ttc" id="cds__sync__io_8hpp_html"><div class="ttname"><a href="../../d7/dc6/cds__sync__io_8hpp.html">cds_sync_io.hpp</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CCdsClientLogin_html_a00af3c2448a31ece1c0036c4a4ae9c4b"><div class="ttname"><a href="../../dc/d26/classpx_1_1cds_1_1CCdsClientLogin.html#a00af3c2448a31ece1c0036c4a4ae9c4b">px::cds::CCdsClientLogin::service</a></div><div class="ttdeci">px::string service</div><div class="ttdoc">service to login, normally the name of the calling application </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6e/login_8hpp_source.html#l00276">login.hpp:276</a></div></div>
<div class="ttc" id="get__oob__tags_8hpp_html"><div class="ttname"><a href="../../dd/d1e/get__oob__tags_8hpp.html">get_oob_tags.hpp</a></div></div>
<div class="ttc" id="namespacepx_1_1cds_html_a24c8b06bd3c68fd33086f5e5609c5dfb"><div class="ttname"><a href="../../d5/dd5/namespacepx_1_1cds.html#a24c8b06bd3c68fd33086f5e5609c5dfb">px::cds::state_op</a></div><div class="ttdeci">state_op</div><div class="ttdoc">Whether to set or clear the given states. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0a/set__device__state_8hpp_source.html#l00022">set_device_state.hpp:22</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CSubscribe_html_a25fa8f9d345b56c2eed0a707b37d927c"><div class="ttname"><a href="../../d9/dda/classpx_1_1cds_1_1CSubscribe.html#a25fa8f9d345b56c2eed0a707b37d927c">px::cds::CSubscribe::subscriptions</a></div><div class="ttdeci">std::vector&lt; CSubscribeSingle &gt; subscriptions</div><div class="ttdoc">List of subscriptions to add or remove. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dbb/subscribe_8hpp_source.html#l00176">subscribe.hpp:176</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CDeleteDevice_html_a38f6c7c9c15d0f39795f3ffd5945c3c1"><div class="ttname"><a href="../../db/d93/classpx_1_1cds_1_1CDeleteDevice.html#a38f6c7c9c15d0f39795f3ffd5945c3c1">px::cds::CDeleteDevice::devices</a></div><div class="ttdeci">std::vector&lt; px::id_t &gt; devices</div><div class="ttdoc">IDs of devices to delete. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db7/delete__device_8hpp_source.html#l00064">delete_device.hpp:64</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a360b5622da14b7bef31147de28db63a4"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a360b5622da14b7bef31147de28db63a4">px::asio::CCdsSyncIO::get_channel_settings</a></div><div class="ttdeci">PUBLIC std::shared_ptr&lt; px::cds::CGetChannelSettings &gt; get_channel_settings(const px::id_t dev_id)</div><div class="ttdoc">Utility function to get all Channel Settings for a device in the CDS. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00604">cds_sync_io.cpp:604</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a125da60f95820328713e9014d64f0b41"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a125da60f95820328713e9014d64f0b41">px::asio::CCdsSyncIO::enable_device</a></div><div class="ttdeci">PUBLIC void enable_device(const px::id_t dev_id, const bool is_enabled)</div><div class="ttdoc">Utility function to enable/disable a device. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l01137">cds_sync_io.cpp:1137</a></div></div>
<div class="ttc" id="namespacepx_html_acf6770f6d835c0c868d8be96d1771e3fafedb2d84cafe20862cb4399751a8a7e3"><div class="ttname"><a href="../../de/dcb/namespacepx.html#acf6770f6d835c0c868d8be96d1771e3fafedb2d84cafe20862cb4399751a8a7e3">px::alarm_trigger_type::invalid</a></div></div>
<div class="ttc" id="namespacepx_html_a60cb4a870ad1ada57e20d9e76de5578ca075ae3d2fc31640504f814f60e5ef713"><div class="ttname"><a href="../../de/dcb/namespacepx.html#a60cb4a870ad1ada57e20d9e76de5578ca075ae3d2fc31640504f814f60e5ef713">px::realtime_state::disabled</a></div></div>
<div class="ttc" id="get__channel_8hpp_html"><div class="ttname"><a href="../../df/d4b/get__channel_8hpp.html">get_channel.hpp</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CSubscribeSingle_html"><div class="ttname"><a href="../../dc/d4b/classpx_1_1cds_1_1CSubscribeSingle.html">px::cds::CSubscribeSingle</a></div><div class="ttdoc">Represents a single subscription (or un-subscripton): the (enumerated) type of subscription, the object it applies to, and which subscriber ID is asking (a CDS client can get more than one subscriber ID if it desires, for multiplexing). </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dbb/subscribe_8hpp_source.html#l00021">subscribe.hpp:21</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CGetFieldValue_html_a17b35c218a3fe4ad08fb48f6345b9227"><div class="ttname"><a href="../../dd/d71/classpx_1_1cds_1_1CGetFieldValue.html#a17b35c218a3fe4ad08fb48f6345b9227">px::cds::CGetFieldValue::fields</a></div><div class="ttdeci">std::unordered_set&lt; CSingleField &gt; fields</div><div class="ttdoc">List of get requests. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfb/get__field__value_8hpp_source.html#l00339">get_field_value.hpp:339</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CGetOOBTags_html_a643180a63150df17649485131b524133"><div class="ttname"><a href="../../d4/d5b/classpx_1_1cds_1_1CGetOOBTags.html#a643180a63150df17649485131b524133">px::cds::CGetOOBTags::filters</a></div><div class="ttdeci">std::vector&lt; px::string &gt; filters</div><div class="ttdoc">Return tags beginning with these strings. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/d1e/get__oob__tags_8hpp_source.html#l00065">get_oob_tags.hpp:65</a></div></div>
<div class="ttc" id="namespacepx_1_1permission_html_a7449a16cbcc654759961b6640de7ce33"><div class="ttname"><a href="../../da/dda/namespacepx_1_1permission.html#a7449a16cbcc654759961b6640de7ce33">px::permission::perms_to_short_str</a></div><div class="ttdeci">PUBLIC px::string perms_to_short_str(const px::CBitset&lt; px::permissions &gt; &amp;perms)</div><div class="ttdoc">Short string for display, like &amp;quot;ls -l&amp;quot; file permissions Format: per_user, data r/w/admin, config r/w/file, control basic/oper/setpoints, event-ack, security read/admin, install, internal_app/troubleshoot. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/db0/permission_8cpp_source.html#l00092">permission.cpp:92</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a98e736116e1949964028fa426ae76a60"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a98e736116e1949964028fa426ae76a60">px::asio::CCdsSyncIO::delete_channel</a></div><div class="ttdeci">PUBLIC int delete_channel(const px::id_t ch_id)</div><div class="ttdoc">Utility function to delete a channel in the CDS. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00459">cds_sync_io.cpp:459</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CSetOOBData_html"><div class="ttname"><a href="../../d4/d55/classpx_1_1cds_1_1CSetOOBData.html">px::cds::CSetOOBData</a></div><div class="ttdoc">Update OOB data items in the CDS. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d5f/set__oob__data_8hpp_source.html#l00111">set_oob_data.hpp:111</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CGetFieldValue_html"><div class="ttname"><a href="../../dd/d71/classpx_1_1cds_1_1CGetFieldValue.html">px::cds::CGetFieldValue</a></div><div class="ttdoc">Get single fields of devices, channels, or commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfb/get__field__value_8hpp_source.html#l00301">get_field_value.hpp:301</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CSetOOBData_html_a86c87efc4c9a5194b13059406cdf6888"><div class="ttname"><a href="../../d4/d55/classpx_1_1cds_1_1CSetOOBData.html#a86c87efc4c9a5194b13059406cdf6888">px::cds::CSetOOBData::data</a></div><div class="ttdeci">std::vector&lt; CSetOOBDataUnit &gt; data</div><div class="ttdoc">Request: List of sets to perform. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d5f/set__oob__data_8hpp_source.html#l00150">set_oob_data.hpp:150</a></div></div>
<div class="ttc" id="permission_8hpp_html"><div class="ttname"><a href="../../db/d8b/permission_8hpp.html">permission.hpp</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CSetChannelState_html"><div class="ttname"><a href="../../d0/d46/classpx_1_1cds_1_1CSetChannelState.html">px::cds::CSetChannelState</a></div><div class="ttdoc">Change the realtime state of a set of channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d69/set__channel__state_8hpp_source.html#l00146">set_channel_state.hpp:146</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CUpdateChannelValue_html"><div class="ttname"><a href="../../db/df2/classpx_1_1cds_1_1CUpdateChannelValue.html">px::cds::CUpdateChannelValue</a></div><div class="ttdoc">Update a set of channels&amp;#39; realtime values. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d4b/update__channel__value_8hpp_source.html#l00073">update_channel_value.hpp:73</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CUpdateChannelValue_html_aa0f5f0710d5595d207dff8c05e0ad227"><div class="ttname"><a href="../../db/df2/classpx_1_1cds_1_1CUpdateChannelValue.html#aa0f5f0710d5595d207dff8c05e0ad227">px::cds::CUpdateChannelValue::updates</a></div><div class="ttdeci">std::vector&lt; CUpdateSingleChannelValue &gt; updates</div><div class="ttdoc">List of channel IDs and values. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d4b/update__channel__value_8hpp_source.html#l00119">update_channel_value.hpp:119</a></div></div>
<div class="ttc" id="util_2util_8hpp_html"><div class="ttname"><a href="../../d4/d32/util_2util_8hpp.html">util.hpp</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a6733a020e3dde21abd50ec59c611266e"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a6733a020e3dde21abd50ec59c611266e">px::asio::CCdsSyncIO::get_device_trend_row</a></div><div class="ttdeci">PUBLIC std::vector&lt; px::CChannelTrends &gt; get_device_trend_row(px::id_t dev_id, unsigned int interval_minutes=5, px::CWallTime start_time=px::CWallTime(), bool recursive=false)</div><div class="ttdoc">ToDo: setup means to always have the latest trend data at hand. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00929">cds_sync_io.cpp:929</a></div></div>
<div class="ttc" id="namespacepx_1_1sub_html_a9f14ba2d87747d37025c1be590176841a9ed4982b3d5ffd3af3ea1367b7703b84"><div class="ttname"><a href="../../df/d8a/namespacepx_1_1sub.html#a9f14ba2d87747d37025c1be590176841a9ed4982b3d5ffd3af3ea1367b7703b84">px::sub::subscription_type::oob_data</a></div><div class="ttdoc">Update to out-of-band data. </div></div>
<div class="ttc" id="classpx_1_1CWallTime_html_a4452bc7e8e4fbb8c976f5763269593e7"><div class="ttname"><a href="../../d9/d7d/classpx_1_1CWallTime.html#a4452bc7e8e4fbb8c976f5763269593e7">px::CWallTime::now</a></div><div class="ttdeci">static PUBLIC CWallTime now()</div><div class="ttdoc">Factory function to create a new CWallTime instance set to &amp;quot;now&amp;quot;. </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d22/wall__time_8cpp_source.html#l00010">wall_time.cpp:10</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CGetChannelSettings_html"><div class="ttname"><a href="../../de/dab/classpx_1_1cds_1_1CGetChannelSettings.html">px::cds::CGetChannelSettings</a></div><div class="ttdoc">Get the current settings for a channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d6c/get__channel__settings_8hpp_source.html#l00034">get_channel_settings.hpp:34</a></div></div>
<div class="ttc" id="namespacepx_1_1cds_html_a9f04b036ac0ec3e9d9966164dfe257eaa2245023265ae4cf87d02c8b6ba991139"><div class="ttname"><a href="../../d5/dd5/namespacepx_1_1cds.html#a9f04b036ac0ec3e9d9966164dfe257eaa2245023265ae4cf87d02c8b6ba991139">px::cds::field_message_type::config</a></div><div class="ttdoc">OOB object. </div></div>
<div class="ttc" id="namespacepx_html_a1758acc018aedb5f4c8cb1ba54f50031"><div class="ttname"><a href="../../de/dcb/namespacepx.html#a1758acc018aedb5f4c8cb1ba54f50031">px::guid_2_bytes</a></div><div class="ttdeci">PUBLIC std::vector&lt; unsigned char &gt; guid_2_bytes(const px::string &amp;guid_text)</div><div class="ttdoc">Convert a GUID&amp;#39;s 32 or 36 ASCII hex digits to vector of 32 bytes. </div><div class="ttdef"><b>Definition:</b> <a href="../../dd/de3/string__util_8cpp_source.html#l00178">string_util.cpp:178</a></div></div>
<div class="ttc" id="get__device_8hpp_html"><div class="ttname"><a href="../../dc/dc8/get__device_8hpp.html">get_device.hpp</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_aa1454a5700791f4cafd08181de39bbd6"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#aa1454a5700791f4cafd08181de39bbd6">px::asio::CCdsSyncIO::get_channels_by_name</a></div><div class="ttdeci">PUBLIC std::vector&lt; px::cds::CGetSingleChannel &gt; get_channels_by_name(px::id_t dev_id, const std::vector&lt; px::string &gt; &amp;canonical_names)</div><div class="ttdoc">Get a list of Channel(s) for a given device, looked up by their MCL canonical name(s). </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00572">cds_sync_io.cpp:572</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CClearOOBData_html"><div class="ttname"><a href="../../dc/d1b/classpx_1_1cds_1_1CClearOOBData.html">px::cds::CClearOOBData</a></div><div class="ttdoc">Erase OOB data items. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d16/clear__oob__data_8hpp_source.html#l00027">clear_oob_data.hpp:27</a></div></div>
<div class="ttc" id="login_8hpp_html"><div class="ttname"><a href="../../d3/d6e/login_8hpp.html">login.hpp</a></div></div>
<div class="ttc" id="update__channel__value_8hpp_html"><div class="ttname"><a href="../../db/d4b/update__channel__value_8hpp.html">update_channel_value.hpp</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CDeleteDevice_html"><div class="ttname"><a href="../../db/d93/classpx_1_1cds_1_1CDeleteDevice.html">px::cds::CDeleteDevice</a></div><div class="ttdoc">Delete a list of devices. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/db7/delete__device_8hpp_source.html#l00026">delete_device.hpp:26</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CGetChannel_html_ac556249ea5ddc2856c29a35bfdb61f5c"><div class="ttname"><a href="../../d5/d83/classpx_1_1cds_1_1CGetChannel.html#ac556249ea5ddc2856c29a35bfdb61f5c">px::cds::CGetChannel::device_id</a></div><div class="ttdeci">px::id_t device_id</div><div class="ttdoc">If canonical_names has any entries, look for those channels in this device. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d4b/get__channel_8hpp_source.html#l00127">get_channel.hpp:127</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CGetChannelSettings_html_a9f57e428683c3eb02eb104d36adbfa32"><div class="ttname"><a href="../../de/dab/classpx_1_1cds_1_1CGetChannelSettings.html#a9f57e428683c3eb02eb104d36adbfa32">px::cds::CGetChannelSettings::ids</a></div><div class="ttdeci">std::vector&lt; px::id_t &gt; ids</div><div class="ttdoc">List of channels to fetch. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d6c/get__channel__settings_8hpp_source.html#l00075">get_channel_settings.hpp:75</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CGetChannel_html"><div class="ttname"><a href="../../d5/d83/classpx_1_1cds_1_1CGetChannel.html">px::cds::CGetChannel</a></div><div class="ttdoc">Get all the CDS&amp;#39;s information about a list of channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../df/d4b/get__channel_8hpp_source.html#l00079">get_channel.hpp:79</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CCdsClientLogin_html_a5b8a5bf99d23d11123ea3ae3ce7ba277"><div class="ttname"><a href="../../dc/d26/classpx_1_1cds_1_1CCdsClientLogin.html#a5b8a5bf99d23d11123ea3ae3ce7ba277">px::cds::CCdsClientLogin::hard_timeout</a></div><div class="ttdeci">uint32_t hard_timeout</div><div class="ttdoc">Hard timeout (not refreshable) for this session (default/0: no timeout) </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6e/login_8hpp_source.html#l00282">login.hpp:282</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CCreateDevice_html_a87f57125b3b0679ebe664b73ac1c787c"><div class="ttname"><a href="../../d3/d57/classpx_1_1cds_1_1CCreateDevice.html#a87f57125b3b0679ebe664b73ac1c787c">px::cds::CCreateDevice::use_given_ids</a></div><div class="ttdeci">bool use_given_ids</div><div class="ttdoc">If true, the devices will be created using the ID values given, as long as those IDs are not already ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db0/create__device_8hpp_source.html#l00080">create_device.hpp:80</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a761116acf281585a3e9dbe12e8076986"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a761116acf281585a3e9dbe12e8076986">px::asio::CCdsSyncIO::get_channel</a></div><div class="ttdeci">PUBLIC px::CChannel get_channel(const px::id_t chan_id)</div><div class="ttdoc">Retrieve a single channel by its channel id. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00516">cds_sync_io.cpp:516</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_aaf16d3efcf698ad0b32bdc6d8a72dbd0"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#aaf16d3efcf698ad0b32bdc6d8a72dbd0">px::asio::CCdsSyncIO::delete_channels</a></div><div class="ttdeci">PUBLIC int delete_channels(const std::vector&lt; px::id_t &gt; ch_ids)</div><div class="ttdoc">Utility function to delete one or more channels in the CDS. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00483">cds_sync_io.cpp:483</a></div></div>
<div class="ttc" id="classpx_1_1CValue_html"><div class="ttname"><a href="../../db/dd9/classpx_1_1CValue.html">px::CValue</a></div><div class="ttdoc">Variadic value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dca/type_2value_8hpp_source.html#l00034">type/value.hpp:34</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CClient_html_a907410082d34b93630b2f0b0abe44186"><div class="ttname"><a href="../../db/db8/classpx_1_1cds_1_1CClient.html#a907410082d34b93630b2f0b0abe44186">px::cds::CClient::submit</a></div><div class="ttdeci">PUBLIC uint32_t submit(CRequestResponse &amp;req, CallbackHandle callback=CALLBACK_NONE, bool sleep_on_full=false)</div><div class="ttdoc">Submit a request for CDS processing. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/client_8cpp_source.html#l00530">client.cpp:530</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CDeleteChannel_html"><div class="ttname"><a href="../../d1/d7c/classpx_1_1cds_1_1CDeleteChannel.html">px::cds::CDeleteChannel</a></div><div class="ttdoc">Delete a list of channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/df8/delete__channel_8hpp_source.html#l00025">delete_channel.hpp:25</a></div></div>
<div class="ttc" id="classpx_1_1CWallTime_html"><div class="ttname"><a href="../../d9/d7d/classpx_1_1CWallTime.html">px::CWallTime</a></div><div class="ttdoc">Wall-clock time. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/dda/wall__time_8hpp_source.html#l00026">wall_time.hpp:26</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CSetDeviceState_html"><div class="ttname"><a href="../../d3/db5/classpx_1_1cds_1_1CSetDeviceState.html">px::cds::CSetDeviceState</a></div><div class="ttdoc">Change the state of a device or devices. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0a/set__device__state_8hpp_source.html#l00179">set_device_state.hpp:179</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a05d8476df7f52c80163f1c35195877dc"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a05d8476df7f52c80163f1c35195877dc">px::asio::CCdsSyncIO::subscribe_by_id</a></div><div class="ttdeci">PUBLIC uint64_t subscribe_by_id(uint64_t sub_id, px::sub::subscription_type sub_type, px::id_t item_id, bool is_recursive_device=false, bool is_reflexive=false, std::string library_name=&quot;&quot;)</div><div class="ttdoc">Subscription Related Member Functions. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l01300">cds_sync_io.cpp:1300</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CManageSubscriberIDs_html_a0e4690ce20fe2a058f742ae731bbc74a"><div class="ttname"><a href="../../d9/d00/classpx_1_1cds_1_1CManageSubscriberIDs.html#a0e4690ce20fe2a058f742ae731bbc74a">px::cds::CManageSubscriberIDs::new_ids_requested</a></div><div class="ttdeci">unsigned int new_ids_requested</div><div class="ttdoc">How many more subscriber IDs do we want CDS to create for us? Default: 0. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d15/manage__subscriber__ids_8hpp_source.html#l00077">manage_subscriber_ids.hpp:77</a></div></div>
<div class="ttc" id="update__device_8hpp_html"><div class="ttname"><a href="../../d9/d8b/update__device_8hpp.html">update_device.hpp</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CCdsClientLogin_html_a53937ef73561f7e3fbedd780a162dc48"><div class="ttname"><a href="../../dc/d26/classpx_1_1cds_1_1CCdsClientLogin.html#a53937ef73561f7e3fbedd780a162dc48">px::cds::CCdsClientLogin::idle_timeout</a></div><div class="ttdeci">uint32_t idle_timeout</div><div class="ttdoc">Idle timeout for this session (default/0: no timeout) </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6e/login_8hpp_source.html#l00279">login.hpp:279</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CClient_html_a4d2dd4f7e48d771993b3d6bd33808370"><div class="ttname"><a href="../../db/db8/classpx_1_1cds_1_1CClient.html#a4d2dd4f7e48d771993b3d6bd33808370">px::cds::CClient::submit_wait</a></div><div class="ttdeci">PUBLIC std::shared_ptr&lt; CRequestResponse &gt; submit_wait(CRequestResponse &amp;req)</div><div class="ttdoc">Submit a request for CDS processing, waiting for the response and returning it. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/client_8cpp_source.html#l00641">client.cpp:641</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_aedfbfe9393279db9c73f1f8aa10c993f"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#aedfbfe9393279db9c73f1f8aa10c993f">px::asio::CCdsSyncIO::set_oob_field</a></div><div class="ttdeci">PUBLIC int set_oob_field(::cds::field_t &amp;field)</div><div class="ttdoc">Convenience method for synchronous CDS request to set one OOB field value. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00372">cds_sync_io.cpp:372</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_ad10d90f18af2a33e9e6e185db5170c50"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#ad10d90f18af2a33e9e6e185db5170c50">px::asio::CCdsSyncIO::set_device_guid</a></div><div class="ttdeci">PUBLIC int set_device_guid(const px::string &amp;name_str, px::CDevice &amp;px_device, bool is_direct=false, bool do_forget=false)</div><div class="ttdoc">Set Device GUID in the given CDevice instance and in the CDS. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00973">cds_sync_io.cpp:973</a></div></div>
<div class="ttc" id="log_8hpp_html_aa8ec782c869726676d2a38e6bdc1d8db"><div class="ttname"><a href="../../d4/d3d/log_8hpp.html#aa8ec782c869726676d2a38e6bdc1d8db">LIBPX_FNOTICE</a></div><div class="ttdeci">#define LIBPX_FNOTICE(__VLVL__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d3d/log_8hpp_source.html#l00190">log.hpp:190</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CSingleField_html_a3f714407a3cea20748e6ad7b37a99680"><div class="ttname"><a href="../../de/db2/classpx_1_1cds_1_1CSingleField.html#a3f714407a3cea20748e6ad7b37a99680">px::cds::CSingleField::field</a></div><div class="ttdeci">px::string field</div><div class="ttdoc">Path of the field, see examples. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfb/get__field__value_8hpp_source.html#l00251">get_field_value.hpp:251</a></div></div>
<div class="ttc" id="get__alarms_8hpp_html"><div class="ttname"><a href="../../df/d45/get__alarms_8hpp.html">get_alarms.hpp</a></div></div>
<div class="ttc" id="namespacepx_html_a8231daeb7713d1005025954bc1066422ab45cffe084dd3d20d928bee85e7b0f21"><div class="ttname"><a href="../../de/dcb/namespacepx.html#a8231daeb7713d1005025954bc1066422ab45cffe084dd3d20d928bee85e7b0f21">px::datatype::string</a></div><div class="ttdoc">UTF-8 character string. </div></div>
<div class="ttc" id="classpx_1_1cds_1_1CUpdateDevice_html"><div class="ttname"><a href="../../db/d63/classpx_1_1cds_1_1CUpdateDevice.html">px::cds::CUpdateDevice</a></div><div class="ttdoc">Request an update to a Device object. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d8b/update__device_8hpp_source.html#l00075">update_device.hpp:75</a></div></div>
<div class="ttc" id="delete__device_8hpp_html"><div class="ttname"><a href="../../dc/db7/delete__device_8hpp.html">delete_device.hpp</a></div></div>
<div class="ttc" id="namespacepx_html_a60cb4a870ad1ada57e20d9e76de5578ca0c161174c6857de22a3653e43574df78"><div class="ttname"><a href="../../de/dcb/namespacepx.html#a60cb4a870ad1ada57e20d9e76de5578ca0c161174c6857de22a3653e43574df78">px::realtime_state::not_communicating</a></div></div>
<div class="ttc" id="namespacepx_1_1cds_html_a24c8b06bd3c68fd33086f5e5609c5dfba3a19cec3443a55b63f1ed5b73b3b5c0a"><div class="ttname"><a href="../../d5/dd5/namespacepx_1_1cds.html#a24c8b06bd3c68fd33086f5e5609c5dfba3a19cec3443a55b63f1ed5b73b3b5c0a">px::cds::state_op::op_set_flags</a></div><div class="ttdoc">Turn ON specified state flags, leaving others alone. </div></div>
<div class="ttc" id="classpx_1_1cds_1_1CSetChannelState_html_a3ea14f0caac15101ec832098a3d7e0c0"><div class="ttname"><a href="../../d0/d46/classpx_1_1cds_1_1CSetChannelState.html#a3ea14f0caac15101ec832098a3d7e0c0">px::cds::CSetChannelState::channels</a></div><div class="ttdeci">std::vector&lt; CSetSingleChannelState &gt; channels</div><div class="ttdoc">List of operations to perform (may be empty). </div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d69/set__channel__state_8hpp_source.html#l00187">set_channel_state.hpp:187</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CGetOOBData_html_a52441f65d0838baad03b632fe436d137"><div class="ttname"><a href="../../d3/d07/classpx_1_1cds_1_1CGetOOBData.html#a52441f65d0838baad03b632fe436d137">px::cds::CGetOOBData::tags</a></div><div class="ttdeci">std::vector&lt; px::string &gt; tags</div><div class="ttdoc">Which OOB data items to query. </div><div class="ttdef"><b>Definition:</b> <a href="../../da/d3b/get__oob__data_8hpp_source.html#l00125">get_oob_data.hpp:125</a></div></div>
<div class="ttc" id="namespacepx_1_1cds_html_afb592c0e9297414bf72bd442764b079aa4e4104ab10b7592af99a7bbc6023d93f"><div class="ttname"><a href="../../d5/dd5/namespacepx_1_1cds.html#afb592c0e9297414bf72bd442764b079aa4e4104ab10b7592af99a7bbc6023d93f">px::cds::persistence::save_always</a></div><div class="ttdoc">Unconditionally save to persistent storage. </div></div>
<div class="ttc" id="classpx_1_1cds_1_1CGetDevice_html_aa779eaea10042f59a4a3da534ea8e2a2"><div class="ttname"><a href="../../dc/d8a/classpx_1_1cds_1_1CGetDevice.html#aa779eaea10042f59a4a3da534ea8e2a2">px::cds::CGetDevice::maxdepth</a></div><div class="ttdeci">unsigned int maxdepth</div><div class="ttdoc">The depth to descend the tree. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/dc8/get__device_8hpp_source.html#l00071">get_device.hpp:71</a></div></div>
<div class="ttc" id="query__trends_8hpp_html"><div class="ttname"><a href="../../d3/df0/query__trends_8hpp.html">query_trends.hpp</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CQueryTrends_html_ac6384489c5a9e3a26e3360f71e742fc5"><div class="ttname"><a href="../../d6/dee/classpx_1_1cds_1_1CQueryTrends.html#ac6384489c5a9e3a26e3360f71e742fc5">px::cds::CQueryTrends::start_time</a></div><div class="ttdeci">px::CWallTime start_time</div><div class="ttdoc">Return data from intervals ending at or after this time (UTC). </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df0/query__trends_8hpp_source.html#l00083">query_trends.hpp:83</a></div></div>
<div class="ttc" id="classpx_1_1CValue_html_a746a26c3a4970db4ea4f27f30c5d4d9a"><div class="ttname"><a href="../../db/dd9/classpx_1_1CValue.html#a746a26c3a4970db4ea4f27f30c5d4d9a">px::CValue::as_string</a></div><div class="ttdeci">PUBLIC px::string as_string() const </div><div class="ttdoc">Conversion to string type. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/dc0/value_8cpp_source.html#l00307">value.cpp:307</a></div></div>
<div class="ttc" id="namespacepx_1_1cds_html_afb592c0e9297414bf72bd442764b079aac8c45f79829ea04ab6d397525bf35b94"><div class="ttname"><a href="../../d5/dd5/namespacepx_1_1cds.html#afb592c0e9297414bf72bd442764b079aac8c45f79829ea04ab6d397525bf35b94">px::cds::persistence::do_not_save</a></div><div class="ttdoc">Do not persist this data, whether this tag is already persisted or not. </div></div>
<div class="ttc" id="namespacepx_1_1cds_html_a24c8b06bd3c68fd33086f5e5609c5dfbab12ec8cb40a1d9d0481a3e190fbd0d1e"><div class="ttname"><a href="../../d5/dd5/namespacepx_1_1cds.html#a24c8b06bd3c68fd33086f5e5609c5dfbab12ec8cb40a1d9d0481a3e190fbd0d1e">px::cds::state_op::op_clear_flags</a></div><div class="ttdoc">Turn OFF specified state flags, leaving others alone. </div></div>
<div class="ttc" id="signal__pipe_8hpp_html"><div class="ttname"><a href="../../d0/d4e/signal__pipe_8hpp.html">signal_pipe.hpp</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CSingleField_html_afc2e4fae3ef1dadb2a5f47a95977004d"><div class="ttname"><a href="../../de/db2/classpx_1_1cds_1_1CSingleField.html#afc2e4fae3ef1dadb2a5f47a95977004d">px::cds::CSingleField::id</a></div><div class="ttdeci">px::id_t id</div><div class="ttdoc">ID, for devices and channels. Specify for devices and channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfb/get__field__value_8hpp_source.html#l00258">get_field_value.hpp:258</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_ad53afe060e7c2dcc46f4fb81cb9b1477"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#ad53afe060e7c2dcc46f4fb81cb9b1477">px::asio::CCdsSyncIO::get_devices</a></div><div class="ttdeci">PUBLIC std::map&lt; px::id_t, px::CDevice &gt; get_devices(const px::id_t starting_dev_id=PX_ID_ROOT)</div><div class="ttdoc">Utility function to retrieve a map of a device and child devices. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00892">cds_sync_io.cpp:892</a></div></div>
<div class="ttc" id="namespacecds_html_aed79a24c9cb7fbc05cc6167ee5993d5a"><div class="ttname"><a href="../../d9/d60/namespacecds.html#aed79a24c9cb7fbc05cc6167ee5993d5a">cds::field_t</a></div><div class="ttdeci">::px::cds::CSingleField field_t</div><div class="ttdoc">Define the shortcut for the verbose names of the CGetSetFieldValueSingleRequest CDS API...</div><div class="ttdef"><b>Definition:</b> <a href="../../da/ddd/cds__types_8hpp_source.html#l00025">cds_types.hpp:25</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CCreateChannel_html_adabe7241523192f95d80386b69037c7d"><div class="ttname"><a href="../../d9/de4/classpx_1_1cds_1_1CCreateChannel.html#adabe7241523192f95d80386b69037c7d">px::cds::CCreateChannel::requests</a></div><div class="ttdeci">std::vector&lt; CCreateSingleChannel &gt; requests</div><div class="ttdoc">List of channels to create. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d43/create__channel_8hpp_source.html#l00131">create_channel.hpp:131</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CSetFieldValue_html"><div class="ttname"><a href="../../d9/db7/classpx_1_1cds_1_1CSetFieldValue.html">px::cds::CSetFieldValue</a></div><div class="ttdoc">Set single fields of devices, channels, or commands. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7b/set__field__value_8hpp_source.html#l00023">set_field_value.hpp:23</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a64076f2bd2e412acf0ba3df9985cc1ab"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a64076f2bd2e412acf0ba3df9985cc1ab">px::asio::CCdsSyncIO::set_oob_s</a></div><div class="ttdeci">PUBLIC void set_oob_s(const px::string &amp;tag, const px::proto::toolkitStruct &amp;data, bool persist=false)</div><div class="ttdoc">Synchronous non-ASIO version of CDS Set OOB, with fire-and-forget submission to the CDS...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00311">cds_sync_io.cpp:311</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CSetDeviceState_html_a109ade836286981162261589ed682272"><div class="ttname"><a href="../../d3/db5/classpx_1_1cds_1_1CSetDeviceState.html#a109ade836286981162261589ed682272">px::cds::CSetDeviceState::devices</a></div><div class="ttdeci">std::vector&lt; CSetSingleDeviceState &gt; devices</div><div class="ttdoc">List of operations to perform (may be empty). </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0a/set__device__state_8hpp_source.html#l00220">set_device_state.hpp:220</a></div></div>
<div class="ttc" id="classpx_1_1CUtil_html_a33bf9bd732565c94e278b18f878515d9"><div class="ttname"><a href="../../d5/dc3/classpx_1_1CUtil.html#a33bf9bd732565c94e278b18f878515d9">px::CUtil::create_uuid</a></div><div class="ttdeci">static PUBLIC px::string create_uuid(const px::string &amp;name)</div><div class="ttdoc">This function creates a 128 bit UUID (RFC 4122) in string format from a unique string name (seed text...</div><div class="ttdef"><b>Definition:</b> <a href="../../df/d2d/util_8cpp_source.html#l00721">util.cpp:721</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CSingleField_html_abec3554446de7c23fe0b654db1d2c92d"><div class="ttname"><a href="../../de/db2/classpx_1_1cds_1_1CSingleField.html#abec3554446de7c23fe0b654db1d2c92d">px::cds::CSingleField::pv</a></div><div class="ttdeci">px::cds::persistence pv</div><div class="ttdoc">For sets, whether and how to persist the change. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfb/get__field__value_8hpp_source.html#l00256">get_field_value.hpp:256</a></div></div>
<div class="ttc" id="structpx_1_1generic__err_html"><div class="ttname"><a href="../../d1/d2c/structpx_1_1generic__err.html">px::generic_err</a></div><div class="ttdoc">Exception class used to indicate a generic error. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1e/exception_8hpp_source.html#l00023">exception.hpp:23</a></div></div>
<div class="ttc" id="channel__trends_8hpp_html"><div class="ttname"><a href="../../d7/d22/channel__trends_8hpp.html">channel_trends.hpp</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CPingWatchdog_html"><div class="ttname"><a href="../../d9/d9c/classpx_1_1cds_1_1CPingWatchdog.html">px::cds::CPingWatchdog</a></div><div class="ttdoc">Notifies the CDS that the client is still alive. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d8b/ping__watchdog_8hpp_source.html#l00018">ping_watchdog.hpp:18</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CClient_html_ad5be40f5758e6efc07bc2e3feec50c8c"><div class="ttname"><a href="../../db/db8/classpx_1_1cds_1_1CClient.html#ad5be40f5758e6efc07bc2e3feec50c8c">px::cds::CClient::have_unsolicited_callback</a></div><div class="ttdeci">PUBLIC bool have_unsolicited_callback()</div><div class="ttdoc">Utility to test whether the callback for unsolicited (or subscribed) responses has been set...</div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/client_8cpp_source.html#l00509">client.cpp:509</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CManageSubscriberIDs_html"><div class="ttname"><a href="../../d9/d00/classpx_1_1cds_1_1CManageSubscriberIDs.html">px::cds::CManageSubscriberIDs</a></div><div class="ttdoc">This message is used to add and remove subscription IDs. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d15/manage__subscriber__ids_8hpp_source.html#l00030">manage_subscriber_ids.hpp:30</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a17da95dd919f2f8cfbb295582d44e491"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a17da95dd919f2f8cfbb295582d44e491">px::asio::CCdsSyncIO::get_channels</a></div><div class="ttdeci">PUBLIC std::vector&lt; px::cds::CGetSingleChannel &gt; get_channels(const px::id_t dev_id)</div><div class="ttdoc">Get a list of Channel(s) for a given device. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00542">cds_sync_io.cpp:542</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a58cd40e87e5b32dce7935089c65921a5"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a58cd40e87e5b32dce7935089c65921a5">px::asio::CCdsSyncIO::create_channel</a></div><div class="ttdeci">PUBLIC px::id_t create_channel(const px::id_t dev_id, const px::string &amp;canonical_name, const bool is_custom=false)</div><div class="ttdoc">Channel Related Member Functions. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00426">cds_sync_io.cpp:426</a></div></div>
<div class="ttc" id="log_8hpp_html_a001b58f6595b2ecf816ea11fbb58b201"><div class="ttname"><a href="../../d4/d3d/log_8hpp.html#a001b58f6595b2ecf816ea11fbb58b201">LIBPX_ERR</a></div><div class="ttdeci">#define LIBPX_ERR(__VLVL__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d3d/log_8hpp_source.html#l00180">log.hpp:180</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_aa8ae8b0580ffe4675d0d0e167ed78cdd"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#aa8ae8b0580ffe4675d0d0e167ed78cdd">px::asio::CCdsSyncIO::set_channel_value_s</a></div><div class="ttdeci">PUBLIC void set_channel_value_s(const px::id_t channel_id, const px::CValue &amp;value)</div><div class="ttdoc">Synchronous non-ASIO version of CDS Set Channel Value. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00688">cds_sync_io.cpp:688</a></div></div>
<div class="ttc" id="manage__subscriber__ids_8hpp_html"><div class="ttname"><a href="../../d5/d15/manage__subscriber__ids_8hpp.html">manage_subscriber_ids.hpp</a></div></div>
<div class="ttc" id="clear__watchdog_8hpp_html"><div class="ttname"><a href="../../d7/d64/clear__watchdog_8hpp.html">clear_watchdog.hpp</a></div></div>
<div class="ttc" id="namespacepx_1_1cds_html_a24c4c8fb05021548bccecd5fa3f2e5feababe2b4a31ed96d73bd4c7d9556e583a"><div class="ttname"><a href="../../d5/dd5/namespacepx_1_1cds.html#a24c4c8fb05021548bccecd5fa3f2e5feababe2b4a31ed96d73bd4c7d9556e583a">px::cds::SUCCEEDED</a></div><div class="ttdoc">Finished, good. </div><div class="ttdef"><b>Definition:</b> <a href="../../de/d7c/request__response_8hpp_source.html#l00062">request_response.hpp:62</a></div></div>
<div class="ttc" id="classpx_1_1CBitset_html_ad0dc233a4abd8d91c033f2582b193768"><div class="ttname"><a href="../../dd/d57/classpx_1_1CBitset.html#ad0dc233a4abd8d91c033f2582b193768">px::CBitset::set</a></div><div class="ttdeci">void set(T flg, bool val=true)</div><div class="ttdoc">Set the value of a flag. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d86/bitset_8hpp_source.html#l00099">bitset.hpp:99</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a48a14ec56ea8a434795e522bcbb36774"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a48a14ec56ea8a434795e522bcbb36774">px::asio::CCdsSyncIO::create_devices</a></div><div class="ttdeci">PUBLIC std::vector&lt; px::CDevice &gt; create_devices(const bool use_given_ids, const std::vector&lt; px::CDevice &gt; &amp;devices)</div><div class="ttdoc">Utility function to create single or multiple devices in the CDS. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00772">cds_sync_io.cpp:772</a></div></div>
<div class="ttc" id="classpx_1_1CDevice_html"><div class="ttname"><a href="../../d6/d5b/classpx_1_1CDevice.html">px::CDevice</a></div><div class="ttdoc">Represents a device, which can be either a publisher, a device connected to the publisher, or a network connector such as INCOM port 1. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d08/device_8hpp_source.html#l00036">device.hpp:36</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CCreateChannel_html"><div class="ttname"><a href="../../d9/de4/classpx_1_1cds_1_1CCreateChannel.html">px::cds::CCreateChannel</a></div><div class="ttdoc">Create one or more channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d43/create__channel_8hpp_source.html#l00090">create_channel.hpp:90</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CSubscribe_html_a1c0e9f87cfa96fb9735cd0b5eaf04602"><div class="ttname"><a href="../../d9/dda/classpx_1_1cds_1_1CSubscribe.html#a1c0e9f87cfa96fb9735cd0b5eaf04602">px::cds::CSubscribe::libraryName</a></div><div class="ttdeci">std::string libraryName</div><div class="ttdoc">Data validation library name https://confluence-prod.tcc.etn.com/pages/viewpage.action?pageId=75666325. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/dbb/subscribe_8hpp_source.html#l00180">subscribe.hpp:180</a></div></div>
<div class="ttc" id="log_8hpp_html_a242c84f819cac7a2d5e9f2e2df788b0e"><div class="ttname"><a href="../../d4/d3d/log_8hpp.html#a242c84f819cac7a2d5e9f2e2df788b0e">LIBPX_DEBUG</a></div><div class="ttdeci">#define LIBPX_DEBUG(__VLVL__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d3d/log_8hpp_source.html#l00196">log.hpp:196</a></div></div>
<div class="ttc" id="log_8hpp_html"><div class="ttname"><a href="../../d4/d3d/log_8hpp.html">log.hpp</a></div><div class="ttdoc">An internal libpx header that defines the syslogging functions. </div></div>
<div class="ttc" id="log_8hpp_html_aedf82e390ea25288cf698a9d9eb470ef"><div class="ttname"><a href="../../d4/d3d/log_8hpp.html#aedf82e390ea25288cf698a9d9eb470ef">LIBPX_INFO</a></div><div class="ttdeci">#define LIBPX_INFO(__VLVL__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d3d/log_8hpp_source.html#l00192">log.hpp:192</a></div></div>
<div class="ttc" id="namespacepx_html_adf365a161bded4b259cd6bec81c4179fa334c4a4c42fdb79d7ebc3e73b517e6f8"><div class="ttname"><a href="../../de/dcb/namespacepx.html#adf365a161bded4b259cd6bec81c4179fa334c4a4c42fdb79d7ebc3e73b517e6f8">px::device_command_substatus::none</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a4987f836e19aa1836a480e804e4d6fd8"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a4987f836e19aa1836a480e804e4d6fd8">px::asio::CCdsSyncIO::cds_login</a></div><div class="ttdeci">PUBLIC int cds_login(const px::string &amp;service, px::string &amp;session_token, px::CBitset&lt; px::permissions &gt; &amp;perms)</div><div class="ttdoc">Do a CDS Client Login (no username or password) to get a session token and permissions. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00096">cds_sync_io.cpp:96</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a1d2200c5dca43e713cf980d0e7d79abb"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a1d2200c5dca43e713cf980d0e7d79abb">px::asio::CCdsSyncIO::set_field</a></div><div class="ttdeci">PUBLIC int set_field(::cds::field_t &amp;field)</div><div class="ttdoc">Convenience method for synchronous CDS request to set one field value. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l01262">cds_sync_io.cpp:1262</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a1976b6d1bf0f0ad19db3fc79b0420519"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a1976b6d1bf0f0ad19db3fc79b0420519">px::asio::CCdsSyncIO::unsubscribe_id</a></div><div class="ttdeci">PUBLIC bool unsubscribe_id(uint64_t sub_id, px::sub::subscription_type sub_type, px::id_t item_id, std::string library_name=&quot;&quot;)</div><div class="ttdoc">Unsubscribe the given Device or Channel from the given subscription (by ID and type). </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l01338">cds_sync_io.cpp:1338</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_ac57f4a954601fe7fc552abc36410898d"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#ac57f4a954601fe7fc552abc36410898d">px::asio::CCdsSyncIO::get_oob</a></div><div class="ttdeci">PUBLIC bool get_oob(const px::string &amp;tag, px::proto::toolkitStruct &amp;data)</div><div class="ttdoc">OOB Related Member Functions. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00193">cds_sync_io.cpp:193</a></div></div>
<div class="ttc" id="cds__sync__io_8cpp_html_a43dd095543dc83039eea2312e0939986"><div class="ttname"><a href="../../db/d78/cds__sync__io_8cpp.html#a43dd095543dc83039eea2312e0939986">MAX_CHANNELS_PER_REQ</a></div><div class="ttdeci">static const unsigned int MAX_CHANNELS_PER_REQ</div><div class="ttdoc">Based on description in px::cds::CGetChannelSettings class, setting a limit of 50 channels per reques...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00042">cds_sync_io.cpp:42</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CUpdateDevice_html_a35e7472799fb30cd0525ad468083ad55"><div class="ttname"><a href="../../db/d63/classpx_1_1cds_1_1CUpdateDevice.html#a35e7472799fb30cd0525ad468083ad55">px::cds::CUpdateDevice::devices</a></div><div class="ttdeci">std::vector&lt; px::CDevice &gt; devices</div><div class="ttdoc">Device objects to be updates. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d8b/update__device_8hpp_source.html#l00115">update_device.hpp:115</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CManageSubscriberIDs_html_a89e615d22fabf32894c2a966eadf6f38"><div class="ttname"><a href="../../d9/d00/classpx_1_1cds_1_1CManageSubscriberIDs.html#a89e615d22fabf32894c2a966eadf6f38">px::cds::CManageSubscriberIDs::reflexive</a></div><div class="ttdeci">bool reflexive</div><div class="ttdoc">Indicate preference for reflexive notifications; set to True if you want notifications for changes th...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d15/manage__subscriber__ids_8hpp_source.html#l00091">manage_subscriber_ids.hpp:91</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_abd288df108e36c0c6b2f35b1a4f3e341"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#abd288df108e36c0c6b2f35b1a4f3e341">px::asio::CCdsSyncIO::create_device</a></div><div class="ttdeci">PUBLIC px::CDevice create_device(const bool use_given_id, const px::CDevice &amp;device)</div><div class="ttdoc">Device Related Member Functions. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00748">cds_sync_io.cpp:748</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CQueryTrends_html"><div class="ttname"><a href="../../d6/dee/classpx_1_1cds_1_1CQueryTrends.html">px::cds::CQueryTrends</a></div><div class="ttdoc">Return data from channel trend storage. </div><div class="ttdef"><b>Definition:</b> <a href="../../d3/df0/query__trends_8hpp_source.html#l00019">query_trends.hpp:19</a></div></div>
<div class="ttc" id="clear__oob__data_8hpp_html"><div class="ttname"><a href="../../d7/d16/clear__oob__data_8hpp.html">clear_oob_data.hpp</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CSetFieldValue_html_a856d0f098cd8de0c82579f36f946cbbd"><div class="ttname"><a href="../../d9/db7/classpx_1_1cds_1_1CSetFieldValue.html#a856d0f098cd8de0c82579f36f946cbbd">px::cds::CSetFieldValue::fields</a></div><div class="ttdeci">std::unordered_set&lt; CSingleField &gt; fields</div><div class="ttdoc">Fields to be set. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d7b/set__field__value_8hpp_source.html#l00062">set_field_value.hpp:62</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CCdsClientLogin_html"><div class="ttname"><a href="../../dc/d26/classpx_1_1cds_1_1CCdsClientLogin.html">px::cds::CCdsClientLogin</a></div><div class="ttdoc">Login with the credentials assigned to this process by virtue of its Linux user ID (assigned by &amp;quot;uid_...</div><div class="ttdef"><b>Definition:</b> <a href="../../d3/d6e/login_8hpp_source.html#l00233">login.hpp:233</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CCreateDevice_html_a5120d29c773c7b011f76377835208e73"><div class="ttname"><a href="../../d3/d57/classpx_1_1cds_1_1CCreateDevice.html#a5120d29c773c7b011f76377835208e73">px::cds::CCreateDevice::devices</a></div><div class="ttdeci">std::vector&lt; px::CDevice &gt; devices</div><div class="ttdoc">Device objects containing info on devices to be created. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/db0/create__device_8hpp_source.html#l00075">create_device.hpp:75</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a29d0493c4249135dba398c841a74a82c"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a29d0493c4249135dba398c841a74a82c">px::asio::CCdsSyncIO::set_device_communicating</a></div><div class="ttdeci">PUBLIC void set_device_communicating(const px::id_t dev_id, const bool is_communicating)</div><div class="ttdoc">Utility function to set the communicating state of a device. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l01179">cds_sync_io.cpp:1179</a></div></div>
<div class="ttc" id="classpx_1_1CBitset_html"><div class="ttname"><a href="../../dd/d57/classpx_1_1CBitset.html">px::CBitset&lt; px::permissions &gt;</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a31ee6e1a2bcfb48b87fe0d281b485851"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a31ee6e1a2bcfb48b87fe0d281b485851">px::asio::CCdsSyncIO::set_oob_wait</a></div><div class="ttdeci">PUBLIC bool set_oob_wait(const px::string &amp;tag, const px::proto::toolkitStruct &amp;data, bool persist=false)</div><div class="ttdoc">Synchronous non-ASIO version of CDS Set OOB, which waits for the CDS response to the set...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00341">cds_sync_io.cpp:341</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CClient_html_a5aa42d307a74fdd3117745f85a587e34"><div class="ttname"><a href="../../db/db8/classpx_1_1cds_1_1CClient.html#a5aa42d307a74fdd3117745f85a587e34">px::cds::CClient::disconnect</a></div><div class="ttdeci">PUBLIC void disconnect()</div><div class="ttdoc">Disconnect from the CDS. </div><div class="ttdef"><b>Definition:</b> <a href="../../d9/d95/client_8cpp_source.html#l00382">client.cpp:382</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CSetSingleDeviceState_html"><div class="ttname"><a href="../../df/dd0/classpx_1_1cds_1_1CSetSingleDeviceState.html">px::cds::CSetSingleDeviceState</a></div><div class="ttdoc">Describe the requested changes of Device State bits for one Device The CDS API object, px::cds::CSetDeviceState, will contain a list of objects of this class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d0a/set__device__state_8hpp_source.html#l00037">set_device_state.hpp:37</a></div></div>
<div class="ttc" id="ping__watchdog_8hpp_html"><div class="ttname"><a href="../../db/d8b/ping__watchdog_8hpp.html">ping_watchdog.hpp</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a9476cf54a2363a1a646f3769c5fcd3dc"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a9476cf54a2363a1a646f3769c5fcd3dc">px::asio::CCdsSyncIO::get_subscriber_ids</a></div><div class="ttdeci">PUBLIC std::vector&lt; uint64_t &gt; get_subscriber_ids(size_t count, bool reflexive=false)</div><div class="ttdoc">Use CManageSubscriberIDs to request new subscriber ID(s) for our use. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l01363">cds_sync_io.cpp:1363</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CUpdateSingleChannelValue_html"><div class="ttname"><a href="../../d2/dfb/classpx_1_1cds_1_1CUpdateSingleChannelValue.html">px::cds::CUpdateSingleChannelValue</a></div><div class="ttdoc">Structure of a single channel value update (channel ID and variadic value). </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d4b/update__channel__value_8hpp_source.html#l00019">update_channel_value.hpp:19</a></div></div>
<div class="ttc" id="namespacepx_html_a7acb13796ae56fe8e773fe781eedd790"><div class="ttname"><a href="../../de/dcb/namespacepx.html#a7acb13796ae56fe8e773fe781eedd790">px::string</a></div><div class="ttdeci">::__gnu_cxx::__vstring string</div><div class="ttdoc">We&amp;#39;re currently utilizing GCC&amp;#39;s &amp;quot;versatile string&amp;quot; class. </div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d76/type_2string_8hpp_source.html#l00028">type/string.hpp:28</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a851b79851d18794d25308ed49187ac9e"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a851b79851d18794d25308ed49187ac9e">px::asio::CCdsSyncIO::set_channel_state</a></div><div class="ttdeci">PUBLIC void set_channel_state(const std::vector&lt; px::cds::CSetSingleChannelState &gt; &amp;chan_states)</div><div class="ttdoc">Utility function to set the channel state for one or more channels. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l01107">cds_sync_io.cpp:1107</a></div></div>
<div class="ttc" id="subscriber__notify_8hpp_html"><div class="ttname"><a href="../../d8/df9/subscriber__notify_8hpp.html">subscriber_notify.hpp</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_ac16bc3ed9a33fa666cf9fdd45e601140"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#ac16bc3ed9a33fa666cf9fdd45e601140">px::asio::CCdsSyncIO::get_channel_by_group</a></div><div class="ttdeci">std::vector&lt; px::CChannelSettings &gt; get_channel_by_group(const std::vector&lt; px::id_t &gt; &amp;get_ids, unsigned int offset, const unsigned int &amp;limit)</div><div class="ttdoc">The function is used to get the channel settings for a subset of the provided ids It groups the requi...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00664">cds_sync_io.cpp:664</a></div></div>
<div class="ttc" id="client_8hpp_html"><div class="ttname"><a href="../../d2/dfe/client_8hpp.html">client.hpp</a></div></div>
<div class="ttc" id="create__device_8hpp_html"><div class="ttname"><a href="../../d4/db0/create__device_8hpp.html">create_device.hpp</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CRegisterWatchdog_html"><div class="ttname"><a href="../../db/d07/classpx_1_1cds_1_1CRegisterWatchdog.html">px::cds::CRegisterWatchdog</a></div><div class="ttdoc">Used to request that the CDS reboot the system if this client does not send any messages to the CDS f...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d07/register__watchdog_8hpp_source.html#l00030">register_watchdog.hpp:30</a></div></div>
<div class="ttc" id="get__channel__value_8hpp_html"><div class="ttname"><a href="../../d3/d89/get__channel__value_8hpp.html">get_channel_value.hpp</a></div></div>
<div class="ttc" id="classpx_1_1cds_1_1CSingleField_html_a90b703d1e069b85df63cc9e4fc165cf3"><div class="ttname"><a href="../../de/db2/classpx_1_1cds_1_1CSingleField.html#a90b703d1e069b85df63cc9e4fc165cf3">px::cds::CSingleField::tag</a></div><div class="ttdeci">px::string tag</div><div class="ttdoc">Tag, for OOB objects, channel and command names (specify parent device in the &amp;quot;id&amp;quot; member for non-OOB...</div><div class="ttdef"><b>Definition:</b> <a href="../../db/dfb/get__field__value_8hpp_source.html#l00261">get_field_value.hpp:261</a></div></div>
<div class="ttc" id="classpx_1_1CDevice_html_ab836878b0d7f55ad3d16b937994f3df0"><div class="ttname"><a href="../../d6/d5b/classpx_1_1CDevice.html#ab836878b0d7f55ad3d16b937994f3df0">px::CDevice::id</a></div><div class="ttdeci">px::id_t id() const </div><div class="ttdoc">Getter for device ID. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d08/device_8hpp_source.html#l00236">device.hpp:236</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a72afbdb38c9d17a0e9a98ebc4c846ffe"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a72afbdb38c9d17a0e9a98ebc4c846ffe">px::asio::CCdsSyncIO::set_device_state</a></div><div class="ttdeci">PUBLIC void set_device_state(const std::vector&lt; px::cds::CSetSingleDeviceState &gt; &amp;dev_states)</div><div class="ttdoc">State Related Member Functions. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l01075">cds_sync_io.cpp:1075</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a384337eb525df4765a6f88b031040674"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a384337eb525df4765a6f88b031040674">px::asio::CCdsSyncIO::clear_watchdog</a></div><div class="ttdeci">PUBLIC void clear_watchdog()</div><div class="ttdoc">Utility function to clear the CDS watchdog timer. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00180">cds_sync_io.cpp:180</a></div></div>
<div class="ttc" id="classpx_1_1asio_1_1CCdsSyncIO_html_a7e084fa58c440056cc6157261773310a"><div class="ttname"><a href="../../d2/df5/classpx_1_1asio_1_1CCdsSyncIO.html#a7e084fa58c440056cc6157261773310a">px::asio::CCdsSyncIO::get_device_s</a></div><div class="ttdeci">PUBLIC px::CDevice get_device_s(const px::id_t dev_id)</div><div class="ttdoc">Synchronous non-ASIO version of CDS Get Device. </div><div class="ttdef"><b>Definition:</b> <a href="../../db/d78/cds__sync__io_8cpp_source.html#l00866">cds_sync_io.cpp:866</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_0e92ad6578cdb0742396e0d69fb8d85e.html">source</a></li><li class="navelem"><a class="el" href="../../dir_bc2cdec2015e9ef6f40c6b6845a4c8bc.html">asio</a></li><li class="navelem"><a class="el" href="../../dir_cdf5dabdab158199e0aab8bfa3265baf.html">cds</a></li><li class="navelem"><a class="el" href="../../db/d78/cds__sync__io_8cpp.html">cds_sync_io.cpp</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:24:18 for libpx by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
