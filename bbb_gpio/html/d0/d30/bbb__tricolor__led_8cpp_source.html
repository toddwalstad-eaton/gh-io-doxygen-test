<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>BeagleBoneGPIODeviceHandler: /src/product-ref1/etn_source/bbb_gpio/source/bbb_tricolor_led.cpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BeagleBoneGPIODeviceHandler
   </div>
   <div id="projectbrief">GPIODeviceHandlerExample</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d0/d30/bbb__tricolor__led_8cpp_source.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">bbb_tricolor_led.cpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../d0/d30/bbb__tricolor__led_8cpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * bbb_tricolor_led.cpp</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00005"></a><span class="lineno"><a class="line" href="../../d0/d30/bbb__tricolor__led_8cpp.html#ab2fbd998e3734eb76ba96bfef22d0903">    5</a></span>&#160;<span class="preprocessor">#define SVR_LOG_SUBSYSTEM SVR_LOG_PARAMETERS</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d8/da6/bbb__gpio_8hpp.html">bbb_gpio.hpp</a>&quot;</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../de/ddb/bbb__gpio__core_8hpp.html">bbb_gpio_core.hpp</a>&quot;</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d1/d96/gpio__cds__handler_8hpp.html">gpio_cds_handler.hpp</a>&quot;</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d5/d37/bbb__tricolor__led_8hpp.html">bbb_tricolor_led.hpp</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;px/cds/get_channel.hpp&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div>
<div class="line"><a name="l00013"></a><span class="lineno"><a class="line" href="../../d8/d4b/classCBbbTricolorLED.html#a24c969c042d8636a0cbeb03d8a6f7e20">   13</a></span>&#160;<a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a24c969c042d8636a0cbeb03d8a6f7e20">CBbbTricolorLED::CBbbTricolorLED</a>( px::id_t parent_id, std::shared_ptr&lt;CGpioCdsHandler&gt; cds_handler )</div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;    : _parent_id( parent_id ),</div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;    _cds_handler( cds_handler ),</div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;    _ch_id( <a class="code" href="../../d8/da6/bbb__gpio_8hpp.html#a51e7cf38f83d1d190fbc926396058131">DEFAULT_CH_ID</a> ),</div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;    _display_order( <a class="code" href="../../d8/da6/bbb__gpio_8hpp.html#ae147dc709125ebc0f6b968b83de40225">DEFAULT_DISP_ORD</a> ),</div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;    _value( 0 )</div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;{</div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;    PUSH_FUNC;</div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;}</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;</div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="../../d8/d4b/classCBbbTricolorLED.html#a9fed74b18a33632789d82b19b90de17e">   23</a></span>&#160;<a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a9fed74b18a33632789d82b19b90de17e">CBbbTricolorLED::~CBbbTricolorLED</a>()</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    PUSH_FUNC;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#ad3309d8ceb0e95d1e81f0085aeec663c">_cds_handler</a>.reset();</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;}</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">/* A static function to initialize the file system access for GPIO</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment"> *  that the proc_owner will need. */</span></div>
<div class="line"><a name="l00032"></a><span class="lineno"><a class="line" href="../../d8/d4b/classCBbbTricolorLED.html#afb565e18298080903746639c331924fc">   32</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#afb565e18298080903746639c331924fc">CBbbTricolorLED::initialize_gpio_access</a>( uid_t proc_owner )</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;{</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    PUSH_FUNC;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="comment">// Enable the 3 GPIO pins for I/O</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordtype">bool</span> bOK = <a class="code" href="../../da/dad/classCBbbGpioCore.html#ad52b4f31c1e662407470b9fdf193fe87">CBbbGpioCore::enable_gpio_pin</a>( <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#ac2b8ae44649f251786afd1fc4e3a64a5">_red_gpio</a>, proc_owner );</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    bOK &amp;= <a class="code" href="../../da/dad/classCBbbGpioCore.html#ad52b4f31c1e662407470b9fdf193fe87">CBbbGpioCore::enable_gpio_pin</a>( <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a6db42271fbb1cb841cd8e35ecebc27c8">_green_gpio</a>, proc_owner );</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    bOK &amp;= <a class="code" href="../../da/dad/classCBbbGpioCore.html#ad52b4f31c1e662407470b9fdf193fe87">CBbbGpioCore::enable_gpio_pin</a>( <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a072c9edad87aa1dfdf10f80c80206a03">_blue_gpio</a>, proc_owner );</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordflow">if</span> ( bOK )</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="comment">// Set all 3 pins to always be output mode (&quot;is_input&quot; is false)</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        bOK = <a class="code" href="../../da/dad/classCBbbGpioCore.html#ab51f90c047c53fd278b3e5c7c0e8b12d">CBbbGpioCore::set_gpio_direction</a>( <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#ac2b8ae44649f251786afd1fc4e3a64a5">_red_gpio</a>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        bOK &amp;= <a class="code" href="../../da/dad/classCBbbGpioCore.html#ab51f90c047c53fd278b3e5c7c0e8b12d">CBbbGpioCore::set_gpio_direction</a>( <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a6db42271fbb1cb841cd8e35ecebc27c8">_green_gpio</a>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        bOK &amp;= <a class="code" href="../../da/dad/classCBbbGpioCore.html#ab51f90c047c53fd278b3e5c7c0e8b12d">CBbbGpioCore::set_gpio_direction</a>( <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a072c9edad87aa1dfdf10f80c80206a03">_blue_gpio</a>, <span class="keyword">false</span> );</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    }</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">return</span> ( bOK );</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;}</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">/* Initialize this channel in the CDS: create if not present, and subscribe</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"> *  to updates in its value. */</span></div>
<div class="line"><a name="l00054"></a><span class="lineno"><a class="line" href="../../d8/d4b/classCBbbTricolorLED.html#a955e9eb59ca2d147f4c92a0ad82ff9c6">   54</a></span>&#160;px::id_t <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a955e9eb59ca2d147f4c92a0ad82ff9c6">CBbbTricolorLED::initialize_channel</a>()</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;{</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    PUSH_FUNC;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="comment">// First, see if we already have this channel in the CDS for this device</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    std::vector&lt;px::string&gt; canonical_names;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    canonical_names.emplace_back( <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a5ddae4ffe84d58b58f99fc0196a7c964">_mcl_name</a> );</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    std::vector&lt;px::cds::CGetSingleChannel&gt; ch_data = <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#ad3309d8ceb0e95d1e81f0085aeec663c">_cds_handler</a>-&gt;get_channels_by_name( <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#aeb8d593107d2fb462f526e020c037532">_parent_id</a>, canonical_names );</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">if</span> ( !ch_data.empty() )</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a2703bf0dbe819d9b57a2aec6afd70205">_ch_id</a> = ch_data[0].id;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#aaca55a0846fdbaae5bca426f4e59ab70">SVR_DEBUG</a>( 5, <span class="stringliteral">&quot;initialize_channel: Found channel %s (%&quot;</span> PRIu64 <span class="stringliteral">&quot;) in CDS&quot;</span>, <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a5ddae4ffe84d58b58f99fc0196a7c964">_mcl_name</a>, <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a2703bf0dbe819d9b57a2aec6afd70205">_ch_id</a> );</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="comment">// Create the channel in the CDS</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#aaca55a0846fdbaae5bca426f4e59ab70">SVR_DEBUG</a>( 5, <span class="stringliteral">&quot;initialize_channel: Create channel in CDS %s (%&quot;</span> PRIu64 <span class="stringliteral">&quot;), _display_order %zu&quot;</span>, <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a5ddae4ffe84d58b58f99fc0196a7c964">_mcl_name</a>, <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a2703bf0dbe819d9b57a2aec6afd70205">_ch_id</a>, <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#add7cf6ff9f9926792235788a872d2b9f">_display_order</a> );</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a2703bf0dbe819d9b57a2aec6afd70205">_ch_id</a> = <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#ad3309d8ceb0e95d1e81f0085aeec663c">_cds_handler</a>-&gt;create_channel( <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#aeb8d593107d2fb462f526e020c037532">_parent_id</a>,</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                                               <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a2703bf0dbe819d9b57a2aec6afd70205">_ch_id</a>,</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                                               <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a5ddae4ffe84d58b58f99fc0196a7c964">_mcl_name</a>,</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                                               <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#add7cf6ff9f9926792235788a872d2b9f">_display_order</a>,</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                                               <span class="keyword">true</span>,</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                                               <span class="keyword">true</span>,</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                                               <a class="code" href="../../d8/da6/bbb__gpio_8hpp.html#abccb36a89405884766994fb61e5d24a2">DEFAULT_CH_MIN</a>,</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                                               <a class="code" href="../../d8/da6/bbb__gpio_8hpp.html#a600d2d3b5818287393f41ab2a5f76374">DEFAULT_CH_MAX</a> );</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">// Get from I/O and then set its initial value into the CDS</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#ac0bdc316c4e24018664a77f73e8cbca6">get_LED_color</a>();</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    <span class="keywordflow">return</span> ( <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a2703bf0dbe819d9b57a2aec6afd70205">_ch_id</a> );</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;}</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">/* Read the I/O pins and establish the &quot;color&quot; the LED is set to.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment"> *  This will also update the CDS Channel value with the value read. */</span></div>
<div class="line"><a name="l00089"></a><span class="lineno"><a class="line" href="../../d8/d4b/classCBbbTricolorLED.html#ac0bdc316c4e24018664a77f73e8cbca6">   89</a></span>&#160;uint32_t <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#ac0bdc316c4e24018664a77f73e8cbca6">CBbbTricolorLED::get_LED_color</a>()</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;{</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    PUSH_FUNC;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="comment">// Read each, and shift it into the result</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    uint32_t color_bits = 0;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordtype">bool</span> is_active = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordtype">bool</span> bOK = <a class="code" href="../../da/dad/classCBbbGpioCore.html#aa7f108f2bdead633515a27e0d469637b">CBbbGpioCore::get_gpio</a>( <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#ac2b8ae44649f251786afd1fc4e3a64a5">_red_gpio</a>, is_active );</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keywordflow">if</span> ( bOK &amp;&amp; is_active )</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    {</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        color_bits += 1;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    bOK = <a class="code" href="../../da/dad/classCBbbGpioCore.html#aa7f108f2bdead633515a27e0d469637b">CBbbGpioCore::get_gpio</a>( <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a6db42271fbb1cb841cd8e35ecebc27c8">_green_gpio</a>, is_active );</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    <span class="keywordflow">if</span> ( bOK &amp;&amp; is_active )</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        color_bits += 2;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    bOK = <a class="code" href="../../da/dad/classCBbbGpioCore.html#aa7f108f2bdead633515a27e0d469637b">CBbbGpioCore::get_gpio</a>( <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a072c9edad87aa1dfdf10f80c80206a03">_blue_gpio</a>, is_active );</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">if</span> ( bOK &amp;&amp; is_active )</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        color_bits += 4;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a082fe81cba4b406b2edc9cd2a7657d7c">_value</a> = color_bits;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="../../d4/d3d/log_8hpp.html#a0b08cce399b8c9670277fee95242c1e1">SVR_INFO</a>( 5, <span class="stringliteral">&quot;Read LED color as %s (%u)&quot;</span>, <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#abbafd217a50f2181b6dc64856a8de660">CBbbTricolorLED::color_text</a>( color_bits ), color_bits );</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="comment">// Now set it into the CDS</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#ad3309d8ceb0e95d1e81f0085aeec663c">_cds_handler</a>-&gt;set_channel_value( <span class="keywordtype">id</span>(), <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a082fe81cba4b406b2edc9cd2a7657d7c">_value</a> );</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    <span class="keywordflow">return</span> ( <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a082fe81cba4b406b2edc9cd2a7657d7c">_value</a>.as_uint32() );</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;}</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">// Get the text for a color from the numeric value.</span></div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="../../d8/d4b/classCBbbTricolorLED.html#abbafd217a50f2181b6dc64856a8de660">  121</a></span>&#160;<span class="keyword">const</span> <span class="keywordtype">char</span> *<a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#abbafd217a50f2181b6dc64856a8de660">CBbbTricolorLED::color_text</a>( uint32_t color_value )</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;{</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">char</span> *ret = <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    <span class="keywordflow">switch</span> ( color_value )</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        <span class="keywordflow">case</span> 0:</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            ret = <span class="stringliteral">&quot;Off&quot;</span>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">case</span> 1:</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;            ret = <span class="stringliteral">&quot;Red&quot;</span>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        <span class="keywordflow">case</span> 2:</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            ret = <span class="stringliteral">&quot;Green&quot;</span>;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">case</span> 3:</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;            ret = <span class="stringliteral">&quot;Yellow&quot;</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordflow">case</span> 4:</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            ret = <span class="stringliteral">&quot;Blue&quot;</span>;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        <span class="keywordflow">case</span> 5:</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            ret = <span class="stringliteral">&quot;Magenta&quot;</span>;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">case</span> 6:</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;            ret = <span class="stringliteral">&quot;Cyan&quot;</span>;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">case</span> 7:</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            ret = <span class="stringliteral">&quot;White&quot;</span>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            ret = <span class="stringliteral">&quot;Invalid&quot;</span>;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    <span class="keywordflow">return</span> ( ret );</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;}</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">// Subscribe to changes in this Channel&#39;s Values.</span></div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="../../d8/d4b/classCBbbTricolorLED.html#a7d573f01132bc8acb5d9ce19f0d3afda">  159</a></span>&#160;<span class="keywordtype">bool</span> <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a7d573f01132bc8acb5d9ce19f0d3afda">CBbbTricolorLED::subscribe_channel</a>()</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;{</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    PUSH_FUNC;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordtype">bool</span> bOK = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <span class="comment">// Subscribe to updates to the CDS Channel&#39;s Value</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keyword">using</span> std::placeholders::_1;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    <span class="keyword">using</span> std::placeholders::_2;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <a class="code" href="../../d2/d3d/classCGpioCdsHandler.html#af525a37bc47c453df456d5e72fb4340e">CGpioCdsHandler::channel_value_callback_t</a> f_change_value =</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        std::bind( &amp;<a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#ad0c06440b8a1fcf7d8d1139df9691ba6">CBbbTricolorLED::change_value_callback</a>, <span class="keyword">this</span>, _1, _2 );</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    <span class="keywordflow">if</span> ( !<a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#ad3309d8ceb0e95d1e81f0085aeec663c">_cds_handler</a>-&gt;subscribe_channel( <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a2703bf0dbe819d9b57a2aec6afd70205">_ch_id</a>, f_change_value ) )</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    {</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#a0269b3d73432e244e6f398f124878854">SVR_ERR</a>( 1, <span class="stringliteral">&quot;Failed to subscribe to %s Channel updates&quot;</span>, <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a5ddae4ffe84d58b58f99fc0196a7c964">_mcl_name</a> );</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        bOK = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">return</span> ( bOK );</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;}</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;<span class="comment">// The callback function invoked when this Channel&#39;s Value is written to.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno"><a class="line" href="../../d8/d4b/classCBbbTricolorLED.html#ad0c06440b8a1fcf7d8d1139df9691ba6">  181</a></span>&#160;<span class="keywordtype">void</span> <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#ad0c06440b8a1fcf7d8d1139df9691ba6">CBbbTricolorLED::change_value_callback</a>( px::id_t ch_id, <span class="keyword">const</span> px::CValue &amp;new_value )</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;{</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    PUSH_FUNC;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">if</span> ( ch_id != <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a2703bf0dbe819d9b57a2aec6afd70205">_ch_id</a> )</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#ad3eee52fd7d9064485c98ef50f1d6aaf">SVR_FERR</a>( 2, <span class="stringliteral">&quot;No can do: received callback for wrong Channel %u instead of %s %u&quot;</span>,</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                  ( uint32_t ) ch_id, <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a5ddae4ffe84d58b58f99fc0196a7c964">_mcl_name</a>, ( uint32_t ) <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a2703bf0dbe819d9b57a2aec6afd70205">_ch_id</a> );</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    uint32_t uival = new_value.as_uint32();</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="keywordflow">if</span> ( uival &gt; 7 )</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    {</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#a95dfbfd2a90b668e22a02352c2a80e1e">SVR_NOTICE</a>( 2, <span class="stringliteral">&quot;No can do: Channel %s new Value %s is &gt; 7&quot;</span>,</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                    <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a5ddae4ffe84d58b58f99fc0196a7c964">_mcl_name</a>, new_value.as_string().c_str() );</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    }</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    <span class="keywordflow">if</span> ( uival == <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a082fe81cba4b406b2edc9cd2a7657d7c">_value</a>.as_uint32() )</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;    {</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#a0b08cce399b8c9670277fee95242c1e1">SVR_INFO</a>( 5, <span class="stringliteral">&quot;No change in Channel %s value; still %s&quot;</span>, <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a5ddae4ffe84d58b58f99fc0196a7c964">_mcl_name</a>, <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#abbafd217a50f2181b6dc64856a8de660">color_text</a>( uival ) );</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;    }</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <span class="comment">// Else, make the change</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <span class="keywordtype">bool</span> bOK = <a class="code" href="../../da/dad/classCBbbGpioCore.html#ac3d9dfabd264f526d6d2bbf417c4a4b7">CBbbGpioCore::set_gpio</a>( <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#ac2b8ae44649f251786afd1fc4e3a64a5">_red_gpio</a>, ( uival &amp; 1 ) );</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;    <span class="keywordflow">if</span> ( bOK )</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        bOK = <a class="code" href="../../da/dad/classCBbbGpioCore.html#ac3d9dfabd264f526d6d2bbf417c4a4b7">CBbbGpioCore::set_gpio</a>( <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a6db42271fbb1cb841cd8e35ecebc27c8">_green_gpio</a>, ( uival &amp; 2 ) );</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    }</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <span class="keywordflow">if</span> ( bOK )</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    {</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        bOK = <a class="code" href="../../da/dad/classCBbbGpioCore.html#ac3d9dfabd264f526d6d2bbf417c4a4b7">CBbbGpioCore::set_gpio</a>( <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a072c9edad87aa1dfdf10f80c80206a03">_blue_gpio</a>, ( uival &amp; 4 ) );</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    }</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keywordflow">if</span> ( bOK )</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    {</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#a0b08cce399b8c9670277fee95242c1e1">SVR_INFO</a>( 5, <span class="stringliteral">&quot;Changed Channel %s value to %s (%u)&quot;</span>, <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a5ddae4ffe84d58b58f99fc0196a7c964">_mcl_name</a>, <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#abbafd217a50f2181b6dc64856a8de660">color_text</a>( uival ), uival );</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        <span class="comment">// Update our stored copy</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a082fe81cba4b406b2edc9cd2a7657d7c">_value</a> = uival;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    }</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    {</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;        <a class="code" href="../../d4/d3d/log_8hpp.html#a95dfbfd2a90b668e22a02352c2a80e1e">SVR_NOTICE</a>( 2, <span class="stringliteral">&quot;Failed to set GPIO outputs for Channel %s value to %s (%u)&quot;</span>,</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                    <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#a5ddae4ffe84d58b58f99fc0196a7c964">_mcl_name</a>, <a class="code" href="../../d8/d4b/classCBbbTricolorLED.html#abbafd217a50f2181b6dc64856a8de660">color_text</a>( uival ), uival );</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;}</div>
<div class="ttc" id="log_8hpp_html_ad3eee52fd7d9064485c98ef50f1d6aaf"><div class="ttname"><a href="../../d4/d3d/log_8hpp.html#ad3eee52fd7d9064485c98ef50f1d6aaf">SVR_FERR</a></div><div class="ttdeci">#define SVR_FERR(__VLVL__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d3d/log_8hpp_source.html#l00184">log.hpp:184</a></div></div>
<div class="ttc" id="bbb__gpio_8hpp_html_a600d2d3b5818287393f41ab2a5f76374"><div class="ttname"><a href="../../d8/da6/bbb__gpio_8hpp.html#a600d2d3b5818287393f41ab2a5f76374">DEFAULT_CH_MAX</a></div><div class="ttdeci">#define DEFAULT_CH_MAX</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da6/bbb__gpio_8hpp_source.html#l00035">bbb_gpio.hpp:35</a></div></div>
<div class="ttc" id="classCBbbTricolorLED_html_a2703bf0dbe819d9b57a2aec6afd70205"><div class="ttname"><a href="../../d8/d4b/classCBbbTricolorLED.html#a2703bf0dbe819d9b57a2aec6afd70205">CBbbTricolorLED::_ch_id</a></div><div class="ttdeci">px::id_t _ch_id</div><div class="ttdoc">ID assigned by the CDS to this object&amp;#39;s Channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d37/bbb__tricolor__led_8hpp_source.html#l00109">bbb_tricolor_led.hpp:109</a></div></div>
<div class="ttc" id="classCBbbGpioCore_html_ab51f90c047c53fd278b3e5c7c0e8b12d"><div class="ttname"><a href="../../da/dad/classCBbbGpioCore.html#ab51f90c047c53fd278b3e5c7c0e8b12d">CBbbGpioCore::set_gpio_direction</a></div><div class="ttdeci">static bool set_gpio_direction(uint32_t gpio_pin, bool is_input)</div><div class="ttdoc">Set the direction for the given GPIO pin for input or output. </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d02/bbb__gpio__core_8cpp_source.html#l00189">bbb_gpio_core.cpp:189</a></div></div>
<div class="ttc" id="classCBbbTricolorLED_html_a6db42271fbb1cb841cd8e35ecebc27c8"><div class="ttname"><a href="../../d8/d4b/classCBbbTricolorLED.html#a6db42271fbb1cb841cd8e35ecebc27c8">CBbbTricolorLED::_green_gpio</a></div><div class="ttdeci">static const uint32_t _green_gpio</div><div class="ttdoc">Assignment of the &amp;quot;Green&amp;quot; I/O pin; for the BBBlack, Green is GPIO 1_18 =&amp;gt; 50 (aka EHRPWM1A) ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d37/bbb__tricolor__led_8hpp_source.html#l00127">bbb_tricolor_led.hpp:127</a></div></div>
<div class="ttc" id="classCBbbTricolorLED_html_a9fed74b18a33632789d82b19b90de17e"><div class="ttname"><a href="../../d8/d4b/classCBbbTricolorLED.html#a9fed74b18a33632789d82b19b90de17e">CBbbTricolorLED::~CBbbTricolorLED</a></div><div class="ttdeci">virtual ~CBbbTricolorLED()</div><div class="ttdoc">Default Xtor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d30/bbb__tricolor__led_8cpp_source.html#l00023">bbb_tricolor_led.cpp:23</a></div></div>
<div class="ttc" id="bbb__gpio_8hpp_html_abccb36a89405884766994fb61e5d24a2"><div class="ttname"><a href="../../d8/da6/bbb__gpio_8hpp.html#abccb36a89405884766994fb61e5d24a2">DEFAULT_CH_MIN</a></div><div class="ttdeci">#define DEFAULT_CH_MIN</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da6/bbb__gpio_8hpp_source.html#l00034">bbb_gpio.hpp:34</a></div></div>
<div class="ttc" id="bbb__gpio__core_8hpp_html"><div class="ttname"><a href="../../de/ddb/bbb__gpio__core_8hpp.html">bbb_gpio_core.hpp</a></div></div>
<div class="ttc" id="log_8hpp_html_aaca55a0846fdbaae5bca426f4e59ab70"><div class="ttname"><a href="../../d4/d3d/log_8hpp.html#aaca55a0846fdbaae5bca426f4e59ab70">SVR_DEBUG</a></div><div class="ttdeci">#define SVR_DEBUG(__VLVL__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d3d/log_8hpp_source.html#l00198">log.hpp:198</a></div></div>
<div class="ttc" id="classCBbbTricolorLED_html_a082fe81cba4b406b2edc9cd2a7657d7c"><div class="ttname"><a href="../../d8/d4b/classCBbbTricolorLED.html#a082fe81cba4b406b2edc9cd2a7657d7c">CBbbTricolorLED::_value</a></div><div class="ttdeci">px::CValue _value</div><div class="ttdoc">Holds a copy of the present (or last known) value of the Channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d37/bbb__tricolor__led_8hpp_source.html#l00116">bbb_tricolor_led.hpp:116</a></div></div>
<div class="ttc" id="classCBbbTricolorLED_html_ad3309d8ceb0e95d1e81f0085aeec663c"><div class="ttname"><a href="../../d8/d4b/classCBbbTricolorLED.html#ad3309d8ceb0e95d1e81f0085aeec663c">CBbbTricolorLED::_cds_handler</a></div><div class="ttdeci">std::shared_ptr&lt; CGpioCdsHandler &gt; _cds_handler</div><div class="ttdoc">The ASIO handler for subscriptions and submitting to the CDS. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d37/bbb__tricolor__led_8hpp_source.html#l00106">bbb_tricolor_led.hpp:106</a></div></div>
<div class="ttc" id="classCBbbTricolorLED_html_add7cf6ff9f9926792235788a872d2b9f"><div class="ttname"><a href="../../d8/d4b/classCBbbTricolorLED.html#add7cf6ff9f9926792235788a872d2b9f">CBbbTricolorLED::_display_order</a></div><div class="ttdeci">uint32_t _display_order</div><div class="ttdoc">Assign the display order that should be used for this Channel in the UI. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d37/bbb__tricolor__led_8hpp_source.html#l00113">bbb_tricolor_led.hpp:113</a></div></div>
<div class="ttc" id="classCBbbTricolorLED_html_a24c969c042d8636a0cbeb03d8a6f7e20"><div class="ttname"><a href="../../d8/d4b/classCBbbTricolorLED.html#a24c969c042d8636a0cbeb03d8a6f7e20">CBbbTricolorLED::CBbbTricolorLED</a></div><div class="ttdeci">CBbbTricolorLED(px::id_t parent_id, std::shared_ptr&lt; CGpioCdsHandler &gt; cds_handler)</div><div class="ttdoc">Default Ctor. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d30/bbb__tricolor__led_8cpp_source.html#l00013">bbb_tricolor_led.cpp:13</a></div></div>
<div class="ttc" id="bbb__gpio_8hpp_html_a51e7cf38f83d1d190fbc926396058131"><div class="ttname"><a href="../../d8/da6/bbb__gpio_8hpp.html#a51e7cf38f83d1d190fbc926396058131">DEFAULT_CH_ID</a></div><div class="ttdeci">#define DEFAULT_CH_ID</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da6/bbb__gpio_8hpp_source.html#l00033">bbb_gpio.hpp:33</a></div></div>
<div class="ttc" id="classCBbbTricolorLED_html_a955e9eb59ca2d147f4c92a0ad82ff9c6"><div class="ttname"><a href="../../d8/d4b/classCBbbTricolorLED.html#a955e9eb59ca2d147f4c92a0ad82ff9c6">CBbbTricolorLED::initialize_channel</a></div><div class="ttdeci">px::id_t initialize_channel()</div><div class="ttdoc">Initialize this channel in the CDS: create if not present, and read in its present value and set that...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d30/bbb__tricolor__led_8cpp_source.html#l00054">bbb_tricolor_led.cpp:54</a></div></div>
<div class="ttc" id="classCBbbGpioCore_html_aa7f108f2bdead633515a27e0d469637b"><div class="ttname"><a href="../../da/dad/classCBbbGpioCore.html#aa7f108f2bdead633515a27e0d469637b">CBbbGpioCore::get_gpio</a></div><div class="ttdeci">static bool get_gpio(uint32_t gpio_pin, bool &amp;is_active)</div><div class="ttdoc">Read the given GPIO input and return the result of active (high, 1) or inactive (low, 0) (Some implementations may take the opposite view, but for the BBB LED pins, high is active) </div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d02/bbb__gpio__core_8cpp_source.html#l00223">bbb_gpio_core.cpp:223</a></div></div>
<div class="ttc" id="gpio__cds__handler_8hpp_html"><div class="ttname"><a href="../../d1/d96/gpio__cds__handler_8hpp.html">gpio_cds_handler.hpp</a></div></div>
<div class="ttc" id="bbb__gpio_8hpp_html"><div class="ttname"><a href="../../d8/da6/bbb__gpio_8hpp.html">bbb_gpio.hpp</a></div></div>
<div class="ttc" id="classCBbbTricolorLED_html_aeb8d593107d2fb462f526e020c037532"><div class="ttname"><a href="../../d8/d4b/classCBbbTricolorLED.html#aeb8d593107d2fb462f526e020c037532">CBbbTricolorLED::_parent_id</a></div><div class="ttdeci">px::id_t _parent_id</div><div class="ttdoc">The CDS ID of the parent device which holds this channel. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d37/bbb__tricolor__led_8hpp_source.html#l00103">bbb_tricolor_led.hpp:103</a></div></div>
<div class="ttc" id="classCBbbTricolorLED_html_ac2b8ae44649f251786afd1fc4e3a64a5"><div class="ttname"><a href="../../d8/d4b/classCBbbTricolorLED.html#ac2b8ae44649f251786afd1fc4e3a64a5">CBbbTricolorLED::_red_gpio</a></div><div class="ttdeci">static const uint32_t _red_gpio</div><div class="ttdoc">Assignment of the &amp;quot;Red&amp;quot; I/O pin; for the BBBlack, Red is GPIO 0_7 =&amp;gt; 7. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d37/bbb__tricolor__led_8hpp_source.html#l00123">bbb_tricolor_led.hpp:123</a></div></div>
<div class="ttc" id="log_8hpp_html_a0269b3d73432e244e6f398f124878854"><div class="ttname"><a href="../../d4/d3d/log_8hpp.html#a0269b3d73432e244e6f398f124878854">SVR_ERR</a></div><div class="ttdeci">#define SVR_ERR(__VLVL__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d3d/log_8hpp_source.html#l00182">log.hpp:182</a></div></div>
<div class="ttc" id="classCBbbTricolorLED_html_a5ddae4ffe84d58b58f99fc0196a7c964"><div class="ttname"><a href="../../d8/d4b/classCBbbTricolorLED.html#a5ddae4ffe84d58b58f99fc0196a7c964">CBbbTricolorLED::_mcl_name</a></div><div class="ttdeci">const char * _mcl_name</div><div class="ttdoc">The name of this object&amp;#39;s channel in the MCL. </div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d37/bbb__tricolor__led_8hpp_source.html#l00119">bbb_tricolor_led.hpp:119</a></div></div>
<div class="ttc" id="log_8hpp_html_a0b08cce399b8c9670277fee95242c1e1"><div class="ttname"><a href="../../d4/d3d/log_8hpp.html#a0b08cce399b8c9670277fee95242c1e1">SVR_INFO</a></div><div class="ttdeci">#define SVR_INFO(__VLVL__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d3d/log_8hpp_source.html#l00194">log.hpp:194</a></div></div>
<div class="ttc" id="log_8hpp_html_a95dfbfd2a90b668e22a02352c2a80e1e"><div class="ttname"><a href="../../d4/d3d/log_8hpp.html#a95dfbfd2a90b668e22a02352c2a80e1e">SVR_NOTICE</a></div><div class="ttdeci">#define SVR_NOTICE(__VLVL__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d3d/log_8hpp_source.html#l00190">log.hpp:190</a></div></div>
<div class="ttc" id="classCBbbGpioCore_html_ad52b4f31c1e662407470b9fdf193fe87"><div class="ttname"><a href="../../da/dad/classCBbbGpioCore.html#ad52b4f31c1e662407470b9fdf193fe87">CBbbGpioCore::enable_gpio_pin</a></div><div class="ttdeci">static bool enable_gpio_pin(uint32_t gpio_pin, uid_t proc_owner)</div><div class="ttdoc">Initialize the I/O actions for the given GPIO by adding it to the export file and changing the owner ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d02/bbb__gpio__core_8cpp_source.html#l00146">bbb_gpio_core.cpp:146</a></div></div>
<div class="ttc" id="bbb__gpio_8hpp_html_ae147dc709125ebc0f6b968b83de40225"><div class="ttname"><a href="../../d8/da6/bbb__gpio_8hpp.html#ae147dc709125ebc0f6b968b83de40225">DEFAULT_DISP_ORD</a></div><div class="ttdeci">#define DEFAULT_DISP_ORD</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/da6/bbb__gpio_8hpp_source.html#l00036">bbb_gpio.hpp:36</a></div></div>
<div class="ttc" id="classCBbbGpioCore_html_ac3d9dfabd264f526d6d2bbf417c4a4b7"><div class="ttname"><a href="../../da/dad/classCBbbGpioCore.html#ac3d9dfabd264f526d6d2bbf417c4a4b7">CBbbGpioCore::set_gpio</a></div><div class="ttdeci">static bool set_gpio(uint32_t gpio_pin, bool is_active)</div><div class="ttdoc">Set the given GPIO output to active (high, 1) or inactive (low, 0) (Some implementations may take the...</div><div class="ttdef"><b>Definition:</b> <a href="../../d6/d02/bbb__gpio__core_8cpp_source.html#l00257">bbb_gpio_core.cpp:257</a></div></div>
<div class="ttc" id="classCBbbTricolorLED_html_a7d573f01132bc8acb5d9ce19f0d3afda"><div class="ttname"><a href="../../d8/d4b/classCBbbTricolorLED.html#a7d573f01132bc8acb5d9ce19f0d3afda">CBbbTricolorLED::subscribe_channel</a></div><div class="ttdeci">bool subscribe_channel()</div><div class="ttdoc">Subscribe to changes in this Channel&amp;#39;s Values. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d30/bbb__tricolor__led_8cpp_source.html#l00159">bbb_tricolor_led.cpp:159</a></div></div>
<div class="ttc" id="classCBbbTricolorLED_html_abbafd217a50f2181b6dc64856a8de660"><div class="ttname"><a href="../../d8/d4b/classCBbbTricolorLED.html#abbafd217a50f2181b6dc64856a8de660">CBbbTricolorLED::color_text</a></div><div class="ttdeci">static const char * color_text(uint32_t color_value)</div><div class="ttdoc">Get the text for a color from the numeric value. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d30/bbb__tricolor__led_8cpp_source.html#l00121">bbb_tricolor_led.cpp:121</a></div></div>
<div class="ttc" id="classCGpioCdsHandler_html_af525a37bc47c453df456d5e72fb4340e"><div class="ttname"><a href="../../d2/d3d/classCGpioCdsHandler.html#af525a37bc47c453df456d5e72fb4340e">CGpioCdsHandler::channel_value_callback_t</a></div><div class="ttdeci">std::function&lt; void(px::id_t, const px::CValue &amp;)&gt; channel_value_callback_t</div><div class="ttdoc">Define the function object type to handle Channel value write notifications from the CDS...</div><div class="ttdef"><b>Definition:</b> <a href="../../d1/d96/gpio__cds__handler_8hpp_source.html#l00040">gpio_cds_handler.hpp:40</a></div></div>
<div class="ttc" id="classCBbbTricolorLED_html_a072c9edad87aa1dfdf10f80c80206a03"><div class="ttname"><a href="../../d8/d4b/classCBbbTricolorLED.html#a072c9edad87aa1dfdf10f80c80206a03">CBbbTricolorLED::_blue_gpio</a></div><div class="ttdeci">static const uint32_t _blue_gpio</div><div class="ttdoc">Assignment of the &amp;quot;Blue&amp;quot; I/O pin; for the BBBlack, Blue is GPIO 1_19 =&amp;gt; 51 (aka EHRPWM1B) ...</div><div class="ttdef"><b>Definition:</b> <a href="../../d5/d37/bbb__tricolor__led_8hpp_source.html#l00131">bbb_tricolor_led.hpp:131</a></div></div>
<div class="ttc" id="classCBbbTricolorLED_html_ac0bdc316c4e24018664a77f73e8cbca6"><div class="ttname"><a href="../../d8/d4b/classCBbbTricolorLED.html#ac0bdc316c4e24018664a77f73e8cbca6">CBbbTricolorLED::get_LED_color</a></div><div class="ttdeci">uint32_t get_LED_color()</div><div class="ttdoc">Read the I/O pins and establish the &amp;quot;color&amp;quot; the LED is set to. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d30/bbb__tricolor__led_8cpp_source.html#l00089">bbb_tricolor_led.cpp:89</a></div></div>
<div class="ttc" id="classCBbbTricolorLED_html_afb565e18298080903746639c331924fc"><div class="ttname"><a href="../../d8/d4b/classCBbbTricolorLED.html#afb565e18298080903746639c331924fc">CBbbTricolorLED::initialize_gpio_access</a></div><div class="ttdeci">static bool initialize_gpio_access(uid_t proc_owner)</div><div class="ttdoc">A static function to initialize the file system access for GPIO that the proc_owner will need...</div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d30/bbb__tricolor__led_8cpp_source.html#l00032">bbb_tricolor_led.cpp:32</a></div></div>
<div class="ttc" id="bbb__tricolor__led_8hpp_html"><div class="ttname"><a href="../../d5/d37/bbb__tricolor__led_8hpp.html">bbb_tricolor_led.hpp</a></div></div>
<div class="ttc" id="classCBbbTricolorLED_html_ad0c06440b8a1fcf7d8d1139df9691ba6"><div class="ttname"><a href="../../d8/d4b/classCBbbTricolorLED.html#ad0c06440b8a1fcf7d8d1139df9691ba6">CBbbTricolorLED::change_value_callback</a></div><div class="ttdeci">void change_value_callback(px::id_t ch_id, const px::CValue &amp;new_value)</div><div class="ttdoc">The callback function invoked when this Channel&amp;#39;s Value is written to. </div><div class="ttdef"><b>Definition:</b> <a href="../../d0/d30/bbb__tricolor__led_8cpp_source.html#l00181">bbb_tricolor_led.cpp:181</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="../../d0/d30/bbb__tricolor__led_8cpp.html">bbb_tricolor_led.cpp</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:17:49 for BeagleBoneGPIODeviceHandler by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
