<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>BeagleBoneGPIODeviceHandler: CBbbGpioCore Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">BeagleBoneGPIODeviceHandler
   </div>
   <div id="projectbrief">GPIODeviceHandlerExample</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('da/dad/classCBbbGpioCore.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../dc/d5c/classCBbbGpioCore-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CBbbGpioCore Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Core GPIO device handler object for the BeagleBone Black hardware.  
 <a href="../../da/dad/classCBbbGpioCore.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../de/ddb/bbb__gpio__core_8hpp_source.html">bbb_gpio_core.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CBbbGpioCore:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/dd2/classCBbbGpioCore__inherit__graph.png" border="0" usemap="#CBbbGpioCore_inherit__map" alt="Inheritance graph"/></div>
<map name="CBbbGpioCore_inherit__map" id="CBbbGpioCore_inherit__map">
</map>
</div>
<div class="dynheader">
Collaboration diagram for CBbbGpioCore:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d22/classCBbbGpioCore__coll__graph.png" border="0" usemap="#CBbbGpioCore_coll__map" alt="Collaboration graph"/></div>
<map name="CBbbGpioCore_coll__map" id="CBbbGpioCore_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/d6a/structCBbbGpioCore_1_1init__err.html">init_err</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Custom exception, called if initialization fatally fails.  <a href="../../d6/d6a/structCBbbGpioCore_1_1init__err.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af999ee98dae951642f0e45cd7a31fef0"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classCBbbGpioCore.html#af999ee98dae951642f0e45cd7a31fef0">CBbbGpioCore</a> (std::shared_ptr&lt; <a class="el" href="../../dc/d9e/classCOptions.html">COptions</a> &gt; options)</td></tr>
<tr class="memdesc:af999ee98dae951642f0e45cd7a31fef0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Public Member Functions.  <a href="#af999ee98dae951642f0e45cd7a31fef0">More...</a><br/></td></tr>
<tr class="separator:af999ee98dae951642f0e45cd7a31fef0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5dbf22e49403a26b2e9a9a1fdb8e5312"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classCBbbGpioCore.html#a5dbf22e49403a26b2e9a9a1fdb8e5312">~CBbbGpioCore</a> ()</td></tr>
<tr class="memdesc:a5dbf22e49403a26b2e9a9a1fdb8e5312"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor, if any last cleanup is needed.  <a href="#a5dbf22e49403a26b2e9a9a1fdb8e5312">More...</a><br/></td></tr>
<tr class="separator:a5dbf22e49403a26b2e9a9a1fdb8e5312"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53b5561c5741716645686d858e03d8ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classCBbbGpioCore.html#a53b5561c5741716645686d858e03d8ea">config</a> ()</td></tr>
<tr class="memdesc:a53b5561c5741716645686d858e03d8ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do any setup necessary before the main loop is started.  <a href="#a53b5561c5741716645686d858e03d8ea">More...</a><br/></td></tr>
<tr class="separator:a53b5561c5741716645686d858e03d8ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a55ebc6e828f44fb5ee9417f2603709f0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classCBbbGpioCore.html#a55ebc6e828f44fb5ee9417f2603709f0">execute</a> ()</td></tr>
<tr class="memdesc:a55ebc6e828f44fb5ee9417f2603709f0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Run the program's main loop.  <a href="#a55ebc6e828f44fb5ee9417f2603709f0">More...</a><br/></td></tr>
<tr class="separator:a55ebc6e828f44fb5ee9417f2603709f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01b67a148bf8a87307b88c925e475213"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classCBbbGpioCore.html#a01b67a148bf8a87307b88c925e475213">shutdown</a> ()</td></tr>
<tr class="memdesc:a01b67a148bf8a87307b88c925e475213"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do any cleanup necessary when cleanly exiting the main loop.  <a href="#a01b67a148bf8a87307b88c925e475213">More...</a><br/></td></tr>
<tr class="separator:a01b67a148bf8a87307b88c925e475213"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa16dcc22a4404e614d38ef3dc8adb9dc"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../da/dad/classCBbbGpioCore.html">CBbbGpioCore</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classCBbbGpioCore.html#aa16dcc22a4404e614d38ef3dc8adb9dc">getptr</a> ()</td></tr>
<tr class="memdesc:aa16dcc22a4404e614d38ef3dc8adb9dc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for shared_ptr to "this".  <a href="#aa16dcc22a4404e614d38ef3dc8adb9dc">More...</a><br/></td></tr>
<tr class="separator:aa16dcc22a4404e614d38ef3dc8adb9dc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:ad52b4f31c1e662407470b9fdf193fe87"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classCBbbGpioCore.html#ad52b4f31c1e662407470b9fdf193fe87">enable_gpio_pin</a> (uint32_t gpio_pin, uid_t proc_owner)</td></tr>
<tr class="memdesc:ad52b4f31c1e662407470b9fdf193fe87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the I/O actions for the given GPIO by adding it to the export file and changing the owner for its file system to the given UID.  <a href="#ad52b4f31c1e662407470b9fdf193fe87">More...</a><br/></td></tr>
<tr class="separator:ad52b4f31c1e662407470b9fdf193fe87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab51f90c047c53fd278b3e5c7c0e8b12d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classCBbbGpioCore.html#ab51f90c047c53fd278b3e5c7c0e8b12d">set_gpio_direction</a> (uint32_t gpio_pin, bool is_input)</td></tr>
<tr class="memdesc:ab51f90c047c53fd278b3e5c7c0e8b12d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the direction for the given GPIO pin for input or output.  <a href="#ab51f90c047c53fd278b3e5c7c0e8b12d">More...</a><br/></td></tr>
<tr class="separator:ab51f90c047c53fd278b3e5c7c0e8b12d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7f108f2bdead633515a27e0d469637b"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classCBbbGpioCore.html#aa7f108f2bdead633515a27e0d469637b">get_gpio</a> (uint32_t gpio_pin, bool &amp;is_active)</td></tr>
<tr class="memdesc:aa7f108f2bdead633515a27e0d469637b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the given GPIO input and return the result of active (high, 1) or inactive (low, 0) (Some implementations may take the opposite view, but for the BBB LED pins, high is active)  <a href="#aa7f108f2bdead633515a27e0d469637b">More...</a><br/></td></tr>
<tr class="separator:aa7f108f2bdead633515a27e0d469637b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3d9dfabd264f526d6d2bbf417c4a4b7"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classCBbbGpioCore.html#ac3d9dfabd264f526d6d2bbf417c4a4b7">set_gpio</a> (uint32_t gpio_pin, bool is_active)</td></tr>
<tr class="memdesc:ac3d9dfabd264f526d6d2bbf417c4a4b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the given GPIO output to active (high, 1) or inactive (low, 0) (Some implementations may take the opposite view, but for the BBB LED pins, high is active)  <a href="#ac3d9dfabd264f526d6d2bbf417c4a4b7">More...</a><br/></td></tr>
<tr class="separator:ac3d9dfabd264f526d6d2bbf417c4a4b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a437e71677d5392d39e3ab75dc46e6e16"><td class="memItemLeft" align="right" valign="top">px::id_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classCBbbGpioCore.html#a437e71677d5392d39e3ab75dc46e6e16">_parent_id</a></td></tr>
<tr class="memdesc:a437e71677d5392d39e3ab75dc46e6e16"><td class="mdescLeft">&#160;</td><td class="mdescRight">Private Member Functions.  <a href="#a437e71677d5392d39e3ab75dc46e6e16">More...</a><br/></td></tr>
<tr class="separator:a437e71677d5392d39e3ab75dc46e6e16"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5a266cc3d468bd7f5accb9d2ff3c279"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../dc/d9e/classCOptions.html">COptions</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classCBbbGpioCore.html#af5a266cc3d468bd7f5accb9d2ff3c279">_options</a></td></tr>
<tr class="memdesc:af5a266cc3d468bd7f5accb9d2ff3c279"><td class="mdescLeft">&#160;</td><td class="mdescRight">Our copy of the application Options.  <a href="#af5a266cc3d468bd7f5accb9d2ff3c279">More...</a><br/></td></tr>
<tr class="separator:af5a266cc3d468bd7f5accb9d2ff3c279"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2082607ad6f16d82f40bf85e814e6438"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../d2/d3d/classCGpioCdsHandler.html">CGpioCdsHandler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classCBbbGpioCore.html#a2082607ad6f16d82f40bf85e814e6438">_cds_handler</a></td></tr>
<tr class="memdesc:a2082607ad6f16d82f40bf85e814e6438"><td class="mdescLeft">&#160;</td><td class="mdescRight">The ASIO handler for subscriptions and submitting to the CDS.  <a href="#a2082607ad6f16d82f40bf85e814e6438">More...</a><br/></td></tr>
<tr class="separator:a2082607ad6f16d82f40bf85e814e6438"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20020adb8729a612faa2e2ad99ece4ec"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../d8/d4b/classCBbbTricolorLED.html">CBbbTricolorLED</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classCBbbGpioCore.html#a20020adb8729a612faa2e2ad99ece4ec">_led_channel</a></td></tr>
<tr class="memdesc:a20020adb8729a612faa2e2ad99ece4ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the instance of our GPIO channel, for a TriColor LED.  <a href="#a20020adb8729a612faa2e2ad99ece4ec">More...</a><br/></td></tr>
<tr class="separator:a20020adb8729a612faa2e2ad99ece4ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4a41897a6ebc8c77b2146a97e73e139"><td class="memItemLeft" align="right" valign="top">px::id_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classCBbbGpioCore.html#ab4a41897a6ebc8c77b2146a97e73e139">chanid</a></td></tr>
<tr class="memdesc:ab4a41897a6ebc8c77b2146a97e73e139"><td class="mdescLeft">&#160;</td><td class="mdescRight">File descriptor opened to the relevant in_voltageN_raw sysfile.  <a href="#ab4a41897a6ebc8c77b2146a97e73e139">More...</a><br/></td></tr>
<tr class="separator:ab4a41897a6ebc8c77b2146a97e73e139"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c1a97a70cd82cc18fb2ebce989b969a"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classCBbbGpioCore.html#a2c1a97a70cd82cc18fb2ebce989b969a">scale_factor</a></td></tr>
<tr class="memdesc:a2c1a97a70cd82cc18fb2ebce989b969a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Scale factor of ADC to the channel value to be updated.  <a href="#a2c1a97a70cd82cc18fb2ebce989b969a">More...</a><br/></td></tr>
<tr class="separator:a2c1a97a70cd82cc18fb2ebce989b969a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7683ee380e08c36a528fc3b179d9cdeb"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/dad/classCBbbGpioCore.html#a7683ee380e08c36a528fc3b179d9cdeb">update_interval_ms</a></td></tr>
<tr class="memdesc:a7683ee380e08c36a528fc3b179d9cdeb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time between updates, in milliseconds.  <a href="#a7683ee380e08c36a528fc3b179d9cdeb">More...</a><br/></td></tr>
<tr class="separator:a7683ee380e08c36a528fc3b179d9cdeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Core GPIO device handler object for the BeagleBone Black hardware. </p>
<p>This class uses the ASIO framework to handle overall program set-up/shut-down, initialize semi-global objects, and perform the main processing loop.</p>
<p>It implements the functionality defined in the base CServerCore class, and adds application-specific functions and data structures. </p>

<p>Definition at line <a class="el" href="../../de/ddb/bbb__gpio__core_8hpp_source.html#l00020">20</a> of file <a class="el" href="../../de/ddb/bbb__gpio__core_8hpp_source.html">bbb_gpio_core.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af999ee98dae951642f0e45cd7a31fef0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CBbbGpioCore::CBbbGpioCore </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../dc/d9e/classCOptions.html">COptions</a> &gt;&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Public Member Functions. </p>
<p>Constructor. Takes the parsed command-line-options object. </p>

<p>Definition at line <a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html#l00015">15</a> of file <a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html">bbb_gpio_core.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5dbf22e49403a26b2e9a9a1fdb8e5312"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CBbbGpioCore::~CBbbGpioCore </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor, if any last cleanup is needed. </p>

<p>Definition at line <a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html#l00028">28</a> of file <a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html">bbb_gpio_core.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a53b5561c5741716645686d858e03d8ea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBbbGpioCore::config </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do any setup necessary before the main loop is started. </p>
<p>May throw <a class="el" href="../../d6/d6a/structCBbbGpioCore_1_1init__err.html" title="Custom exception, called if initialization fatally fails. ">init_err</a> or px::generic_err. </p>

<p>Definition at line <a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html#l00035">35</a> of file <a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html">bbb_gpio_core.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/dad/classCBbbGpioCore_a53b5561c5741716645686d858e03d8ea_cgraph.png" border="0" usemap="#da/dad/classCBbbGpioCore_a53b5561c5741716645686d858e03d8ea_cgraph" alt=""/></div>
<map name="da/dad/classCBbbGpioCore_a53b5561c5741716645686d858e03d8ea_cgraph" id="da/dad/classCBbbGpioCore_a53b5561c5741716645686d858e03d8ea_cgraph">
<area shape="rect" id="node2" href="../../da/dad/classCBbbGpioCore.html#aa16dcc22a4404e614d38ef3dc8adb9dc" title="Getter for shared_ptr to &quot;this&quot;. " alt="" coords="216,5,379,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a55ebc6e828f44fb5ee9417f2603709f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBbbGpioCore::execute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Run the program's main loop. </p>
<p>Usually runs forever. In this application, there is nothing to do normally inside this function, except to ensure that the watchdog gets pinged (by the ASIO manager). </p>

<p>Definition at line <a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html#l00076">76</a> of file <a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html">bbb_gpio_core.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a01b67a148bf8a87307b88c925e475213"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBbbGpioCore::shutdown </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do any cleanup necessary when cleanly exiting the main loop. </p>

<p>Definition at line <a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html#l00129">129</a> of file <a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html">bbb_gpio_core.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa16dcc22a4404e614d38ef3dc8adb9dc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="../../da/dad/classCBbbGpioCore.html">CBbbGpioCore</a> &gt; CBbbGpioCore::getptr </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter for shared_ptr to "this". </p>
<dl class="section return"><dt>Returns</dt><dd>Shared_ptr to this object. </dd></dl>

<p>Definition at line <a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html#l00136">136</a> of file <a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html">bbb_gpio_core.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/dad/classCBbbGpioCore_aa16dcc22a4404e614d38ef3dc8adb9dc_icgraph.png" border="0" usemap="#da/dad/classCBbbGpioCore_aa16dcc22a4404e614d38ef3dc8adb9dc_icgraph" alt=""/></div>
<map name="da/dad/classCBbbGpioCore_aa16dcc22a4404e614d38ef3dc8adb9dc_icgraph" id="da/dad/classCBbbGpioCore_aa16dcc22a4404e614d38ef3dc8adb9dc_icgraph">
<area shape="rect" id="node2" href="../../da/dad/classCBbbGpioCore.html#a53b5561c5741716645686d858e03d8ea" title="Do any setup necessary before the main loop is started. " alt="" coords="216,5,379,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad52b4f31c1e662407470b9fdf193fe87"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CBbbGpioCore::enable_gpio_pin </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>gpio_pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uid_t&#160;</td>
          <td class="paramname"><em>proc_owner</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize the I/O actions for the given GPIO by adding it to the export file and changing the owner for its file system to the given UID. </p>
<p>Writes its number value to /sys/class/gpio/export, then does a chown() on the GPIO area, eg /sys/class/gpio/gpio7. This should only be done once for each GPIO pin, while still under root access. Implemented as a static function, as it has no class dependencies.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gpio_pin</td><td>The number of the GPIO pin to be enabled. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, else False if file descriptor open or write failed. </dd></dl>

<p>Definition at line <a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html#l00146">146</a> of file <a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html">bbb_gpio_core.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/dad/classCBbbGpioCore_ad52b4f31c1e662407470b9fdf193fe87_icgraph.png" border="0" usemap="#da/dad/classCBbbGpioCore_ad52b4f31c1e662407470b9fdf193fe87_icgraph" alt=""/></div>
<map name="da/dad/classCBbbGpioCore_ad52b4f31c1e662407470b9fdf193fe87_icgraph" id="da/dad/classCBbbGpioCore_ad52b4f31c1e662407470b9fdf193fe87_icgraph">
<area shape="rect" id="node2" href="../../d8/d4b/classCBbbTricolorLED.html#afb565e18298080903746639c331924fc" title="A static function to initialize the file system access for GPIO that the proc_owner will need..." alt="" coords="221,5,413,46"/><area shape="rect" id="node3" href="../../df/d0a/main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="The program entry point, main(). " alt="" coords="462,12,517,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab51f90c047c53fd278b3e5c7c0e8b12d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CBbbGpioCore::set_gpio_direction </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>gpio_pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_input</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the direction for the given GPIO pin for input or output. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gpio_pin</td><td>The number of the GPIO pin whose direction is to be set. </td></tr>
    <tr><td class="paramname">is_input</td><td>True if setting to input, else False for output direction. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, else False if open or write failed. </dd></dl>

<p>Definition at line <a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html#l00189">189</a> of file <a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html">bbb_gpio_core.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/dad/classCBbbGpioCore_ab51f90c047c53fd278b3e5c7c0e8b12d_icgraph.png" border="0" usemap="#da/dad/classCBbbGpioCore_ab51f90c047c53fd278b3e5c7c0e8b12d_icgraph" alt=""/></div>
<map name="da/dad/classCBbbGpioCore_ab51f90c047c53fd278b3e5c7c0e8b12d_icgraph" id="da/dad/classCBbbGpioCore_ab51f90c047c53fd278b3e5c7c0e8b12d_icgraph">
<area shape="rect" id="node2" href="../../d8/d4b/classCBbbTricolorLED.html#afb565e18298080903746639c331924fc" title="A static function to initialize the file system access for GPIO that the proc_owner will need..." alt="" coords="232,5,424,46"/><area shape="rect" id="node3" href="../../df/d0a/main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="The program entry point, main(). " alt="" coords="473,12,527,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa7f108f2bdead633515a27e0d469637b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CBbbGpioCore::get_gpio </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>gpio_pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool &amp;&#160;</td>
          <td class="paramname"><em>is_active</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read the given GPIO input and return the result of active (high, 1) or inactive (low, 0) (Some implementations may take the opposite view, but for the BBB LED pins, high is active) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">gpio_pin</td><td>The number of the GPIO pin whose output is to be read. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">is_active</td><td>True if the input is in the active state, else False for inactive state. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, else False if open or read failed. </dd></dl>

<p>Definition at line <a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html#l00223">223</a> of file <a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html">bbb_gpio_core.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/dad/classCBbbGpioCore_aa7f108f2bdead633515a27e0d469637b_icgraph.png" border="0" usemap="#da/dad/classCBbbGpioCore_aa7f108f2bdead633515a27e0d469637b_icgraph" alt=""/></div>
<map name="da/dad/classCBbbGpioCore_aa7f108f2bdead633515a27e0d469637b_icgraph" id="da/dad/classCBbbGpioCore_aa7f108f2bdead633515a27e0d469637b_icgraph">
<area shape="rect" id="node2" href="../../d8/d4b/classCBbbTricolorLED.html#ac0bdc316c4e24018664a77f73e8cbca6" title="Read the I/O pins and establish the &quot;color&quot; the LED is set to. " alt="" coords="235,5,392,46"/><area shape="rect" id="node3" href="../../d8/d4b/classCBbbTricolorLED.html#a955e9eb59ca2d147f4c92a0ad82ff9c6" title="Initialize this channel in the CDS: create if not present, and read in its present value and set that..." alt="" coords="440,5,632,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac3d9dfabd264f526d6d2bbf417c4a4b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CBbbGpioCore::set_gpio </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>gpio_pin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>is_active</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Set the given GPIO output to active (high, 1) or inactive (low, 0) (Some implementations may take the opposite view, but for the BBB LED pins, high is active) </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">gpio_pin</td><td>The number of the GPIO pin whose output is to be set. </td></tr>
    <tr><td class="paramname">is_active</td><td>True if setting to output to the active state, else False for inactive state. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success, else False if open or write failed. </dd></dl>

<p>Definition at line <a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html#l00257">257</a> of file <a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html">bbb_gpio_core.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/dad/classCBbbGpioCore_ac3d9dfabd264f526d6d2bbf417c4a4b7_icgraph.png" border="0" usemap="#da/dad/classCBbbGpioCore_ac3d9dfabd264f526d6d2bbf417c4a4b7_icgraph" alt=""/></div>
<map name="da/dad/classCBbbGpioCore_ac3d9dfabd264f526d6d2bbf417c4a4b7_icgraph" id="da/dad/classCBbbGpioCore_ac3d9dfabd264f526d6d2bbf417c4a4b7_icgraph">
<area shape="rect" id="node2" href="../../d8/d4b/classCBbbTricolorLED.html#ad0c06440b8a1fcf7d8d1139df9691ba6" title="The callback function invoked when this Channel&#39;s Value is written to. " alt="" coords="233,5,415,46"/><area shape="rect" id="node3" href="../../d8/d4b/classCBbbTricolorLED.html#a7d573f01132bc8acb5d9ce19f0d3afda" title="Subscribe to changes in this Channel&#39;s Values. " alt="" coords="465,5,663,46"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a437e71677d5392d39e3ab75dc46e6e16"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::id_t CBbbGpioCore::_parent_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Private Member Functions. </p>
<p>Private Data Members Parent device ID </p>

<p>Definition at line <a class="el" href="../../de/ddb/bbb__gpio__core_8hpp_source.html#l00134">134</a> of file <a class="el" href="../../de/ddb/bbb__gpio__core_8hpp_source.html">bbb_gpio_core.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af5a266cc3d468bd7f5accb9d2ff3c279"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="../../dc/d9e/classCOptions.html">COptions</a>&gt; CBbbGpioCore::_options</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Our copy of the application Options. </p>

<p>Definition at line <a class="el" href="../../de/ddb/bbb__gpio__core_8hpp_source.html#l00137">137</a> of file <a class="el" href="../../de/ddb/bbb__gpio__core_8hpp_source.html">bbb_gpio_core.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2082607ad6f16d82f40bf85e814e6438"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="../../d2/d3d/classCGpioCdsHandler.html">CGpioCdsHandler</a>&gt; CBbbGpioCore::_cds_handler</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The ASIO handler for subscriptions and submitting to the CDS. </p>

<p>Definition at line <a class="el" href="../../de/ddb/bbb__gpio__core_8hpp_source.html#l00140">140</a> of file <a class="el" href="../../de/ddb/bbb__gpio__core_8hpp_source.html">bbb_gpio_core.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a20020adb8729a612faa2e2ad99ece4ec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="../../d8/d4b/classCBbbTricolorLED.html">CBbbTricolorLED</a>&gt; CBbbGpioCore::_led_channel</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Holds the instance of our GPIO channel, for a TriColor LED. </p>

<p>Definition at line <a class="el" href="../../de/ddb/bbb__gpio__core_8hpp_source.html#l00143">143</a> of file <a class="el" href="../../de/ddb/bbb__gpio__core_8hpp_source.html">bbb_gpio_core.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab4a41897a6ebc8c77b2146a97e73e139"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::id_t CBbbGpioCore::chanid</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>File descriptor opened to the relevant in_voltageN_raw sysfile. </p>
<p>As the name indicates, it channel 5 of the A/D converter mapped into the file system. Channel ID being updated. </p>

<p>Definition at line <a class="el" href="../../de/ddb/bbb__gpio__core_8hpp_source.html#l00150">150</a> of file <a class="el" href="../../de/ddb/bbb__gpio__core_8hpp_source.html">bbb_gpio_core.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2c1a97a70cd82cc18fb2ebce989b969a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float CBbbGpioCore::scale_factor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Scale factor of ADC to the channel value to be updated. </p>

<p>Definition at line <a class="el" href="../../de/ddb/bbb__gpio__core_8hpp_source.html#l00153">153</a> of file <a class="el" href="../../de/ddb/bbb__gpio__core_8hpp_source.html">bbb_gpio_core.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7683ee380e08c36a528fc3b179d9cdeb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t CBbbGpioCore::update_interval_ms</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time between updates, in milliseconds. </p>

<p>Definition at line <a class="el" href="../../de/ddb/bbb__gpio__core_8hpp_source.html#l00156">156</a> of file <a class="el" href="../../de/ddb/bbb__gpio__core_8hpp_source.html">bbb_gpio_core.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/src/product-ref1/etn_source/bbb_gpio/include/<a class="el" href="../../de/ddb/bbb__gpio__core_8hpp_source.html">bbb_gpio_core.hpp</a></li>
<li>/src/product-ref1/etn_source/bbb_gpio/source/<a class="el" href="../../d6/d02/bbb__gpio__core_8cpp_source.html">bbb_gpio_core.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../da/dad/classCBbbGpioCore.html">CBbbGpioCore</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:17:49 for BeagleBoneGPIODeviceHandler by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
