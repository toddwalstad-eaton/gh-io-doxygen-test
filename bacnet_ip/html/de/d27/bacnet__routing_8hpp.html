<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>bacnet_ip: /src/product-ref1/px-toolkit/etn_source/bacnet_ip/include/bacnet/services/bacnet_routing.hpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">bacnet_ip
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('de/d27/bacnet__routing_8hpp.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bacnet_routing.hpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Header for the BACnet Routing services.  
<a href="#details">More...</a></p>
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d1a/bacnet__routing_8hpp__dep__incl.png" border="0" usemap="#_2src_2product-ref1_2px-toolkit_2etn__source_2bacnet__ip_2include_2bacnet_2services_2bacnet__routing_8hppdep" alt=""/></div>
<map name="_2src_2product-ref1_2px-toolkit_2etn__source_2bacnet__ip_2include_2bacnet_2services_2bacnet__routing_8hppdep" id="_2src_2product-ref1_2px-toolkit_2etn__source_2bacnet__ip_2include_2bacnet_2services_2bacnet__routing_8hppdep">
<area shape="rect" id="node2" href="../../d8/d38/bacnet__device__object_8cpp.html" title="Implementation for BACnet Device Class Object. " alt="" coords="5,126,200,197"/><area shape="rect" id="node3" href="../../dc/d96/bacnet__ip__handler_8cpp.html" title="Implementation of class that provides the interface between the ASIO&#45;based I/O and the bacnet&#45;stack&#39;s..." alt="" coords="224,126,419,197"/><area shape="rect" id="node4" href="../../df/d0d/bacnet__routing_8cpp.html" title="Implementation of the BACnet Routing services. " alt="" coords="443,126,637,197"/><area shape="rect" id="node5" href="../../da/da1/bacnet__ip__core_8cpp.html" title="/src/product&#45;ref1/px\l&#45;toolkit/etn_source/bacnet\l_ip/source/bacnet_ip_core.cpp" alt="" coords="662,133,879,189"/></map>
</div>
</div>
<p><a href="../../de/d27/bacnet__routing_8hpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d32/structbip__mac__addr.html">bip_mac_addr</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The BACnet/IP "MAC" Address structure; consists of 6 bytes, four for IP, two for port number.  <a href="../../df/d32/structbip__mac__addr.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d9/dc2/classCBacnetRouting.html">CBacnetRouting</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">This class may not be very important, but the "C" interface functions for routing are more important.  <a href="../../d9/dc2/classCBacnetRouting.html#details">More...</a><br/></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:aac9bd440fda9f8784ab1173fd8fc223a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d27/bacnet__routing_8hpp.html#aac9bd440fda9f8784ab1173fd8fc223a">BIP_MAC_SIZE</a>&#160;&#160;&#160;6			/* 6 bytes, four for IP, two for port number */</td></tr>
<tr class="separator:aac9bd440fda9f8784ab1173fd8fc223a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abfd7a719a516731a9bb3267a9b19bd50"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d27/bacnet__routing_8hpp.html#abfd7a719a516731a9bb3267a9b19bd50">EMPTY_PERM_ID</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:abfd7a719a516731a9bb3267a9b19bd50"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a1b78605dd1f511fe02110315f002c1af"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="../../df/d32/structbip__mac__addr.html">bip_mac_addr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../de/d27/bacnet__routing_8hpp.html#a1b78605dd1f511fe02110315f002c1af">BIP_MAC_Addr_t</a></td></tr>
<tr class="memdesc:a1b78605dd1f511fe02110315f002c1af"><td class="mdescLeft">&#160;</td><td class="mdescRight">The BACnet/IP "MAC" Address structure; consists of 6 bytes, four for IP, two for port number.  <a href="#a1b78605dd1f511fe02110315f002c1af">More...</a><br/></td></tr>
<tr class="separator:a1b78605dd1f511fe02110315f002c1af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaca13e00f88c28db7220d0b523397a87f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/dd7/classCBacnetDeviceObject.html">CBacnetDeviceObject</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d9d/group__bip__routing__interface.html#gaca13e00f88c28db7220d0b523397a87f">get_current_device_object</a> ()</td></tr>
<tr class="memdesc:gaca13e00f88c28db7220d0b523397a87f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to the current Device object (look up from the current global setting for instance number).  <a href="../../d3/d9d/group__bip__routing__interface.html#gaca13e00f88c28db7220d0b523397a87f">More...</a><br/></td></tr>
<tr class="separator:gaca13e00f88c28db7220d0b523397a87f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab192b293040106b05da1e36aeb6d4a7b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d9d/group__bip__routing__interface.html#gab192b293040106b05da1e36aeb6d4a7b">set_current_device_idx</a> (size_t new_instance)</td></tr>
<tr class="memdesc:gab192b293040106b05da1e36aeb6d4a7b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the global Current Device instance number (Device Map key) and corresponding Device BACnet Address.  <a href="../../d3/d9d/group__bip__routing__interface.html#gab192b293040106b05da1e36aeb6d4a7b">More...</a><br/></td></tr>
<tr class="separator:gab192b293040106b05da1e36aeb6d4a7b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga971e4aeaf895b910e49023caca533cf9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d9d/group__bip__routing__interface.html#ga971e4aeaf895b910e49023caca533cf9">routed_get_my_address</a> (BACNET_ADDRESS *my_address)</td></tr>
<tr class="memdesc:ga971e4aeaf895b910e49023caca533cf9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the currently active BACnet address.  <a href="../../d3/d9d/group__bip__routing__interface.html#ga971e4aeaf895b910e49023caca533cf9">More...</a><br/></td></tr>
<tr class="separator:ga971e4aeaf895b910e49023caca533cf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga940845003a64e833f94471fe5b531400"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d9d/group__bip__routing__interface.html#ga940845003a64e833f94471fe5b531400">bip_get_my_address</a> (BACNET_ADDRESS *my_address)</td></tr>
<tr class="memdesc:ga940845003a64e833f94471fe5b531400"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the currently active BACnet address (which is just the main device) This is an implementation of the datalink_get_my_address() template for devices without routing (where CONFIG_BACNET_IS_GATEWAY is 'n')  <a href="../../d3/d9d/group__bip__routing__interface.html#ga940845003a64e833f94471fe5b531400">More...</a><br/></td></tr>
<tr class="separator:ga940845003a64e833f94471fe5b531400"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf081d613b434a94741a88954644aaca9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d9d/group__bip__routing__interface.html#gaf081d613b434a94741a88954644aaca9">Routed_Device_Is_Valid_Network</a> (uint16_t dest_net, int *DNET_list)</td></tr>
<tr class="memdesc:gaf081d613b434a94741a88954644aaca9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the destination network is reachable - is it our virtual network, or local or else broadcast.  <a href="../../d3/d9d/group__bip__routing__interface.html#gaf081d613b434a94741a88954644aaca9">More...</a><br/></td></tr>
<tr class="separator:gaf081d613b434a94741a88954644aaca9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7f5cca42b89da297673ef71d164c235c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d9d/group__bip__routing__interface.html#ga7f5cca42b89da297673ef71d164c235c">Routed_Device_Service_Approval</a> (BACNET_CONFIRMED_SERVICE service, int service_argument, uint8_t *apdu_buff, uint8_t invoke_id)</td></tr>
<tr class="memdesc:ga7f5cca42b89da297673ef71d164c235c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check to see if the current Device supports this service.  <a href="../../d3/d9d/group__bip__routing__interface.html#ga7f5cca42b89da297673ef71d164c235c">More...</a><br/></td></tr>
<tr class="separator:ga7f5cca42b89da297673ef71d164c235c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0943ce1497b79465603718616369a454"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d3/d9d/group__bip__routing__interface.html#ga0943ce1497b79465603718616369a454">handler_etn_who_is_unicast_for_routing</a> (uint8_t *service_request, uint16_t service_len, BACNET_ADDRESS *src)</td></tr>
<tr class="memdesc:ga0943ce1497b79465603718616369a454"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler for Who-Is requests in the virtual routing setup, with a single unicast I-Am response returned to the src, from the "current" BACnet device.  <a href="../../d3/d9d/group__bip__routing__interface.html#ga0943ce1497b79465603718616369a454">More...</a><br/></td></tr>
<tr class="separator:ga0943ce1497b79465603718616369a454"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header for the BACnet Routing services. </p>

<p>Definition in file <a class="el" href="../../de/d27/bacnet__routing_8hpp_source.html">bacnet_routing.hpp</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="aac9bd440fda9f8784ab1173fd8fc223a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define BIP_MAC_SIZE&#160;&#160;&#160;6			/* 6 bytes, four for IP, two for port number */</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../de/d27/bacnet__routing_8hpp_source.html#l00008">8</a> of file <a class="el" href="../../de/d27/bacnet__routing_8hpp_source.html">bacnet_routing.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="abfd7a719a516731a9bb3267a9b19bd50"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define EMPTY_PERM_ID&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../de/d27/bacnet__routing_8hpp_source.html#l00021">21</a> of file <a class="el" href="../../de/d27/bacnet__routing_8hpp_source.html">bacnet_routing.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="a1b78605dd1f511fe02110315f002c1af"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="../../df/d32/structbip__mac__addr.html">bip_mac_addr</a>  <a class="el" href="../../de/d27/bacnet__routing_8hpp.html#a1b78605dd1f511fe02110315f002c1af">BIP_MAC_Addr_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The BACnet/IP "MAC" Address structure; consists of 6 bytes, four for IP, two for port number. </p>
<p>For our routed virtual BACnet Devices, we will take the MAC of the gateway (its IP and port) and reverse the IP portion and provide the Permanent ID number in the 4th place, to get a guaranteed unique MAC value. We'll just keep the port always as 0xBAC0. Eg, 10:222:48:135:BA:C0 gateway routes to a virtual device at 135:48:222:1:BA:C0 </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_f15e3265ce6e8bf633e646df30120bc8.html">bacnet</a></li><li class="navelem"><a class="el" href="../../dir_cfdd63cd3c60eef47539ba54e7299393.html">services</a></li><li class="navelem"><a class="el" href="../../de/d27/bacnet__routing_8hpp.html">bacnet_routing.hpp</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:25:56 for bacnet_ip by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
