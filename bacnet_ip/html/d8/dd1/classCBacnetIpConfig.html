<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>bacnet_ip: CBacnetIpConfig Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">bacnet_ip
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d8/dd1/classCBacnetIpConfig.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../df/ddb/classCBacnetIpConfig-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CBacnetIpConfig Class Reference<div class="ingroups"><a class="el" href="../../d2/d93/group__BIP__Devices.html">Overview of Devices, Subdevices, and Channels.</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to manage the internal configuration of the bacnet_ip process.  
 <a href="../../d8/dd1/classCBacnetIpConfig.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d4/d55/bacnet__ip__config_8hpp_source.html">bacnet_ip_config.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CBacnetIpConfig:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/df8/classCBacnetIpConfig__inherit__graph.png" border="0" usemap="#CBacnetIpConfig_inherit__map" alt="Inheritance graph"/></div>
<map name="CBacnetIpConfig_inherit__map" id="CBacnetIpConfig_inherit__map">
<area shape="rect" id="node2" href="../../d0/d3d/classCMockConfig.html" title="{CMockConfig\n||+ CMockConfig()\l+ ~CMockConfig()\l+ get_gw_device()\l+ get_routed_device_map()\l}" alt="" coords="15,323,217,445"/></map>
</div>
<div class="dynheader">
Collaboration diagram for CBacnetIpConfig:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d6a/classCBacnetIpConfig__coll__graph.png" border="0" usemap="#CBacnetIpConfig_coll__map" alt="Collaboration graph"/></div>
<map name="CBacnetIpConfig_coll__map" id="CBacnetIpConfig_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af90d66e4065f66dbde4fe9f21959e153"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html#af90d66e4065f66dbde4fe9f21959e153">CBacnetIpConfig</a> (std::shared_ptr&lt; <a class="el" href="../../d7/d39/classCBacnetIpCore.html">CBacnetIpCore</a> &gt; bip_core)</td></tr>
<tr class="memdesc:af90d66e4065f66dbde4fe9f21959e153"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor which just sets things up but doesn't start loading the maps.  <a href="#af90d66e4065f66dbde4fe9f21959e153">More...</a><br/></td></tr>
<tr class="separator:af90d66e4065f66dbde4fe9f21959e153"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4066f680ecf693677d171231689cab20"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html#a4066f680ecf693677d171231689cab20">~CBacnetIpConfig</a> ()</td></tr>
<tr class="memdesc:a4066f680ecf693677d171231689cab20"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a4066f680ecf693677d171231689cab20">More...</a><br/></td></tr>
<tr class="separator:a4066f680ecf693677d171231689cab20"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0b2d5e238ffb7febd3822f9d91db588"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html#ad0b2d5e238ffb7febd3822f9d91db588">initialize_configuration</a> ()</td></tr>
<tr class="memdesc:ad0b2d5e238ffb7febd3822f9d91db588"><td class="mdescLeft">&#160;</td><td class="mdescRight">Provide the initial internal configuration.  <a href="#ad0b2d5e238ffb7febd3822f9d91db588">More...</a><br/></td></tr>
<tr class="separator:ad0b2d5e238ffb7febd3822f9d91db588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a9cc0c72bb4d70f1be0a8553a6ac230"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html#a6a9cc0c72bb4d70f1be0a8553a6ac230">initialize_bacnet_devices</a> ()</td></tr>
<tr class="memdesc:a6a9cc0c72bb4d70f1be0a8553a6ac230"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates the initial BACnet Devices for the gateway / root device and any of the known virtual devices.  <a href="#a6a9cc0c72bb4d70f1be0a8553a6ac230">More...</a><br/></td></tr>
<tr class="separator:a6a9cc0c72bb4d70f1be0a8553a6ac230"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c6abbf1600e24b1dfdfc3e627182813"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html#a9c6abbf1600e24b1dfdfc3e627182813">ready_to_run</a> ()</td></tr>
<tr class="memdesc:a9c6abbf1600e24b1dfdfc3e627182813"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function invoked just before entering the run state.  <a href="#a9c6abbf1600e24b1dfdfc3e627182813">More...</a><br/></td></tr>
<tr class="separator:a9c6abbf1600e24b1dfdfc3e627182813"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a150e73c0d3d171fec9eb21317481a997"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/dd7/classCBacnetDeviceObject.html">CBacnetDeviceObject</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html#a150e73c0d3d171fec9eb21317481a997">get_bac_dev_obj_ptr</a> (size_t dev_idx)</td></tr>
<tr class="memdesc:a150e73c0d3d171fec9eb21317481a997"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a pointer to an instance of the <a class="el" href="../../d9/dd7/classCBacnetDeviceObject.html" title="The class that provides Device data, mapped from the CDS data to BACnet. ">CBacnetDeviceObject</a> class for the given device instance (key for our device map).  <a href="#a150e73c0d3d171fec9eb21317481a997">More...</a><br/></td></tr>
<tr class="separator:a150e73c0d3d171fec9eb21317481a997"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64cf055f3ab14b352e1580d05b479148"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html#a64cf055f3ab14b352e1580d05b479148">get_next_instance_number</a> (int inst_num)</td></tr>
<tr class="memdesc:a64cf055f3ab14b352e1580d05b479148"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given the starting instance number, get the "next" valid instance number in our _routed_device_map.  <a href="#a64cf055f3ab14b352e1580d05b479148">More...</a><br/></td></tr>
<tr class="separator:a64cf055f3ab14b352e1580d05b479148"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e5ff5950e17686aee64e792bd301da9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html#a2e5ff5950e17686aee64e792bd301da9">is_valid_instance_number</a> (int inst_num)</td></tr>
<tr class="memdesc:a2e5ff5950e17686aee64e792bd301da9"><td class="mdescLeft">&#160;</td><td class="mdescRight">See if a given instance number indexes a valid entry in our _routed_device_map.  <a href="#a2e5ff5950e17686aee64e792bd301da9">More...</a><br/></td></tr>
<tr class="separator:a2e5ff5950e17686aee64e792bd301da9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5e72c6566456bf1afd8842b858fa775"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html#af5e72c6566456bf1afd8842b858fa775">lookup_instance_by_mac_address</a> (uint8_t *mac_addr, size_t len)</td></tr>
<tr class="memdesc:af5e72c6566456bf1afd8842b858fa775"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given a requested BACnet MAC address, look in our _routed_device_map for a match.  <a href="#af5e72c6566456bf1afd8842b858fa775">More...</a><br/></td></tr>
<tr class="separator:af5e72c6566456bf1afd8842b858fa775"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86bac8ee42436a6096340e52e5401caf"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html#a86bac8ee42436a6096340e52e5401caf">lookup_routed_instance_by_cds_device_id</a> (px::id_t dev_id)</td></tr>
<tr class="memdesc:a86bac8ee42436a6096340e52e5401caf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Find the instance in our map of routed devices for the given CDS Device ID.  <a href="#a86bac8ee42436a6096340e52e5401caf">More...</a><br/></td></tr>
<tr class="separator:a86bac8ee42436a6096340e52e5401caf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f002db986cea83ee75976e45ab3ab0c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html#a8f002db986cea83ee75976e45ab3ab0c">is_supported_device_type</a> (const px::CDevice &amp;px_device)</td></tr>
<tr class="memdesc:a8f002db986cea83ee75976e45ab3ab0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if this device is of a supported type for BACnet Devices.  <a href="#a8f002db986cea83ee75976e45ab3ab0c">More...</a><br/></td></tr>
<tr class="separator:a8f002db986cea83ee75976e45ab3ab0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f19b34749b0e339177269a9a59eff34"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html#a3f19b34749b0e339177269a9a59eff34">add_device_callback</a> (const px::asio::CCdsDevice &amp;container)</td></tr>
<tr class="memdesc:a3f19b34749b0e339177269a9a59eff34"><td class="mdescLeft">&#160;</td><td class="mdescRight">Application callback for whenever CCdsHandler adds a device to its map.  <a href="#a3f19b34749b0e339177269a9a59eff34">More...</a><br/></td></tr>
<tr class="separator:a3f19b34749b0e339177269a9a59eff34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24a62cbdf1f405feedc9933ea463b9ef"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html#a24a62cbdf1f405feedc9933ea463b9ef">update_device_callback</a> (const px::asio::CCdsDevice &amp;container)</td></tr>
<tr class="memdesc:a24a62cbdf1f405feedc9933ea463b9ef"><td class="mdescLeft">&#160;</td><td class="mdescRight">Application callback for whenever CCdsHandler updates a device in its map, for a change in device_settings.  <a href="#a24a62cbdf1f405feedc9933ea463b9ef">More...</a><br/></td></tr>
<tr class="separator:a24a62cbdf1f405feedc9933ea463b9ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab09b90c35caed54526a293905bb9b55f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html#ab09b90c35caed54526a293905bb9b55f">delete_device_callback</a> (px::id_t dev_id)</td></tr>
<tr class="memdesc:ab09b90c35caed54526a293905bb9b55f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Application callback for whenever CCdsHandler removes a device from its map.  <a href="#ab09b90c35caed54526a293905bb9b55f">More...</a><br/></td></tr>
<tr class="separator:ab09b90c35caed54526a293905bb9b55f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc1a440cb9ddc7ba578e8a8abef7c7cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html#abc1a440cb9ddc7ba578e8a8abef7c7cf">device_state_callback</a> (const px::asio::CCdsDevice &amp;container)</td></tr>
<tr class="memdesc:abc1a440cb9ddc7ba578e8a8abef7c7cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Application callback for whenever CCdsHandler updates the state data for a device in its map.  <a href="#abc1a440cb9ddc7ba578e8a8abef7c7cf">More...</a><br/></td></tr>
<tr class="separator:abc1a440cb9ddc7ba578e8a8abef7c7cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc0bb8122073eac6d773435b308241e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html#adc0bb8122073eac6d773435b308241e6">channel_settings_callback</a> (const px::asio::CCdsDevice &amp;container, const std::vector&lt; px::CChannelSettings &gt; &amp;settings)</td></tr>
<tr class="memdesc:adc0bb8122073eac6d773435b308241e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Application callback invoked by CdsHandler when it gets the ChannelSettings for a device.  <a href="#adc0bb8122073eac6d773435b308241e6">More...</a><br/></td></tr>
<tr class="separator:adc0bb8122073eac6d773435b308241e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa7893f1929e11c8dcee66ae55a8cb0e3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html#aa7893f1929e11c8dcee66ae55a8cb0e3">channel_values_callback</a> (const std::map&lt; px::id_t, px::CValue &gt; &amp;ch_map, const px::CWallTime &amp;update_time)</td></tr>
<tr class="memdesc:aa7893f1929e11c8dcee66ae55a8cb0e3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback function to process the channel value change notifications from the CDS.  <a href="#aa7893f1929e11c8dcee66ae55a8cb0e3">More...</a><br/></td></tr>
<tr class="separator:aa7893f1929e11c8dcee66ae55a8cb0e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ac81add7de41be79f84d8bb6bcaf476"><td class="memItemLeft" align="right" valign="top">std::shared_ptr<br class="typebreak"/>
&lt; CBacnetIpDeviceMap &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html#a1ac81add7de41be79f84d8bb6bcaf476">get_bip_routed_device_map</a> ()</td></tr>
<tr class="memdesc:a1ac81add7de41be79f84d8bb6bcaf476"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for the CBacnetIpDeviceMap shared_ptr.  <a href="#a1ac81add7de41be79f84d8bb6bcaf476">More...</a><br/></td></tr>
<tr class="separator:a1ac81add7de41be79f84d8bb6bcaf476"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a6e8629d9b879119d4c2e3ef0a503c3ea"><td class="memItemLeft" align="right" valign="top">std::shared_ptr<br class="typebreak"/>
&lt; CBacnetIpDeviceMap &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html#a6e8629d9b879119d4c2e3ef0a503c3ea">_bip_routed_device_map</a></td></tr>
<tr class="memdesc:a6e8629d9b879119d4c2e3ef0a503c3ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to the BACnet device map object.  <a href="#a6e8629d9b879119d4c2e3ef0a503c3ea">More...</a><br/></td></tr>
<tr class="separator:a6e8629d9b879119d4c2e3ef0a503c3ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4afb98a3ae03c3097249b465671a8a3"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../d7/d39/classCBacnetIpCore.html">CBacnetIpCore</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html#ad4afb98a3ae03c3097249b465671a8a3">_bip_core</a></td></tr>
<tr class="memdesc:ad4afb98a3ae03c3097249b465671a8a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer back to the core class that created us.  <a href="#ad4afb98a3ae03c3097249b465671a8a3">More...</a><br/></td></tr>
<tr class="separator:ad4afb98a3ae03c3097249b465671a8a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to manage the internal configuration of the bacnet_ip process. </p>
<p>The members and services of this class manage the <a class="el" href="../../d9/dd7/classCBacnetDeviceObject.html" title="The class that provides Device data, mapped from the CDS data to BACnet. ">CBacnetDeviceObject</a> instances for the gateway and the active "virtual" devices.</p>
<p>This <a class="el" href="../../d8/dd1/classCBacnetIpConfig.html" title="Class to manage the internal configuration of the bacnet_ip process. ">CBacnetIpConfig</a> is distinguished from the <a class="el" href="../../d6/ded/classCBacnetIpSettings.html" title="BACnet/IP server settings (from Out of Band data). ">CBacnetIpSettings</a> class in that the latter manages the OOB settings for all known devices, active or "decommissioned", whereas this class holds the bacnet_ip BACnet Device instances which are referenced by the bacnet-stack services.</p>
<p>Neither of these classes includes subdevices in their maps (except the copy of the CDS image of all px::CDevices held in this class). </p>

<p>Definition at line <a class="el" href="../../d4/d55/bacnet__ip__config_8hpp_source.html#l00029">29</a> of file <a class="el" href="../../d4/d55/bacnet__ip__config_8hpp_source.html">bacnet_ip_config.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af90d66e4065f66dbde4fe9f21959e153"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CBacnetIpConfig::CBacnetIpConfig </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../d7/d39/classCBacnetIpCore.html">CBacnetIpCore</a> &gt;&#160;</td>
          <td class="paramname"><em>bip_core</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor which just sets things up but doesn't start loading the maps. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bip_core</td><td>Pointer back to the core class that created us. Gives us CDS and OOB data access. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html#l00014">14</a> of file <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html">bacnet_ip_config.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4066f680ecf693677d171231689cab20"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CBacnetIpConfig::~CBacnetIpConfig </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>

<p>Definition at line <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html#l00022">22</a> of file <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html">bacnet_ip_config.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ad0b2d5e238ffb7febd3822f9d91db588"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBacnetIpConfig::initialize_configuration </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Provide the initial internal configuration. </p>

<p>Definition at line <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html#l00034">34</a> of file <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html">bacnet_ip_config.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6a9cc0c72bb4d70f1be0a8553a6ac230"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBacnetIpConfig::initialize_bacnet_devices </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates the initial BACnet Devices for the gateway / root device and any of the known virtual devices. </p>
<p>Does this by initializing the CdsHandler's Device map, which kicks off a bunch of device additions and configurations. It takes a while to do this on a big system. All the devices known at startup will be configured for BACnet use by the time that this function call returns. </p>

<p>Definition at line <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html#l00042">42</a> of file <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html">bacnet_ip_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd1/classCBacnetIpConfig_a6a9cc0c72bb4d70f1be0a8553a6ac230_cgraph.png" border="0" usemap="#d8/dd1/classCBacnetIpConfig_a6a9cc0c72bb4d70f1be0a8553a6ac230_cgraph" alt=""/></div>
<map name="d8/dd1/classCBacnetIpConfig_a6a9cc0c72bb4d70f1be0a8553a6ac230_cgraph" id="d8/dd1/classCBacnetIpConfig_a6a9cc0c72bb4d70f1be0a8553a6ac230_cgraph">
<area shape="rect" id="node2" href="../../d8/dd1/classCBacnetIpConfig.html#a3f19b34749b0e339177269a9a59eff34" title="Application callback for whenever CCdsHandler adds a device to its map. " alt="" coords="262,5,423,46"/><area shape="rect" id="node3" href="../../d8/dd1/classCBacnetIpConfig.html#a24a62cbdf1f405feedc9933ea463b9ef" title="Application callback for whenever CCdsHandler updates a device in its map, for a change in device_set..." alt="" coords="251,70,434,111"/><area shape="rect" id="node4" href="../../d8/dd1/classCBacnetIpConfig.html#ab09b90c35caed54526a293905bb9b55f" title="Application callback for whenever CCdsHandler removes a device from its map. " alt="" coords="253,135,432,177"/><area shape="rect" id="node5" href="../../d8/dd1/classCBacnetIpConfig.html#abc1a440cb9ddc7ba578e8a8abef7c7cf" title="Application callback for whenever CCdsHandler updates the state data for a device in its map..." alt="" coords="253,201,433,242"/><area shape="rect" id="node6" href="../../d8/dd1/classCBacnetIpConfig.html#adc0bb8122073eac6d773435b308241e6" title="Application callback invoked by CdsHandler when it gets the ChannelSettings for a device..." alt="" coords="249,266,437,307"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9c6abbf1600e24b1dfdfc3e627182813"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBacnetIpConfig::ready_to_run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function invoked just before entering the run state. </p>
<p>Will subscribe to the device update callbacks and do one more scan of the existing devices, in case any were just added. </p>

<p>Definition at line <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html#l00073">73</a> of file <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html">bacnet_ip_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd1/classCBacnetIpConfig_a9c6abbf1600e24b1dfdfc3e627182813_cgraph.png" border="0" usemap="#d8/dd1/classCBacnetIpConfig_a9c6abbf1600e24b1dfdfc3e627182813_cgraph" alt=""/></div>
<map name="d8/dd1/classCBacnetIpConfig_a9c6abbf1600e24b1dfdfc3e627182813_cgraph" id="d8/dd1/classCBacnetIpConfig_a9c6abbf1600e24b1dfdfc3e627182813_cgraph">
<area shape="rect" id="node2" href="../../d8/dd1/classCBacnetIpConfig.html#aa7893f1929e11c8dcee66ae55a8cb0e3" title="Callback function to process the channel value change notifications from the CDS. ..." alt="" coords="230,5,418,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a150e73c0d3d171fec9eb21317481a997"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/dd7/classCBacnetDeviceObject.html">CBacnetDeviceObject</a> * CBacnetIpConfig::get_bac_dev_obj_ptr </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>dev_idx</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a pointer to an instance of the <a class="el" href="../../d9/dd7/classCBacnetDeviceObject.html" title="The class that provides Device data, mapped from the CDS data to BACnet. ">CBacnetDeviceObject</a> class for the given device instance (key for our device map). </p>
<p>This method is provided for the convenience of the "C" interface to the bacnet-stack code.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev_idx</td><td>The device instance (index) of the desired <a class="el" href="../../d9/dd7/classCBacnetDeviceObject.html" title="The class that provides Device data, mapped from the CDS data to BACnet. ">CBacnetDeviceObject</a>. Will be 1 for the gateway / root device.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Pointer to the <a class="el" href="../../d9/dd7/classCBacnetDeviceObject.html" title="The class that provides Device data, mapped from the CDS data to BACnet. ">CBacnetDeviceObject</a> instance, if this instance exists. Otherwise, will return a null pointer. </dd></dl>

<p>Definition at line <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html#l00180">180</a> of file <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html">bacnet_ip_config.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a64cf055f3ab14b352e1580d05b479148"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CBacnetIpConfig::get_next_instance_number </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inst_num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given the starting instance number, get the "next" valid instance number in our _routed_device_map. </p>
<p>This is just a one-pass function - ie, won't loop back to the beginning again.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inst_num</td><td>The starting instance number. Can be &lt;= 1, meaning to start from the gateway, and return the first valid entry in _routed_device_map. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The instance number of the next valid instance number (for next valid entry in _routed_device_map). Will be -1 if there are no routed devices, if the inst_num is invalid, or if there are no routed devices after this one in the table. Will never return 1 (the GATEWAY_IDX). </dd></dl>

<p>Definition at line <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html#l00190">190</a> of file <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html">bacnet_ip_config.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2e5ff5950e17686aee64e792bd301da9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CBacnetIpConfig::is_valid_instance_number </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>inst_num</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>See if a given instance number indexes a valid entry in our _routed_device_map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inst_num</td><td>The instance number to check. Should be &gt; 1. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if this is the instance number of a valid entry in _routed_device_map. </dd></dl>

<p>Definition at line <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html#l00199">199</a> of file <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html">bacnet_ip_config.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="af5e72c6566456bf1afd8842b858fa775"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CBacnetIpConfig::lookup_instance_by_mac_address </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>mac_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given a requested BACnet MAC address, look in our _routed_device_map for a match. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mac_addr</td><td>The requested routed MAC address. </td></tr>
    <tr><td class="paramname">len</td><td>The length of the MAC address (we always expect 6 for BACnet/IP). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The instance number of the match, if found, or -1 if no match is found. </dd></dl>

<p>Definition at line <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html#l00208">208</a> of file <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html">bacnet_ip_config.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a86bac8ee42436a6096340e52e5401caf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CBacnetIpConfig::lookup_routed_instance_by_cds_device_id </td>
          <td>(</td>
          <td class="paramtype">px::id_t&#160;</td>
          <td class="paramname"><em>dev_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Find the instance in our map of routed devices for the given CDS Device ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev_id</td><td>The id of the device from the CDS notification </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The instance number of the entry, if found, or -1 if not found. </dd></dl>

<p>Definition at line <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html#l00216">216</a> of file <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html">bacnet_ip_config.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8f002db986cea83ee75976e45ab3ab0c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CBacnetIpConfig::is_supported_device_type </td>
          <td>(</td>
          <td class="paramtype">const px::CDevice &amp;&#160;</td>
          <td class="paramname"><em>px_device</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if this device is of a supported type for BACnet Devices. </p>
<p>Ie, publisher and device types are, but ports and subdevices are not. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">px_device</td><td>The device data from the CDS, including its device_type. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if can be mapped to a BACnet Device, else False if not </dd></dl>

<p>Definition at line <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html#l00225">225</a> of file <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html">bacnet_ip_config.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3f19b34749b0e339177269a9a59eff34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBacnetIpConfig::add_device_callback </td>
          <td>(</td>
          <td class="paramtype">const px::asio::CCdsDevice &amp;&#160;</td>
          <td class="paramname"><em>container</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Application callback for whenever CCdsHandler adds a device to its map. </p>
<p>This includes during the initial discovery. We will create the OOB settings for this device (unless they already exist) and create a new BACnet Device object and put that in an entry in our map of routed devices, unless it is disabled or not communicating. Function template: cds_device_callback_t add_device_callback </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container</td><td>A read-only reference to the container of CDS data for one Device. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html#l00104">104</a> of file <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html">bacnet_ip_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd1/classCBacnetIpConfig_a3f19b34749b0e339177269a9a59eff34_icgraph.png" border="0" usemap="#d8/dd1/classCBacnetIpConfig_a3f19b34749b0e339177269a9a59eff34_icgraph" alt=""/></div>
<map name="d8/dd1/classCBacnetIpConfig_a3f19b34749b0e339177269a9a59eff34_icgraph" id="d8/dd1/classCBacnetIpConfig_a3f19b34749b0e339177269a9a59eff34_icgraph">
<area shape="rect" id="node2" href="../../d8/dd1/classCBacnetIpConfig.html#a6a9cc0c72bb4d70f1be0a8553a6ac230" title="Creates the initial BACnet Devices for the gateway / root device and any of the known virtual devices..." alt="" coords="217,5,410,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a24a62cbdf1f405feedc9933ea463b9ef"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBacnetIpConfig::update_device_callback </td>
          <td>(</td>
          <td class="paramtype">const px::asio::CCdsDevice &amp;&#160;</td>
          <td class="paramname"><em>container</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Application callback for whenever CCdsHandler updates a device in its map, for a change in device_settings. </p>
<p>There is no need to update its OOB settings but we will update its BACnet device object. The BACnet Device object and its Points don't change either (until someone asks for the data). Function template: cds_device_callback_t update_device_callback </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container</td><td>A read-only reference to the container of CDS data for one Device. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html#l00120">120</a> of file <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html">bacnet_ip_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd1/classCBacnetIpConfig_a24a62cbdf1f405feedc9933ea463b9ef_icgraph.png" border="0" usemap="#d8/dd1/classCBacnetIpConfig_a24a62cbdf1f405feedc9933ea463b9ef_icgraph" alt=""/></div>
<map name="d8/dd1/classCBacnetIpConfig_a24a62cbdf1f405feedc9933ea463b9ef_icgraph" id="d8/dd1/classCBacnetIpConfig_a24a62cbdf1f405feedc9933ea463b9ef_icgraph">
<area shape="rect" id="node2" href="../../d8/dd1/classCBacnetIpConfig.html#a6a9cc0c72bb4d70f1be0a8553a6ac230" title="Creates the initial BACnet Devices for the gateway / root device and any of the known virtual devices..." alt="" coords="238,5,431,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab09b90c35caed54526a293905bb9b55f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBacnetIpConfig::delete_device_callback </td>
          <td>(</td>
          <td class="paramtype">px::id_t&#160;</td>
          <td class="paramname"><em>dev_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Application callback for whenever CCdsHandler removes a device from its map. </p>
<p>We will remove its OOB settings and remove its BACnet device object from our map of routed devices. Function template: device_delete_callback_t delete_device_callback </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dev_id</td><td>The Device ID for the device that has been deleted. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html#l00129">129</a> of file <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html">bacnet_ip_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd1/classCBacnetIpConfig_ab09b90c35caed54526a293905bb9b55f_icgraph.png" border="0" usemap="#d8/dd1/classCBacnetIpConfig_ab09b90c35caed54526a293905bb9b55f_icgraph" alt=""/></div>
<map name="d8/dd1/classCBacnetIpConfig_ab09b90c35caed54526a293905bb9b55f_icgraph" id="d8/dd1/classCBacnetIpConfig_ab09b90c35caed54526a293905bb9b55f_icgraph">
<area shape="rect" id="node2" href="../../d8/dd1/classCBacnetIpConfig.html#a6a9cc0c72bb4d70f1be0a8553a6ac230" title="Creates the initial BACnet Devices for the gateway / root device and any of the known virtual devices..." alt="" coords="233,5,426,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abc1a440cb9ddc7ba578e8a8abef7c7cf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBacnetIpConfig::device_state_callback </td>
          <td>(</td>
          <td class="paramtype">const px::asio::CCdsDevice &amp;&#160;</td>
          <td class="paramname"><em>container</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Application callback for whenever CCdsHandler updates the state data for a device in its map. </p>
<p>Mostly we just see if we need to update the settings and maybe add or remove this device from our map of routed BACnet devices. Function template: cds_device_callback_t device_state_callback </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container</td><td>A read-only reference to the container of CDS data for that Device. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html#l00138">138</a> of file <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html">bacnet_ip_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd1/classCBacnetIpConfig_abc1a440cb9ddc7ba578e8a8abef7c7cf_icgraph.png" border="0" usemap="#d8/dd1/classCBacnetIpConfig_abc1a440cb9ddc7ba578e8a8abef7c7cf_icgraph" alt=""/></div>
<map name="d8/dd1/classCBacnetIpConfig_abc1a440cb9ddc7ba578e8a8abef7c7cf_icgraph" id="d8/dd1/classCBacnetIpConfig_abc1a440cb9ddc7ba578e8a8abef7c7cf_icgraph">
<area shape="rect" id="node2" href="../../d8/dd1/classCBacnetIpConfig.html#a6a9cc0c72bb4d70f1be0a8553a6ac230" title="Creates the initial BACnet Devices for the gateway / root device and any of the known virtual devices..." alt="" coords="235,5,429,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adc0bb8122073eac6d773435b308241e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBacnetIpConfig::channel_settings_callback </td>
          <td>(</td>
          <td class="paramtype">const px::asio::CCdsDevice &amp;&#160;</td>
          <td class="paramname"><em>container</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; px::CChannelSettings &gt; &amp;&#160;</td>
          <td class="paramname"><em>settings</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Application callback invoked by CdsHandler when it gets the ChannelSettings for a device. </p>
<p>The CdsHandler doesn't store the ChannelSettings, so we just transform them into BACnet objects under the given Device. This only needs to be called once, but it is possible that it will be called more than once for (possibly unrelated) device changes. Function template: cds_ch_settings_callback_t&amp; channel_settings_callback </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">container</td><td>A read-only reference to the container of CDS data for that Device. </td></tr>
    <tr><td class="paramname">settings</td><td>The array of ChannelSettings from the CDS; should be a complete set for this Device. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html#l00154">154</a> of file <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html">bacnet_ip_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd1/classCBacnetIpConfig_adc0bb8122073eac6d773435b308241e6_icgraph.png" border="0" usemap="#d8/dd1/classCBacnetIpConfig_adc0bb8122073eac6d773435b308241e6_icgraph" alt=""/></div>
<map name="d8/dd1/classCBacnetIpConfig_adc0bb8122073eac6d773435b308241e6_icgraph" id="d8/dd1/classCBacnetIpConfig_adc0bb8122073eac6d773435b308241e6_icgraph">
<area shape="rect" id="node2" href="../../d8/dd1/classCBacnetIpConfig.html#a6a9cc0c72bb4d70f1be0a8553a6ac230" title="Creates the initial BACnet Devices for the gateway / root device and any of the known virtual devices..." alt="" coords="243,5,437,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa7893f1929e11c8dcee66ae55a8cb0e3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBacnetIpConfig::channel_values_callback </td>
          <td>(</td>
          <td class="paramtype">const std::map&lt; px::id_t, px::CValue &gt; &amp;&#160;</td>
          <td class="paramname"><em>ch_map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::CWallTime &amp;&#160;</td>
          <td class="paramname"><em>update_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback function to process the channel value change notifications from the CDS. </p>
<p>This function will call the similar functions in the COV handler and shared mapping library. Conforms to the template for cds_ch_values_callback_t in the CdsHandler.</p>
<p>Note that this callback actually operates within the CDS Client background thread, and holds up any subsequent notifications from the CDS, so it should call the interested services and return as quickly as possible.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ch_map</td><td>The map of changed values, keyed by channel ID. </td></tr>
    <tr><td class="paramname">update_time</td><td>The timestamp of these updated values. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html#l00164">164</a> of file <a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html">bacnet_ip_config.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dd1/classCBacnetIpConfig_aa7893f1929e11c8dcee66ae55a8cb0e3_icgraph.png" border="0" usemap="#d8/dd1/classCBacnetIpConfig_aa7893f1929e11c8dcee66ae55a8cb0e3_icgraph" alt=""/></div>
<map name="d8/dd1/classCBacnetIpConfig_aa7893f1929e11c8dcee66ae55a8cb0e3_icgraph" id="d8/dd1/classCBacnetIpConfig_aa7893f1929e11c8dcee66ae55a8cb0e3_icgraph">
<area shape="rect" id="node2" href="../../d8/dd1/classCBacnetIpConfig.html#a9c6abbf1600e24b1dfdfc3e627182813" title="Function invoked just before entering the run state. " alt="" coords="243,5,418,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1ac81add7de41be79f84d8bb6bcaf476"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; CBacnetIpDeviceMap &gt; CBacnetIpConfig::get_bip_routed_device_map </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter for the CBacnetIpDeviceMap shared_ptr. </p>
<dl class="section return"><dt>Returns</dt><dd>_bip_routed_device_map shared_ptr </dd></dl>

<p>Definition at line <a class="el" href="../../d4/d55/bacnet__ip__config_8hpp_source.html#l00211">211</a> of file <a class="el" href="../../d4/d55/bacnet__ip__config_8hpp_source.html">bacnet_ip_config.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a6e8629d9b879119d4c2e3ef0a503c3ea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;CBacnetIpDeviceMap&gt; CBacnetIpConfig::_bip_routed_device_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer to the BACnet device map object. </p>

<p>Definition at line <a class="el" href="../../d4/d55/bacnet__ip__config_8hpp_source.html#l00202">202</a> of file <a class="el" href="../../d4/d55/bacnet__ip__config_8hpp_source.html">bacnet_ip_config.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad4afb98a3ae03c3097249b465671a8a3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="../../d7/d39/classCBacnetIpCore.html">CBacnetIpCore</a>&gt; CBacnetIpConfig::_bip_core</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer back to the core class that created us. </p>
<p>Gives us CDS and OOB data access. </p>

<p>Definition at line <a class="el" href="../../d4/d55/bacnet__ip__config_8hpp_source.html#l00207">207</a> of file <a class="el" href="../../d4/d55/bacnet__ip__config_8hpp_source.html">bacnet_ip_config.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/src/product-ref1/px-toolkit/etn_source/bacnet_ip/include/bacnet/config/<a class="el" href="../../d4/d55/bacnet__ip__config_8hpp_source.html">bacnet_ip_config.hpp</a></li>
<li>/src/product-ref1/px-toolkit/etn_source/bacnet_ip/source/bacnet/config/<a class="el" href="../../d4/da1/bacnet__ip__config_8cpp_source.html">bacnet_ip_config.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d8/dd1/classCBacnetIpConfig.html">CBacnetIpConfig</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:25:57 for bacnet_ip by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
