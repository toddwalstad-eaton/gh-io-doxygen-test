<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>bacnet_ip: CBacnetIpHandler Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">bacnet_ip
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d0/d58/classCBacnetIpHandler.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../de/dd3/classCBacnetIpHandler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CBacnetIpHandler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>This class provides the interface between the ASIO-based I/O and the bacnet-stack's datalink (ie, BACnet/IP) handlers.  
 <a href="../../d0/d58/classCBacnetIpHandler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d6/da2/bacnet__ip__handler_8hpp_source.html">bacnet_ip_handler.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CBacnetIpHandler:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d83/classCBacnetIpHandler__inherit__graph.png" border="0" usemap="#CBacnetIpHandler_inherit__map" alt="Inheritance graph"/></div>
<map name="CBacnetIpHandler_inherit__map" id="CBacnetIpHandler_inherit__map">
<area shape="rect" id="node2" href="../../d1/d20/classpx_1_1asio_1_1CProtocolHandler.html" title="{px::asio::CProtocolHandler\n||}" alt="" coords="5,5,200,83"/><area shape="rect" id="node3" href="../../db/d01/classpx_1_1asio_1_1CTimedObject.html" title="{CTimedObject\n||}" alt="" coords="224,5,339,83"/></map>
</div>
<div class="dynheader">
Collaboration diagram for CBacnetIpHandler:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2d/classCBacnetIpHandler__coll__graph.png" border="0" usemap="#CBacnetIpHandler_coll__map" alt="Collaboration graph"/></div>
<map name="CBacnetIpHandler_coll__map" id="CBacnetIpHandler_coll__map">
<area shape="rect" id="node2" href="../../d1/d20/classpx_1_1asio_1_1CProtocolHandler.html" title="{px::asio::CProtocolHandler\n||}" alt="" coords="5,5,200,83"/><area shape="rect" id="node3" href="../../db/d01/classpx_1_1asio_1_1CTimedObject.html" title="{CTimedObject\n||}" alt="" coords="224,5,339,83"/></map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a36448d55320c678fe44ae18a521b3ff2"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a36448d55320c678fe44ae18a521b3ff2">CBacnetIpHandler</a> (std::shared_ptr&lt; <a class="el" href="../../d7/d39/classCBacnetIpCore.html">CBacnetIpCore</a> &gt; bip_core, px::asio::CIoTransactor *transactor=nullptr, int dnet=0)</td></tr>
<tr class="memdesc:a36448d55320c678fe44ae18a521b3ff2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a36448d55320c678fe44ae18a521b3ff2">More...</a><br/></td></tr>
<tr class="separator:a36448d55320c678fe44ae18a521b3ff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6234256b6922e75bab732b3054d2b3ba"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a6234256b6922e75bab732b3054d2b3ba">~CBacnetIpHandler</a> ()</td></tr>
<tr class="memdesc:a6234256b6922e75bab732b3054d2b3ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor.  <a href="#a6234256b6922e75bab732b3054d2b3ba">More...</a><br/></td></tr>
<tr class="separator:a6234256b6922e75bab732b3054d2b3ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64101e782a5defbbb73b68e0758400db"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a64101e782a5defbbb73b68e0758400db">init_bacnet_services</a> ()</td></tr>
<tr class="memdesc:a64101e782a5defbbb73b68e0758400db"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the service configuration for the bacnet-stack functions.  <a href="#a64101e782a5defbbb73b68e0758400db">More...</a><br/></td></tr>
<tr class="separator:a64101e782a5defbbb73b68e0758400db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3cb87876ca287d08c57e23fe07c4e57"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#ab3cb87876ca287d08c57e23fe07c4e57">set_routed_network</a> (int dnet)</td></tr>
<tr class="memdesc:ab3cb87876ca287d08c57e23fe07c4e57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter for the first entry in our _DNET_list.  <a href="#ab3cb87876ca287d08c57e23fe07c4e57">More...</a><br/></td></tr>
<tr class="separator:ab3cb87876ca287d08c57e23fe07c4e57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a097e74048a899230e73678aeff18064c"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a097e74048a899230e73678aeff18064c">parse</a> ()</td></tr>
<tr class="memdesc:a097e74048a899230e73678aeff18064c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to parse the buffer, when the CIoTransactor calls us.  <a href="#a097e74048a899230e73678aeff18064c">More...</a><br/></td></tr>
<tr class="separator:a097e74048a899230e73678aeff18064c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3acaa7dd3625f151d768ac06a71f147"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#ab3acaa7dd3625f151d768ac06a71f147">send_i_ams</a> ()</td></tr>
<tr class="memdesc:ab3acaa7dd3625f151d768ac06a71f147"><td class="mdescLeft">&#160;</td><td class="mdescRight">Broadcast BACnet/IP I-Ams for all devices and I-Am-Router-to-Network.  <a href="#ab3acaa7dd3625f151d768ac06a71f147">More...</a><br/></td></tr>
<tr class="separator:ab3acaa7dd3625f151d768ac06a71f147"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3e78e03872552a6879abda37140335c7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a3e78e03872552a6879abda37140335c7">err_response</a> (BACNET_ERROR_CLASS error_class, BACNET_ERROR_CODE error_code)</td></tr>
<tr class="memdesc:a3e78e03872552a6879abda37140335c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a BACnet/IP error response (or none).  <a href="#a3e78e03872552a6879abda37140335c7">More...</a><br/></td></tr>
<tr class="separator:a3e78e03872552a6879abda37140335c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac25e8ea63490cc6cafdfc99113c6df90"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#ac25e8ea63490cc6cafdfc99113c6df90">bvlc_for_non_bbmd</a> (BACNET_ADDRESS *src_addr, uint8_t *npdu, uint16_t received_bytes)</td></tr>
<tr class="memdesc:ac25e8ea63490cc6cafdfc99113c6df90"><td class="mdescLeft">&#160;</td><td class="mdescRight">Note any BVLC_RESULT code, or NAK the BVLL message in the unsupported cases.  <a href="#ac25e8ea63490cc6cafdfc99113c6df90">More...</a><br/></td></tr>
<tr class="separator:ac25e8ea63490cc6cafdfc99113c6df90"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2949d8cf1b78dff83c10cc708ae55c1a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a2949d8cf1b78dff83c10cc708ae55c1a">register_as_foreign_device</a> ()</td></tr>
<tr class="memdesc:a2949d8cf1b78dff83c10cc708ae55c1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register as a Foreign Device with the designated BBMD.  <a href="#a2949d8cf1b78dff83c10cc708ae55c1a">More...</a><br/></td></tr>
<tr class="separator:a2949d8cf1b78dff83c10cc708ae55c1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a656388fdc68188b1e657f10877a10f9e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a656388fdc68188b1e657f10877a10f9e">send_bip_buf</a> (BACNET_ADDRESS *dest, uint8_t *mtu, uint16_t mtu_len)</td></tr>
<tr class="memdesc:a656388fdc68188b1e657f10877a10f9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a buffer as a unicast BACnet/IP packet to the given destination address.  <a href="#a656388fdc68188b1e657f10877a10f9e">More...</a><br/></td></tr>
<tr class="separator:a656388fdc68188b1e657f10877a10f9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9de2a4857ee9c38956a9526e506c7a15"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a9de2a4857ee9c38956a9526e506c7a15">broadcast_bip_buf</a> (uint8_t *mtu, uint16_t mtu_len)</td></tr>
<tr class="memdesc:a9de2a4857ee9c38956a9526e506c7a15"><td class="mdescLeft">&#160;</td><td class="mdescRight">Broadcast a BACnet/IP packet.  <a href="#a9de2a4857ee9c38956a9526e506c7a15">More...</a><br/></td></tr>
<tr class="separator:a9de2a4857ee9c38956a9526e506c7a15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54fa5f3a188b958a1f50eb861bda7e01"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a54fa5f3a188b958a1f50eb861bda7e01">bvlc_send_to_bbmd</a> (uint8_t *mtu, uint16_t mtu_len)</td></tr>
<tr class="memdesc:a54fa5f3a188b958a1f50eb861bda7e01"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a BVLC message (BVLC header + PDU data) to the BBMD.  <a href="#a54fa5f3a188b958a1f50eb861bda7e01">More...</a><br/></td></tr>
<tr class="separator:a54fa5f3a188b958a1f50eb861bda7e01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88d9352fc35880e6f0f22eac0c64c3be"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a88d9352fc35880e6f0f22eac0c64c3be">send_buf_to_dest</a> (BACNET_ADDRESS *dest, std::shared_ptr&lt; px::asio::io_buf_t &gt; wbuf, uint16_t mtu_len)</td></tr>
<tr class="memdesc:a88d9352fc35880e6f0f22eac0c64c3be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a buffer as a unicast BACnet/IP packet specifically to the given destination address.  <a href="#a88d9352fc35880e6f0f22eac0c64c3be">More...</a><br/></td></tr>
<tr class="separator:a88d9352fc35880e6f0f22eac0c64c3be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a151ba4bf21f21396507001987bb82bff"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a151ba4bf21f21396507001987bb82bff">bvlc_send_mpdu</a> (BACNET_ADDRESS *dest_addr, uint8_t *pdu, uint16_t pdu_len)</td></tr>
<tr class="memdesc:a151ba4bf21f21396507001987bb82bff"><td class="mdescLeft">&#160;</td><td class="mdescRight">The common send function for BVLC functions, using BACnet/IP.  <a href="#a151ba4bf21f21396507001987bb82bff">More...</a><br/></td></tr>
<tr class="separator:a151ba4bf21f21396507001987bb82bff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13f111a1541709fc81e3715b2a3f5182"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a13f111a1541709fc81e3715b2a3f5182">bvlc_send_no_response</a> ()</td></tr>
<tr class="memdesc:a13f111a1541709fc81e3715b2a3f5182"><td class="mdescLeft">&#160;</td><td class="mdescRight">Call this to reset our UDP Listener to go back to listening, because no actual response needs to be sent.  <a href="#a13f111a1541709fc81e3715b2a3f5182">More...</a><br/></td></tr>
<tr class="separator:a13f111a1541709fc81e3715b2a3f5182"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb50922df3bdb69329cb32940422d62a"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="../../d1/d20/classpx_1_1asio_1_1CProtocolHandler.html">px::asio::CProtocolHandler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#afb50922df3bdb69329cb32940422d62a">clone</a> (px::asio::CIoTransactor *transactor) const </td></tr>
<tr class="memdesc:afb50922df3bdb69329cb32940422d62a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clone this protocol object.  <a href="#afb50922df3bdb69329cb32940422d62a">More...</a><br/></td></tr>
<tr class="separator:afb50922df3bdb69329cb32940422d62a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc4891ef548a4873a119ef6d6af3042a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#acc4891ef548a4873a119ef6d6af3042a">update_transactor</a> (px::asio::CIoTransactor *transactor)</td></tr>
<tr class="memdesc:acc4891ef548a4873a119ef6d6af3042a"><td class="mdescLeft">&#160;</td><td class="mdescRight">A setter that lets us update this CProtocolHandler member before first use.  <a href="#acc4891ef548a4873a119ef6d6af3042a">More...</a><br/></td></tr>
<tr class="separator:acc4891ef548a4873a119ef6d6af3042a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6dbbc55b1299b790a1f8ccda387984c2"><td class="memItemLeft" align="right" valign="top">virtual px::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a6dbbc55b1299b790a1f8ccda387984c2">protocol</a> () const </td></tr>
<tr class="memdesc:a6dbbc55b1299b790a1f8ccda387984c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">String to identify the protocol for debugging purposes.  <a href="#a6dbbc55b1299b790a1f8ccda387984c2">More...</a><br/></td></tr>
<tr class="separator:a6dbbc55b1299b790a1f8ccda387984c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53e2c366c270e6c1f0519df01c07a001"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a53e2c366c270e6c1f0519df01c07a001">close</a> ()</td></tr>
<tr class="memdesc:a53e2c366c270e6c1f0519df01c07a001"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close out this BACnet/IP connection.  <a href="#a53e2c366c270e6c1f0519df01c07a001">More...</a><br/></td></tr>
<tr class="separator:a53e2c366c270e6c1f0519df01c07a001"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9723b04e016a004ef131f780c2993aa7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a9723b04e016a004ef131f780c2993aa7">set_force_unicast_flag</a> (bool state)</td></tr>
<tr class="memdesc:a9723b04e016a004ef131f780c2993aa7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple setter for the _force_unicast_response flag.  <a href="#a9723b04e016a004ef131f780c2993aa7">More...</a><br/></td></tr>
<tr class="separator:a9723b04e016a004ef131f780c2993aa7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:afc30ae89a35ec6bf6e1256eabfc7f1cf"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#afc30ae89a35ec6bf6e1256eabfc7f1cf">encode_string_array</a> (BACNET_READ_PROPERTY_DATA *rpdata, int maxApdu, const std::vector&lt; px::string &gt; &amp;texts)</td></tr>
<tr class="memdesc:afc30ae89a35ec6bf6e1256eabfc7f1cf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Static function to encode the string(s) requested by the array_index in ReadProperty.  <a href="#afc30ae89a35ec6bf6e1256eabfc7f1cf">More...</a><br/></td></tr>
<tr class="separator:afc30ae89a35ec6bf6e1256eabfc7f1cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:abf1a4d3ef93d8399181ee311b9f2393c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#abf1a4d3ef93d8399181ee311b9f2393c">send_i_am_router</a> ()</td></tr>
<tr class="memdesc:abf1a4d3ef93d8399181ee311b9f2393c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Broadcast BACnet/IP I-Am-Router-to-Network.  <a href="#abf1a4d3ef93d8399181ee311b9f2393c">More...</a><br/></td></tr>
<tr class="separator:abf1a4d3ef93d8399181ee311b9f2393c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b838b79d6d3eab2ab332e7e91cee129"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a2b838b79d6d3eab2ab332e7e91cee129">bvlc_send_result</a> (BACNET_ADDRESS *dest_addr, BACNET_BVLC_RESULT result_code)</td></tr>
<tr class="memdesc:a2b838b79d6d3eab2ab332e7e91cee129"><td class="mdescLeft">&#160;</td><td class="mdescRight">Utility function to just encode and send a BVLC result code.  <a href="#a2b838b79d6d3eab2ab332e7e91cee129">More...</a><br/></td></tr>
<tr class="separator:a2b838b79d6d3eab2ab332e7e91cee129"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21f0eab1241ddb158f52ee0ab65e4303"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a21f0eab1241ddb158f52ee0ab65e4303">timeout</a> (const px::asio::CIoTimer &amp;timer)</td></tr>
<tr class="memdesc:a21f0eab1241ddb158f52ee0ab65e4303"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timeout callback invoked when the ASIO timer for BBMD registration expires.  <a href="#a21f0eab1241ddb158f52ee0ab65e4303">More...</a><br/></td></tr>
<tr class="separator:a21f0eab1241ddb158f52ee0ab65e4303"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a86150f0c53f9b4865f44d5bbe0834496"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../d7/d39/classCBacnetIpCore.html">CBacnetIpCore</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a86150f0c53f9b4865f44d5bbe0834496">_bip_core</a></td></tr>
<tr class="memdesc:a86150f0c53f9b4865f44d5bbe0834496"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer back to the core class that created us.  <a href="#a86150f0c53f9b4865f44d5bbe0834496">More...</a><br/></td></tr>
<tr class="separator:a86150f0c53f9b4865f44d5bbe0834496"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21a50cfcbd9dc839551e3993867c6a45"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a21a50cfcbd9dc839551e3993867c6a45">_DNET_list</a> [2]</td></tr>
<tr class="memdesc:a21a50cfcbd9dc839551e3993867c6a45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Our list-of-one routed network(s); must end with -1 Will fill in the first entry from our OOB data.  <a href="#a21a50cfcbd9dc839551e3993867c6a45">More...</a><br/></td></tr>
<tr class="separator:a21a50cfcbd9dc839551e3993867c6a45"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee6f13e95400e158c33bc06effe53972"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#aee6f13e95400e158c33bc06effe53972">_sending_response</a></td></tr>
<tr class="memdesc:aee6f13e95400e158c33bc06effe53972"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal flag which the <a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a097e74048a899230e73678aeff18064c" title="Try to parse the buffer, when the CIoTransactor calls us. ">parse()</a> method uses to detect cases where the bacnet-stack has just silently dropped a request with no response.  <a href="#aee6f13e95400e158c33bc06effe53972">More...</a><br/></td></tr>
<tr class="separator:aee6f13e95400e158c33bc06effe53972"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a175ddefa9f19c25ed770657b148fb252"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a175ddefa9f19c25ed770657b148fb252">_force_unicast_response</a></td></tr>
<tr class="memdesc:a175ddefa9f19c25ed770657b148fb252"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal flag set by the service handler to force the response to be unicast, where it would normally be broadcast, eg, for Who-Has requests.  <a href="#a175ddefa9f19c25ed770657b148fb252">More...</a><br/></td></tr>
<tr class="separator:a175ddefa9f19c25ed770657b148fb252"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>This class provides the interface between the ASIO-based I/O and the bacnet-stack's datalink (ie, BACnet/IP) handlers. </p>
<p>The bacnet-stack normally expects the following datalink functions (with a "C" interface) to be implemented; this table shows the datalink generic name, the normal B/IP mapping, and lastly our mapping here:</p>
<table class="doxtable">
<tr>
<th>Datalink name </th><th>bip.c or gw_device.c </th><th>What we use instead  </th></tr>
<tr>
<td>datalink_init </td><td>bip_init </td><td><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a64101e782a5defbbb73b68e0758400db" title="Initialize the service configuration for the bacnet-stack functions. ">CBacnetIpHandler::init_bacnet_services()</a> </td></tr>
<tr>
<td>datalink_send_pdu </td><td>bip_send_pdu </td><td>bvlc_send_pdu (in <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp.html" title="Implementation of class that provides the interface between the ASIO-based I/O and the bacnet-stack&#39;s...">bacnet_ip_handler.cpp</a>) </td></tr>
<tr>
<td>datalink_receive </td><td>bip_receive </td><td><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a097e74048a899230e73678aeff18064c" title="Try to parse the buffer, when the CIoTransactor calls us. ">CBacnetIpHandler::parse()</a> </td></tr>
<tr>
<td>datalink_cleanup </td><td>bip_cleanup </td><td><a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a53e2c366c270e6c1f0519df01c07a001" title="Close out this BACnet/IP connection. ">CBacnetIpHandler::close()</a> </td></tr>
</table>
<p>datalink_get_broadcast_address | bip_get_broadcast_address | datalink_get_my_address | routed_get_my_address | routed_get_my_address or bip_get_my_address</p>
<p>Also includes CTimedObject functionality for BBMD registration management. </p>

<p>Definition at line <a class="el" href="../../d6/da2/bacnet__ip__handler_8hpp_source.html#l00099">99</a> of file <a class="el" href="../../d6/da2/bacnet__ip__handler_8hpp_source.html">bacnet_ip_handler.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a36448d55320c678fe44ae18a521b3ff2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CBacnetIpHandler::CBacnetIpHandler </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../d7/d39/classCBacnetIpCore.html">CBacnetIpCore</a> &gt;&#160;</td>
          <td class="paramname"><em>bip_core</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">px::asio::CIoTransactor *&#160;</td>
          <td class="paramname"><em>transactor</em> = <code>nullptr</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dnet</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">bip_core</td><td>The main loop handler for this process. </td></tr>
    <tr><td class="paramname">transactor</td><td>The messenger-type Actor which owns this protocol handler Usually null when this class is first instantiated, since this class is needed as input to the transactor. Later the clone function will get a valid transactor for us, which will be px::asio::CUdpListener for bacnet_ip. </td></tr>
    <tr><td class="paramname">dnet</td><td>Our Routed Network Number (if known). May not be valid initially, but should be valid before cloning (which happens just once in bacnet_ip, when CUdpListener is constructed). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html#l00077">77</a> of file <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_a36448d55320c678fe44ae18a521b3ff2_icgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_a36448d55320c678fe44ae18a521b3ff2_icgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_a36448d55320c678fe44ae18a521b3ff2_icgraph" id="d0/d58/classCBacnetIpHandler_a36448d55320c678fe44ae18a521b3ff2_icgraph">
<area shape="rect" id="node2" href="../../d0/d58/classCBacnetIpHandler.html#afb50922df3bdb69329cb32940422d62a" title="Clone this protocol object. " alt="" coords="257,12,439,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6234256b6922e75bab732b3054d2b3ba"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CBacnetIpHandler::~CBacnetIpHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default destructor. </p>

<p>Definition at line <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html#l00085">85</a> of file <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a64101e782a5defbbb73b68e0758400db"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBacnetIpHandler::init_bacnet_services </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the service configuration for the bacnet-stack functions. </p>
<p>Places the handlers for the services we support in the APDU's table of handlers.</p>
<p>Takes the place of Init_Service_Handlers() and dlenv_init().</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">udp_listener</td><td>Passes in the shared pointer to our CIoTransactor class, which will be needed to get UDP packet data and information. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html#l00091">91</a> of file <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_a64101e782a5defbbb73b68e0758400db_cgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_a64101e782a5defbbb73b68e0758400db_cgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_a64101e782a5defbbb73b68e0758400db_cgraph" id="d0/d58/classCBacnetIpHandler_a64101e782a5defbbb73b68e0758400db_cgraph">
<area shape="rect" id="node2" href="../../d3/d9d/group__bip__routing__interface.html#ga0943ce1497b79465603718616369a454" title="Handler for Who&#45;Is requests in the virtual routing setup, with a single unicast I&#45;Am response returne..." alt="" coords="243,41,397,82"/><area shape="rect" id="node6" href="../../d7/d94/group__bip__interface.html#ga0baed8575113fdd10924e4604cdf5ed3" title="Our (pre&#45;) handler for Who&#45;Has requests. " alt="" coords="231,107,409,133"/><area shape="rect" id="node7" href="../../d0/d58/classCBacnetIpHandler.html#a2949d8cf1b78dff83c10cc708ae55c1a" title="Register as a Foreign Device with the designated BBMD. " alt="" coords="221,158,419,199"/><area shape="rect" id="node3" href="../../da/d44/group__bac__obj__interface.html#ga4c8fe6ec6412b93c87a96717d631d803" title="Return the Object Instance number for our (single) Device Object. " alt="" coords="467,41,645,82"/><area shape="rect" id="node4" href="../../d3/d9d/group__bip__routing__interface.html#gaca13e00f88c28db7220d0b523397a87f" title="Get a pointer to the current Device object (look up from the current global setting for instance numb..." alt="" coords="715,5,861,46"/><area shape="rect" id="node5" href="../../dd/d0a/classCBacnetObject.html#adc2fd19e7650da6303eabae07cdfc7a4" title="Getter for this object&#39;s Object_Instance (the ID part of ObjectID). " alt="" coords="693,70,883,111"/><area shape="rect" id="node8" href="../../d7/d94/group__bip__interface.html#ga98ec5b34574c0c432dea2b5d3f5c08f4" title="J.2.6 Register&#45;Foreign&#45;Device: encode. " alt="" coords="476,131,636,173"/><area shape="rect" id="node10" href="../../d0/d58/classCBacnetIpHandler.html#a54fa5f3a188b958a1f50eb861bda7e01" title="Send a BVLC message (BVLC header + PDU data) to the BBMD. " alt="" coords="469,197,643,238"/><area shape="rect" id="node9" href="../../d7/d94/group__bip__interface.html#ga8be3a0662a9073ed60d6e8cacde64a08" title="Encode the BVLC header. " alt="" coords="711,139,865,165"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab3cb87876ca287d08c57e23fe07c4e57"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBacnetIpHandler::set_routed_network </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>dnet</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Setter for the first entry in our _DNET_list. </p>
<dl class="section note"><dt>Note</dt><dd>This function is of questionable utility, since the CUdpListener has its own cloned copy of this handler that we cannot access or change the routed network number for.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dnet</td><td>The number of the routed network, from OOB data. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d6/da2/bacnet__ip__handler_8hpp_source.html#l00379">379</a> of file <a class="el" href="../../d6/da2/bacnet__ip__handler_8hpp_source.html">bacnet_ip_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a097e74048a899230e73678aeff18064c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CBacnetIpHandler::parse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to parse the buffer, when the CIoTransactor calls us. </p>
<p>Here, we will recreate the code from bip_receive(), starting from the point where select() returns with data from a socket. We have to reach back into our Protocol Handler for information about the source and destination of the network packet.</p>
<p>This call parses the input buffer, assigning internal parameters to match the parsed request wherever possible. If parsing is successful, these internal parameters are used to service the request. No further calls are necessary; the protocol handler will take whatever action is required (generating an error, a valid response, etc.) based on the parsing results, and will invoke callbacks on the messenger to drive it to the next state.</p>
<dl class="section return"><dt>Returns</dt><dd>True if parsing is complete (whether it was successful or an error occurred); false if more data is needed before parsing can proceed. </dd></dl>

<p>Definition at line <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html#l00147">147</a> of file <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_a097e74048a899230e73678aeff18064c_cgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_a097e74048a899230e73678aeff18064c_cgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_a097e74048a899230e73678aeff18064c_cgraph" id="d0/d58/classCBacnetIpHandler_a097e74048a899230e73678aeff18064c_cgraph">
<area shape="rect" id="node2" href="../../d0/d58/classCBacnetIpHandler.html#ac25e8ea63490cc6cafdfc99113c6df90" title="Note any BVLC_RESULT code, or NAK the BVLL message in the unsupported cases. " alt="" coords="238,70,413,111"/><area shape="rect" id="node7" href="../../d7/d94/group__bip__interface.html#ga51d8943ac2b970c0e048a4023869f643" title="Returns the current BVLL Function Code we are processing. " alt="" coords="914,251,1089,277"/><area shape="rect" id="node9" href="../../d0/dea/group__bip__settings__interface.html#ga36ee8e5dd743fa31ec652ac4aee2b060" title="Get the BACnet/IP address. " alt="" coords="272,187,379,213"/><area shape="rect" id="node10" href="../../d0/dea/group__bip__settings__interface.html#gae801592c0f10b8570f86532bc830c723" title="Get the BACnet IPv4 UDP port number. " alt="" coords="274,237,377,264"/><area shape="rect" id="node4" href="../../dc/d96/bacnet__ip__handler_8cpp.html#a41bdbc3b2c98dbf2bd146f714031b5d8" title="bactext_bvlc_function" alt="" coords="467,136,632,163"/><area shape="rect" id="node3" href="../../d0/d58/classCBacnetIpHandler.html#a13f111a1541709fc81e3715b2a3f5182" title="Call this to reset our UDP Listener to go back to listening, because no actual response needs to be s..." alt="" coords="462,5,637,46"/><area shape="rect" id="node5" href="../../d0/d58/classCBacnetIpHandler.html#a2b838b79d6d3eab2ab332e7e91cee129" title="Utility function to just encode and send a BVLC result code. " alt="" coords="462,70,637,111"/><area shape="rect" id="node6" href="../../d0/d58/classCBacnetIpHandler.html#a656388fdc68188b1e657f10877a10f9e" title="Send a buffer as a unicast BACnet/IP packet to the given destination address. " alt="" coords="685,109,864,150"/><area shape="rect" id="node8" href="../../d0/d58/classCBacnetIpHandler.html#a88d9352fc35880e6f0f22eac0c64c3be" title="Send a buffer as a unicast BACnet/IP packet specifically to the given destination address..." alt="" coords="912,109,1091,150"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab3acaa7dd3625f151d768ac06a71f147"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBacnetIpHandler::send_i_ams </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Broadcast BACnet/IP I-Ams for all devices and I-Am-Router-to-Network. </p>

<p>Definition at line <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html#l00403">403</a> of file <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_ab3acaa7dd3625f151d768ac06a71f147_cgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_ab3acaa7dd3625f151d768ac06a71f147_cgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_ab3acaa7dd3625f151d768ac06a71f147_cgraph" id="d0/d58/classCBacnetIpHandler_ab3acaa7dd3625f151d768ac06a71f147_cgraph">
<area shape="rect" id="node2" href="../../d9/dd7/classCBacnetDeviceObject.html#a8fe2aa76c324462ea6ebc0b223957914" title="Broadcasts an I&#45;Am for this object. " alt="" coords="240,5,403,46"/><area shape="rect" id="node4" href="../../d0/d58/classCBacnetIpHandler.html#abf1a4d3ef93d8399181ee311b9f2393c" title="Broadcast BACnet/IP I&#45;Am&#45;Router&#45;to&#45;Network. " alt="" coords="232,70,411,111"/><area shape="rect" id="node3" href="../../d3/d9d/group__bip__routing__interface.html#gab192b293040106b05da1e36aeb6d4a7b" title="Set the global Current Device instance number (Device Map key) and corresponding Device BACnet Addres..." alt="" coords="459,12,631,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3e78e03872552a6879abda37140335c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBacnetIpHandler::err_response </td>
          <td>(</td>
          <td class="paramtype">BACNET_ERROR_CLASS&#160;</td>
          <td class="paramname"><em>error_class</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BACNET_ERROR_CODE&#160;</td>
          <td class="paramname"><em>error_code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a BACnet/IP error response (or none). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error_class</td><td>The class of error </td></tr>
    <tr><td class="paramname">error_code</td><td>The error code, within the class, to be sent with this response </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html#l00388">388</a> of file <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_a3e78e03872552a6879abda37140335c7_cgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_a3e78e03872552a6879abda37140335c7_cgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_a3e78e03872552a6879abda37140335c7_cgraph" id="d0/d58/classCBacnetIpHandler_a3e78e03872552a6879abda37140335c7_cgraph">
<area shape="rect" id="node2" href="../../d0/d58/classCBacnetIpHandler.html#a13f111a1541709fc81e3715b2a3f5182" title="Call this to reset our UDP Listener to go back to listening, because no actual response needs to be s..." alt="" coords="219,5,394,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac25e8ea63490cc6cafdfc99113c6df90"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CBacnetIpHandler::bvlc_for_non_bbmd </td>
          <td>(</td>
          <td class="paramtype">BACNET_ADDRESS *&#160;</td>
          <td class="paramname"><em>src_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>npdu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>received_bytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Note any BVLC_RESULT code, or NAK the BVLL message in the unsupported cases. </p>
<p>Use this handler when you are not a BBMD. Sets the BVLC_Function_Code in case it is needed later.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">src_addr</td><td>Source BACnet address, use to send any NAK back to. </td></tr>
    <tr><td class="paramname">npdu</td><td>The received buffer. </td></tr>
    <tr><td class="paramname">received_bytes</td><td>How many bytes in npdu[]. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Non-zero BVLC_RESULT_ code if we sent a response (NAK) to this BVLC message. If zero, may need further processing. Also, as a special case, a dummy return value of 1 means that we received and are dropping an ACK message. A return value of 0 means that the message was not a BVLC ACK or NACK and so needs further processing / parsing of the contents. </dd></dl>

<p>Definition at line <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html#l00561">561</a> of file <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_ac25e8ea63490cc6cafdfc99113c6df90_cgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_ac25e8ea63490cc6cafdfc99113c6df90_cgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_ac25e8ea63490cc6cafdfc99113c6df90_cgraph" id="d0/d58/classCBacnetIpHandler_ac25e8ea63490cc6cafdfc99113c6df90_cgraph">
<area shape="rect" id="node2" href="../../d0/d58/classCBacnetIpHandler.html#a13f111a1541709fc81e3715b2a3f5182" title="Call this to reset our UDP Listener to go back to listening, because no actual response needs to be s..." alt="" coords="230,5,405,46"/><area shape="rect" id="node3" href="../../dc/d96/bacnet__ip__handler_8cpp.html#a41bdbc3b2c98dbf2bd146f714031b5d8" title="bactext_bvlc_function" alt="" coords="235,71,400,97"/><area shape="rect" id="node4" href="../../d0/d58/classCBacnetIpHandler.html#a2b838b79d6d3eab2ab332e7e91cee129" title="Utility function to just encode and send a BVLC result code. " alt="" coords="230,122,405,163"/><area shape="rect" id="node5" href="../../d0/d58/classCBacnetIpHandler.html#a656388fdc68188b1e657f10877a10f9e" title="Send a buffer as a unicast BACnet/IP packet to the given destination address. " alt="" coords="453,122,632,163"/><area shape="rect" id="node6" href="../../d7/d94/group__bip__interface.html#ga51d8943ac2b970c0e048a4023869f643" title="Returns the current BVLL Function Code we are processing. " alt="" coords="682,100,857,127"/><area shape="rect" id="node7" href="../../d0/d58/classCBacnetIpHandler.html#a88d9352fc35880e6f0f22eac0c64c3be" title="Send a buffer as a unicast BACnet/IP packet specifically to the given destination address..." alt="" coords="680,151,859,193"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_ac25e8ea63490cc6cafdfc99113c6df90_icgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_ac25e8ea63490cc6cafdfc99113c6df90_icgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_ac25e8ea63490cc6cafdfc99113c6df90_icgraph" id="d0/d58/classCBacnetIpHandler_ac25e8ea63490cc6cafdfc99113c6df90_icgraph">
<area shape="rect" id="node2" href="../../d0/d58/classCBacnetIpHandler.html#a097e74048a899230e73678aeff18064c" title="Try to parse the buffer, when the CIoTransactor calls us. " alt="" coords="230,12,413,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2949d8cf1b78dff83c10cc708ae55c1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CBacnetIpHandler::register_as_foreign_device </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register as a Foreign Device with the designated BBMD. </p>
<p>If not enabled or no address for the BBMD is provided, no BBMD registration will occur. Otherwise, the request is sent and the timer set to call this function again when it expires.</p>
<dl class="section return"><dt>Returns</dt><dd>Positive number (of bytes sent) on success, 0 if no registration request is sent, or -1 if registration fails. </dd></dl>

<p>Definition at line <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html#l00953">953</a> of file <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_a2949d8cf1b78dff83c10cc708ae55c1a_cgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_a2949d8cf1b78dff83c10cc708ae55c1a_cgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_a2949d8cf1b78dff83c10cc708ae55c1a_cgraph" id="d0/d58/classCBacnetIpHandler_a2949d8cf1b78dff83c10cc708ae55c1a_cgraph">
<area shape="rect" id="node2" href="../../d7/d94/group__bip__interface.html#ga98ec5b34574c0c432dea2b5d3f5c08f4" title="J.2.6 Register&#45;Foreign&#45;Device: encode. " alt="" coords="259,5,419,46"/><area shape="rect" id="node4" href="../../d0/d58/classCBacnetIpHandler.html#a54fa5f3a188b958a1f50eb861bda7e01" title="Send a BVLC message (BVLC header + PDU data) to the BBMD. " alt="" coords="251,70,426,111"/><area shape="rect" id="node3" href="../../d7/d94/group__bip__interface.html#ga8be3a0662a9073ed60d6e8cacde64a08" title="Encode the BVLC header. " alt="" coords="475,12,629,39"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_a2949d8cf1b78dff83c10cc708ae55c1a_icgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_a2949d8cf1b78dff83c10cc708ae55c1a_icgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_a2949d8cf1b78dff83c10cc708ae55c1a_icgraph" id="d0/d58/classCBacnetIpHandler_a2949d8cf1b78dff83c10cc708ae55c1a_icgraph">
<area shape="rect" id="node2" href="../../d0/d58/classCBacnetIpHandler.html#a64101e782a5defbbb73b68e0758400db" title="Initialize the service configuration for the bacnet&#45;stack functions. " alt="" coords="267,5,435,46"/><area shape="rect" id="node3" href="../../d0/d58/classCBacnetIpHandler.html#a21f0eab1241ddb158f52ee0ab65e4303" title="Timeout callback invoked when the ASIO timer for BBMD registration expires. " alt="" coords="251,71,450,97"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a656388fdc68188b1e657f10877a10f9e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CBacnetIpHandler::send_bip_buf </td>
          <td>(</td>
          <td class="paramtype">BACNET_ADDRESS *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>mtu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>mtu_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a buffer as a unicast BACnet/IP packet to the given destination address. </p>
<p>The buffer here contains the BVLC header and the PDU data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>The BACnet address of the intended destination. This may not be used, as our Transactor should already know this address if just replying to the sender. </td></tr>
    <tr><td class="paramname">mtu</td><td>The buffer of encoded BVLC header + PDU data to send </td></tr>
    <tr><td class="paramname">mtu_len</td><td>The length of the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes written out / sent. Normally the same as mtu_len. </dd></dl>

<p>Definition at line <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html#l00677">677</a> of file <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_a656388fdc68188b1e657f10877a10f9e_cgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_a656388fdc68188b1e657f10877a10f9e_cgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_a656388fdc68188b1e657f10877a10f9e_cgraph" id="d0/d58/classCBacnetIpHandler_a656388fdc68188b1e657f10877a10f9e_cgraph">
<area shape="rect" id="node2" href="../../d7/d94/group__bip__interface.html#ga51d8943ac2b970c0e048a4023869f643" title="Returns the current BVLL Function Code we are processing. " alt="" coords="234,5,409,32"/><area shape="rect" id="node3" href="../../d0/d58/classCBacnetIpHandler.html#a88d9352fc35880e6f0f22eac0c64c3be" title="Send a buffer as a unicast BACnet/IP packet specifically to the given destination address..." alt="" coords="232,57,411,98"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_a656388fdc68188b1e657f10877a10f9e_icgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_a656388fdc68188b1e657f10877a10f9e_icgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_a656388fdc68188b1e657f10877a10f9e_icgraph" id="d0/d58/classCBacnetIpHandler_a656388fdc68188b1e657f10877a10f9e_icgraph">
<area shape="rect" id="node2" href="../../d0/d58/classCBacnetIpHandler.html#a2b838b79d6d3eab2ab332e7e91cee129" title="Utility function to just encode and send a BVLC result code. " alt="" coords="233,5,407,46"/><area shape="rect" id="node5" href="../../d0/d58/classCBacnetIpHandler.html#a151ba4bf21f21396507001987bb82bff" title="The common send function for BVLC functions, using BACnet/IP. " alt="" coords="233,70,407,111"/><area shape="rect" id="node3" href="../../d0/d58/classCBacnetIpHandler.html#ac25e8ea63490cc6cafdfc99113c6df90" title="Note any BVLC_RESULT code, or NAK the BVLL message in the unsupported cases. " alt="" coords="457,5,631,46"/><area shape="rect" id="node4" href="../../d0/d58/classCBacnetIpHandler.html#a097e74048a899230e73678aeff18064c" title="Try to parse the buffer, when the CIoTransactor calls us. " alt="" coords="681,12,863,39"/><area shape="rect" id="node6" href="../../d7/d94/group__bip__interface.html#gacf4d82c08beac50cdfa09b5cbbf5bde1" title="Function to add BVLC support to PDU data and then send a packet out the BACnet/IP socket (Annex J)..." alt="" coords="485,77,603,104"/><area shape="rect" id="node7" href="../../d7/d94/group__bip__interface.html#gafd95a0bfb0c464bcffdcf6c6476a0859" title="Function to send a packet out the BACnet/IP socket (Annex J). " alt="" coords="717,77,827,104"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9de2a4857ee9c38956a9526e506c7a15"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CBacnetIpHandler::broadcast_bip_buf </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>mtu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>mtu_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Broadcast a BACnet/IP packet. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mtu</td><td>The buffer of encoded BVLC header + PDU data to send </td></tr>
    <tr><td class="paramname">mtu_len</td><td>The length of the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes written out / sent. Normally the same as mtu_len. </dd></dl>

<p>Definition at line <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html#l00647">647</a> of file <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_a9de2a4857ee9c38956a9526e506c7a15_icgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_a9de2a4857ee9c38956a9526e506c7a15_icgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_a9de2a4857ee9c38956a9526e506c7a15_icgraph" id="d0/d58/classCBacnetIpHandler_a9de2a4857ee9c38956a9526e506c7a15_icgraph">
<area shape="rect" id="node2" href="../../d0/d58/classCBacnetIpHandler.html#a151ba4bf21f21396507001987bb82bff" title="The common send function for BVLC functions, using BACnet/IP. " alt="" coords="265,5,439,46"/><area shape="rect" id="node3" href="../../d7/d94/group__bip__interface.html#gacf4d82c08beac50cdfa09b5cbbf5bde1" title="Function to add BVLC support to PDU data and then send a packet out the BACnet/IP socket (Annex J)..." alt="" coords="489,12,607,39"/><area shape="rect" id="node4" href="../../d7/d94/group__bip__interface.html#gafd95a0bfb0c464bcffdcf6c6476a0859" title="Function to send a packet out the BACnet/IP socket (Annex J). " alt="" coords="657,12,767,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a54fa5f3a188b958a1f50eb861bda7e01"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CBacnetIpHandler::bvlc_send_to_bbmd </td>
          <td>(</td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>mtu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>mtu_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a BVLC message (BVLC header + PDU data) to the BBMD. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mtu</td><td>The buffer of encoded BVLC header + PDU data to send </td></tr>
    <tr><td class="paramname">mtu_len</td><td>The length of the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Upon successful completion, returns the number of bytes sent. Otherwise, -1 shall be returned (eg, if BBMD is not enabled or has not valid address). </dd></dl>

<p>Definition at line <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html#l00885">885</a> of file <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_a54fa5f3a188b958a1f50eb861bda7e01_icgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_a54fa5f3a188b958a1f50eb861bda7e01_icgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_a54fa5f3a188b958a1f50eb861bda7e01_icgraph" id="d0/d58/classCBacnetIpHandler_a54fa5f3a188b958a1f50eb861bda7e01_icgraph">
<area shape="rect" id="node2" href="../../d0/d58/classCBacnetIpHandler.html#a151ba4bf21f21396507001987bb82bff" title="The common send function for BVLC functions, using BACnet/IP. " alt="" coords="241,5,415,46"/><area shape="rect" id="node5" href="../../d0/d58/classCBacnetIpHandler.html#a2949d8cf1b78dff83c10cc708ae55c1a" title="Register as a Foreign Device with the designated BBMD. " alt="" coords="229,70,427,111"/><area shape="rect" id="node3" href="../../d7/d94/group__bip__interface.html#gacf4d82c08beac50cdfa09b5cbbf5bde1" title="Function to add BVLC support to PDU data and then send a packet out the BACnet/IP socket (Annex J)..." alt="" coords="515,12,634,39"/><area shape="rect" id="node4" href="../../d7/d94/group__bip__interface.html#gafd95a0bfb0c464bcffdcf6c6476a0859" title="Function to send a packet out the BACnet/IP socket (Annex J). " alt="" coords="723,12,834,39"/><area shape="rect" id="node6" href="../../d0/d58/classCBacnetIpHandler.html#a64101e782a5defbbb73b68e0758400db" title="Initialize the service configuration for the bacnet&#45;stack functions. " alt="" coords="491,66,659,107"/><area shape="rect" id="node7" href="../../d0/d58/classCBacnetIpHandler.html#a21f0eab1241ddb158f52ee0ab65e4303" title="Timeout callback invoked when the ASIO timer for BBMD registration expires. " alt="" coords="475,132,674,159"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a88d9352fc35880e6f0f22eac0c64c3be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CBacnetIpHandler::send_buf_to_dest </td>
          <td>(</td>
          <td class="paramtype">BACNET_ADDRESS *&#160;</td>
          <td class="paramname"><em>dest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; px::asio::io_buf_t &gt;&#160;</td>
          <td class="paramname"><em>wbuf</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>mtu_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a buffer as a unicast BACnet/IP packet specifically to the given destination address. </p>
<p>Often used when the request was a Forwarded NPDU, to get the response back to the original sender.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest</td><td>The BACnet address of the destination to send to. </td></tr>
    <tr><td class="paramname">wbuf</td><td>The ASIO buffer of encoded BVLC header + PDU data to send. </td></tr>
    <tr><td class="paramname">mtu_len</td><td>The length of the buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes written out / sent. Normally the same as mtu_len. </dd></dl>

<p>Definition at line <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html#l00769">769</a> of file <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_a88d9352fc35880e6f0f22eac0c64c3be_icgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_a88d9352fc35880e6f0f22eac0c64c3be_icgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_a88d9352fc35880e6f0f22eac0c64c3be_icgraph" id="d0/d58/classCBacnetIpHandler_a88d9352fc35880e6f0f22eac0c64c3be_icgraph">
<area shape="rect" id="node2" href="../../d0/d58/classCBacnetIpHandler.html#a656388fdc68188b1e657f10877a10f9e" title="Send a buffer as a unicast BACnet/IP packet to the given destination address. " alt="" coords="232,38,411,79"/><area shape="rect" id="node3" href="../../d0/d58/classCBacnetIpHandler.html#a2b838b79d6d3eab2ab332e7e91cee129" title="Utility function to just encode and send a BVLC result code. " alt="" coords="459,5,634,46"/><area shape="rect" id="node6" href="../../d0/d58/classCBacnetIpHandler.html#a151ba4bf21f21396507001987bb82bff" title="The common send function for BVLC functions, using BACnet/IP. " alt="" coords="459,70,634,111"/><area shape="rect" id="node4" href="../../d0/d58/classCBacnetIpHandler.html#ac25e8ea63490cc6cafdfc99113c6df90" title="Note any BVLC_RESULT code, or NAK the BVLL message in the unsupported cases. " alt="" coords="683,5,858,46"/><area shape="rect" id="node5" href="../../d0/d58/classCBacnetIpHandler.html#a097e74048a899230e73678aeff18064c" title="Try to parse the buffer, when the CIoTransactor calls us. " alt="" coords="907,12,1090,39"/><area shape="rect" id="node7" href="../../d7/d94/group__bip__interface.html#gacf4d82c08beac50cdfa09b5cbbf5bde1" title="Function to add BVLC support to PDU data and then send a packet out the BACnet/IP socket (Annex J)..." alt="" coords="711,77,830,104"/><area shape="rect" id="node8" href="../../d7/d94/group__bip__interface.html#gafd95a0bfb0c464bcffdcf6c6476a0859" title="Function to send a packet out the BACnet/IP socket (Annex J). " alt="" coords="943,77,1054,104"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a151ba4bf21f21396507001987bb82bff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CBacnetIpHandler::bvlc_send_mpdu </td>
          <td>(</td>
          <td class="paramtype">BACNET_ADDRESS *&#160;</td>
          <td class="paramname"><em>dest_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>pdu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>pdu_len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The common send function for BVLC functions, using BACnet/IP. </p>
<p>This function adds the BVLC header in front of the PDU data and then sends it via <a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a656388fdc68188b1e657f10877a10f9e" title="Send a buffer as a unicast BACnet/IP packet to the given destination address. ">send_bip_buf()</a>.</p>
<p>There are three possible destinations:</p>
<ol type="1">
<li>A normal unicast packet is sent via the transactor's write() process</li>
<li>A normal broadcast is sent via the <a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a9de2a4857ee9c38956a9526e506c7a15" title="Broadcast a BACnet/IP packet. ">broadcast_bip_buf()</a> process</li>
<li>A BBMD redirect is unicast to the BBMD via the transactor's write_push() process.</li>
</ol>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest_addr</td><td>BACnet address to send result back to. Our Transactor should already know this address, if this will be unicast. If this indicates a broadcast, then we use that information to direct the message. </td></tr>
    <tr><td class="paramname">pdu</td><td>- the buffer of data (the Protocol Data Unit portion) to send </td></tr>
    <tr><td class="paramname">pdu_len</td><td>- the length of the PDU buffer. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Upon successful completion, returns the number of bytes sent. Otherwise, -1 shall be returned and errno set to indicate the error. </dd></dl>

<p>Definition at line <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html#l00828">828</a> of file <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_a151ba4bf21f21396507001987bb82bff_cgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_a151ba4bf21f21396507001987bb82bff_cgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_a151ba4bf21f21396507001987bb82bff_cgraph" id="d0/d58/classCBacnetIpHandler_a151ba4bf21f21396507001987bb82bff_cgraph">
<area shape="rect" id="node2" href="../../d0/d58/classCBacnetIpHandler.html#a656388fdc68188b1e657f10877a10f9e" title="Send a buffer as a unicast BACnet/IP packet to the given destination address. " alt="" coords="245,27,424,69"/><area shape="rect" id="node5" href="../../d0/d58/classCBacnetIpHandler.html#a54fa5f3a188b958a1f50eb861bda7e01" title="Send a BVLC message (BVLC header + PDU data) to the BBMD. " alt="" coords="247,93,422,134"/><area shape="rect" id="node6" href="../../d0/d58/classCBacnetIpHandler.html#a9de2a4857ee9c38956a9526e506c7a15" title="Broadcast a BACnet/IP packet. " alt="" coords="229,158,440,199"/><area shape="rect" id="node3" href="../../d7/d94/group__bip__interface.html#ga51d8943ac2b970c0e048a4023869f643" title="Returns the current BVLL Function Code we are processing. " alt="" coords="490,5,665,32"/><area shape="rect" id="node4" href="../../d0/d58/classCBacnetIpHandler.html#a88d9352fc35880e6f0f22eac0c64c3be" title="Send a buffer as a unicast BACnet/IP packet specifically to the given destination address..." alt="" coords="488,57,667,98"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_a151ba4bf21f21396507001987bb82bff_icgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_a151ba4bf21f21396507001987bb82bff_icgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_a151ba4bf21f21396507001987bb82bff_icgraph" id="d0/d58/classCBacnetIpHandler_a151ba4bf21f21396507001987bb82bff_icgraph">
<area shape="rect" id="node2" href="../../d7/d94/group__bip__interface.html#gacf4d82c08beac50cdfa09b5cbbf5bde1" title="Function to add BVLC support to PDU data and then send a packet out the BACnet/IP socket (Annex J)..." alt="" coords="230,12,349,39"/><area shape="rect" id="node3" href="../../d7/d94/group__bip__interface.html#gafd95a0bfb0c464bcffdcf6c6476a0859" title="Function to send a packet out the BACnet/IP socket (Annex J). " alt="" coords="398,12,509,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a13f111a1541709fc81e3715b2a3f5182"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CBacnetIpHandler::bvlc_send_no_response </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Call this to reset our UDP Listener to go back to listening, because no actual response needs to be sent. </p>
<dl class="section return"><dt>Returns</dt><dd>Number of bytes "sent", which is 0. </dd></dl>

<p>Definition at line <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html#l00937">937</a> of file <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_a13f111a1541709fc81e3715b2a3f5182_icgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_a13f111a1541709fc81e3715b2a3f5182_icgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_a13f111a1541709fc81e3715b2a3f5182_icgraph" id="d0/d58/classCBacnetIpHandler_a13f111a1541709fc81e3715b2a3f5182_icgraph">
<area shape="rect" id="node2" href="../../d0/d58/classCBacnetIpHandler.html#a3e78e03872552a6879abda37140335c7" title="Send a BACnet/IP error response (or none). " alt="" coords="235,5,400,46"/><area shape="rect" id="node3" href="../../d0/d58/classCBacnetIpHandler.html#ac25e8ea63490cc6cafdfc99113c6df90" title="Note any BVLC_RESULT code, or NAK the BVLL message in the unsupported cases. " alt="" coords="230,70,405,111"/><area shape="rect" id="node4" href="../../d0/d58/classCBacnetIpHandler.html#a097e74048a899230e73678aeff18064c" title="Try to parse the buffer, when the CIoTransactor calls us. " alt="" coords="454,77,637,104"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afb50922df3bdb69329cb32940422d62a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="../../d1/d20/classpx_1_1asio_1_1CProtocolHandler.html">px::asio::CProtocolHandler</a> &gt; CBacnetIpHandler::clone </td>
          <td>(</td>
          <td class="paramtype">px::asio::CIoTransactor *&#160;</td>
          <td class="paramname"><em>transactor</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clone this protocol object. </p>
<p>Inherited from protocol handler in libpx asio</p>
<dl class="section note"><dt>Note</dt><dd>This function is just called once in the bacnet_ip process, not per message, when CUdpListener is constructed.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transactor</td><td>The messenger-type actor instance for this clone. This would be px::asio::CUdpListener for bacnet_ip.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new protocol object whose type/configuration is identical to our own </dd></dl>

<p>Definition at line <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html#l00446">446</a> of file <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_afb50922df3bdb69329cb32940422d62a_cgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_afb50922df3bdb69329cb32940422d62a_cgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_afb50922df3bdb69329cb32940422d62a_cgraph" id="d0/d58/classCBacnetIpHandler_afb50922df3bdb69329cb32940422d62a_cgraph">
<area shape="rect" id="node2" href="../../d0/d58/classCBacnetIpHandler.html#a36448d55320c678fe44ae18a521b3ff2" title="Constructor. " alt="" coords="238,5,439,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acc4891ef548a4873a119ef6d6af3042a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBacnetIpHandler::update_transactor </td>
          <td>(</td>
          <td class="paramtype">px::asio::CIoTransactor *&#160;</td>
          <td class="paramname"><em>transactor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>A setter that lets us update this CProtocolHandler member before first use. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transactor</td><td>Pointer to our UdpListener instance. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d6/da2/bacnet__ip__handler_8hpp_source.html#l00385">385</a> of file <a class="el" href="../../d6/da2/bacnet__ip__handler_8hpp_source.html">bacnet_ip_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6dbbc55b1299b790a1f8ccda387984c2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::string CBacnetIpHandler::protocol </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>String to identify the protocol for debugging purposes. </p>
<dl class="section return"><dt>Returns</dt><dd>Text string that names the protocol used here. </dd></dl>

<p>Definition at line <a class="el" href="../../d6/da2/bacnet__ip__handler_8hpp_source.html#l00374">374</a> of file <a class="el" href="../../d6/da2/bacnet__ip__handler_8hpp_source.html">bacnet_ip_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a53e2c366c270e6c1f0519df01c07a001"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CBacnetIpHandler::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Close out this BACnet/IP connection. </p>
<p>We clean up any pending msgs and subscriptions that are still existent in CDS handler so we don't go notifying connections that have long since been removed </p>

<p>Definition at line <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html#l00471">471</a> of file <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="afc30ae89a35ec6bf6e1256eabfc7f1cf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CBacnetIpHandler::encode_string_array </td>
          <td>(</td>
          <td class="paramtype">BACNET_READ_PROPERTY_DATA *&#160;</td>
          <td class="paramname"><em>rpdata</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxApdu</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; px::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>texts</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Static function to encode the string(s) requested by the array_index in ReadProperty. </p>
<p>Follows the rules for array access:</p>
<ul>
<li>might want just the array size</li>
<li>might want the full array of strings (if there is enough room to encode them)</li>
<li>might want one specific string (indexed by array location)</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rpdata</td><td>The RP/RPM request information, including the output buffer. </td></tr>
    <tr><td class="paramname">maxApdu</td><td>Max size we can encode to. </td></tr>
    <tr><td class="paramname">texts</td><td>The array of strings from which we will encode. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Number of encoded bytes, or -1 on error. </dd></dl>

<p>Definition at line <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html#l00486">486</a> of file <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_afc30ae89a35ec6bf6e1256eabfc7f1cf_icgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_afc30ae89a35ec6bf6e1256eabfc7f1cf_icgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_afc30ae89a35ec6bf6e1256eabfc7f1cf_icgraph" id="d0/d58/classCBacnetIpHandler_afc30ae89a35ec6bf6e1256eabfc7f1cf_icgraph">
<area shape="rect" id="node2" href="../../d3/d5b/classCBacnetMultiStateValue.html#a004ecf7c0ef4b3bd9803651ff9d66dd2" title="Handler for the derived class to supply values for its more special properties. " alt="" coords="248,5,427,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9723b04e016a004ef131f780c2993aa7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CBacnetIpHandler::set_force_unicast_flag </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple setter for the _force_unicast_response flag. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">state</td><td>New value to set the flag to. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d6/da2/bacnet__ip__handler_8hpp_source.html#l00391">391</a> of file <a class="el" href="../../d6/da2/bacnet__ip__handler_8hpp_source.html">bacnet_ip_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="abf1a4d3ef93d8399181ee311b9f2393c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CBacnetIpHandler::send_i_am_router </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Broadcast BACnet/IP I-Am-Router-to-Network. </p>

<p>Definition at line <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html#l00455">455</a> of file <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_abf1a4d3ef93d8399181ee311b9f2393c_icgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_abf1a4d3ef93d8399181ee311b9f2393c_icgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_abf1a4d3ef93d8399181ee311b9f2393c_icgraph" id="d0/d58/classCBacnetIpHandler_abf1a4d3ef93d8399181ee311b9f2393c_icgraph">
<area shape="rect" id="node2" href="../../d0/d58/classCBacnetIpHandler.html#ab3acaa7dd3625f151d768ac06a71f147" title="Broadcast BACnet/IP I&#45;Ams for all devices and I&#45;Am&#45;Router&#45;to&#45;Network. " alt="" coords="232,5,411,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2b838b79d6d3eab2ab332e7e91cee129"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CBacnetIpHandler::bvlc_send_result </td>
          <td>(</td>
          <td class="paramtype">BACNET_ADDRESS *&#160;</td>
          <td class="paramname"><em>dest_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">BACNET_BVLC_RESULT&#160;</td>
          <td class="paramname"><em>result_code</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Utility function to just encode and send a BVLC result code. </p>
<p>Code just copied from bacnet-stack bvlc.c.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">dest_addr</td><td>BACnet address to send result back to. </td></tr>
    <tr><td class="paramname">result_code</td><td>The result code to encode and send. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html#l00807">807</a> of file <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_a2b838b79d6d3eab2ab332e7e91cee129_cgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_a2b838b79d6d3eab2ab332e7e91cee129_cgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_a2b838b79d6d3eab2ab332e7e91cee129_cgraph" id="d0/d58/classCBacnetIpHandler_a2b838b79d6d3eab2ab332e7e91cee129_cgraph">
<area shape="rect" id="node2" href="../../d0/d58/classCBacnetIpHandler.html#a656388fdc68188b1e657f10877a10f9e" title="Send a buffer as a unicast BACnet/IP packet to the given destination address. " alt="" coords="229,27,408,69"/><area shape="rect" id="node3" href="../../d7/d94/group__bip__interface.html#ga51d8943ac2b970c0e048a4023869f643" title="Returns the current BVLL Function Code we are processing. " alt="" coords="458,5,633,32"/><area shape="rect" id="node4" href="../../d0/d58/classCBacnetIpHandler.html#a88d9352fc35880e6f0f22eac0c64c3be" title="Send a buffer as a unicast BACnet/IP packet specifically to the given destination address..." alt="" coords="456,57,635,98"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_a2b838b79d6d3eab2ab332e7e91cee129_icgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_a2b838b79d6d3eab2ab332e7e91cee129_icgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_a2b838b79d6d3eab2ab332e7e91cee129_icgraph" id="d0/d58/classCBacnetIpHandler_a2b838b79d6d3eab2ab332e7e91cee129_icgraph">
<area shape="rect" id="node2" href="../../d0/d58/classCBacnetIpHandler.html#ac25e8ea63490cc6cafdfc99113c6df90" title="Note any BVLC_RESULT code, or NAK the BVLL message in the unsupported cases. " alt="" coords="230,5,405,46"/><area shape="rect" id="node3" href="../../d0/d58/classCBacnetIpHandler.html#a097e74048a899230e73678aeff18064c" title="Try to parse the buffer, when the CIoTransactor calls us. " alt="" coords="454,12,637,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a21f0eab1241ddb158f52ee0ab65e4303"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CBacnetIpHandler::timeout </td>
          <td>(</td>
          <td class="paramtype">const px::asio::CIoTimer &amp;&#160;</td>
          <td class="paramname"><em>timer</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Timeout callback invoked when the ASIO timer for BBMD registration expires. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timer</td><td>A reference to the handler's timer which expired. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html#l00984">984</a> of file <a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d0/d58/classCBacnetIpHandler_a21f0eab1241ddb158f52ee0ab65e4303_cgraph.png" border="0" usemap="#d0/d58/classCBacnetIpHandler_a21f0eab1241ddb158f52ee0ab65e4303_cgraph" alt=""/></div>
<map name="d0/d58/classCBacnetIpHandler_a21f0eab1241ddb158f52ee0ab65e4303_cgraph" id="d0/d58/classCBacnetIpHandler_a21f0eab1241ddb158f52ee0ab65e4303_cgraph">
<area shape="rect" id="node2" href="../../d0/d58/classCBacnetIpHandler.html#a2949d8cf1b78dff83c10cc708ae55c1a" title="Register as a Foreign Device with the designated BBMD. " alt="" coords="253,38,451,79"/><area shape="rect" id="node3" href="../../d7/d94/group__bip__interface.html#ga98ec5b34574c0c432dea2b5d3f5c08f4" title="J.2.6 Register&#45;Foreign&#45;Device: encode. " alt="" coords="507,5,667,46"/><area shape="rect" id="node5" href="../../d0/d58/classCBacnetIpHandler.html#a54fa5f3a188b958a1f50eb861bda7e01" title="Send a BVLC message (BVLC header + PDU data) to the BBMD. " alt="" coords="499,70,674,111"/><area shape="rect" id="node4" href="../../d7/d94/group__bip__interface.html#ga8be3a0662a9073ed60d6e8cacde64a08" title="Encode the BVLC header. " alt="" coords="723,12,877,39"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a86150f0c53f9b4865f44d5bbe0834496"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="../../d7/d39/classCBacnetIpCore.html">CBacnetIpCore</a>&gt; CBacnetIpHandler::_bip_core</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pointer back to the core class that created us. </p>
<p>Gives us BACnet message map access. </p>

<p>Definition at line <a class="el" href="../../d6/da2/bacnet__ip__handler_8hpp_source.html#l00349">349</a> of file <a class="el" href="../../d6/da2/bacnet__ip__handler_8hpp_source.html">bacnet_ip_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a21a50cfcbd9dc839551e3993867c6a45"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CBacnetIpHandler::_DNET_list[2]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Our list-of-one routed network(s); must end with -1 Will fill in the first entry from our OOB data. </p>

<p>Definition at line <a class="el" href="../../d6/da2/bacnet__ip__handler_8hpp_source.html#l00353">353</a> of file <a class="el" href="../../d6/da2/bacnet__ip__handler_8hpp_source.html">bacnet_ip_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aee6f13e95400e158c33bc06effe53972"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CBacnetIpHandler::_sending_response</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal flag which the <a class="el" href="../../d0/d58/classCBacnetIpHandler.html#a097e74048a899230e73678aeff18064c" title="Try to parse the buffer, when the CIoTransactor calls us. ">parse()</a> method uses to detect cases where the bacnet-stack has just silently dropped a request with no response. </p>

<p>Definition at line <a class="el" href="../../d6/da2/bacnet__ip__handler_8hpp_source.html#l00358">358</a> of file <a class="el" href="../../d6/da2/bacnet__ip__handler_8hpp_source.html">bacnet_ip_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a175ddefa9f19c25ed770657b148fb252"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CBacnetIpHandler::_force_unicast_response</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal flag set by the service handler to force the response to be unicast, where it would normally be broadcast, eg, for Who-Has requests. </p>

<p>Definition at line <a class="el" href="../../d6/da2/bacnet__ip__handler_8hpp_source.html#l00364">364</a> of file <a class="el" href="../../d6/da2/bacnet__ip__handler_8hpp_source.html">bacnet_ip_handler.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/src/product-ref1/px-toolkit/etn_source/bacnet_ip/include/bacnet/services/<a class="el" href="../../d6/da2/bacnet__ip__handler_8hpp_source.html">bacnet_ip_handler.hpp</a></li>
<li>/src/product-ref1/px-toolkit/etn_source/bacnet_ip/source/bacnet/services/<a class="el" href="../../dc/d96/bacnet__ip__handler_8cpp_source.html">bacnet_ip_handler.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d0/d58/classCBacnetIpHandler.html">CBacnetIpHandler</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:25:57 for bacnet_ip by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
