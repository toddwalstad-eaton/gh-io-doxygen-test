<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>SNMP_MIBs: CEatonSystemMib Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">SNMP_MIBs
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d1/dd4/classCEatonSystemMib.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="../../dc/d6d/classCEatonSystemMib-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CEatonSystemMib Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class for managing the MIB-II system (sys) group with data from/to the CDS.  
 <a href="../../d1/dd4/classCEatonSystemMib.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../db/d92/eaton__system__mib_8hpp_source.html">eaton_system_mib.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for CEatonSystemMib:</div>
<div class="dyncontent">
<div class="center"><img src="../../d5/d58/classCEatonSystemMib__coll__graph.png" border="0" usemap="#CEatonSystemMib_coll__map" alt="Collaboration graph"/></div>
<map name="CEatonSystemMib_coll__map" id="CEatonSystemMib_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a9a97a17d496453ac5c2af50ad3c5452d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dd4/classCEatonSystemMib.html#a9a97a17d496453ac5c2af50ad3c5452d">CEatonSystemMib</a> ()</td></tr>
<tr class="memdesc:a9a97a17d496453ac5c2af50ad3c5452d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default ctor; does nothing.  <a href="#a9a97a17d496453ac5c2af50ad3c5452d">More...</a><br/></td></tr>
<tr class="separator:a9a97a17d496453ac5c2af50ad3c5452d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abae5cb7eb2ac7df19256ada260ade013"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dd4/classCEatonSystemMib.html#abae5cb7eb2ac7df19256ada260ade013">~CEatonSystemMib</a> ()</td></tr>
<tr class="memdesc:abae5cb7eb2ac7df19256ada260ade013"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default xtor; does nothing.  <a href="#abae5cb7eb2ac7df19256ada260ade013">More...</a><br/></td></tr>
<tr class="separator:abae5cb7eb2ac7df19256ada260ade013"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab904e0bea5ba5aa877c0cf120724426e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dd4/classCEatonSystemMib.html#ab904e0bea5ba5aa877c0cf120724426e">init_services</a> (std::shared_ptr&lt; <a class="el" href="../../de/d39/classCSnmpCdsHandler.html">CSnmpCdsHandler</a> &gt; cds_handler)</td></tr>
<tr class="memdesc:ab904e0bea5ba5aa877c0cf120724426e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function to initialize sys objects via the CdsHandler.  <a href="#ab904e0bea5ba5aa877c0cf120724426e">More...</a><br/></td></tr>
<tr class="separator:ab904e0bea5ba5aa877c0cf120724426e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab273cfb3e42dead4da6c8b4d3773b488"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ab273cfb3e42dead4da6c8b4d3773b488"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dd4/classCEatonSystemMib.html#ab273cfb3e42dead4da6c8b4d3773b488">deinit_services</a> ()</td></tr>
<tr class="memdesc:ab273cfb3e42dead4da6c8b4d3773b488"><td class="mdescLeft">&#160;</td><td class="mdescRight">Function when shutting down, to de-register our handlers. <br/></td></tr>
<tr class="separator:ab273cfb3e42dead4da6c8b4d3773b488"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca96dae49334911d3d6897cb2da6339c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dd4/classCEatonSystemMib.html#aca96dae49334911d3d6897cb2da6339c">handle_sysVar</a> (netsnmp_mib_handler *handler, netsnmp_handler_registration *reginfo, netsnmp_agent_request_info *reqinfo, netsnmp_request_info *request)</td></tr>
<tr class="memdesc:aca96dae49334911d3d6897cb2da6339c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback handler for the sys group objects that we manage for gets and sets.  <a href="#aca96dae49334911d3d6897cb2da6339c">More...</a><br/></td></tr>
<tr class="separator:aca96dae49334911d3d6897cb2da6339c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:af1d02a363cab088d85a477e839f8588b"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../de/d39/classCSnmpCdsHandler.html">CSnmpCdsHandler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/dd4/classCEatonSystemMib.html#af1d02a363cab088d85a477e839f8588b">_cds_handler</a></td></tr>
<tr class="memdesc:af1d02a363cab088d85a477e839f8588b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds a pointer to our CdsHandler.  <a href="#af1d02a363cab088d85a477e839f8588b">More...</a><br/></td></tr>
<tr class="separator:af1d02a363cab088d85a477e839f8588b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class for managing the MIB-II system (sys) group with data from/to the CDS. </p>
<p>The members of the sys group will be managed as follows:</p>
<ul>
<li>sysDescr: we will initialize this with the SNMP data management program to device.vendor + device.model + device.name from the root device, eg "Eaton Corporation PXG900: Tom's Acadia". Since this will be found in snmpd.conf, it will stay read-only and we will not attempt to update it if the root device data changes.</li>
<li>sysObjectID: This will be initialized from the snmpd.conf file and not be updated. The SNMP data management program will read the SNMP Data OOB and set the right OID in snmpd.conf for this object.</li>
<li>sysUpTime: Net-SNMP already does a fine job of providing this.</li>
<li>sysContact: we will use the root Device's contact field for this data. If this field is empty in the root Device, we will initialize it to "admin@xyz.com x1234" and save it in the CDS. We will inject a handler to watch for gets and sets of this object, and transfer any updates to the root Device in the CDS.</li>
<li>sysName: Net-SNMP already does a fine job of providing this (using gethostname() ). This can be be R/W per MIB-II; we'll see how it works out if we keep it read-only.</li>
<li>sysLocation: we will use the root Device's location field for this data. If this field is empty in the root Device, we will initialize it to "Describe device location here..." and save it in the CDS. We will inject a handler to watch for gets and sets of this object, and transfer any updates to the root Device in the CDS.</li>
<li>sysServices: Net-SNMP already does a fine job of providing this (set to default of 72).</li>
</ul>
<p>I wanted to steal access to static structures from agent/mibgroup/mibII/system_mib.c and manipulate the contents there, but the library and agent code provide no good way to manage that.</p>
<p>This class is only dependent on the <a class="el" href="../../de/d39/classCSnmpCdsHandler.html" title="CDS Handler extension to support the SNMP MIB extensions. ">CSnmpCdsHandler</a>, from which it will get and set the root device data. </p>

<p>Definition at line <a class="el" href="../../db/d92/eaton__system__mib_8hpp_source.html#l00058">58</a> of file <a class="el" href="../../db/d92/eaton__system__mib_8hpp_source.html">eaton_system_mib.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a9a97a17d496453ac5c2af50ad3c5452d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CEatonSystemMib::CEatonSystemMib </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default ctor; does nothing. </p>

<p>Definition at line <a class="el" href="../../d3/db3/eaton__system__mib_8cpp_source.html#l00007">7</a> of file <a class="el" href="../../d3/db3/eaton__system__mib_8cpp_source.html">eaton_system_mib.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="abae5cb7eb2ac7df19256ada260ade013"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CEatonSystemMib::~CEatonSystemMib </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default xtor; does nothing. </p>

<p>Definition at line <a class="el" href="../../d3/db3/eaton__system__mib_8cpp_source.html#l00013">13</a> of file <a class="el" href="../../d3/db3/eaton__system__mib_8cpp_source.html">eaton_system_mib.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab904e0bea5ba5aa877c0cf120724426e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CEatonSystemMib::init_services </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../de/d39/classCSnmpCdsHandler.html">CSnmpCdsHandler</a> &gt;&#160;</td>
          <td class="paramname"><em>cds_handler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Function to initialize sys objects via the CdsHandler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cds_handler</td><td>A pointer to our CdsHandler. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d3/db3/eaton__system__mib_8cpp_source.html#l00040">40</a> of file <a class="el" href="../../d3/db3/eaton__system__mib_8cpp_source.html">eaton_system_mib.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/dd4/classCEatonSystemMib_ab904e0bea5ba5aa877c0cf120724426e_cgraph.png" border="0" usemap="#d1/dd4/classCEatonSystemMib_ab904e0bea5ba5aa877c0cf120724426e_cgraph" alt=""/></div>
<map name="d1/dd4/classCEatonSystemMib_ab904e0bea5ba5aa877c0cf120724426e_cgraph" id="d1/dd4/classCEatonSystemMib_ab904e0bea5ba5aa877c0cf120724426e_cgraph">
<area shape="rect" id="node2" href="../../d1/dd4/classCEatonSystemMib.html#aca96dae49334911d3d6897cb2da6339c" title="Callback handler for the sys group objects that we manage for gets and sets. " alt="" coords="224,5,416,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aca96dae49334911d3d6897cb2da6339c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int CEatonSystemMib::handle_sysVar </td>
          <td>(</td>
          <td class="paramtype">netsnmp_mib_handler *&#160;</td>
          <td class="paramname"><em>handler</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">netsnmp_handler_registration *&#160;</td>
          <td class="paramname"><em>reginfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">netsnmp_agent_request_info *&#160;</td>
          <td class="paramname"><em>reqinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">netsnmp_request_info *&#160;</td>
          <td class="paramname"><em>request</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Callback handler for the sys group objects that we manage for gets and sets. </p>
<p>Conforms to the function template for Netsnmp_Node_Handler.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handler</td><td>Information registered with the handler (sort of a self-reference). Unused. </td></tr>
    <tr><td class="paramname">reginfo</td><td>The registration info for the requested object </td></tr>
    <tr><td class="paramname">reqinfo</td><td>The agent data and session info for the agent for this request. In particular, we get the mode from this. </td></tr>
    <tr><td class="paramname">request</td><td>The list of request variables, which get the results of get operations or contain the values for set operations.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns SNMPERR_SUCCESS or SNMP_ERR_* error code. </dd></dl>

<p>Definition at line <a class="el" href="../../d3/db3/eaton__system__mib_8cpp_source.html#l00170">170</a> of file <a class="el" href="../../d3/db3/eaton__system__mib_8cpp_source.html">eaton_system_mib.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d1/dd4/classCEatonSystemMib_aca96dae49334911d3d6897cb2da6339c_icgraph.png" border="0" usemap="#d1/dd4/classCEatonSystemMib_aca96dae49334911d3d6897cb2da6339c_icgraph" alt=""/></div>
<map name="d1/dd4/classCEatonSystemMib_aca96dae49334911d3d6897cb2da6339c_icgraph" id="d1/dd4/classCEatonSystemMib_aca96dae49334911d3d6897cb2da6339c_icgraph">
<area shape="rect" id="node2" href="../../d1/dd4/classCEatonSystemMib.html#ab904e0bea5ba5aa877c0cf120724426e" title="Function to initialize sys objects via the CdsHandler. " alt="" coords="246,5,415,46"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="af1d02a363cab088d85a477e839f8588b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="../../de/d39/classCSnmpCdsHandler.html">CSnmpCdsHandler</a>&gt; CEatonSystemMib::_cds_handler</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Holds a pointer to our CdsHandler. </p>

<p>Definition at line <a class="el" href="../../db/d92/eaton__system__mib_8hpp_source.html#l00099">99</a> of file <a class="el" href="../../db/d92/eaton__system__mib_8hpp_source.html">eaton_system_mib.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>base/include/<a class="el" href="../../db/d92/eaton__system__mib_8hpp_source.html">eaton_system_mib.hpp</a></li>
<li>base/source/<a class="el" href="../../d3/db3/eaton__system__mib_8cpp_source.html">eaton_system_mib.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d1/dd4/classCEatonSystemMib.html">CEatonSystemMib</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:26:10 for SNMP_MIBs by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
