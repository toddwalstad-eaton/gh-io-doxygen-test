<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ModbusDeviceHandler: CWaveformService Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ModbusDeviceHandler
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d2/d7f/classCWaveformService.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pub-static-attribs">Static Public Attributes</a> &#124;
<a href="#pro-static-methods">Static Protected Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="../../d7/d7b/classCWaveformService-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CWaveformService Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d4/d19/waveform__service_8hpp_source.html">waveform_service.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CWaveformService:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d91/classCWaveformService__inherit__graph.png" border="0" usemap="#CWaveformService_inherit__map" alt="Inheritance graph"/></div>
<map name="CWaveformService_inherit__map" id="CWaveformService_inherit__map">
</map>
</div>
<div class="dynheader">
Collaboration diagram for CWaveformService:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d1d/classCWaveformService__coll__graph.png" border="0" usemap="#CWaveformService_coll__map" alt="Collaboration graph"/></div>
<map name="CWaveformService_coll__map" id="CWaveformService_coll__map">
<area shape="rect" id="node3" href="../../d3/dd8/classCWaveformState.html" title="{CWaveformState\n|&#45; _storage_path\l|+ CWaveformState()\l+ ~CWaveformState()\l+ check_waveform_state_file()\l+ read_waveform_state()\l+ write_waveform_state()\l+ purge_waveform_state\l_for_device()\l+ set_storage_path()\l+ to_json()\l+ from_json()\l&#45; delete_file()\l&#45; read_file()\l&#45; write_file()\l}" alt="" coords="134,5,359,259"/></map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a589fd992a4a00071b3846412b5a071f2"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d7e/error__types_8hpp.html#a5edd7aad54ac059bf561cf2f92017698">err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#a589fd992a4a00071b3846412b5a071f2">store_waveform</a> (const std::shared_ptr&lt; <a class="el" href="../../d5/d0c/structICdsHandle.html">ICdsHandle</a> &gt; &amp;cds_handle, const px::id_t parent_id, const px::id_t device_id, const px::id_t waveform_channel_id, const std::string station_id, const size_t length, const <a class="el" href="../../d8/dfd/config_8hpp.html#aec93e83855ac17c3c25c55c37ca186dd">BYTE</a> *pOswStream)</td></tr>
<tr class="memdesc:a589fd992a4a00071b3846412b5a071f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store waveform and update housekeeping records.  <a href="#a589fd992a4a00071b3846412b5a071f2">More...</a><br/></td></tr>
<tr class="separator:a589fd992a4a00071b3846412b5a071f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadc41ea5e07191358f81528feb599fe0"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d7e/error__types_8hpp.html#a5edd7aad54ac059bf561cf2f92017698">err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#aadc41ea5e07191358f81528feb599fe0">delete_waveform</a> (const std::shared_ptr&lt; <a class="el" href="../../d5/d0c/structICdsHandle.html">ICdsHandle</a> &gt; &amp;cds_handle, const px::id_t device_id, const char *file_name)</td></tr>
<tr class="memdesc:aadc41ea5e07191358f81528feb599fe0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete waveform with specified name, from filesystem and CDS record.  <a href="#aadc41ea5e07191358f81528feb599fe0">More...</a><br/></td></tr>
<tr class="separator:aadc41ea5e07191358f81528feb599fe0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0283952de64f3d56009f8b3ab481c5a6"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#a0283952de64f3d56009f8b3ab481c5a6">purge_device_waveforms</a> (const std::shared_ptr&lt; <a class="el" href="../../d5/d0c/structICdsHandle.html">ICdsHandle</a> &gt; &amp;cds_handle, const px::id_t device_id)</td></tr>
<tr class="memdesc:a0283952de64f3d56009f8b3ab481c5a6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Completely remove all waveform info for device (including waveform state tracking) This method is for cleanup when a device is deleted.  <a href="#a0283952de64f3d56009f8b3ab481c5a6">More...</a><br/></td></tr>
<tr class="separator:a0283952de64f3d56009f8b3ab481c5a6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6853a435b1d2b6ccaad47eef5f98f731"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#a6853a435b1d2b6ccaad47eef5f98f731">check_waveform_state</a> ()</td></tr>
<tr class="memdesc:a6853a435b1d2b6ccaad47eef5f98f731"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if the waveform state file is OK.  <a href="#a6853a435b1d2b6ccaad47eef5f98f731">More...</a><br/></td></tr>
<tr class="separator:a6853a435b1d2b6ccaad47eef5f98f731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26f89e18cd1ce57b90ccb1d98ae2358c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d7e/error__types_8hpp.html#a5edd7aad54ac059bf561cf2f92017698">err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#a26f89e18cd1ce57b90ccb1d98ae2358c">read_waveform_state</a> (const px::id_t device_id, std::vector&lt; uint32_t &gt; &amp;waveform_state_out)</td></tr>
<tr class="memdesc:a26f89e18cd1ce57b90ccb1d98ae2358c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill supplied vector with DH's latest known position dependent list of ID's for waveforms on the device.  <a href="#a26f89e18cd1ce57b90ccb1d98ae2358c">More...</a><br/></td></tr>
<tr class="separator:a26f89e18cd1ce57b90ccb1d98ae2358c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf4b95fb13085450463200511aec0615"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d7e/error__types_8hpp.html#a5edd7aad54ac059bf561cf2f92017698">err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#acf4b95fb13085450463200511aec0615">write_waveform_state</a> (const px::id_t device_id, std::vector&lt; uint32_t &gt; &amp;waveform_state)</td></tr>
<tr class="memdesc:acf4b95fb13085450463200511aec0615"><td class="mdescLeft">&#160;</td><td class="mdescRight">For testing - store provided waveform_state list.  <a href="#acf4b95fb13085450463200511aec0615">More...</a><br/></td></tr>
<tr class="separator:acf4b95fb13085450463200511aec0615"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa325d3c51d67360b1e085aa93ec4834d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#aa325d3c51d67360b1e085aa93ec4834d">cleanup_waveform_space</a> (const std::shared_ptr&lt; <a class="el" href="../../d5/d0c/structICdsHandle.html">ICdsHandle</a> &gt; &amp;cds_handle)</td></tr>
<tr class="memdesc:aa325d3c51d67360b1e085aa93ec4834d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cleanup waveform area - Delete any TGZ files that are not in the CDS waveform list.  <a href="#aa325d3c51d67360b1e085aa93ec4834d">More...</a><br/></td></tr>
<tr class="separator:aa325d3c51d67360b1e085aa93ec4834d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a233e6c355c103f19ea72e416def690f8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#a233e6c355c103f19ea72e416def690f8">set_export_path</a> (px::string waveform_export_path)</td></tr>
<tr class="memdesc:a233e6c355c103f19ea72e416def690f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter to configure the waveform export path.  <a href="#a233e6c355c103f19ea72e416def690f8">More...</a><br/></td></tr>
<tr class="separator:a233e6c355c103f19ea72e416def690f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcf03dc7eaacadfd726ec5306936ae41"><td class="memItemLeft" align="right" valign="top">static boost::filesystem::path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#abcf03dc7eaacadfd726ec5306936ae41">get_export_path</a> ()</td></tr>
<tr class="memdesc:abcf03dc7eaacadfd726ec5306936ae41"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for the waveform export path.  <a href="#abcf03dc7eaacadfd726ec5306936ae41">More...</a><br/></td></tr>
<tr class="separator:abcf03dc7eaacadfd726ec5306936ae41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad014506631150056f5ff3165dff1cfe9"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#ad014506631150056f5ff3165dff1cfe9">set_data_path</a> (px::string waveform_data_path)</td></tr>
<tr class="memdesc:ad014506631150056f5ff3165dff1cfe9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter to configure the path for the waveform state data.  <a href="#ad014506631150056f5ff3165dff1cfe9">More...</a><br/></td></tr>
<tr class="separator:ad014506631150056f5ff3165dff1cfe9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a22d54cd96a743ba1a25a7f8350dcb62d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#a22d54cd96a743ba1a25a7f8350dcb62d">set_log_capacity</a> (size_t waveform_log_capacity)</td></tr>
<tr class="memdesc:a22d54cd96a743ba1a25a7f8350dcb62d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Setter to configure the waveform log file capacity.  <a href="#a22d54cd96a743ba1a25a7f8350dcb62d">More...</a><br/></td></tr>
<tr class="separator:a22d54cd96a743ba1a25a7f8350dcb62d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr class="memitem:a3933a5a82475bd2ae9c1d975c1334514"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d3/dd8/classCWaveformState.html">CWaveformState</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#a3933a5a82475bd2ae9c1d975c1334514">wave_state</a></td></tr>
<tr class="separator:a3933a5a82475bd2ae9c1d975c1334514"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-methods"></a>
Static Protected Member Functions</h2></td></tr>
<tr class="memitem:a8ae8f414abfdf80c7881deb744c42286"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d7e/error__types_8hpp.html#a5edd7aad54ac059bf561cf2f92017698">err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#a8ae8f414abfdf80c7881deb744c42286">convert_osw</a> (const boost::filesystem::path &amp;osw_path, boost::filesystem::path &amp;tgz_path_out, const px::id_t device_id, const std::string station_id)</td></tr>
<tr class="memdesc:a8ae8f414abfdf80c7881deb744c42286"><td class="mdescLeft">&#160;</td><td class="mdescRight">Produce final waveform file from .osw file.  <a href="#a8ae8f414abfdf80c7881deb744c42286">More...</a><br/></td></tr>
<tr class="separator:a8ae8f414abfdf80c7881deb744c42286"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff166c1d4e8b11663f6af90b2aff29cc"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d7e/error__types_8hpp.html#a5edd7aad54ac059bf561cf2f92017698">err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#aff166c1d4e8b11663f6af90b2aff29cc">add_waveform_to_cds</a> (const std::shared_ptr&lt; <a class="el" href="../../d5/d0c/structICdsHandle.html">ICdsHandle</a> &gt; &amp;cds_handle, const boost::filesystem::path &amp;tgz_path, const std::string cause, const px::id_t parent_id, const px::id_t device_id, const px::CWallTime &amp;capture_time, const px::CWallTime &amp;receive_time)</td></tr>
<tr class="memdesc:aff166c1d4e8b11663f6af90b2aff29cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Store waveform catalog info in CDS Oob Fields: optional string file = 1; // (required) The Waveform file name.  <a href="#aff166c1d4e8b11663f6af90b2aff29cc">More...</a><br/></td></tr>
<tr class="separator:aff166c1d4e8b11663f6af90b2aff29cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a92783a2670294f8f61f618c93c755e1c"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d7e/error__types_8hpp.html#a5edd7aad54ac059bf561cf2f92017698">err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#a92783a2670294f8f61f618c93c755e1c">create_waveform_alarm</a> (const std::shared_ptr&lt; <a class="el" href="../../d5/d0c/structICdsHandle.html">ICdsHandle</a> &gt; &amp;cds_handle, const boost::filesystem::path &amp;tgz_path, const std::string cause, const px::id_t waveform_channel_id, const px::CWallTime &amp;capture_time)</td></tr>
<tr class="memdesc:a92783a2670294f8f61f618c93c755e1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a waveform alarm.  <a href="#a92783a2670294f8f61f618c93c755e1c">More...</a><br/></td></tr>
<tr class="separator:a92783a2670294f8f61f618c93c755e1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa3fa60393c5ed1136bc0635d0850205d"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../de/d7e/error__types_8hpp.html#a5edd7aad54ac059bf561cf2f92017698">err_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#aa3fa60393c5ed1136bc0635d0850205d">remove_waveforms_from_cds</a> (const std::shared_ptr&lt; <a class="el" href="../../d5/d0c/structICdsHandle.html">ICdsHandle</a> &gt; &amp;cds_handle, const px::id_t device_id, const std::vector&lt; boost::filesystem::path &gt; &amp;tgz_paths)</td></tr>
<tr class="memdesc:aa3fa60393c5ed1136bc0635d0850205d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove waveform catalog info from CDS.  <a href="#aa3fa60393c5ed1136bc0635d0850205d">More...</a><br/></td></tr>
<tr class="separator:aa3fa60393c5ed1136bc0635d0850205d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad5101080533597baf28f47c15caefd38"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#ad5101080533597baf28f47c15caefd38">is_space_available</a> (const boost::filesystem::path &amp;path, const size_t total_size)</td></tr>
<tr class="memdesc:ad5101080533597baf28f47c15caefd38"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check if storage space is available in a particular location.  <a href="#ad5101080533597baf28f47c15caefd38">More...</a><br/></td></tr>
<tr class="separator:ad5101080533597baf28f47c15caefd38"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a015a528a309236a2a24f0e017e6139fc"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#a015a528a309236a2a24f0e017e6139fc">get_directory_size</a> (const boost::filesystem::path &amp;path, size_t &amp;file_count)</td></tr>
<tr class="memdesc:a015a528a309236a2a24f0e017e6139fc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the size and number of files in a directory path.  <a href="#a015a528a309236a2a24f0e017e6139fc">More...</a><br/></td></tr>
<tr class="separator:a015a528a309236a2a24f0e017e6139fc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b8ada14149eb5bb18244b564e0cce8c"><td class="memItemLeft" align="right" valign="top">static CScheduler &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#a9b8ada14149eb5bb18244b564e0cce8c">get_scheduler</a> ()</td></tr>
<tr class="memdesc:a9b8ada14149eb5bb18244b564e0cce8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get scheduler used by waveform service for long-running tasks.  <a href="#a9b8ada14149eb5bb18244b564e0cce8c">More...</a><br/></td></tr>
<tr class="separator:a9b8ada14149eb5bb18244b564e0cce8c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a135033f3179f62e08c6de70c5346d51d"><td class="memItemLeft" align="right" valign="top">static boost::filesystem::path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#a135033f3179f62e08c6de70c5346d51d">calc_osw_path</a> (const px::id_t device_id, std::string station_id, std::string cause, std::string event_time)</td></tr>
<tr class="memdesc:a135033f3179f62e08c6de70c5346d51d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate unique full path for temporary .osw file.  <a href="#a135033f3179f62e08c6de70c5346d51d">More...</a><br/></td></tr>
<tr class="separator:a135033f3179f62e08c6de70c5346d51d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4cc49878097f12ca13259f22409a773b"><td class="memItemLeft" align="right" valign="top">static boost::filesystem::path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#a4cc49878097f12ca13259f22409a773b">calc_hdr_path</a> (std::string filename)</td></tr>
<tr class="memdesc:a4cc49878097f12ca13259f22409a773b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generate unique-ish filename for loose COMTRADE .hdr file The same base filename with a different extension will be used for the other files in the same waveform set.  <a href="#a4cc49878097f12ca13259f22409a773b">More...</a><br/></td></tr>
<tr class="separator:a4cc49878097f12ca13259f22409a773b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9c750b22c7d8ec4177e95a2088ff43c"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#ab9c750b22c7d8ec4177e95a2088ff43c">write_comtrade_waveform</a> (const char *header, const char *config, const char *data, const char *info, const boost::filesystem::path &amp;tgz_path, boost::system::error_code &amp;ec)</td></tr>
<tr class="separator:ab9c750b22c7d8ec4177e95a2088ff43c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a307b7a8067d7f796c8f7ebf3861f48e2"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#a307b7a8067d7f796c8f7ebf3861f48e2">write_loose_comtrade_files</a> (const std::vector&lt; const char * &gt; &amp;content, const std::vector&lt; boost::filesystem::path &gt; &amp;path, boost::system::error_code &amp;ec)</td></tr>
<tr class="separator:a307b7a8067d7f796c8f7ebf3861f48e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2fb7902a9f291eb22030cf3a772931d"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#aa2fb7902a9f291eb22030cf3a772931d">check_content</a> (const std::vector&lt; const char * &gt; &amp;content, const boost::filesystem::path &amp;working_path, boost::system::error_code &amp;ec)</td></tr>
<tr class="separator:aa2fb7902a9f291eb22030cf3a772931d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6cb778cbce1b3eab63d9c6b8252cad18"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#a6cb778cbce1b3eab63d9c6b8252cad18">package_comtrade_files</a> (const std::vector&lt; boost::filesystem::path &gt; &amp;path, const boost::filesystem::path &amp;tgz_path, boost::system::error_code &amp;ec)</td></tr>
<tr class="separator:a6cb778cbce1b3eab63d9c6b8252cad18"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc1edadb27e86897f51e2d36a79ba4cd"><td class="memItemLeft" align="right" valign="top">static px::CWallTime&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#abc1edadb27e86897f51e2d36a79ba4cd">get_event_time</a> (const <a class="el" href="../../d5/d6c/structWAVEFORM__FILE__HEADER__STRUC.html">WAVEFORM_FILE_HEADER_STRUC</a> *wave_header)</td></tr>
<tr class="separator:abc1edadb27e86897f51e2d36a79ba4cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ae1e199ebb41ac01870209706d27426"><td class="memItemLeft" align="right" valign="top">static std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#a3ae1e199ebb41ac01870209706d27426">get_event_utc_time</a> (const <a class="el" href="../../d5/d6c/structWAVEFORM__FILE__HEADER__STRUC.html">WAVEFORM_FILE_HEADER_STRUC</a> *wave_header)</td></tr>
<tr class="separator:a3ae1e199ebb41ac01870209706d27426"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe52c80a7cb9d1c1bb4a894a2391e363"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#afe52c80a7cb9d1c1bb4a894a2391e363">set_waveform_available</a> (const std::shared_ptr&lt; <a class="el" href="../../d5/d0c/structICdsHandle.html">ICdsHandle</a> &gt; &amp;cds_handle, const px::id_t device_id, const bool is_waveform_available)</td></tr>
<tr class="separator:afe52c80a7cb9d1c1bb4a894a2391e363"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a72bf9b99972bbf8d5391cbd098da7384"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#a72bf9b99972bbf8d5391cbd098da7384">CWaveformService</a> ()</td></tr>
<tr class="separator:a72bf9b99972bbf8d5391cbd098da7384"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a0a3ca95f135fc5431c7c2401a3beeebb"><td class="memItemLeft" align="right" valign="top">static boost::filesystem::path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#a0a3ca95f135fc5431c7c2401a3beeebb">_waveform_export_path</a> = <a class="el" href="../../d4/d19/waveform__service_8hpp.html#a07758f851f5008e6ffa32a7c27a9bbcd">WAV_EXPORT_DIR</a></td></tr>
<tr class="memdesc:a0a3ca95f135fc5431c7c2401a3beeebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The waveform log path for exporting waveforms as .tgz files.  <a href="#a0a3ca95f135fc5431c7c2401a3beeebb">More...</a><br/></td></tr>
<tr class="separator:a0a3ca95f135fc5431c7c2401a3beeebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae234f571870ac853542eb3adc7d910c1"><td class="memItemLeft" align="right" valign="top">static boost::filesystem::path&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#ae234f571870ac853542eb3adc7d910c1">_waveform_data_path</a> = fs::temp_directory_path()</td></tr>
<tr class="memdesc:ae234f571870ac853542eb3adc7d910c1"><td class="mdescLeft">&#160;</td><td class="mdescRight">The path for storing non-volatile waveform acquisition state data as .json.  <a href="#ae234f571870ac853542eb3adc7d910c1">More...</a><br/></td></tr>
<tr class="separator:ae234f571870ac853542eb3adc7d910c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa9f25dae79d58335cdc46dbf732edf80"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#aa9f25dae79d58335cdc46dbf732edf80">_waveform_log_capacity</a> = 100000000</td></tr>
<tr class="memdesc:aa9f25dae79d58335cdc46dbf732edf80"><td class="mdescLeft">&#160;</td><td class="mdescRight">The waveform log file capacity in bytes.  <a href="#aa9f25dae79d58335cdc46dbf732edf80">More...</a><br/></td></tr>
<tr class="separator:aa9f25dae79d58335cdc46dbf732edf80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abc85c613cf0b07ed8e8304d77f6f3070"><td class="memItemLeft" align="right" valign="top">static float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d7f/classCWaveformService.html#abc85c613cf0b07ed8e8304d77f6f3070">_percent_capacity_used</a> = 0.0</td></tr>
<tr class="memdesc:abc85c613cf0b07ed8e8304d77f6f3070"><td class="mdescLeft">&#160;</td><td class="mdescRight">The percentage of the waveform log capacity currently in use.  <a href="#abc85c613cf0b07ed8e8304d77f6f3070">More...</a><br/></td></tr>
<tr class="separator:abc85c613cf0b07ed8e8304d77f6f3070"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="../../d4/d19/waveform__service_8hpp_source.html#l00050">50</a> of file <a class="el" href="../../d4/d19/waveform__service_8hpp_source.html">waveform_service.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a72bf9b99972bbf8d5391cbd098da7384"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CWaveformService::CWaveformService </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/d19/waveform__service_8hpp_source.html#l00302">302</a> of file <a class="el" href="../../d4/d19/waveform__service_8hpp_source.html">waveform_service.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a589fd992a4a00071b3846412b5a071f2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d7e/error__types_8hpp.html#a5edd7aad54ac059bf561cf2f92017698">err_t</a> CWaveformService::store_waveform </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="../../d5/d0c/structICdsHandle.html">ICdsHandle</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>cds_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::id_t&#160;</td>
          <td class="paramname"><em>parent_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::id_t&#160;</td>
          <td class="paramname"><em>device_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::id_t&#160;</td>
          <td class="paramname"><em>waveform_channel_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string&#160;</td>
          <td class="paramname"><em>station_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d8/dfd/config_8hpp.html#aec93e83855ac17c3c25c55c37ca186dd">BYTE</a> *&#160;</td>
          <td class="paramname"><em>pOswStream</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Store waveform and update housekeeping records. </p>
<p>Older waveforms may be deleted to open disk space or keep the number of stored waveforms at or below the allowed maximum.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cds_handle</td><td>Handle to active CDS connection </td></tr>
    <tr><td class="paramname">device_id</td><td>Unique device ID </td></tr>
    <tr><td class="paramname">waveform</td><td>channel Unique ID </td></tr>
    <tr><td class="paramname">COMTRADE</td><td>Station ID for this device </td></tr>
    <tr><td class="paramname">length</td><td>length of waveform struct </td></tr>
    <tr><td class="paramname">waveform</td><td>pointer to Device oscilligraphic waveform data</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>result of operation </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00484">484</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_a589fd992a4a00071b3846412b5a071f2_cgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_a589fd992a4a00071b3846412b5a071f2_cgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_a589fd992a4a00071b3846412b5a071f2_cgraph" id="d2/d7f/classCWaveformService_a589fd992a4a00071b3846412b5a071f2_cgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#a3ae1e199ebb41ac01870209706d27426" title="CWaveformService::get\l_event_utc_time" alt="" coords="271,198,446,239"/><area shape="rect" id="node4" href="../../d2/d7f/classCWaveformService.html#a135033f3179f62e08c6de70c5346d51d" title="Generate unique full path for temporary .osw file. " alt="" coords="269,263,449,305"/><area shape="rect" id="node5" href="../../d2/d7f/classCWaveformService.html#ad5101080533597baf28f47c15caefd38" title="Check if storage space is available in a particular location. " alt="" coords="1029,406,1195,447"/><area shape="rect" id="node6" href="../../d2/d7f/classCWaveformService.html#a8ae8f414abfdf80c7881deb744c42286" title="Produce final waveform file from .osw file. " alt="" coords="241,329,477,356"/><area shape="rect" id="node17" href="../../d2/d7f/classCWaveformService.html#abc1edadb27e86897f51e2d36a79ba4cd" title="CWaveformService::get\l_event_time" alt="" coords="271,133,446,174"/><area shape="rect" id="node18" href="../../d2/d7f/classCWaveformService.html#aff166c1d4e8b11663f6af90b2aff29cc" title="Store waveform catalog info in CDS Oob Fields: optional string file = 1; // (required) The Waveform f..." alt="" coords="269,486,448,527"/><area shape="rect" id="node24" href="../../d2/d7f/classCWaveformService.html#a92783a2670294f8f61f618c93c755e1c" title="Create a waveform alarm. " alt="" coords="261,591,456,633"/><area shape="rect" id="node3" href="../../dc/dd4/waveform__service_8cpp.html#a59ab9497ecd6ad38c9a250daaec88e7f" title="get_event_time_t" alt="" coords="551,140,687,167"/><area shape="rect" id="node7" href="../../d6/dc1/classCTranslator.html#acb742b71f4f2708b13d1ab84cf002aaf" title="CTranslator::Translate" alt="" coords="537,191,700,217"/><area shape="rect" id="node12" href="../../d2/d7f/classCWaveformService.html#ab9c750b22c7d8ec4177e95a2088ff43c" title="CWaveformService::write\l_comtrade_waveform" alt="" coords="525,282,712,323"/><area shape="rect" id="node8" href="../../de/d05/classCDataUtil.html#a7d9f80597896acc1f7237b2749bd4efe" title="CDataUtil::incom_to\l_host_word" alt="" coords="789,34,942,75"/><area shape="rect" id="node11" href="../../d6/dc1/classCTranslator.html#a91b1270eb2905188a66960dae7562660" title="CTranslator::DoTranslation" alt="" coords="769,100,961,127"/><area shape="rect" id="node9" href="../../de/d05/classCDataUtil.html#a1fd73aca9d5d4c71af178d618afcb0b5" title="Indicates if the platform is low&#45;endian. " alt="" coords="1019,71,1205,97"/><area shape="rect" id="node10" href="../../de/d05/classCDataUtil.html#a5f04b6730473f3690c725435a512f688" title="Swap byte order of 16&#45;bit value (switch endianess) " alt="" coords="1027,5,1197,46"/><area shape="rect" id="node13" href="../../d2/d7f/classCWaveformService.html#a4cc49878097f12ca13259f22409a773b" title="Generate unique&#45;ish filename for loose COMTRADE .hdr file The same base filename with a different ext..." alt="" coords="775,151,955,193"/><area shape="rect" id="node14" href="../../d2/d7f/classCWaveformService.html#aa2fb7902a9f291eb22030cf3a772931d" title="CWaveformService::check\l_content" alt="" coords="769,347,961,389"/><area shape="rect" id="node15" href="../../d2/d7f/classCWaveformService.html#a307b7a8067d7f796c8f7ebf3861f48e2" title="CWaveformService::write\l_loose_comtrade_files" alt="" coords="772,217,959,258"/><area shape="rect" id="node16" href="../../d2/d7f/classCWaveformService.html#a6cb778cbce1b3eab63d9c6b8252cad18" title="CWaveformService::package\l_comtrade_files" alt="" coords="761,282,970,323"/><area shape="rect" id="node19" href="../../d2/d7f/classCWaveformService.html#a015a528a309236a2a24f0e017e6139fc" title="Gets the size and number of files in a directory path. " alt="" coords="531,581,706,622"/><area shape="rect" id="node20" href="../../dc/dd4/waveform__service_8cpp.html#a2bc1e6607e522abe1e5d0640ae56e5b3" title="to_export_path" alt="" coords="559,464,679,491"/><area shape="rect" id="node22" href="../../dc/dd4/waveform__service_8cpp.html#a2f00cebe419a6d0aacae12669f9379ae" title="to_www_path" alt="" coords="563,647,674,673"/><area shape="rect" id="node23" href="../../d2/d7f/classCWaveformService.html#afe52c80a7cb9d1c1bb4a894a2391e363" title="CWaveformService::set\l_waveform_available" alt="" coords="531,515,706,557"/><area shape="rect" id="node21" href="../../d2/d7f/classCWaveformService.html#abcf03dc7eaacadfd726ec5306936ae41" title="Getter for the waveform export path. " alt="" coords="778,465,953,506"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aadc41ea5e07191358f81528feb599fe0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d7e/error__types_8hpp.html#a5edd7aad54ac059bf561cf2f92017698">err_t</a> CWaveformService::delete_waveform </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="../../d5/d0c/structICdsHandle.html">ICdsHandle</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>cds_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::id_t&#160;</td>
          <td class="paramname"><em>device_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file_name</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Delete waveform with specified name, from filesystem and CDS record. </p>

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00386">386</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_aadc41ea5e07191358f81528feb599fe0_cgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_aadc41ea5e07191358f81528feb599fe0_cgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_aadc41ea5e07191358f81528feb599fe0_cgraph" id="d2/d7f/classCWaveformService_aadc41ea5e07191358f81528feb599fe0_cgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#aa3fa60393c5ed1136bc0635d0850205d" title="Remove waveform catalog info from CDS. " alt="" coords="249,5,453,46"/><area shape="rect" id="node4" href="../../d2/d7f/classCWaveformService.html#aa325d3c51d67360b1e085aa93ec4834d" title="Cleanup waveform area &#45; Delete any TGZ files that are not in the CDS waveform list. " alt="" coords="248,70,453,111"/><area shape="rect" id="node3" href="../../d2/d7f/classCWaveformService.html#afe52c80a7cb9d1c1bb4a894a2391e363" title="CWaveformService::set\l_waveform_available" alt="" coords="502,5,677,46"/><area shape="rect" id="node5" href="../../dc/dd4/waveform__service_8cpp.html#a0a86d4dac935946d77ec1b1b223402c9" title="get_files_from_dir" alt="" coords="520,71,659,97"/><area shape="rect" id="node6" href="../../d2/d7f/classCWaveformService.html#a015a528a309236a2a24f0e017e6139fc" title="Gets the size and number of files in a directory path. " alt="" coords="502,122,677,163"/><area shape="rect" id="node7" href="../../dc/dd4/waveform__service_8cpp.html#a2bc1e6607e522abe1e5d0640ae56e5b3" title="to_export_path" alt="" coords="529,188,649,215"/><area shape="rect" id="node8" href="../../d2/d7f/classCWaveformService.html#abcf03dc7eaacadfd726ec5306936ae41" title="Getter for the waveform export path. " alt="" coords="726,181,901,222"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_aadc41ea5e07191358f81528feb599fe0_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_aadc41ea5e07191358f81528feb599fe0_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_aadc41ea5e07191358f81528feb599fe0_icgraph" id="d2/d7f/classCWaveformService_aadc41ea5e07191358f81528feb599fe0_icgraph">
<area shape="rect" id="node2" href="../../d7/d46/classCModbusDevice.html#a53f23722e476f1bd17a33a2ddcadf862" title="Call this function to create and execute the named command for this Device. " alt="" coords="248,5,435,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0283952de64f3d56009f8b3ab481c5a6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CWaveformService::purge_device_waveforms </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="../../d5/d0c/structICdsHandle.html">ICdsHandle</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>cds_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::id_t&#160;</td>
          <td class="paramname"><em>device_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Completely remove all waveform info for device (including waveform state tracking) This method is for cleanup when a device is deleted. </p>

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00412">412</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_a0283952de64f3d56009f8b3ab481c5a6_cgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_a0283952de64f3d56009f8b3ab481c5a6_cgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_a0283952de64f3d56009f8b3ab481c5a6_cgraph" id="d2/d7f/classCWaveformService_a0283952de64f3d56009f8b3ab481c5a6_cgraph">
<area shape="rect" id="node2" href="../../d3/dd8/classCWaveformState.html#a1a3e35ae166a956de7425acf07b9f1c8" title="Remove device and its waveform state list and persist. " alt="" coords="245,99,456,141"/><area shape="rect" id="node8" href="../../d2/d7f/classCWaveformService.html#aa325d3c51d67360b1e085aa93ec4834d" title="Cleanup waveform area &#45; Delete any TGZ files that are not in the CDS waveform list. " alt="" coords="248,209,453,250"/><area shape="rect" id="node3" href="../../d3/dd8/classCWaveformState.html#abc5cbc85e4ddd94de1dfc6a8c7fbc2dc" title="CWaveformState::read_file" alt="" coords="506,56,702,83"/><area shape="rect" id="node6" href="../../d3/dd8/classCWaveformState.html#a51f1de22c14d3fdde86a15da916c495f" title="CWaveformState::write_file" alt="" coords="504,107,704,133"/><area shape="rect" id="node4" href="../../d3/dd8/classCWaveformState.html#aaca01b8c95fc8b6b92da1c41c873a8d7" title="CWaveformState::from_json" alt="" coords="753,5,959,32"/><area shape="rect" id="node5" href="../../d3/dd8/classCWaveformState.html#ab4e26f2fccabb6ae1f16b077d80c7ba5" title="CWaveformState::delete_file" alt="" coords="752,56,960,83"/><area shape="rect" id="node7" href="../../d3/dd8/classCWaveformState.html#ad7e9d66fa034853222c1530c5adc7480" title="CWaveformState::to_json" alt="" coords="763,107,949,133"/><area shape="rect" id="node9" href="../../dc/dd4/waveform__service_8cpp.html#a0a86d4dac935946d77ec1b1b223402c9" title="get_files_from_dir" alt="" coords="535,157,673,184"/><area shape="rect" id="node10" href="../../d2/d7f/classCWaveformService.html#a015a528a309236a2a24f0e017e6139fc" title="Gets the size and number of files in a directory path. " alt="" coords="517,209,691,250"/><area shape="rect" id="node11" href="../../dc/dd4/waveform__service_8cpp.html#a2bc1e6607e522abe1e5d0640ae56e5b3" title="to_export_path" alt="" coords="544,275,664,301"/><area shape="rect" id="node13" href="../../d2/d7f/classCWaveformService.html#afe52c80a7cb9d1c1bb4a894a2391e363" title="CWaveformService::set\l_waveform_available" alt="" coords="517,326,691,367"/><area shape="rect" id="node12" href="../../d2/d7f/classCWaveformService.html#abcf03dc7eaacadfd726ec5306936ae41" title="Getter for the waveform export path. " alt="" coords="769,267,943,309"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_a0283952de64f3d56009f8b3ab481c5a6_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_a0283952de64f3d56009f8b3ab481c5a6_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_a0283952de64f3d56009f8b3ab481c5a6_icgraph" id="d2/d7f/classCWaveformService_a0283952de64f3d56009f8b3ab481c5a6_icgraph">
<area shape="rect" id="node2" href="../../df/d6f/classCSerialPort.html#a6cffd32e3a1abd7a80d83735e1b7a24c" title="Call this function to purge wvaeforms for a device (if suppported). " alt="" coords="245,5,384,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6853a435b1d2b6ccaad47eef5f98f731"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CWaveformService::check_waveform_state </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if the waveform state file is OK. </p>
<p>Will delete the existing waveform state file if a problem is found. </p>

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00466">466</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_a6853a435b1d2b6ccaad47eef5f98f731_cgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_a6853a435b1d2b6ccaad47eef5f98f731_cgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_a6853a435b1d2b6ccaad47eef5f98f731_cgraph" id="d2/d7f/classCWaveformService_a6853a435b1d2b6ccaad47eef5f98f731_cgraph">
<area shape="rect" id="node2" href="../../d3/dd8/classCWaveformState.html#ad345f55a5c79c4201be2c9c64cab9856" title="Check if the waveform state file is OK. " alt="" coords="245,23,424,65"/><area shape="rect" id="node3" href="../../d3/dd8/classCWaveformState.html#abc5cbc85e4ddd94de1dfc6a8c7fbc2dc" title="CWaveformState::read_file" alt="" coords="473,31,669,57"/><area shape="rect" id="node4" href="../../d3/dd8/classCWaveformState.html#aaca01b8c95fc8b6b92da1c41c873a8d7" title="CWaveformState::from_json" alt="" coords="719,5,924,32"/><area shape="rect" id="node5" href="../../d3/dd8/classCWaveformState.html#ab4e26f2fccabb6ae1f16b077d80c7ba5" title="CWaveformState::delete_file" alt="" coords="717,56,925,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a26f89e18cd1ce57b90ccb1d98ae2358c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d7e/error__types_8hpp.html#a5edd7aad54ac059bf561cf2f92017698">err_t</a> CWaveformService::read_waveform_state </td>
          <td>(</td>
          <td class="paramtype">const px::id_t&#160;</td>
          <td class="paramname"><em>device_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>waveform_state_out</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Fill supplied vector with DH's latest known position dependent list of ID's for waveforms on the device. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">waveform_state</td><td>DH's latest known position dependent list of ID's for waveforms on the device</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>result of operation </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00472">472</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_a26f89e18cd1ce57b90ccb1d98ae2358c_cgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_a26f89e18cd1ce57b90ccb1d98ae2358c_cgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_a26f89e18cd1ce57b90ccb1d98ae2358c_cgraph" id="d2/d7f/classCWaveformService_a26f89e18cd1ce57b90ccb1d98ae2358c_cgraph">
<area shape="rect" id="node2" href="../../d3/dd8/classCWaveformState.html#a6c73dc584965a566498cf2b0c1002e7b" title="Read persistent waveform state information for device. " alt="" coords="238,23,407,65"/><area shape="rect" id="node3" href="../../d3/dd8/classCWaveformState.html#abc5cbc85e4ddd94de1dfc6a8c7fbc2dc" title="CWaveformState::read_file" alt="" coords="457,31,653,57"/><area shape="rect" id="node4" href="../../d3/dd8/classCWaveformState.html#aaca01b8c95fc8b6b92da1c41c873a8d7" title="CWaveformState::from_json" alt="" coords="703,5,908,32"/><area shape="rect" id="node5" href="../../d3/dd8/classCWaveformState.html#ab4e26f2fccabb6ae1f16b077d80c7ba5" title="CWaveformState::delete_file" alt="" coords="701,56,909,83"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acf4b95fb13085450463200511aec0615"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d7e/error__types_8hpp.html#a5edd7aad54ac059bf561cf2f92017698">err_t</a> CWaveformService::write_waveform_state </td>
          <td>(</td>
          <td class="paramtype">const px::id_t&#160;</td>
          <td class="paramname"><em>device_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; uint32_t &gt; &amp;&#160;</td>
          <td class="paramname"><em>waveform_state</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>For testing - store provided waveform_state list. </p>

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00478">478</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_acf4b95fb13085450463200511aec0615_cgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_acf4b95fb13085450463200511aec0615_cgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_acf4b95fb13085450463200511aec0615_cgraph" id="d2/d7f/classCWaveformService_acf4b95fb13085450463200511aec0615_cgraph">
<area shape="rect" id="node2" href="../../d3/dd8/classCWaveformState.html#a336de2020a229ebd5c4b85fba93a928f" title="Persist waveform state information for device. " alt="" coords="240,74,413,115"/><area shape="rect" id="node3" href="../../d3/dd8/classCWaveformState.html#abc5cbc85e4ddd94de1dfc6a8c7fbc2dc" title="CWaveformState::read_file" alt="" coords="463,56,659,83"/><area shape="rect" id="node6" href="../../d3/dd8/classCWaveformState.html#a51f1de22c14d3fdde86a15da916c495f" title="CWaveformState::write_file" alt="" coords="461,107,661,133"/><area shape="rect" id="node4" href="../../d3/dd8/classCWaveformState.html#aaca01b8c95fc8b6b92da1c41c873a8d7" title="CWaveformState::from_json" alt="" coords="711,5,916,32"/><area shape="rect" id="node5" href="../../d3/dd8/classCWaveformState.html#ab4e26f2fccabb6ae1f16b077d80c7ba5" title="CWaveformState::delete_file" alt="" coords="709,56,917,83"/><area shape="rect" id="node7" href="../../d3/dd8/classCWaveformState.html#ad7e9d66fa034853222c1530c5adc7480" title="CWaveformState::to_json" alt="" coords="720,107,907,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa325d3c51d67360b1e085aa93ec4834d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CWaveformService::cleanup_waveform_space </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="../../d5/d0c/structICdsHandle.html">ICdsHandle</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>cds_handle</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Cleanup waveform area - Delete any TGZ files that are not in the CDS waveform list. </p>

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00250">250</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_aa325d3c51d67360b1e085aa93ec4834d_cgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_aa325d3c51d67360b1e085aa93ec4834d_cgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_aa325d3c51d67360b1e085aa93ec4834d_cgraph" id="d2/d7f/classCWaveformService_aa325d3c51d67360b1e085aa93ec4834d_cgraph">
<area shape="rect" id="node2" href="../../dc/dd4/waveform__service_8cpp.html#a0a86d4dac935946d77ec1b1b223402c9" title="get_files_from_dir" alt="" coords="277,5,416,32"/><area shape="rect" id="node3" href="../../d2/d7f/classCWaveformService.html#a015a528a309236a2a24f0e017e6139fc" title="Gets the size and number of files in a directory path. " alt="" coords="259,57,434,98"/><area shape="rect" id="node4" href="../../dc/dd4/waveform__service_8cpp.html#a2bc1e6607e522abe1e5d0640ae56e5b3" title="to_export_path" alt="" coords="287,123,407,149"/><area shape="rect" id="node6" href="../../d2/d7f/classCWaveformService.html#afe52c80a7cb9d1c1bb4a894a2391e363" title="CWaveformService::set\l_waveform_available" alt="" coords="259,174,434,215"/><area shape="rect" id="node5" href="../../d2/d7f/classCWaveformService.html#abcf03dc7eaacadfd726ec5306936ae41" title="Getter for the waveform export path. " alt="" coords="483,115,658,157"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_aa325d3c51d67360b1e085aa93ec4834d_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_aa325d3c51d67360b1e085aa93ec4834d_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_aa325d3c51d67360b1e085aa93ec4834d_icgraph" id="d2/d7f/classCWaveformService_aa325d3c51d67360b1e085aa93ec4834d_icgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#aadc41ea5e07191358f81528feb599fe0" title="Delete waveform with specified name, from filesystem and CDS record. " alt="" coords="259,5,453,46"/><area shape="rect" id="node4" href="../../d2/d7f/classCWaveformService.html#a0283952de64f3d56009f8b3ab481c5a6" title="Completely remove all waveform info for device (including waveform state tracking) This method is for..." alt="" coords="261,70,451,111"/><area shape="rect" id="node3" href="../../d7/d46/classCModbusDevice.html#a53f23722e476f1bd17a33a2ddcadf862" title="Call this function to create and execute the named command for this Device. " alt="" coords="501,5,688,46"/><area shape="rect" id="node5" href="../../df/d6f/classCSerialPort.html#a6cffd32e3a1abd7a80d83735e1b7a24c" title="Call this function to purge wvaeforms for a device (if suppported). " alt="" coords="525,70,664,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a233e6c355c103f19ea72e416def690f8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CWaveformService::set_export_path </td>
          <td>(</td>
          <td class="paramtype">px::string&#160;</td>
          <td class="paramname"><em>waveform_export_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setter to configure the waveform export path. </p>

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00101">101</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_a233e6c355c103f19ea72e416def690f8_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_a233e6c355c103f19ea72e416def690f8_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_a233e6c355c103f19ea72e416def690f8_icgraph" id="d2/d7f/classCWaveformService_a233e6c355c103f19ea72e416def690f8_icgraph">
<area shape="rect" id="node2" href="../../dc/de3/classCDeviceHandlerCore.html#a2f61bd2758f039bdf6fd36db67a0f7dd" title="This function sets up the configuration for the main loop(). " alt="" coords="229,5,387,46"/><area shape="rect" id="node3" href="../../d0/da8/group__DH__Startup.html#ga0ddf1224851353fc92bfbff6f499fa97" title="The program entry point, main(). " alt="" coords="435,12,490,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abcf03dc7eaacadfd726ec5306936ae41"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">fs::path CWaveformService::get_export_path </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Getter for the waveform export path. </p>

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00107">107</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_abcf03dc7eaacadfd726ec5306936ae41_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_abcf03dc7eaacadfd726ec5306936ae41_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_abcf03dc7eaacadfd726ec5306936ae41_icgraph" id="d2/d7f/classCWaveformService_abcf03dc7eaacadfd726ec5306936ae41_icgraph">
<area shape="rect" id="node2" href="../../dc/dd4/waveform__service_8cpp.html#a2bc1e6607e522abe1e5d0640ae56e5b3" title="to_export_path" alt="" coords="229,111,349,137"/><area shape="rect" id="node3" href="../../d2/d7f/classCWaveformService.html#aa325d3c51d67360b1e085aa93ec4834d" title="Cleanup waveform area &#45; Delete any TGZ files that are not in the CDS waveform list. " alt="" coords="397,70,603,111"/><area shape="rect" id="node8" href="../../d2/d7f/classCWaveformService.html#aff166c1d4e8b11663f6af90b2aff29cc" title="Store waveform catalog info in CDS Oob Fields: optional string file = 1; // (required) The Waveform f..." alt="" coords="411,135,589,177"/><area shape="rect" id="node4" href="../../d2/d7f/classCWaveformService.html#aadc41ea5e07191358f81528feb599fe0" title="Delete waveform with specified name, from filesystem and CDS record. " alt="" coords="651,5,845,46"/><area shape="rect" id="node6" href="../../d2/d7f/classCWaveformService.html#a0283952de64f3d56009f8b3ab481c5a6" title="Completely remove all waveform info for device (including waveform state tracking) This method is for..." alt="" coords="653,70,843,111"/><area shape="rect" id="node5" href="../../d7/d46/classCModbusDevice.html#a53f23722e476f1bd17a33a2ddcadf862" title="Call this function to create and execute the named command for this Device. " alt="" coords="893,5,1080,46"/><area shape="rect" id="node7" href="../../df/d6f/classCSerialPort.html#a6cffd32e3a1abd7a80d83735e1b7a24c" title="Call this function to purge wvaeforms for a device (if suppported). " alt="" coords="917,70,1056,111"/><area shape="rect" id="node9" href="../../d2/d7f/classCWaveformService.html#a589fd992a4a00071b3846412b5a071f2" title="Store waveform and update housekeeping records. " alt="" coords="655,135,841,177"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad014506631150056f5ff3165dff1cfe9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CWaveformService::set_data_path </td>
          <td>(</td>
          <td class="paramtype">px::string&#160;</td>
          <td class="paramname"><em>waveform_data_path</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setter to configure the path for the waveform state data. </p>

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00112">112</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_ad014506631150056f5ff3165dff1cfe9_cgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_ad014506631150056f5ff3165dff1cfe9_cgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_ad014506631150056f5ff3165dff1cfe9_cgraph" id="d2/d7f/classCWaveformService_ad014506631150056f5ff3165dff1cfe9_cgraph">
<area shape="rect" id="node2" href="../../d3/dd8/classCWaveformState.html#a6f114912f60efab4c7f93bfa5491f108" title="Change storage path. " alt="" coords="229,5,389,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_ad014506631150056f5ff3165dff1cfe9_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_ad014506631150056f5ff3165dff1cfe9_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_ad014506631150056f5ff3165dff1cfe9_icgraph" id="d2/d7f/classCWaveformService_ad014506631150056f5ff3165dff1cfe9_icgraph">
<area shape="rect" id="node2" href="../../dc/de3/classCDeviceHandlerCore.html#a2f61bd2758f039bdf6fd36db67a0f7dd" title="This function sets up the configuration for the main loop(). " alt="" coords="229,5,387,46"/><area shape="rect" id="node3" href="../../d0/da8/group__DH__Startup.html#ga0ddf1224851353fc92bfbff6f499fa97" title="The program entry point, main(). " alt="" coords="435,12,490,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a22d54cd96a743ba1a25a7f8350dcb62d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CWaveformService::set_log_capacity </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>waveform_log_capacity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Setter to configure the waveform log file capacity. </p>

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00121">121</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_a22d54cd96a743ba1a25a7f8350dcb62d_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_a22d54cd96a743ba1a25a7f8350dcb62d_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_a22d54cd96a743ba1a25a7f8350dcb62d_icgraph" id="d2/d7f/classCWaveformService_a22d54cd96a743ba1a25a7f8350dcb62d_icgraph">
<area shape="rect" id="node2" href="../../dc/de3/classCDeviceHandlerCore.html#a2f61bd2758f039bdf6fd36db67a0f7dd" title="This function sets up the configuration for the main loop(). " alt="" coords="229,5,387,46"/><area shape="rect" id="node3" href="../../d0/da8/group__DH__Startup.html#ga0ddf1224851353fc92bfbff6f499fa97" title="The program entry point, main(). " alt="" coords="435,12,490,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8ae8f414abfdf80c7881deb744c42286"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d7e/error__types_8hpp.html#a5edd7aad54ac059bf561cf2f92017698">err_t</a> CWaveformService::convert_osw </td>
          <td>(</td>
          <td class="paramtype">const boost::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>osw_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>tgz_path_out</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::id_t&#160;</td>
          <td class="paramname"><em>device_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string&#160;</td>
          <td class="paramname"><em>station_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Produce final waveform file from .osw file. </p>

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00592">592</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_a8ae8f414abfdf80c7881deb744c42286_cgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_a8ae8f414abfdf80c7881deb744c42286_cgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_a8ae8f414abfdf80c7881deb744c42286_cgraph" id="d2/d7f/classCWaveformService_a8ae8f414abfdf80c7881deb744c42286_cgraph">
<area shape="rect" id="node2" href="../../d6/dc1/classCTranslator.html#acb742b71f4f2708b13d1ab84cf002aaf" title="CTranslator::Translate" alt="" coords="303,93,465,120"/><area shape="rect" id="node7" href="../../d2/d7f/classCWaveformService.html#ab9c750b22c7d8ec4177e95a2088ff43c" title="CWaveformService::write\l_comtrade_waveform" alt="" coords="291,210,477,251"/><area shape="rect" id="node3" href="../../de/d05/classCDataUtil.html#a7d9f80597896acc1f7237b2749bd4efe" title="CDataUtil::incom_to\l_host_word" alt="" coords="554,27,707,69"/><area shape="rect" id="node6" href="../../d6/dc1/classCTranslator.html#a91b1270eb2905188a66960dae7562660" title="CTranslator::DoTranslation" alt="" coords="535,93,727,120"/><area shape="rect" id="node4" href="../../de/d05/classCDataUtil.html#a1fd73aca9d5d4c71af178d618afcb0b5" title="Indicates if the platform is low&#45;endian. " alt="" coords="785,5,970,32"/><area shape="rect" id="node5" href="../../de/d05/classCDataUtil.html#a5f04b6730473f3690c725435a512f688" title="Swap byte order of 16&#45;bit value (switch endianess) " alt="" coords="792,57,963,98"/><area shape="rect" id="node8" href="../../d2/d7f/classCWaveformService.html#a4cc49878097f12ca13259f22409a773b" title="Generate unique&#45;ish filename for loose COMTRADE .hdr file The same base filename with a different ext..." alt="" coords="541,145,721,186"/><area shape="rect" id="node9" href="../../d2/d7f/classCWaveformService.html#aa2fb7902a9f291eb22030cf3a772931d" title="CWaveformService::check\l_content" alt="" coords="535,210,727,251"/><area shape="rect" id="node11" href="../../d2/d7f/classCWaveformService.html#a307b7a8067d7f796c8f7ebf3861f48e2" title="CWaveformService::write\l_loose_comtrade_files" alt="" coords="537,275,724,317"/><area shape="rect" id="node12" href="../../d2/d7f/classCWaveformService.html#a6cb778cbce1b3eab63d9c6b8252cad18" title="CWaveformService::package\l_comtrade_files" alt="" coords="526,341,735,382"/><area shape="rect" id="node10" href="../../d2/d7f/classCWaveformService.html#ad5101080533597baf28f47c15caefd38" title="Check if storage space is available in a particular location. " alt="" coords="795,210,960,251"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_a8ae8f414abfdf80c7881deb744c42286_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_a8ae8f414abfdf80c7881deb744c42286_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_a8ae8f414abfdf80c7881deb744c42286_icgraph" id="d2/d7f/classCWaveformService_a8ae8f414abfdf80c7881deb744c42286_icgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#a589fd992a4a00071b3846412b5a071f2" title="Store waveform and update housekeeping records. " alt="" coords="291,5,477,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aff166c1d4e8b11663f6af90b2aff29cc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d7e/error__types_8hpp.html#a5edd7aad54ac059bf561cf2f92017698">err_t</a> CWaveformService::add_waveform_to_cds </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="../../d5/d0c/structICdsHandle.html">ICdsHandle</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>cds_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>tgz_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string&#160;</td>
          <td class="paramname"><em>cause</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::id_t&#160;</td>
          <td class="paramname"><em>parent_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::id_t&#160;</td>
          <td class="paramname"><em>device_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::CWallTime &amp;&#160;</td>
          <td class="paramname"><em>capture_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::CWallTime &amp;&#160;</td>
          <td class="paramname"><em>receive_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Store waveform catalog info in CDS Oob Fields: optional string file = 1; // (required) The Waveform file name. </p>
<p>optional string cause = 2; // (required) Cause of the Waveform capture optional uint32 parent_id = 3; // (required) Parent device ID (Port ID) optional uint32 device_id = 4; // (required) Device ID optional Timestamp capture_time = 5; // (required) UTC Time when the waveform was captured. optional Timestamp receive_time = 6; // (required) UTC time when the waveform was received (like now) </p>

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00664">664</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_aff166c1d4e8b11663f6af90b2aff29cc_cgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_aff166c1d4e8b11663f6af90b2aff29cc_cgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_aff166c1d4e8b11663f6af90b2aff29cc_cgraph" id="d2/d7f/classCWaveformService_aff166c1d4e8b11663f6af90b2aff29cc_cgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#a015a528a309236a2a24f0e017e6139fc" title="Gets the size and number of files in a directory path. " alt="" coords="233,5,407,46"/><area shape="rect" id="node3" href="../../d2/d7f/classCWaveformService.html#ad5101080533597baf28f47c15caefd38" title="Check if storage space is available in a particular location. " alt="" coords="237,70,403,111"/><area shape="rect" id="node4" href="../../dc/dd4/waveform__service_8cpp.html#a2bc1e6607e522abe1e5d0640ae56e5b3" title="to_export_path" alt="" coords="260,136,380,163"/><area shape="rect" id="node6" href="../../dc/dd4/waveform__service_8cpp.html#a2f00cebe419a6d0aacae12669f9379ae" title="to_www_path" alt="" coords="265,187,375,213"/><area shape="rect" id="node7" href="../../d2/d7f/classCWaveformService.html#afe52c80a7cb9d1c1bb4a894a2391e363" title="CWaveformService::set\l_waveform_available" alt="" coords="233,238,407,279"/><area shape="rect" id="node5" href="../../d2/d7f/classCWaveformService.html#abcf03dc7eaacadfd726ec5306936ae41" title="Getter for the waveform export path. " alt="" coords="457,129,631,170"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_aff166c1d4e8b11663f6af90b2aff29cc_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_aff166c1d4e8b11663f6af90b2aff29cc_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_aff166c1d4e8b11663f6af90b2aff29cc_icgraph" id="d2/d7f/classCWaveformService_aff166c1d4e8b11663f6af90b2aff29cc_icgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#a589fd992a4a00071b3846412b5a071f2" title="Store waveform and update housekeeping records. " alt="" coords="232,5,419,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a92783a2670294f8f61f618c93c755e1c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d7e/error__types_8hpp.html#a5edd7aad54ac059bf561cf2f92017698">err_t</a> CWaveformService::create_waveform_alarm </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="../../d5/d0c/structICdsHandle.html">ICdsHandle</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>cds_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>tgz_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string&#160;</td>
          <td class="paramname"><em>cause</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::id_t&#160;</td>
          <td class="paramname"><em>waveform_channel_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::CWallTime &amp;&#160;</td>
          <td class="paramname"><em>capture_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Create a waveform alarm. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cds_handle</td><td>Handle to active CDS connection </td></tr>
    <tr><td class="paramname">tgz_path</td><td>Path to stored waveform </td></tr>
    <tr><td class="paramname">cause</td><td>Cause of the Waveform capture </td></tr>
    <tr><td class="paramname">waveform_channel_id</td><td>ID of the device waveform channel </td></tr>
    <tr><td class="paramname">capture_time</td><td>Represents the UTC time when the waveform was captured.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>err_t::NO_ERROR is successful </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00864">864</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_a92783a2670294f8f61f618c93c755e1c_cgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_a92783a2670294f8f61f618c93c755e1c_cgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_a92783a2670294f8f61f618c93c755e1c_cgraph" id="d2/d7f/classCWaveformService_a92783a2670294f8f61f618c93c755e1c_cgraph">
<area shape="rect" id="node2" href="../../dc/dd4/waveform__service_8cpp.html#a2f00cebe419a6d0aacae12669f9379ae" title="to_www_path" alt="" coords="249,12,359,39"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_a92783a2670294f8f61f618c93c755e1c_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_a92783a2670294f8f61f618c93c755e1c_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_a92783a2670294f8f61f618c93c755e1c_icgraph" id="d2/d7f/classCWaveformService_a92783a2670294f8f61f618c93c755e1c_icgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#a589fd992a4a00071b3846412b5a071f2" title="Store waveform and update housekeeping records. " alt="" coords="248,5,435,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa3fa60393c5ed1136bc0635d0850205d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d7e/error__types_8hpp.html#a5edd7aad54ac059bf561cf2f92017698">err_t</a> CWaveformService::remove_waveforms_from_cds </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="../../d5/d0c/structICdsHandle.html">ICdsHandle</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>cds_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::id_t&#160;</td>
          <td class="paramname"><em>device_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; boost::filesystem::path &gt; &amp;&#160;</td>
          <td class="paramname"><em>tgz_paths</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Remove waveform catalog info from CDS. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cds_handle</td><td>Handle to active CDS connection </td></tr>
    <tr><td class="paramname">device_id</td><td>ID of device </td></tr>
    <tr><td class="paramname">tgz_paths</td><td>List of paths to stored waveform tarballs that should be removed (Filename portion used as key into cds data)</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>err_t::NO_ERROR is successful </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00907">907</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_aa3fa60393c5ed1136bc0635d0850205d_cgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_aa3fa60393c5ed1136bc0635d0850205d_cgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_aa3fa60393c5ed1136bc0635d0850205d_cgraph" id="d2/d7f/classCWaveformService_aa3fa60393c5ed1136bc0635d0850205d_cgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#afe52c80a7cb9d1c1bb4a894a2391e363" title="CWaveformService::set\l_waveform_available" alt="" coords="259,5,434,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_aa3fa60393c5ed1136bc0635d0850205d_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_aa3fa60393c5ed1136bc0635d0850205d_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_aa3fa60393c5ed1136bc0635d0850205d_icgraph" id="d2/d7f/classCWaveformService_aa3fa60393c5ed1136bc0635d0850205d_icgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#aadc41ea5e07191358f81528feb599fe0" title="Delete waveform with specified name, from filesystem and CDS record. " alt="" coords="259,5,453,46"/><area shape="rect" id="node3" href="../../d7/d46/classCModbusDevice.html#a53f23722e476f1bd17a33a2ddcadf862" title="Call this function to create and execute the named command for this Device. " alt="" coords="501,5,688,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad5101080533597baf28f47c15caefd38"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CWaveformService::is_space_available </td>
          <td>(</td>
          <td class="paramtype">const boost::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>total_size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Check if storage space is available in a particular location. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>file or folder path where you want space </td></tr>
    <tr><td class="paramname">total_size</td><td>total byte size space needed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if at least total_size space is available at path location </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00972">972</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_ad5101080533597baf28f47c15caefd38_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_ad5101080533597baf28f47c15caefd38_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_ad5101080533597baf28f47c15caefd38_icgraph" id="d2/d7f/classCWaveformService_ad5101080533597baf28f47c15caefd38_icgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#a589fd992a4a00071b3846412b5a071f2" title="Store waveform and update housekeeping records. " alt="" coords="979,26,1165,67"/><area shape="rect" id="node3" href="../../d2/d7f/classCWaveformService.html#aff166c1d4e8b11663f6af90b2aff29cc" title="Store waveform catalog info in CDS Oob Fields: optional string file = 1; // (required) The Waveform f..." alt="" coords="463,26,641,67"/><area shape="rect" id="node4" href="../../d2/d7f/classCWaveformService.html#aa2fb7902a9f291eb22030cf3a772931d" title="CWaveformService::check\l_content" alt="" coords="219,87,411,129"/><area shape="rect" id="node5" href="../../d2/d7f/classCWaveformService.html#ab9c750b22c7d8ec4177e95a2088ff43c" title="CWaveformService::write\l_comtrade_waveform" alt="" coords="459,91,645,133"/><area shape="rect" id="node6" href="../../d2/d7f/classCWaveformService.html#a8ae8f414abfdf80c7881deb744c42286" title="Produce final waveform file from .osw file. " alt="" coords="694,91,930,117"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a015a528a309236a2a24f0e017e6139fc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t CWaveformService::get_directory_size </td>
          <td>(</td>
          <td class="paramtype">const boost::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t &amp;&#160;</td>
          <td class="paramname"><em>file_count</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the size and number of files in a directory path. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">path</td><td>the folder path where you want the size </td></tr>
    <tr><td class="paramname">file_count</td><td>out param returns the number of files in the directory path</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>sum of the size of all files at path location </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00987">987</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_a015a528a309236a2a24f0e017e6139fc_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_a015a528a309236a2a24f0e017e6139fc_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_a015a528a309236a2a24f0e017e6139fc_icgraph" id="d2/d7f/classCWaveformService_a015a528a309236a2a24f0e017e6139fc_icgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#aa325d3c51d67360b1e085aa93ec4834d" title="Cleanup waveform area &#45; Delete any TGZ files that are not in the CDS waveform list. " alt="" coords="229,70,435,111"/><area shape="rect" id="node7" href="../../d2/d7f/classCWaveformService.html#aff166c1d4e8b11663f6af90b2aff29cc" title="Store waveform catalog info in CDS Oob Fields: optional string file = 1; // (required) The Waveform f..." alt="" coords="243,135,421,177"/><area shape="rect" id="node3" href="../../d2/d7f/classCWaveformService.html#aadc41ea5e07191358f81528feb599fe0" title="Delete waveform with specified name, from filesystem and CDS record. " alt="" coords="483,5,677,46"/><area shape="rect" id="node5" href="../../d2/d7f/classCWaveformService.html#a0283952de64f3d56009f8b3ab481c5a6" title="Completely remove all waveform info for device (including waveform state tracking) This method is for..." alt="" coords="485,70,675,111"/><area shape="rect" id="node4" href="../../d7/d46/classCModbusDevice.html#a53f23722e476f1bd17a33a2ddcadf862" title="Call this function to create and execute the named command for this Device. " alt="" coords="725,5,912,46"/><area shape="rect" id="node6" href="../../df/d6f/classCSerialPort.html#a6cffd32e3a1abd7a80d83735e1b7a24c" title="Call this function to purge wvaeforms for a device (if suppported). " alt="" coords="749,70,888,111"/><area shape="rect" id="node8" href="../../d2/d7f/classCWaveformService.html#a589fd992a4a00071b3846412b5a071f2" title="Store waveform and update housekeeping records. " alt="" coords="487,135,673,177"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9b8ada14149eb5bb18244b564e0cce8c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CScheduler &amp; CWaveformService::get_scheduler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get scheduler used by waveform service for long-running tasks. </p>
<dl class="section return"><dt>Returns</dt><dd>waveform scheduler instance </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l01014">1014</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a135033f3179f62e08c6de70c5346d51d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::filesystem::path CWaveformService::calc_osw_path </td>
          <td>(</td>
          <td class="paramtype">const px::id_t&#160;</td>
          <td class="paramname"><em>device_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>station_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>cause</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>event_time</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate unique full path for temporary .osw file. </p>
<p>[temp directory]/[device_id]-[waveform index]-[unique suffix].osw Date in BCD format where [0]=mm, [1]=dd, [2]=yy e.g. /tmp/00001-0166-mmddyy.osw</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device_id</td><td>Unique device ID </td></tr>
    <tr><td class="paramname">COMTRADE</td><td>Station ID for this device </td></tr>
    <tr><td class="paramname">cause</td><td>from the Waveform header </td></tr>
    <tr><td class="paramname">waveform</td><td>event time in UTC</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>unique full path for temporary .osw file </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00134">134</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_a135033f3179f62e08c6de70c5346d51d_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_a135033f3179f62e08c6de70c5346d51d_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_a135033f3179f62e08c6de70c5346d51d_icgraph" id="d2/d7f/classCWaveformService_a135033f3179f62e08c6de70c5346d51d_icgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#a589fd992a4a00071b3846412b5a071f2" title="Store waveform and update housekeeping records. " alt="" coords="235,5,421,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4cc49878097f12ca13259f22409a773b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::filesystem::path CWaveformService::calc_hdr_path </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>filename</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generate unique-ish filename for loose COMTRADE .hdr file The same base filename with a different extension will be used for the other files in the same waveform set. </p>
<p>Based on the USE_LONG_FILENAMES define, calc_hdr_path will be:</p>
<p>1) A random 8.3 DOS file name that follows the COMTRADE C37.111-1999 spec.</p>
<p>2) Use the same long filename as the TGZ archive name. This is allowed under the latest COMTRADE C37.111-2013 spec.</p>
<p>Note: This file does not adhere to C37.232-2007 - Recommended Practice for Naming Time Sequence Data Files.</p>
<p>From the COMTRADE spec (Std C37.111-1999, p. 6):</p>
<p>"File names are in the form xxxxxxxx.yyy. The xxxxxxxx portion is the name used to identify the record (e.g., FAULT1 or TEST_2). The .yyy portion of the file name is used to identify the type of file and is known as the extension: .HDR for the header file, .CFG for the configuration file, .DAT for data file(s), and .INF for the information file. The file names must follow the IBM compatible DOS (MS-DOS Version 6 Operating System User’s Guide [B8]) conventions for legal characters within the file names (e.g., periods and spaces are not allowed as part of the file name). The file names are limited to eight characters and extensions are limited to three characters."</p>
<dl class="section return"><dt>Returns</dt><dd>full path where COMTRADE .hdr file may be written </dd></dl>

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00162">162</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_a4cc49878097f12ca13259f22409a773b_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_a4cc49878097f12ca13259f22409a773b_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_a4cc49878097f12ca13259f22409a773b_icgraph" id="d2/d7f/classCWaveformService_a4cc49878097f12ca13259f22409a773b_icgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#ab9c750b22c7d8ec4177e95a2088ff43c" title="CWaveformService::write\l_comtrade_waveform" alt="" coords="235,5,421,46"/><area shape="rect" id="node3" href="../../d2/d7f/classCWaveformService.html#a8ae8f414abfdf80c7881deb744c42286" title="Produce final waveform file from .osw file. " alt="" coords="470,12,706,39"/><area shape="rect" id="node4" href="../../d2/d7f/classCWaveformService.html#a589fd992a4a00071b3846412b5a071f2" title="Store waveform and update housekeeping records. " alt="" coords="755,5,941,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab9c750b22c7d8ec4177e95a2088ff43c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CWaveformService::write_comtrade_waveform </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>header</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>tgz_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::system::error_code &amp;&#160;</td>
          <td class="paramname"><em>ec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l01023">1023</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_ab9c750b22c7d8ec4177e95a2088ff43c_cgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_ab9c750b22c7d8ec4177e95a2088ff43c_cgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_ab9c750b22c7d8ec4177e95a2088ff43c_cgraph" id="d2/d7f/classCWaveformService_ab9c750b22c7d8ec4177e95a2088ff43c_cgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#a4cc49878097f12ca13259f22409a773b" title="Generate unique&#45;ish filename for loose COMTRADE .hdr file The same base filename with a different ext..." alt="" coords="255,5,435,46"/><area shape="rect" id="node3" href="../../d2/d7f/classCWaveformService.html#aa2fb7902a9f291eb22030cf3a772931d" title="CWaveformService::check\l_content" alt="" coords="249,70,441,111"/><area shape="rect" id="node5" href="../../d2/d7f/classCWaveformService.html#a307b7a8067d7f796c8f7ebf3861f48e2" title="CWaveformService::write\l_loose_comtrade_files" alt="" coords="252,135,439,177"/><area shape="rect" id="node6" href="../../d2/d7f/classCWaveformService.html#a6cb778cbce1b3eab63d9c6b8252cad18" title="CWaveformService::package\l_comtrade_files" alt="" coords="241,201,450,242"/><area shape="rect" id="node4" href="../../d2/d7f/classCWaveformService.html#ad5101080533597baf28f47c15caefd38" title="Check if storage space is available in a particular location. " alt="" coords="499,70,664,111"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_ab9c750b22c7d8ec4177e95a2088ff43c_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_ab9c750b22c7d8ec4177e95a2088ff43c_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_ab9c750b22c7d8ec4177e95a2088ff43c_icgraph" id="d2/d7f/classCWaveformService_ab9c750b22c7d8ec4177e95a2088ff43c_icgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#a8ae8f414abfdf80c7881deb744c42286" title="Produce final waveform file from .osw file. " alt="" coords="241,12,477,39"/><area shape="rect" id="node3" href="../../d2/d7f/classCWaveformService.html#a589fd992a4a00071b3846412b5a071f2" title="Store waveform and update housekeeping records. " alt="" coords="525,5,712,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a307b7a8067d7f796c8f7ebf3861f48e2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CWaveformService::write_loose_comtrade_files </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; const char * &gt; &amp;&#160;</td>
          <td class="paramname"><em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; boost::filesystem::path &gt; &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::system::error_code &amp;&#160;</td>
          <td class="paramname"><em>ec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l01062">1062</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_a307b7a8067d7f796c8f7ebf3861f48e2_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_a307b7a8067d7f796c8f7ebf3861f48e2_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_a307b7a8067d7f796c8f7ebf3861f48e2_icgraph" id="d2/d7f/classCWaveformService_a307b7a8067d7f796c8f7ebf3861f48e2_icgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#ab9c750b22c7d8ec4177e95a2088ff43c" title="CWaveformService::write\l_comtrade_waveform" alt="" coords="240,5,427,46"/><area shape="rect" id="node3" href="../../d2/d7f/classCWaveformService.html#a8ae8f414abfdf80c7881deb744c42286" title="Produce final waveform file from .osw file. " alt="" coords="475,12,711,39"/><area shape="rect" id="node4" href="../../d2/d7f/classCWaveformService.html#a589fd992a4a00071b3846412b5a071f2" title="Store waveform and update housekeeping records. " alt="" coords="760,5,947,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa2fb7902a9f291eb22030cf3a772931d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CWaveformService::check_content </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; const char * &gt; &amp;&#160;</td>
          <td class="paramname"><em>content</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>working_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::system::error_code &amp;&#160;</td>
          <td class="paramname"><em>ec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l01089">1089</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_aa2fb7902a9f291eb22030cf3a772931d_cgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_aa2fb7902a9f291eb22030cf3a772931d_cgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_aa2fb7902a9f291eb22030cf3a772931d_cgraph" id="d2/d7f/classCWaveformService_aa2fb7902a9f291eb22030cf3a772931d_cgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#ad5101080533597baf28f47c15caefd38" title="Check if storage space is available in a particular location. " alt="" coords="245,5,411,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_aa2fb7902a9f291eb22030cf3a772931d_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_aa2fb7902a9f291eb22030cf3a772931d_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_aa2fb7902a9f291eb22030cf3a772931d_icgraph" id="d2/d7f/classCWaveformService_aa2fb7902a9f291eb22030cf3a772931d_icgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#ab9c750b22c7d8ec4177e95a2088ff43c" title="CWaveformService::write\l_comtrade_waveform" alt="" coords="245,5,432,46"/><area shape="rect" id="node3" href="../../d2/d7f/classCWaveformService.html#a8ae8f414abfdf80c7881deb744c42286" title="Produce final waveform file from .osw file. " alt="" coords="481,12,717,39"/><area shape="rect" id="node4" href="../../d2/d7f/classCWaveformService.html#a589fd992a4a00071b3846412b5a071f2" title="Store waveform and update housekeeping records. " alt="" coords="765,5,952,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6cb778cbce1b3eab63d9c6b8252cad18"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CWaveformService::package_comtrade_files </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; boost::filesystem::path &gt; &amp;&#160;</td>
          <td class="paramname"><em>path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::filesystem::path &amp;&#160;</td>
          <td class="paramname"><em>tgz_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::system::error_code &amp;&#160;</td>
          <td class="paramname"><em>ec</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l01116">1116</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_a6cb778cbce1b3eab63d9c6b8252cad18_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_a6cb778cbce1b3eab63d9c6b8252cad18_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_a6cb778cbce1b3eab63d9c6b8252cad18_icgraph" id="d2/d7f/classCWaveformService_a6cb778cbce1b3eab63d9c6b8252cad18_icgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#ab9c750b22c7d8ec4177e95a2088ff43c" title="CWaveformService::write\l_comtrade_waveform" alt="" coords="264,5,451,46"/><area shape="rect" id="node3" href="../../d2/d7f/classCWaveformService.html#a8ae8f414abfdf80c7881deb744c42286" title="Produce final waveform file from .osw file. " alt="" coords="499,12,735,39"/><area shape="rect" id="node4" href="../../d2/d7f/classCWaveformService.html#a589fd992a4a00071b3846412b5a071f2" title="Store waveform and update housekeeping records. " alt="" coords="784,5,971,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abc1edadb27e86897f51e2d36a79ba4cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::CWallTime CWaveformService::get_event_time </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d5/d6c/structWAVEFORM__FILE__HEADER__STRUC.html">WAVEFORM_FILE_HEADER_STRUC</a> *&#160;</td>
          <td class="paramname"><em>wave_header</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00211">211</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_abc1edadb27e86897f51e2d36a79ba4cd_cgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_abc1edadb27e86897f51e2d36a79ba4cd_cgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_abc1edadb27e86897f51e2d36a79ba4cd_cgraph" id="d2/d7f/classCWaveformService_abc1edadb27e86897f51e2d36a79ba4cd_cgraph">
<area shape="rect" id="node2" href="../../dc/dd4/waveform__service_8cpp.html#a59ab9497ecd6ad38c9a250daaec88e7f" title="get_event_time_t" alt="" coords="229,12,365,39"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_abc1edadb27e86897f51e2d36a79ba4cd_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_abc1edadb27e86897f51e2d36a79ba4cd_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_abc1edadb27e86897f51e2d36a79ba4cd_icgraph" id="d2/d7f/classCWaveformService_abc1edadb27e86897f51e2d36a79ba4cd_icgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#a589fd992a4a00071b3846412b5a071f2" title="Store waveform and update housekeeping records. " alt="" coords="229,5,416,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3ae1e199ebb41ac01870209706d27426"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string CWaveformService::get_event_utc_time </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d5/d6c/structWAVEFORM__FILE__HEADER__STRUC.html">WAVEFORM_FILE_HEADER_STRUC</a> *&#160;</td>
          <td class="paramname"><em>wave_header</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l00223">223</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_a3ae1e199ebb41ac01870209706d27426_cgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_a3ae1e199ebb41ac01870209706d27426_cgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_a3ae1e199ebb41ac01870209706d27426_cgraph" id="d2/d7f/classCWaveformService_a3ae1e199ebb41ac01870209706d27426_cgraph">
<area shape="rect" id="node2" href="../../dc/dd4/waveform__service_8cpp.html#a59ab9497ecd6ad38c9a250daaec88e7f" title="get_event_time_t" alt="" coords="229,12,365,39"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_a3ae1e199ebb41ac01870209706d27426_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_a3ae1e199ebb41ac01870209706d27426_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_a3ae1e199ebb41ac01870209706d27426_icgraph" id="d2/d7f/classCWaveformService_a3ae1e199ebb41ac01870209706d27426_icgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#a589fd992a4a00071b3846412b5a071f2" title="Store waveform and update housekeeping records. " alt="" coords="229,5,416,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afe52c80a7cb9d1c1bb4a894a2391e363"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CWaveformService::set_waveform_available </td>
          <td>(</td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="../../d5/d0c/structICdsHandle.html">ICdsHandle</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>cds_handle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::id_t&#160;</td>
          <td class="paramname"><em>device_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>is_waveform_available</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html#l01147">1147</a> of file <a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d7f/classCWaveformService_afe52c80a7cb9d1c1bb4a894a2391e363_icgraph.png" border="0" usemap="#d2/d7f/classCWaveformService_afe52c80a7cb9d1c1bb4a894a2391e363_icgraph" alt=""/></div>
<map name="d2/d7f/classCWaveformService_afe52c80a7cb9d1c1bb4a894a2391e363_icgraph" id="d2/d7f/classCWaveformService_afe52c80a7cb9d1c1bb4a894a2391e363_icgraph">
<area shape="rect" id="node2" href="../../d2/d7f/classCWaveformService.html#aa325d3c51d67360b1e085aa93ec4834d" title="Cleanup waveform area &#45; Delete any TGZ files that are not in the CDS waveform list. " alt="" coords="229,70,435,111"/><area shape="rect" id="node7" href="../../d2/d7f/classCWaveformService.html#aff166c1d4e8b11663f6af90b2aff29cc" title="Store waveform catalog info in CDS Oob Fields: optional string file = 1; // (required) The Waveform f..." alt="" coords="243,135,421,177"/><area shape="rect" id="node9" href="../../d2/d7f/classCWaveformService.html#aa3fa60393c5ed1136bc0635d0850205d" title="Remove waveform catalog info from CDS. " alt="" coords="230,5,434,46"/><area shape="rect" id="node3" href="../../d2/d7f/classCWaveformService.html#aadc41ea5e07191358f81528feb599fe0" title="Delete waveform with specified name, from filesystem and CDS record. " alt="" coords="483,5,677,46"/><area shape="rect" id="node5" href="../../d2/d7f/classCWaveformService.html#a0283952de64f3d56009f8b3ab481c5a6" title="Completely remove all waveform info for device (including waveform state tracking) This method is for..." alt="" coords="485,70,675,111"/><area shape="rect" id="node4" href="../../d7/d46/classCModbusDevice.html#a53f23722e476f1bd17a33a2ddcadf862" title="Call this function to create and execute the named command for this Device. " alt="" coords="725,5,912,46"/><area shape="rect" id="node6" href="../../df/d6f/classCSerialPort.html#a6cffd32e3a1abd7a80d83735e1b7a24c" title="Call this function to purge wvaeforms for a device (if suppported). " alt="" coords="749,70,888,111"/><area shape="rect" id="node8" href="../../d2/d7f/classCWaveformService.html#a589fd992a4a00071b3846412b5a071f2" title="Store waveform and update housekeeping records. " alt="" coords="487,135,673,177"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a3933a5a82475bd2ae9c1d975c1334514"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d3/dd8/classCWaveformState.html">CWaveformState</a> CWaveformService::wave_state</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/d19/waveform__service_8hpp_source.html#l00132">132</a> of file <a class="el" href="../../d4/d19/waveform__service_8hpp_source.html">waveform_service.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0a3ca95f135fc5431c7c2401a3beeebb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">fs::path CWaveformService::_waveform_export_path = <a class="el" href="../../d4/d19/waveform__service_8hpp.html#a07758f851f5008e6ffa32a7c27a9bbcd">WAV_EXPORT_DIR</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The waveform log path for exporting waveforms as .tgz files. </p>

<p>Definition at line <a class="el" href="../../d4/d19/waveform__service_8hpp_source.html#l00302">302</a> of file <a class="el" href="../../d4/d19/waveform__service_8hpp_source.html">waveform_service.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae234f571870ac853542eb3adc7d910c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">fs::path CWaveformService::_waveform_data_path = fs::temp_directory_path()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The path for storing non-volatile waveform acquisition state data as .json. </p>

<p>Definition at line <a class="el" href="../../d4/d19/waveform__service_8hpp_source.html#l00310">310</a> of file <a class="el" href="../../d4/d19/waveform__service_8hpp_source.html">waveform_service.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa9f25dae79d58335cdc46dbf732edf80"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t CWaveformService::_waveform_log_capacity = 100000000</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The waveform log file capacity in bytes. </p>

<p>Definition at line <a class="el" href="../../d4/d19/waveform__service_8hpp_source.html#l00314">314</a> of file <a class="el" href="../../d4/d19/waveform__service_8hpp_source.html">waveform_service.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="abc85c613cf0b07ed8e8304d77f6f3070"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">float CWaveformService::_percent_capacity_used = 0.0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The percentage of the waveform log capacity currently in use. </p>
<p>This is used to "throttle" logging of warnings. </p>

<p>Definition at line <a class="el" href="../../d4/d19/waveform__service_8hpp_source.html#l00319">319</a> of file <a class="el" href="../../d4/d19/waveform__service_8hpp_source.html">waveform_service.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/src/product-ref1/px-toolkit/etn_source/modbus_device_handler/include/cds/<a class="el" href="../../d4/d19/waveform__service_8hpp_source.html">waveform_service.hpp</a></li>
<li>/src/product-ref1/px-toolkit/etn_source/modbus_device_handler/source/cds/<a class="el" href="../../dc/dd4/waveform__service_8cpp_source.html">waveform_service.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d2/d7f/classCWaveformService.html">CWaveformService</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:25:22 for ModbusDeviceHandler by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
