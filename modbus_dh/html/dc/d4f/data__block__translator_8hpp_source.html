<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ModbusDeviceHandler: /src/product-ref1/px-toolkit/etn_source/modbus_device_handler/include/block/data_block_translator.hpp Source File</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ModbusDeviceHandler
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dc/d4f/data__block__translator_8hpp_source.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">data_block_translator.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="../../dc/d4f/data__block__translator_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/* data_block_translator.hpp</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *  Created on: Oct 3, 2012</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *      Author: eaton</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;</div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#ifndef _DATA_BLOCK_TRANSLATOR_HPP</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define _DATA_BLOCK_TRANSLATOR_HPP</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="../../d2/d4d/ext-conv_8hpp.html">ext-conv.hpp</a>&quot;</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;px/type/value.hpp&quot;</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor">#include &quot;px/asio/io_buffer.hpp&quot;</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;px/equation/equation.hpp&quot;</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;px/equation/translator.hpp&quot;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#include &quot;px/type/id.hpp&quot;</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;</div>
<div class="line"><a name="l00019"></a><span class="lineno"><a class="line" href="../../d8/d59/structdata__block__translation__info__s.html">   19</a></span>&#160;<span class="keyword">typedef</span> <span class="keyword">struct </span><a class="code" href="../../d8/d59/structdata__block__translation__info__s.html">data_block_translation_info_s</a></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;{</div>
<div class="line"><a name="l00021"></a><span class="lineno"><a class="line" href="../../d8/d59/structdata__block__translation__info__s.html#a73dc5aae5fd1483bbb91ab0ee6d9f91f">   21</a></span>&#160;    px::string <a class="code" href="../../d8/d59/structdata__block__translation__info__s.html#a73dc5aae5fd1483bbb91ab0ee6d9f91f">xblock_expression</a>;       </div>
<div class="line"><a name="l00022"></a><span class="lineno"><a class="line" href="../../d8/d59/structdata__block__translation__info__s.html#a93a523bca3a9ebf5c237d229118050cb">   22</a></span>&#160;    px::datatype <a class="code" href="../../d8/d59/structdata__block__translation__info__s.html#a93a523bca3a9ebf5c237d229118050cb">data_type</a>;             </div>
<div class="line"><a name="l00023"></a><span class="lineno"><a class="line" href="../../d8/d59/structdata__block__translation__info__s.html#a678b8a6d74562bff014893c67bad7e49">   23</a></span>&#160;    px::id_t <a class="code" href="../../d8/d59/structdata__block__translation__info__s.html#a678b8a6d74562bff014893c67bad7e49">dbt_xblock_id</a>;             </div>
<div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="../../d8/d59/structdata__block__translation__info__s.html#a7ca8dd999ea61204a8e377b0a7211029">   24</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d59/structdata__block__translation__info__s.html#a7ca8dd999ea61204a8e377b0a7211029">dbt_array_index</a>;       </div>
<div class="line"><a name="l00025"></a><span class="lineno"><a class="line" href="../../d8/d59/structdata__block__translation__info__s.html#aac9b342a5e986f238f3a251aa4715280">   25</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d59/structdata__block__translation__info__s.html#aac9b342a5e986f238f3a251aa4715280">dbt_count</a>;             </div>
<div class="line"><a name="l00026"></a><span class="lineno"><a class="line" href="../../d8/d59/structdata__block__translation__info__s.html#a0d847be3709049bc0d05ac4f15187e7a">   26</a></span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <a class="code" href="../../d8/d59/structdata__block__translation__info__s.html#a0d847be3709049bc0d05ac4f15187e7a">dbt_bit_position</a>;      </div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;} <a class="code" href="../../dc/d4f/data__block__translator_8hpp.html#ab2269fe2af505d3c328a19567543881d">data_block_translation_info_t</a>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno"><a class="line" href="../../de/d55/classCDataBlockTranslator.html">   31</a></span>&#160;<span class="keyword">class </span><a class="code" href="../../de/d55/classCDataBlockTranslator.html">CDataBlockTranslator</a></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;{</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="keyword">public</span>:</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="../../de/d55/classCDataBlockTranslator.html#ab6dfd288244fcc1233d4f3cf80e17a47">CDataBlockTranslator</a>();</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="../../de/d55/classCDataBlockTranslator.html">CDataBlockTranslator</a> &amp;<a class="code" href="../../de/d55/classCDataBlockTranslator.html#acc9f29d48735c3862c2503b854428e9e">add_mapping</a>( px::datatype val_type, <a class="code" href="../../d2/d4d/ext-conv_8hpp.html#a0d4f0775270250cf5e207d37fd3530e6">ext_data_type_t</a> ext_type, uint32_t byte_offset );</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="../../de/d55/classCDataBlockTranslator.html">CDataBlockTranslator</a> &amp;<a class="code" href="../../de/d55/classCDataBlockTranslator.html#acc9f29d48735c3862c2503b854428e9e">add_mapping</a>( px::datatype val_type, <a class="code" href="../../d2/d4d/ext-conv_8hpp.html#a0d4f0775270250cf5e207d37fd3530e6">ext_data_type_t</a> ext_type, uint32_t byte_offset, <span class="keyword">const</span> px::string &amp;scaling_expression );</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="../../de/d55/classCDataBlockTranslator.html">CDataBlockTranslator</a> &amp;<a class="code" href="../../de/d55/classCDataBlockTranslator.html#acc9f29d48735c3862c2503b854428e9e">add_mapping</a>( px::datatype val_type, <a class="code" href="../../d2/d4d/ext-conv_8hpp.html#a0d4f0775270250cf5e207d37fd3530e6">ext_data_type_t</a> ext_type, uint32_t byte_offset, <span class="keywordtype">size_t</span> len );</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="../../de/d55/classCDataBlockTranslator.html">CDataBlockTranslator</a> &amp;<a class="code" href="../../de/d55/classCDataBlockTranslator.html#acc9f29d48735c3862c2503b854428e9e">add_mapping</a>( px::datatype val_type, <a class="code" href="../../d2/d4d/ext-conv_8hpp.html#a0d4f0775270250cf5e207d37fd3530e6">ext_data_type_t</a> ext_type, uint32_t byte_offset, <span class="keywordtype">size_t</span> len, <span class="keyword">const</span> px::string &amp;scaling_expression );</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <a class="code" href="../../de/d55/classCDataBlockTranslator.html">CDataBlockTranslator</a> &amp;<a class="code" href="../../de/d55/classCDataBlockTranslator.html#aaf9e025fbf2e589fc46ce5920e3190fc">add_bit_mapping</a>( px::datatype val_type, uint32_t byte_offset, uint8_t bit_offset );</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="../../de/d55/classCDataBlockTranslator.html">CDataBlockTranslator</a> &amp;<a class="code" href="../../de/d55/classCDataBlockTranslator.html#aaf9e025fbf2e589fc46ce5920e3190fc">add_bit_mapping</a>( px::datatype val_type, uint32_t byte_offset, uint8_t bit_offset, <span class="keyword">const</span> px::string &amp;scaling_expression );</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../de/d55/classCDataBlockTranslator.html#a443faf0313fa3866593483db64e4c746">translate</a>( <span class="keyword">const</span> px::asio::io_buf_t &amp;data, std::vector&lt;std::shared_ptr&lt;px::CValue&gt; &gt; &amp;out );</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    px::datatype <a class="code" href="../../de/d55/classCDataBlockTranslator.html#af17a1678c3bc0a7eba513711a0a1a12c">get_dbt_cds_type</a>( <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> dbt_array_index ) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="keyword">protected</span>:</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keyword">static</span> std::shared_ptr&lt;px::eq::CEquation&gt; <a class="code" href="../../de/d55/classCDataBlockTranslator.html#aff42180a13275067ccfd626648086ec4">init_scaling_equation</a>( <span class="keyword">const</span> px::string &amp;scaling_expression );</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="../../de/d55/classCDataBlockTranslator.html#a466df0111e6d3a16775a6d16dccb4a5f">is_supported_scaling_equation</a>( <span class="keyword">const</span> std::vector&lt;px::string&gt; &amp;identifiers );</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="keyword">private</span>:</div>
<div class="line"><a name="l00074"></a><span class="lineno"><a class="line" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html">   74</a></span>&#160;    <span class="keyword">struct </span><a class="code" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html">Mapping</a></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    {</div>
<div class="line"><a name="l00076"></a><span class="lineno"><a class="line" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#acb35b95a9240f1030489b144d12e0f2a">   76</a></span>&#160;        <a class="code" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#acb35b95a9240f1030489b144d12e0f2a">Mapping</a>( px::datatype val_type, <a class="code" href="../../d2/d4d/ext-conv_8hpp.html#a0d4f0775270250cf5e207d37fd3530e6">ext_data_type_t</a> ext_type, uint32_t byte_offset, uint32_t len, <span class="keyword">const</span> px::string &amp;scaling_expression ) :</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            val_type( val_type ), ext_type( ext_type ), byte_offset( byte_offset ), bit_offset( 0 ),</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            len( len ), <a class="code" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#a6c231ecfc0913389ff45b6c9e75a1ed0">is_bit_mapping</a>( false ), scaling_expression( scaling_expression )</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <span class="comment">// The equation translation may fail; don&#39;t let it prevent the rest of this constructor from succeeding.</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="keywordflow">try</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                <a class="code" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#a2a671991b5d4824480867b976dbf6da6">equation</a> = <a class="code" href="../../de/d55/classCDataBlockTranslator.html#aff42180a13275067ccfd626648086ec4">CDataBlockTranslator::init_scaling_equation</a>( scaling_expression );</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code" href="../../d5/df0/structeds__parse__err.html">eds_parse_err</a> &amp;ex )</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            {</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a95dfbfd2a90b668e22a02352c2a80e1e">SVR_NOTICE</a>( 0, <span class="stringliteral">&quot;Failure parsing scaling equation [%s]: %s&quot;</span>, scaling_expression.c_str(), ex.<a class="code" href="../../d5/df0/structeds__parse__err.html#ae7895a7c942bf2450a2670c642407dca">what</a>() );</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;            }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno"><a class="line" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#a65272d07347967b8c1ec5d7aacc0db28">   91</a></span>&#160;        <a class="code" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#a65272d07347967b8c1ec5d7aacc0db28">Mapping</a>( px::datatype val_type, uint32_t byte_offset, uint8_t bit_offset, <span class="keyword">const</span> px::string &amp;scaling_expression ) :</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;            val_type( val_type ), ext_type( <a class="code" href="../../d2/d4d/ext-conv_8hpp.html#a0d4f0775270250cf5e207d37fd3530e6ae18a250b12ba6b18d6f123dab3ac2a22">MODBUS_ONE_BIT</a> ), byte_offset( byte_offset ), bit_offset( bit_offset ),</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;            len( 1 ), <a class="code" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#a6c231ecfc0913389ff45b6c9e75a1ed0">is_bit_mapping</a>( true ), scaling_expression( scaling_expression )</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            <span class="comment">// The equation translation may fail; don&#39;t let it prevent the rest of this constructor from succeeding.</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;            <span class="keywordflow">try</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;            {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                <a class="code" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#a2a671991b5d4824480867b976dbf6da6">equation</a> = <a class="code" href="../../de/d55/classCDataBlockTranslator.html#aff42180a13275067ccfd626648086ec4">CDataBlockTranslator::init_scaling_equation</a>( scaling_expression );</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="keywordflow">catch</span> ( <span class="keyword">const</span> <a class="code" href="../../d5/df0/structeds__parse__err.html">eds_parse_err</a> &amp;ex )</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                <a class="code" href="../../d4/d3d/log_8hpp.html#a95dfbfd2a90b668e22a02352c2a80e1e">SVR_NOTICE</a>( 0, <span class="stringliteral">&quot;Failure parsing scaling equation [%s]: %s&quot;</span>, scaling_expression.c_str(), ex.<a class="code" href="../../d5/df0/structeds__parse__err.html#ae7895a7c942bf2450a2670c642407dca">what</a>() );</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno"><a class="line" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#ac883bf2461fb5c1680f6793ae5e66ecc">  106</a></span>&#160;        <span class="keyword">const</span> px::datatype <a class="code" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#ac883bf2461fb5c1680f6793ae5e66ecc">val_type</a>;</div>
<div class="line"><a name="l00107"></a><span class="lineno"><a class="line" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#adc40201a038b17785f0232bb479838f8">  107</a></span>&#160;        <span class="keyword">const</span> <a class="code" href="../../d2/d4d/ext-conv_8hpp.html#a0d4f0775270250cf5e207d37fd3530e6">ext_data_type_t</a> <a class="code" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#adc40201a038b17785f0232bb479838f8">ext_type</a>;</div>
<div class="line"><a name="l00108"></a><span class="lineno"><a class="line" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#ae7dfe8b62a36811b8a455ab7af533588">  108</a></span>&#160;        <span class="keyword">const</span> uint32_t <a class="code" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#ae7dfe8b62a36811b8a455ab7af533588">byte_offset</a>;</div>
<div class="line"><a name="l00109"></a><span class="lineno"><a class="line" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#a3f078a6be6e19398ba704f1cb62df0b6">  109</a></span>&#160;        <span class="keyword">const</span> uint8_t <a class="code" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#a3f078a6be6e19398ba704f1cb62df0b6">bit_offset</a>;</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#a621d62d9a5f7e6c513da60b6e5531f73">  110</a></span>&#160;        <span class="keyword">const</span> uint32_t <a class="code" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#a621d62d9a5f7e6c513da60b6e5531f73">len</a>;</div>
<div class="line"><a name="l00111"></a><span class="lineno"><a class="line" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#a6c231ecfc0913389ff45b6c9e75a1ed0">  111</a></span>&#160;        <span class="keyword">const</span> <span class="keywordtype">bool</span> <a class="code" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#a6c231ecfc0913389ff45b6c9e75a1ed0">is_bit_mapping</a>;</div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#ae31e4c2ba62ed17255fbcb38f57fb38b">  112</a></span>&#160;        <span class="keyword">const</span> px::string <a class="code" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#ae31e4c2ba62ed17255fbcb38f57fb38b">scaling_expression</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno"><a class="line" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#a2a671991b5d4824480867b976dbf6da6">  114</a></span>&#160;        std::shared_ptr&lt;px::eq::CEquation&gt; <a class="code" href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#a2a671991b5d4824480867b976dbf6da6">equation</a>;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    };</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="line" href="../../de/d55/classCDataBlockTranslator.html#aab25633825666ee1dc795b1fa59c56b6">  118</a></span>&#160;    std::vector&lt;Mapping&gt; <a class="code" href="../../de/d55/classCDataBlockTranslator.html#aab25633825666ee1dc795b1fa59c56b6">_mappings</a>;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;};</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;<span class="preprocessor">#endif      // _DATA_BLOCK_TRANSLATOR_HPP</span></div>
<div class="ttc" id="structCDataBlockTranslator_1_1Mapping_html_a6c231ecfc0913389ff45b6c9e75a1ed0"><div class="ttname"><a href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#a6c231ecfc0913389ff45b6c9e75a1ed0">CDataBlockTranslator::Mapping::is_bit_mapping</a></div><div class="ttdeci">const bool is_bit_mapping</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4f/data__block__translator_8hpp_source.html#l00111">data_block_translator.hpp:111</a></div></div>
<div class="ttc" id="structCDataBlockTranslator_1_1Mapping_html_a3f078a6be6e19398ba704f1cb62df0b6"><div class="ttname"><a href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#a3f078a6be6e19398ba704f1cb62df0b6">CDataBlockTranslator::Mapping::bit_offset</a></div><div class="ttdeci">const uint8_t bit_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4f/data__block__translator_8hpp_source.html#l00109">data_block_translator.hpp:109</a></div></div>
<div class="ttc" id="structCDataBlockTranslator_1_1Mapping_html_a65272d07347967b8c1ec5d7aacc0db28"><div class="ttname"><a href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#a65272d07347967b8c1ec5d7aacc0db28">CDataBlockTranslator::Mapping::Mapping</a></div><div class="ttdeci">Mapping(px::datatype val_type, uint32_t byte_offset, uint8_t bit_offset, const px::string &amp;scaling_expression)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4f/data__block__translator_8hpp_source.html#l00091">data_block_translator.hpp:91</a></div></div>
<div class="ttc" id="classCDataBlockTranslator_html_aaf9e025fbf2e589fc46ce5920e3190fc"><div class="ttname"><a href="../../de/d55/classCDataBlockTranslator.html#aaf9e025fbf2e589fc46ce5920e3190fc">CDataBlockTranslator::add_bit_mapping</a></div><div class="ttdeci">CDataBlockTranslator &amp; add_bit_mapping(px::datatype val_type, uint32_t byte_offset, uint8_t bit_offset)</div></div>
<div class="ttc" id="structdata__block__translation__info__s_html_a7ca8dd999ea61204a8e377b0a7211029"><div class="ttname"><a href="../../d8/d59/structdata__block__translation__info__s.html#a7ca8dd999ea61204a8e377b0a7211029">data_block_translation_info_s::dbt_array_index</a></div><div class="ttdeci">unsigned int dbt_array_index</div><div class="ttdoc">index to the entry in the CDataBlock DBT array (mapping). </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4f/data__block__translator_8hpp_source.html#l00024">data_block_translator.hpp:24</a></div></div>
<div class="ttc" id="structeds__parse__err_html_ae7895a7c942bf2450a2670c642407dca"><div class="ttname"><a href="../../d5/df0/structeds__parse__err.html#ae7895a7c942bf2450a2670c642407dca">eds_parse_err::what</a></div><div class="ttdeci">virtual const char * what() const </div><div class="ttdoc">Implement the virtual function to provide the error&amp;#39;s text. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1e/exception_8hpp_source.html#l00046">exception.hpp:46</a></div></div>
<div class="ttc" id="structCDataBlockTranslator_1_1Mapping_html_adc40201a038b17785f0232bb479838f8"><div class="ttname"><a href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#adc40201a038b17785f0232bb479838f8">CDataBlockTranslator::Mapping::ext_type</a></div><div class="ttdeci">const ext_data_type_t ext_type</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4f/data__block__translator_8hpp_source.html#l00107">data_block_translator.hpp:107</a></div></div>
<div class="ttc" id="ext-conv_8hpp_html"><div class="ttname"><a href="../../d2/d4d/ext-conv_8hpp.html">ext-conv.hpp</a></div></div>
<div class="ttc" id="classCDataBlockTranslator_html_ab6dfd288244fcc1233d4f3cf80e17a47"><div class="ttname"><a href="../../de/d55/classCDataBlockTranslator.html#ab6dfd288244fcc1233d4f3cf80e17a47">CDataBlockTranslator::CDataBlockTranslator</a></div><div class="ttdeci">CDataBlockTranslator()</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1b/data__block__translator_8cpp_source.html#l00016">data_block_translator.cpp:16</a></div></div>
<div class="ttc" id="classCDataBlockTranslator_html_af17a1678c3bc0a7eba513711a0a1a12c"><div class="ttname"><a href="../../de/d55/classCDataBlockTranslator.html#af17a1678c3bc0a7eba513711a0a1a12c">CDataBlockTranslator::get_dbt_cds_type</a></div><div class="ttdeci">px::datatype get_dbt_cds_type(unsigned int dbt_array_index) const </div><div class="ttdoc">Get the px::datatype value from the list of Transform mappings associated with this Data block...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1b/data__block__translator_8cpp_source.html#l00068">data_block_translator.cpp:68</a></div></div>
<div class="ttc" id="structeds__parse__err_html"><div class="ttname"><a href="../../d5/df0/structeds__parse__err.html">eds_parse_err</a></div><div class="ttdoc">Exception class used to indicate an EDS parsing error. </div><div class="ttdef"><b>Definition:</b> <a href="../../d7/d1e/exception_8hpp_source.html#l00034">exception.hpp:34</a></div></div>
<div class="ttc" id="ext-conv_8hpp_html_a0d4f0775270250cf5e207d37fd3530e6"><div class="ttname"><a href="../../d2/d4d/ext-conv_8hpp.html#a0d4f0775270250cf5e207d37fd3530e6">ext_data_type_t</a></div><div class="ttdeci">ext_data_type_t</div><div class="ttdoc">External (device) data types defined in EDS&amp;#39;s, for Modbus. </div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/ext-conv_8hpp_source.html#l00030">ext-conv.hpp:30</a></div></div>
<div class="ttc" id="structdata__block__translation__info__s_html_aac9b342a5e986f238f3a251aa4715280"><div class="ttname"><a href="../../d8/d59/structdata__block__translation__info__s.html#aac9b342a5e986f238f3a251aa4715280">data_block_translation_info_s::dbt_count</a></div><div class="ttdeci">unsigned int dbt_count</div><div class="ttdoc">count </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4f/data__block__translator_8hpp_source.html#l00025">data_block_translator.hpp:25</a></div></div>
<div class="ttc" id="data__block__translator_8hpp_html_ab2269fe2af505d3c328a19567543881d"><div class="ttname"><a href="../../dc/d4f/data__block__translator_8hpp.html#ab2269fe2af505d3c328a19567543881d">data_block_translation_info_t</a></div><div class="ttdeci">struct data_block_translation_info_s data_block_translation_info_t</div><div class="ttdoc">Define a structure to hold info about the map. </div></div>
<div class="ttc" id="structCDataBlockTranslator_1_1Mapping_html_acb35b95a9240f1030489b144d12e0f2a"><div class="ttname"><a href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#acb35b95a9240f1030489b144d12e0f2a">CDataBlockTranslator::Mapping::Mapping</a></div><div class="ttdeci">Mapping(px::datatype val_type, ext_data_type_t ext_type, uint32_t byte_offset, uint32_t len, const px::string &amp;scaling_expression)</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4f/data__block__translator_8hpp_source.html#l00076">data_block_translator.hpp:76</a></div></div>
<div class="ttc" id="classCDataBlockTranslator_html"><div class="ttname"><a href="../../de/d55/classCDataBlockTranslator.html">CDataBlockTranslator</a></div><div class="ttdoc">Translates raw device bytes to CDS types, based on provided mapping info. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4f/data__block__translator_8hpp_source.html#l00031">data_block_translator.hpp:31</a></div></div>
<div class="ttc" id="structCDataBlockTranslator_1_1Mapping_html_ae31e4c2ba62ed17255fbcb38f57fb38b"><div class="ttname"><a href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#ae31e4c2ba62ed17255fbcb38f57fb38b">CDataBlockTranslator::Mapping::scaling_expression</a></div><div class="ttdeci">const px::string scaling_expression</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4f/data__block__translator_8hpp_source.html#l00112">data_block_translator.hpp:112</a></div></div>
<div class="ttc" id="structdata__block__translation__info__s_html_a678b8a6d74562bff014893c67bad7e49"><div class="ttname"><a href="../../d8/d59/structdata__block__translation__info__s.html#a678b8a6d74562bff014893c67bad7e49">data_block_translation_info_s::dbt_xblock_id</a></div><div class="ttdeci">px::id_t dbt_xblock_id</div><div class="ttdoc">The ID of this data block. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4f/data__block__translator_8hpp_source.html#l00023">data_block_translator.hpp:23</a></div></div>
<div class="ttc" id="ext-conv_8hpp_html_a0d4f0775270250cf5e207d37fd3530e6ae18a250b12ba6b18d6f123dab3ac2a22"><div class="ttname"><a href="../../d2/d4d/ext-conv_8hpp.html#a0d4f0775270250cf5e207d37fd3530e6ae18a250b12ba6b18d6f123dab3ac2a22">MODBUS_ONE_BIT</a></div><div class="ttdef"><b>Definition:</b> <a href="../../d2/d4d/ext-conv_8hpp_source.html#l00035">ext-conv.hpp:35</a></div></div>
<div class="ttc" id="structCDataBlockTranslator_1_1Mapping_html"><div class="ttname"><a href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html">CDataBlockTranslator::Mapping</a></div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4f/data__block__translator_8hpp_source.html#l00074">data_block_translator.hpp:74</a></div></div>
<div class="ttc" id="classCDataBlockTranslator_html_aff42180a13275067ccfd626648086ec4"><div class="ttname"><a href="../../de/d55/classCDataBlockTranslator.html#aff42180a13275067ccfd626648086ec4">CDataBlockTranslator::init_scaling_equation</a></div><div class="ttdeci">static std::shared_ptr&lt; px::eq::CEquation &gt; init_scaling_equation(const px::string &amp;scaling_expression)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1b/data__block__translator_8cpp_source.html#l00185">data_block_translator.cpp:185</a></div></div>
<div class="ttc" id="classCDataBlockTranslator_html_a466df0111e6d3a16775a6d16dccb4a5f"><div class="ttname"><a href="../../de/d55/classCDataBlockTranslator.html#a466df0111e6d3a16775a6d16dccb4a5f">CDataBlockTranslator::is_supported_scaling_equation</a></div><div class="ttdeci">static bool is_supported_scaling_equation(const std::vector&lt; px::string &gt; &amp;identifiers)</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1b/data__block__translator_8cpp_source.html#l00225">data_block_translator.cpp:225</a></div></div>
<div class="ttc" id="classCDataBlockTranslator_html_aab25633825666ee1dc795b1fa59c56b6"><div class="ttname"><a href="../../de/d55/classCDataBlockTranslator.html#aab25633825666ee1dc795b1fa59c56b6">CDataBlockTranslator::_mappings</a></div><div class="ttdeci">std::vector&lt; Mapping &gt; _mappings</div><div class="ttdoc">Transform mappings. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4f/data__block__translator_8hpp_source.html#l00118">data_block_translator.hpp:118</a></div></div>
<div class="ttc" id="structCDataBlockTranslator_1_1Mapping_html_a2a671991b5d4824480867b976dbf6da6"><div class="ttname"><a href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#a2a671991b5d4824480867b976dbf6da6">CDataBlockTranslator::Mapping::equation</a></div><div class="ttdeci">std::shared_ptr&lt; px::eq::CEquation &gt; equation</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4f/data__block__translator_8hpp_source.html#l00114">data_block_translator.hpp:114</a></div></div>
<div class="ttc" id="classCDataBlockTranslator_html_acc9f29d48735c3862c2503b854428e9e"><div class="ttname"><a href="../../de/d55/classCDataBlockTranslator.html#acc9f29d48735c3862c2503b854428e9e">CDataBlockTranslator::add_mapping</a></div><div class="ttdeci">CDataBlockTranslator &amp; add_mapping(px::datatype val_type, ext_data_type_t ext_type, uint32_t byte_offset)</div><div class="ttdoc">Add a mapping record that describes a portion of a CDataBlock data buffer. </div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1b/data__block__translator_8cpp_source.html#l00019">data_block_translator.cpp:19</a></div></div>
<div class="ttc" id="classCDataBlockTranslator_html_a443faf0313fa3866593483db64e4c746"><div class="ttname"><a href="../../de/d55/classCDataBlockTranslator.html#a443faf0313fa3866593483db64e4c746">CDataBlockTranslator::translate</a></div><div class="ttdeci">int translate(const px::asio::io_buf_t &amp;data, std::vector&lt; std::shared_ptr&lt; px::CValue &gt; &gt; &amp;out)</div><div class="ttdoc">Translate the buffer of received data, via the mappings array, into the expected variadic array of Va...</div><div class="ttdef"><b>Definition:</b> <a href="../../d8/d1b/data__block__translator_8cpp_source.html#l00080">data_block_translator.cpp:80</a></div></div>
<div class="ttc" id="structdata__block__translation__info__s_html_a93a523bca3a9ebf5c237d229118050cb"><div class="ttname"><a href="../../d8/d59/structdata__block__translation__info__s.html#a93a523bca3a9ebf5c237d229118050cb">data_block_translation_info_s::data_type</a></div><div class="ttdeci">px::datatype data_type</div><div class="ttdoc">The data type of the data to be translated. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4f/data__block__translator_8hpp_source.html#l00022">data_block_translator.hpp:22</a></div></div>
<div class="ttc" id="log_8hpp_html_a95dfbfd2a90b668e22a02352c2a80e1e"><div class="ttname"><a href="../../d4/d3d/log_8hpp.html#a95dfbfd2a90b668e22a02352c2a80e1e">SVR_NOTICE</a></div><div class="ttdeci">#define SVR_NOTICE(__VLVL__,...)</div><div class="ttdef"><b>Definition:</b> <a href="../../d4/d3d/log_8hpp_source.html#l00217">log.hpp:217</a></div></div>
<div class="ttc" id="structdata__block__translation__info__s_html_a73dc5aae5fd1483bbb91ab0ee6d9f91f"><div class="ttname"><a href="../../d8/d59/structdata__block__translation__info__s.html#a73dc5aae5fd1483bbb91ab0ee6d9f91f">data_block_translation_info_s::xblock_expression</a></div><div class="ttdeci">px::string xblock_expression</div><div class="ttdoc">The string identifying the equation or mapping. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4f/data__block__translator_8hpp_source.html#l00021">data_block_translator.hpp:21</a></div></div>
<div class="ttc" id="structCDataBlockTranslator_1_1Mapping_html_a621d62d9a5f7e6c513da60b6e5531f73"><div class="ttname"><a href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#a621d62d9a5f7e6c513da60b6e5531f73">CDataBlockTranslator::Mapping::len</a></div><div class="ttdeci">const uint32_t len</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4f/data__block__translator_8hpp_source.html#l00110">data_block_translator.hpp:110</a></div></div>
<div class="ttc" id="structdata__block__translation__info__s_html"><div class="ttname"><a href="../../d8/d59/structdata__block__translation__info__s.html">data_block_translation_info_s</a></div><div class="ttdoc">Define a structure to hold info about the map. </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4f/data__block__translator_8hpp_source.html#l00019">data_block_translator.hpp:19</a></div></div>
<div class="ttc" id="structCDataBlockTranslator_1_1Mapping_html_ac883bf2461fb5c1680f6793ae5e66ecc"><div class="ttname"><a href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#ac883bf2461fb5c1680f6793ae5e66ecc">CDataBlockTranslator::Mapping::val_type</a></div><div class="ttdeci">const px::datatype val_type</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4f/data__block__translator_8hpp_source.html#l00106">data_block_translator.hpp:106</a></div></div>
<div class="ttc" id="structdata__block__translation__info__s_html_a0d847be3709049bc0d05ac4f15187e7a"><div class="ttname"><a href="../../d8/d59/structdata__block__translation__info__s.html#a0d847be3709049bc0d05ac4f15187e7a">data_block_translation_info_s::dbt_bit_position</a></div><div class="ttdeci">unsigned int dbt_bit_position</div><div class="ttdoc">bit position </div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4f/data__block__translator_8hpp_source.html#l00026">data_block_translator.hpp:26</a></div></div>
<div class="ttc" id="structCDataBlockTranslator_1_1Mapping_html_ae7dfe8b62a36811b8a455ab7af533588"><div class="ttname"><a href="../../d6/d12/structCDataBlockTranslator_1_1Mapping.html#ae7dfe8b62a36811b8a455ab7af533588">CDataBlockTranslator::Mapping::byte_offset</a></div><div class="ttdeci">const uint32_t byte_offset</div><div class="ttdef"><b>Definition:</b> <a href="../../dc/d4f/data__block__translator_8hpp_source.html#l00108">data_block_translator.hpp:108</a></div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_d44c64559bbebec7f509842c48db8b23.html">include</a></li><li class="navelem"><a class="el" href="../../dir_8ea1912b9dcef29fc3569cc3a5093bc8.html">block</a></li><li class="navelem"><a class="el" href="../../dc/d4f/data__block__translator_8hpp.html">data_block_translator.hpp</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:25:18 for ModbusDeviceHandler by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
