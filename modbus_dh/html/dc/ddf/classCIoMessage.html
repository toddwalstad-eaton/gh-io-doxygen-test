<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ModbusDeviceHandler: CIoMessage Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ModbusDeviceHandler
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dc/ddf/classCIoMessage.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="../../d9/d51/classCIoMessage-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CIoMessage Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span><div class="ingroups"><a class="el" href="../../d9/d77/group__IoSystem.html">ASIO interface details and general IO functions.</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>I/O Message base class.  
 <a href="../../dc/ddf/classCIoMessage.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CIoMessage:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d7c/classCIoMessage__inherit__graph.png" border="0" usemap="#CIoMessage_inherit__map" alt="Inheritance graph"/></div>
<map name="CIoMessage_inherit__map" id="CIoMessage_inherit__map">
<area shape="rect" id="node2" href="../../da/d56/classCProtocolMessage.html" title="Base class for a non&#45;cloned (singleton) protocol&#45;based IO message. " alt="" coords="7,520,231,832"/><area shape="rect" id="node4" href="../../da/d20/classCSimpleMessage.html" title="Simple Message class. " alt="" coords="255,483,479,869"/><area shape="rect" id="node3" href="../../d2/df4/classCModbusProtocolMessage.html" title="Modbus Protocol Message class (for raw pass&#45;through message). " alt="" coords="5,918,232,1069"/><area shape="rect" id="node5" href="../../d3/d91/classCModbusMessage.html" title="Simple Modbus Message class (for Data Block polling) " alt="" coords="279,947,453,1039"/></map>
</div>
<div class="dynheader">
Collaboration diagram for CIoMessage:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d2c/classCIoMessage__coll__graph.png" border="0" usemap="#CIoMessage_coll__map" alt="Collaboration graph"/></div>
<map name="CIoMessage_coll__map" id="CIoMessage_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ae5264eaea2d29bcae7b926bb9e49defe"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#ae5264eaea2d29bcae7b926bb9e49defe">CIoMessage</a> (uint64_t <a class="el" href="../../dc/ddf/classCIoMessage.html#a1e99535802ac0b6456381fffda773710">device_id</a>, bool ok_to_prefetch_next_msg=true)</td></tr>
<tr class="memdesc:ae5264eaea2d29bcae7b926bb9e49defe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#ae5264eaea2d29bcae7b926bb9e49defe">More...</a><br/></td></tr>
<tr class="separator:ae5264eaea2d29bcae7b926bb9e49defe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5bcb3d616ffcab8ecdd8090a60bda1c0"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a5bcb3d616ffcab8ecdd8090a60bda1c0">~CIoMessage</a> ()</td></tr>
<tr class="memdesc:a5bcb3d616ffcab8ecdd8090a60bda1c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default destructor, a virtual.  <a href="#a5bcb3d616ffcab8ecdd8090a60bda1c0">More...</a><br/></td></tr>
<tr class="separator:a5bcb3d616ffcab8ecdd8090a60bda1c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e0b6d464d5ed655aa47f7e8ee45a507"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3">io_message_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a4e0b6d464d5ed655aa47f7e8ee45a507">get_state</a> ()</td></tr>
<tr class="memdesc:a4e0b6d464d5ed655aa47f7e8ee45a507"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get current processing state of message.  <a href="#a4e0b6d464d5ed655aa47f7e8ee45a507">More...</a><br/></td></tr>
<tr class="separator:a4e0b6d464d5ed655aa47f7e8ee45a507"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1e99535802ac0b6456381fffda773710"><td class="memItemLeft" align="right" valign="top">px::id_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a1e99535802ac0b6456381fffda773710">device_id</a> () const </td></tr>
<tr class="memdesc:a1e99535802ac0b6456381fffda773710"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return ID of the Device which this message is for.  <a href="#a1e99535802ac0b6456381fffda773710">More...</a><br/></td></tr>
<tr class="separator:a1e99535802ac0b6456381fffda773710"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac4a4fc67655de05752b9e520f66639f5"><td class="memItemLeft" align="right" valign="top">px::id_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#ac4a4fc67655de05752b9e520f66639f5">connection_id</a> () const </td></tr>
<tr class="memdesc:ac4a4fc67655de05752b9e520f66639f5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return ID of the Connection which this message is for.  <a href="#ac4a4fc67655de05752b9e520f66639f5">More...</a><br/></td></tr>
<tr class="separator:ac4a4fc67655de05752b9e520f66639f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37756356cb01654801e3cf31dc795647"><td class="memItemLeft" align="right" valign="top">virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a37756356cb01654801e3cf31dc795647">fill_write_buffer</a> (px::asio::io_buf_t &amp;external_wbuf)=0</td></tr>
<tr class="memdesc:a37756356cb01654801e3cf31dc795647"><td class="mdescLeft">&#160;</td><td class="mdescRight">Load provided external buffer with characters that should be sent out.  <a href="#a37756356cb01654801e3cf31dc795647">More...</a><br/></td></tr>
<tr class="separator:a37756356cb01654801e3cf31dc795647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3698a81da282fa083afd9697af53f5e5"><td class="memItemLeft" align="right" valign="top">virtual size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a3698a81da282fa083afd9697af53f5e5">get_timeout</a> ()=0</td></tr>
<tr class="memdesc:a3698a81da282fa083afd9697af53f5e5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return timeout length (which may vary based on message state)  <a href="#a3698a81da282fa083afd9697af53f5e5">More...</a><br/></td></tr>
<tr class="separator:a3698a81da282fa083afd9697af53f5e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c74dfe9081ae0b87c2188375bf48b61"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3">io_message_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a5c74dfe9081ae0b87c2188375bf48b61">initialize</a> (const px::id_t port_id)=0</td></tr>
<tr class="memdesc:a5c74dfe9081ae0b87c2188375bf48b61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prepare message to kickoff sending and receiving.  <a href="#a5c74dfe9081ae0b87c2188375bf48b61">More...</a><br/></td></tr>
<tr class="separator:a5c74dfe9081ae0b87c2188375bf48b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae03be729c59b25c638b2d2ad7db751da"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3">io_message_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#ae03be729c59b25c638b2d2ad7db751da">on_interframe_delay_complete</a> ()=0</td></tr>
<tr class="memdesc:ae03be729c59b25c638b2d2ad7db751da"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify message that interframe delay has completed.  <a href="#ae03be729c59b25c638b2d2ad7db751da">More...</a><br/></td></tr>
<tr class="separator:ae03be729c59b25c638b2d2ad7db751da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea3685c428ceb41f122e898c19cbbc1f"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3">io_message_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#aea3685c428ceb41f122e898c19cbbc1f">on_receive_flush_complete</a> ()=0</td></tr>
<tr class="memdesc:aea3685c428ceb41f122e898c19cbbc1f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify message that receive flush has completed.  <a href="#aea3685c428ceb41f122e898c19cbbc1f">More...</a><br/></td></tr>
<tr class="separator:aea3685c428ceb41f122e898c19cbbc1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20269c52aa5c5d15c2f64d4be3e157b4"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3">io_message_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a20269c52aa5c5d15c2f64d4be3e157b4">on_send_complete</a> ()=0</td></tr>
<tr class="memdesc:a20269c52aa5c5d15c2f64d4be3e157b4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify message that send has completed.  <a href="#a20269c52aa5c5d15c2f64d4be3e157b4">More...</a><br/></td></tr>
<tr class="separator:a20269c52aa5c5d15c2f64d4be3e157b4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a29a4beaa8f95cbc2754d22603d3b962a"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3">io_message_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a29a4beaa8f95cbc2754d22603d3b962a">on_read</a> (const px::asio::io_buf_t &amp;bytes, const size_t nbytes)=0</td></tr>
<tr class="memdesc:a29a4beaa8f95cbc2754d22603d3b962a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pass in incoming bytes from port read.  <a href="#a29a4beaa8f95cbc2754d22603d3b962a">More...</a><br/></td></tr>
<tr class="separator:a29a4beaa8f95cbc2754d22603d3b962a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42e26bda92a4a011d15e6af64cda2a64"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3">io_message_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a42e26bda92a4a011d15e6af64cda2a64">on_timeout</a> (size_t timeout_value)=0</td></tr>
<tr class="memdesc:a42e26bda92a4a011d15e6af64cda2a64"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify message that timeout occured.  <a href="#a42e26bda92a4a011d15e6af64cda2a64">More...</a><br/></td></tr>
<tr class="separator:a42e26bda92a4a011d15e6af64cda2a64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2384ad830cb911d0923e49f85ec6d7ca"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3">io_message_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a2384ad830cb911d0923e49f85ec6d7ca">on_err</a> (const boost::system::error_code &amp;err)=0</td></tr>
<tr class="memdesc:a2384ad830cb911d0923e49f85ec6d7ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Callback for when an error occurs (here, a pure virtual function).  <a href="#a2384ad830cb911d0923e49f85ec6d7ca">More...</a><br/></td></tr>
<tr class="separator:a2384ad830cb911d0923e49f85ec6d7ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60fda24dbb33e35f0af6a2e1e29225e1"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3">io_message_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a60fda24dbb33e35f0af6a2e1e29225e1">on_cancel_complete</a> ()=0</td></tr>
<tr class="memdesc:a60fda24dbb33e35f0af6a2e1e29225e1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Notify message that cancel operation completed.  <a href="#a60fda24dbb33e35f0af6a2e1e29225e1">More...</a><br/></td></tr>
<tr class="separator:a60fda24dbb33e35f0af6a2e1e29225e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a52924c9eceecd4721ca5c5de124fae"><td class="memItemLeft" align="right" valign="top">virtual uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a7a52924c9eceecd4721ca5c5de124fae">get_interframe_delay</a> ()=0</td></tr>
<tr class="memdesc:a7a52924c9eceecd4721ca5c5de124fae"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get interframe delay.  <a href="#a7a52924c9eceecd4721ca5c5de124fae">More...</a><br/></td></tr>
<tr class="separator:a7a52924c9eceecd4721ca5c5de124fae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74a5903a18fdd747a6829ac3e6877eb4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a74a5903a18fdd747a6829ac3e6877eb4">ok_to_prefetch</a> ()</td></tr>
<tr class="memdesc:a74a5903a18fdd747a6829ac3e6877eb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tells whether this message will let the IO Messenger prefetch the next message from the Port.  <a href="#a74a5903a18fdd747a6829ac3e6877eb4">More...</a><br/></td></tr>
<tr class="separator:a74a5903a18fdd747a6829ac3e6877eb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adaa58d5a1b4b0214bf1611bcd5870b75"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#adaa58d5a1b4b0214bf1611bcd5870b75">set_connection_id</a> (px::id_t conn_id)</td></tr>
<tr class="memdesc:adaa58d5a1b4b0214bf1611bcd5870b75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the Connection ID of this message.  <a href="#adaa58d5a1b4b0214bf1611bcd5870b75">More...</a><br/></td></tr>
<tr class="separator:adaa58d5a1b4b0214bf1611bcd5870b75"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a2172fe90f44e1e31cd7890b1602886a2"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a2172fe90f44e1e31cd7890b1602886a2">_msg_num</a></td></tr>
<tr class="memdesc:a2172fe90f44e1e31cd7890b1602886a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal message identifier (for logging)  <a href="#a2172fe90f44e1e31cd7890b1602886a2">More...</a><br/></td></tr>
<tr class="separator:a2172fe90f44e1e31cd7890b1602886a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a6e1470d1056dc00b30b5fa4bf730e066"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a6e1470d1056dc00b30b5fa4bf730e066">parse</a> ()=0</td></tr>
<tr class="memdesc:a6e1470d1056dc00b30b5fa4bf730e066"><td class="mdescLeft">&#160;</td><td class="mdescRight">Try to parse the read buffer, to see if we are done receiving.  <a href="#a6e1470d1056dc00b30b5fa4bf730e066">More...</a><br/></td></tr>
<tr class="separator:a6e1470d1056dc00b30b5fa4bf730e066"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a226d566f41c35b8b33374d10660d0d12"><td class="memItemLeft" align="right" valign="top">px::asio::io_buf_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a226d566f41c35b8b33374d10660d0d12">_wbuf</a></td></tr>
<tr class="memdesc:a226d566f41c35b8b33374d10660d0d12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Write buffer.  <a href="#a226d566f41c35b8b33374d10660d0d12">More...</a><br/></td></tr>
<tr class="separator:a226d566f41c35b8b33374d10660d0d12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb251733dc7e72977b8f2ebc23fa6418"><td class="memItemLeft" align="right" valign="top">px::asio::io_buf_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#afb251733dc7e72977b8f2ebc23fa6418">_rbuf</a></td></tr>
<tr class="memdesc:afb251733dc7e72977b8f2ebc23fa6418"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read buffer.  <a href="#afb251733dc7e72977b8f2ebc23fa6418">More...</a><br/></td></tr>
<tr class="separator:afb251733dc7e72977b8f2ebc23fa6418"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff838e8d791d2f96898751d1db9e09eb"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#aff838e8d791d2f96898751d1db9e09eb">_offset</a></td></tr>
<tr class="memdesc:aff838e8d791d2f96898751d1db9e09eb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Current offset into read buffer.  <a href="#aff838e8d791d2f96898751d1db9e09eb">More...</a><br/></td></tr>
<tr class="separator:aff838e8d791d2f96898751d1db9e09eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f0f665d4e1c57c0a088ea6c815a26f1"><td class="memItemLeft" align="right" valign="top">px::CMonoTime&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a9f0f665d4e1c57c0a088ea6c815a26f1">_start_time</a></td></tr>
<tr class="memdesc:a9f0f665d4e1c57c0a088ea6c815a26f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time at which this message was initiated.  <a href="#a9f0f665d4e1c57c0a088ea6c815a26f1">More...</a><br/></td></tr>
<tr class="separator:a9f0f665d4e1c57c0a088ea6c815a26f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af85b2c372faee80ccf15d924319d3fcb"><td class="memItemLeft" align="right" valign="top">px::CMonoTime&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#af85b2c372faee80ccf15d924319d3fcb">_end_time</a></td></tr>
<tr class="memdesc:af85b2c372faee80ccf15d924319d3fcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Time at which this message finished performing I/O.  <a href="#af85b2c372faee80ccf15d924319d3fcb">More...</a><br/></td></tr>
<tr class="separator:af85b2c372faee80ccf15d924319d3fcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cd11c5804b2cfd8c1fe7668a98591e7"><td class="memItemLeft" align="right" valign="top">px::id_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a7cd11c5804b2cfd8c1fe7668a98591e7">_device_id</a></td></tr>
<tr class="memdesc:a7cd11c5804b2cfd8c1fe7668a98591e7"><td class="mdescLeft">&#160;</td><td class="mdescRight">ID of the Device which this message is for.  <a href="#a7cd11c5804b2cfd8c1fe7668a98591e7">More...</a><br/></td></tr>
<tr class="separator:a7cd11c5804b2cfd8c1fe7668a98591e7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7b829cb6be46caa69f55e8584574ece"><td class="memItemLeft" align="right" valign="top">px::id_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#ae7b829cb6be46caa69f55e8584574ece">_port_id</a></td></tr>
<tr class="memdesc:ae7b829cb6be46caa69f55e8584574ece"><td class="mdescLeft">&#160;</td><td class="mdescRight">ID of the Port associated with the <a class="el" href="../../d2/d37/classCIoMessenger.html" title="I/O &quot;Messenger&quot; class. ">CIoMessenger</a> for this message.  <a href="#ae7b829cb6be46caa69f55e8584574ece">More...</a><br/></td></tr>
<tr class="separator:ae7b829cb6be46caa69f55e8584574ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91a0e3d080659b7d91dac9e21da6c231"><td class="memItemLeft" align="right" valign="top">px::id_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a91a0e3d080659b7d91dac9e21da6c231">_conn_id</a></td></tr>
<tr class="memdesc:a91a0e3d080659b7d91dac9e21da6c231"><td class="mdescLeft">&#160;</td><td class="mdescRight">ID of the Connection associated with the <a class="el" href="../../d2/d37/classCIoMessenger.html" title="I/O &quot;Messenger&quot; class. ">CIoMessenger</a> for this message.  <a href="#a91a0e3d080659b7d91dac9e21da6c231">More...</a><br/></td></tr>
<tr class="separator:a91a0e3d080659b7d91dac9e21da6c231"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6ef39a6cb374d76454370043cbb2069"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3">io_message_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#aa6ef39a6cb374d76454370043cbb2069">_message_state</a></td></tr>
<tr class="memdesc:aa6ef39a6cb374d76454370043cbb2069"><td class="mdescLeft">&#160;</td><td class="mdescRight">State of message processing.  <a href="#aa6ef39a6cb374d76454370043cbb2069">More...</a><br/></td></tr>
<tr class="separator:aa6ef39a6cb374d76454370043cbb2069"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2e0ca4d673516309d01c2235a8d1b50d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a2e0ca4d673516309d01c2235a8d1b50d">_ok_to_prefetch_next_msg</a></td></tr>
<tr class="memdesc:a2e0ca4d673516309d01c2235a8d1b50d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag which tells whether the next message is independent of the response to this one, ie, OK to prefetch the next message without regard to the results of this one.  <a href="#a2e0ca4d673516309d01c2235a8d1b50d">More...</a><br/></td></tr>
<tr class="separator:a2e0ca4d673516309d01c2235a8d1b50d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:ade4bd2f545bd33394e9086b584bc6a29"><td class="memItemLeft" align="right" valign="top">static const size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#ade4bd2f545bd33394e9086b584bc6a29">_chunk_size</a> = 256</td></tr>
<tr class="memdesc:ade4bd2f545bd33394e9086b584bc6a29"><td class="mdescLeft">&#160;</td><td class="mdescRight">Chunk size for the internal read/write buffer.  <a href="#ade4bd2f545bd33394e9086b584bc6a29">More...</a><br/></td></tr>
<tr class="separator:ade4bd2f545bd33394e9086b584bc6a29"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3daf963ba5f232b7ec344b7801a06502"><td class="memItemLeft" align="right" valign="top">static size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/ddf/classCIoMessage.html#a3daf963ba5f232b7ec344b7801a06502">_next_msg_num</a> = 100</td></tr>
<tr class="memdesc:a3daf963ba5f232b7ec344b7801a06502"><td class="mdescLeft">&#160;</td><td class="mdescRight">Keeps track of next internal message number.  <a href="#a3daf963ba5f232b7ec344b7801a06502">More...</a><br/></td></tr>
<tr class="separator:a3daf963ba5f232b7ec344b7801a06502"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>I/O Message base class. </p>
<p>This ABC encapsulates the basic "unit of work" do be done on a device handler: some sort of I/O (for example, sending out a request and receiving a response), along with associated functions for creating data to be sent, parsing data that's received, and driving internal state as needed based.</p>
<p>All communication with connected devices occurs by way of these messages. This includes normal requests and responses, broadcasts, and really anything that involves communication through the I/O subsystem. Pass-through is handled similarly, just with the directionality of the message handling reversed.</p>
<p>Other parts of the DH that this class needs to know about:</p>
<p><a class="el" href="../../d2/d37/classCIoMessenger.html" title="I/O &quot;Messenger&quot; class. ">CIoMessenger</a> (to drive I/O) px::asio::CIoTimer (to manage timeouts) </p>

<p>Definition at line <a class="el" href="../../d8/da7/io__message_8hpp_source.html#l00034">34</a> of file <a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ae5264eaea2d29bcae7b926bb9e49defe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CIoMessage::CIoMessage </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>device_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>ok_to_prefetch_next_msg</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device_id</td><td>ID of the Device that this message is for. </td></tr>
    <tr><td class="paramname">ok_to_prefetch_next_msg</td><td>Flag which tells whether the next message is independent of the response to this one, ie, OK to prefetch the next message without regard to the results of this one. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d0/d9e/io__message_8cpp_source.html#l00008">8</a> of file <a class="el" href="../../d0/d9e/io__message_8cpp_source.html">io_message.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5bcb3d616ffcab8ecdd8090a60bda1c0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CIoMessage::~CIoMessage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default destructor, a virtual. </p>

<p>Definition at line <a class="el" href="../../d0/d9e/io__message_8cpp_source.html#l00022">22</a> of file <a class="el" href="../../d0/d9e/io__message_8cpp_source.html">io_message.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a4e0b6d464d5ed655aa47f7e8ee45a507"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3">io_message_state</a> CIoMessage::get_state </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get current processing state of message. </p>

<p>Definition at line <a class="el" href="../../d8/da7/io__message_8hpp_source.html#l00059">59</a> of file <a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/ddf/classCIoMessage_a4e0b6d464d5ed655aa47f7e8ee45a507_icgraph.png" border="0" usemap="#dc/ddf/classCIoMessage_a4e0b6d464d5ed655aa47f7e8ee45a507_icgraph" alt=""/></div>
<map name="dc/ddf/classCIoMessage_a4e0b6d464d5ed655aa47f7e8ee45a507_icgraph" id="dc/ddf/classCIoMessage_a4e0b6d464d5ed655aa47f7e8ee45a507_icgraph">
<area shape="rect" id="node2" href="../../d2/d37/classCIoMessenger.html#ab36a4e216bc7eef1d5d502de4e66c337" title="Initiate next step in message lifecycle. " alt="" coords="224,122,373,163"/><area shape="rect" id="node3" href="../../d2/d37/classCIoMessenger.html#a026a7f7c1befcf4593cee29a45a5e7e3" title="Execute the next I/O operation. " alt="" coords="436,65,609,92"/><area shape="rect" id="node8" href="../../d2/d37/classCIoMessenger.html#a0abacc71b0894aaf27ec27bf8ff19720" title="Callback function to handle incoming data (invoked by ASIO::async_read_some() ). " alt="" coords="422,247,623,273"/><area shape="rect" id="node11" href="../../d2/d37/classCIoMessenger.html#aa9a7d897f0c01957b1382c43c0590680" title="Callback function to handle a completed &quot;write&quot; operation (invoked by ASIO::async_write() )..." alt="" coords="440,357,605,398"/><area shape="rect" id="node6" href="../../d2/d37/classCIoMessenger.html#afd386d9e47947af9b049e0b8db6aa780" title="Callback function to handle a wait for interframe delay or its error return. " alt="" coords="682,122,862,163"/><area shape="rect" id="node7" href="../../d2/d37/classCIoMessenger.html#a9c8210395e9dbc12bbd21404e1eb95c9" title="Handle a timeout (inherited from px::asio::CTimedObject). " alt="" coords="686,188,858,215"/><area shape="rect" id="node4" href="../../d2/d37/classCIoMessenger.html#afa7b3b72c1c9415bfd06446ac9124516" title="Execute the next message. " alt="" coords="679,5,865,32"/><area shape="rect" id="node5" href="../../d2/d37/classCIoMessenger.html#a1938e35e8d22e17fd52ea0a577c7d31b" title="Callback function to handle a wait timeout or its error return. " alt="" coords="689,57,855,98"/><area shape="rect" id="node9" href="../../d5/daf/classCSerialConnection.html#ac4fa6e5723a3675d78b044372c753690" title="Read more data from the serial input channel. " alt="" coords="697,239,847,281"/><area shape="rect" id="node10" href="../../d6/d76/classCTcpMessenger.html#a409d72c824fb0c24235aadca1cbf40af" title="Read more data from the network input channel. " alt="" coords="672,305,872,332"/><area shape="rect" id="node12" href="../../d5/daf/classCSerialConnection.html#a8156126048d7ca669c3b10fa1c86d617" title="Write data to the serial output channel. " alt="" coords="697,357,847,398"/><area shape="rect" id="node13" href="../../d6/d76/classCTcpMessenger.html#a936d49dde6b492a826c173e5229fe46d" title="Write data to the network output channel. " alt="" coords="691,423,853,449"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1e99535802ac0b6456381fffda773710"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">px::id_t CIoMessage::device_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return ID of the Device which this message is for. </p>

<p>Definition at line <a class="el" href="../../d8/da7/io__message_8hpp_source.html#l00064">64</a> of file <a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/ddf/classCIoMessage_a1e99535802ac0b6456381fffda773710_icgraph.png" border="0" usemap="#dc/ddf/classCIoMessage_a1e99535802ac0b6456381fffda773710_icgraph" alt=""/></div>
<map name="dc/ddf/classCIoMessage_a1e99535802ac0b6456381fffda773710_icgraph" id="dc/ddf/classCIoMessage_a1e99535802ac0b6456381fffda773710_icgraph">
<area shape="rect" id="node2" href="../../d2/df4/classCModbusProtocolMessage.html#a8924608c6f0e72a2f3166e660a804b27" title="Implement timeout handler to return the right Modbus/TCP gateway error code. " alt="" coords="225,5,415,46"/><area shape="rect" id="node3" href="../../da/d56/classCProtocolMessage.html#aec85876e7a3b58acd8bfa06af2546b82" title="Notify message that send has completed. " alt="" coords="237,70,403,111"/><area shape="rect" id="node4" href="../../da/d56/classCProtocolMessage.html#a6df29b414fef542855637271c718debe" title="Pass in incoming bytes from port read. " alt="" coords="465,161,666,188"/><area shape="rect" id="node5" href="../../da/d56/classCProtocolMessage.html#ae5a1a65bdbb4c5d2a9bb092c6d28cbbb" title="Try to parse the received buffer, to see if we are done receiving. " alt="" coords="227,187,413,213"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac4a4fc67655de05752b9e520f66639f5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">px::id_t CIoMessage::connection_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return ID of the Connection which this message is for. </p>

<p>Definition at line <a class="el" href="../../d8/da7/io__message_8hpp_source.html#l00069">69</a> of file <a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/ddf/classCIoMessage_ac4a4fc67655de05752b9e520f66639f5_icgraph.png" border="0" usemap="#dc/ddf/classCIoMessage_ac4a4fc67655de05752b9e520f66639f5_icgraph" alt=""/></div>
<map name="dc/ddf/classCIoMessage_ac4a4fc67655de05752b9e520f66639f5_icgraph" id="dc/ddf/classCIoMessage_ac4a4fc67655de05752b9e520f66639f5_icgraph">
<area shape="rect" id="node2" href="../../d6/d76/classCTcpMessenger.html#a409d72c824fb0c24235aadca1cbf40af" title="Read more data from the network input channel. " alt="" coords="253,5,453,32"/><area shape="rect" id="node3" href="../../d6/d76/classCTcpMessenger.html#a936d49dde6b492a826c173e5229fe46d" title="Write data to the network output channel. " alt="" coords="272,56,435,83"/><area shape="rect" id="node4" href="../../d6/d76/classCTcpMessenger.html#a9072100dd250845ef5bae177ff2ece40" title="Cancels I/O on this network port based on current msg device_id. " alt="" coords="267,107,439,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a37756356cb01654801e3cf31dc795647"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t CIoMessage::fill_write_buffer </td>
          <td>(</td>
          <td class="paramtype">px::asio::io_buf_t &amp;&#160;</td>
          <td class="paramname"><em>external_wbuf</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Load provided external buffer with characters that should be sent out. </p>

<p>Implemented in <a class="el" href="../../da/d20/classCSimpleMessage.html#ae6f241a6dd33e34a06222086638cb122">CSimpleMessage</a>, and <a class="el" href="../../da/d56/classCProtocolMessage.html#acb4e0fce65def20a55ae4045262742de">CProtocolMessage</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/ddf/classCIoMessage_a37756356cb01654801e3cf31dc795647_icgraph.png" border="0" usemap="#dc/ddf/classCIoMessage_a37756356cb01654801e3cf31dc795647_icgraph" alt=""/></div>
<map name="dc/ddf/classCIoMessage_a37756356cb01654801e3cf31dc795647_icgraph" id="dc/ddf/classCIoMessage_a37756356cb01654801e3cf31dc795647_icgraph">
<area shape="rect" id="node2" href="../../d2/d37/classCIoMessenger.html#ab36a4e216bc7eef1d5d502de4e66c337" title="Initiate next step in message lifecycle. " alt="" coords="219,122,368,163"/><area shape="rect" id="node3" href="../../d2/d37/classCIoMessenger.html#a026a7f7c1befcf4593cee29a45a5e7e3" title="Execute the next I/O operation. " alt="" coords="431,65,604,92"/><area shape="rect" id="node8" href="../../d2/d37/classCIoMessenger.html#a0abacc71b0894aaf27ec27bf8ff19720" title="Callback function to handle incoming data (invoked by ASIO::async_read_some() ). " alt="" coords="417,247,618,273"/><area shape="rect" id="node11" href="../../d2/d37/classCIoMessenger.html#aa9a7d897f0c01957b1382c43c0590680" title="Callback function to handle a completed &quot;write&quot; operation (invoked by ASIO::async_write() )..." alt="" coords="435,357,600,398"/><area shape="rect" id="node6" href="../../d2/d37/classCIoMessenger.html#afd386d9e47947af9b049e0b8db6aa780" title="Callback function to handle a wait for interframe delay or its error return. " alt="" coords="677,122,857,163"/><area shape="rect" id="node7" href="../../d2/d37/classCIoMessenger.html#a9c8210395e9dbc12bbd21404e1eb95c9" title="Handle a timeout (inherited from px::asio::CTimedObject). " alt="" coords="681,188,853,215"/><area shape="rect" id="node4" href="../../d2/d37/classCIoMessenger.html#afa7b3b72c1c9415bfd06446ac9124516" title="Execute the next message. " alt="" coords="674,5,859,32"/><area shape="rect" id="node5" href="../../d2/d37/classCIoMessenger.html#a1938e35e8d22e17fd52ea0a577c7d31b" title="Callback function to handle a wait timeout or its error return. " alt="" coords="684,57,849,98"/><area shape="rect" id="node9" href="../../d5/daf/classCSerialConnection.html#ac4fa6e5723a3675d78b044372c753690" title="Read more data from the serial input channel. " alt="" coords="692,239,841,281"/><area shape="rect" id="node10" href="../../d6/d76/classCTcpMessenger.html#a409d72c824fb0c24235aadca1cbf40af" title="Read more data from the network input channel. " alt="" coords="667,305,867,332"/><area shape="rect" id="node12" href="../../d5/daf/classCSerialConnection.html#a8156126048d7ca669c3b10fa1c86d617" title="Write data to the serial output channel. " alt="" coords="692,357,841,398"/><area shape="rect" id="node13" href="../../d6/d76/classCTcpMessenger.html#a936d49dde6b492a826c173e5229fe46d" title="Write data to the network output channel. " alt="" coords="685,423,848,449"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3698a81da282fa083afd9697af53f5e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual size_t CIoMessage::get_timeout </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return timeout length (which may vary based on message state) </p>

<p>Implemented in <a class="el" href="../../da/d20/classCSimpleMessage.html#a5d2f51723371b7733875bf9642dcbb26">CSimpleMessage</a>, <a class="el" href="../../da/d56/classCProtocolMessage.html#a227d5c735ac4b38e74b64a382a5ae427">CProtocolMessage</a>, and <a class="el" href="../../d2/df4/classCModbusProtocolMessage.html#a1e334fc197c475c5d5811459b79f412c">CModbusProtocolMessage</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/ddf/classCIoMessage_a3698a81da282fa083afd9697af53f5e5_icgraph.png" border="0" usemap="#dc/ddf/classCIoMessage_a3698a81da282fa083afd9697af53f5e5_icgraph" alt=""/></div>
<map name="dc/ddf/classCIoMessage_a3698a81da282fa083afd9697af53f5e5_icgraph" id="dc/ddf/classCIoMessage_a3698a81da282fa083afd9697af53f5e5_icgraph">
<area shape="rect" id="node2" href="../../d2/d37/classCIoMessenger.html#ab36a4e216bc7eef1d5d502de4e66c337" title="Initiate next step in message lifecycle. " alt="" coords="240,122,389,163"/><area shape="rect" id="node3" href="../../d2/d37/classCIoMessenger.html#a026a7f7c1befcf4593cee29a45a5e7e3" title="Execute the next I/O operation. " alt="" coords="452,65,625,92"/><area shape="rect" id="node8" href="../../d2/d37/classCIoMessenger.html#a0abacc71b0894aaf27ec27bf8ff19720" title="Callback function to handle incoming data (invoked by ASIO::async_read_some() ). " alt="" coords="438,247,639,273"/><area shape="rect" id="node11" href="../../d2/d37/classCIoMessenger.html#aa9a7d897f0c01957b1382c43c0590680" title="Callback function to handle a completed &quot;write&quot; operation (invoked by ASIO::async_write() )..." alt="" coords="456,357,621,398"/><area shape="rect" id="node6" href="../../d2/d37/classCIoMessenger.html#afd386d9e47947af9b049e0b8db6aa780" title="Callback function to handle a wait for interframe delay or its error return. " alt="" coords="698,122,878,163"/><area shape="rect" id="node7" href="../../d2/d37/classCIoMessenger.html#a9c8210395e9dbc12bbd21404e1eb95c9" title="Handle a timeout (inherited from px::asio::CTimedObject). " alt="" coords="702,188,874,215"/><area shape="rect" id="node4" href="../../d2/d37/classCIoMessenger.html#afa7b3b72c1c9415bfd06446ac9124516" title="Execute the next message. " alt="" coords="695,5,881,32"/><area shape="rect" id="node5" href="../../d2/d37/classCIoMessenger.html#a1938e35e8d22e17fd52ea0a577c7d31b" title="Callback function to handle a wait timeout or its error return. " alt="" coords="705,57,871,98"/><area shape="rect" id="node9" href="../../d5/daf/classCSerialConnection.html#ac4fa6e5723a3675d78b044372c753690" title="Read more data from the serial input channel. " alt="" coords="713,239,863,281"/><area shape="rect" id="node10" href="../../d6/d76/classCTcpMessenger.html#a409d72c824fb0c24235aadca1cbf40af" title="Read more data from the network input channel. " alt="" coords="688,305,888,332"/><area shape="rect" id="node12" href="../../d5/daf/classCSerialConnection.html#a8156126048d7ca669c3b10fa1c86d617" title="Write data to the serial output channel. " alt="" coords="713,357,863,398"/><area shape="rect" id="node13" href="../../d6/d76/classCTcpMessenger.html#a936d49dde6b492a826c173e5229fe46d" title="Write data to the network output channel. " alt="" coords="707,423,869,449"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5c74dfe9081ae0b87c2188375bf48b61"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3">io_message_state</a> CIoMessage::initialize </td>
          <td>(</td>
          <td class="paramtype">const px::id_t&#160;</td>
          <td class="paramname"><em>port_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prepare message to kickoff sending and receiving. </p>

<p>Implemented in <a class="el" href="../../da/d20/classCSimpleMessage.html#aff2883aaae47b2d151382916dd6ed93e">CSimpleMessage</a>, and <a class="el" href="../../da/d56/classCProtocolMessage.html#a6ee0a45cbdaca162a807f74579d9f985">CProtocolMessage</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/ddf/classCIoMessage_a5c74dfe9081ae0b87c2188375bf48b61_icgraph.png" border="0" usemap="#dc/ddf/classCIoMessage_a5c74dfe9081ae0b87c2188375bf48b61_icgraph" alt=""/></div>
<map name="dc/ddf/classCIoMessage_a5c74dfe9081ae0b87c2188375bf48b61_icgraph" id="dc/ddf/classCIoMessage_a5c74dfe9081ae0b87c2188375bf48b61_icgraph">
<area shape="rect" id="node2" href="../../d2/d37/classCIoMessenger.html#ab36a4e216bc7eef1d5d502de4e66c337" title="Initiate next step in message lifecycle. " alt="" coords="219,122,368,163"/><area shape="rect" id="node3" href="../../d2/d37/classCIoMessenger.html#a026a7f7c1befcf4593cee29a45a5e7e3" title="Execute the next I/O operation. " alt="" coords="431,65,604,92"/><area shape="rect" id="node8" href="../../d2/d37/classCIoMessenger.html#a0abacc71b0894aaf27ec27bf8ff19720" title="Callback function to handle incoming data (invoked by ASIO::async_read_some() ). " alt="" coords="417,247,618,273"/><area shape="rect" id="node11" href="../../d2/d37/classCIoMessenger.html#aa9a7d897f0c01957b1382c43c0590680" title="Callback function to handle a completed &quot;write&quot; operation (invoked by ASIO::async_write() )..." alt="" coords="435,357,600,398"/><area shape="rect" id="node6" href="../../d2/d37/classCIoMessenger.html#afd386d9e47947af9b049e0b8db6aa780" title="Callback function to handle a wait for interframe delay or its error return. " alt="" coords="677,122,857,163"/><area shape="rect" id="node7" href="../../d2/d37/classCIoMessenger.html#a9c8210395e9dbc12bbd21404e1eb95c9" title="Handle a timeout (inherited from px::asio::CTimedObject). " alt="" coords="681,188,853,215"/><area shape="rect" id="node4" href="../../d2/d37/classCIoMessenger.html#afa7b3b72c1c9415bfd06446ac9124516" title="Execute the next message. " alt="" coords="674,5,859,32"/><area shape="rect" id="node5" href="../../d2/d37/classCIoMessenger.html#a1938e35e8d22e17fd52ea0a577c7d31b" title="Callback function to handle a wait timeout or its error return. " alt="" coords="684,57,849,98"/><area shape="rect" id="node9" href="../../d5/daf/classCSerialConnection.html#ac4fa6e5723a3675d78b044372c753690" title="Read more data from the serial input channel. " alt="" coords="692,239,841,281"/><area shape="rect" id="node10" href="../../d6/d76/classCTcpMessenger.html#a409d72c824fb0c24235aadca1cbf40af" title="Read more data from the network input channel. " alt="" coords="667,305,867,332"/><area shape="rect" id="node12" href="../../d5/daf/classCSerialConnection.html#a8156126048d7ca669c3b10fa1c86d617" title="Write data to the serial output channel. " alt="" coords="692,357,841,398"/><area shape="rect" id="node13" href="../../d6/d76/classCTcpMessenger.html#a936d49dde6b492a826c173e5229fe46d" title="Write data to the network output channel. " alt="" coords="685,423,848,449"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae03be729c59b25c638b2d2ad7db751da"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3">io_message_state</a> CIoMessage::on_interframe_delay_complete </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notify message that interframe delay has completed. </p>

<p>Implemented in <a class="el" href="../../da/d20/classCSimpleMessage.html#aafdbba2c6c9dc54b5a6d25efa6ac8548">CSimpleMessage</a>, and <a class="el" href="../../da/d56/classCProtocolMessage.html#af145a5ecf52d0c1c807734354a7a3e50">CProtocolMessage</a>.</p>

</div>
</div>
<a class="anchor" id="aea3685c428ceb41f122e898c19cbbc1f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3">io_message_state</a> CIoMessage::on_receive_flush_complete </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notify message that receive flush has completed. </p>

<p>Implemented in <a class="el" href="../../da/d20/classCSimpleMessage.html#a7da1186ddf0cc9ae36bb930862c18721">CSimpleMessage</a>, and <a class="el" href="../../da/d56/classCProtocolMessage.html#a30b5813e9ceae07ee4abeb5d96bda01d">CProtocolMessage</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/ddf/classCIoMessage_aea3685c428ceb41f122e898c19cbbc1f_icgraph.png" border="0" usemap="#dc/ddf/classCIoMessage_aea3685c428ceb41f122e898c19cbbc1f_icgraph" alt=""/></div>
<map name="dc/ddf/classCIoMessage_aea3685c428ceb41f122e898c19cbbc1f_icgraph" id="dc/ddf/classCIoMessage_aea3685c428ceb41f122e898c19cbbc1f_icgraph">
<area shape="rect" id="node2" href="../../d2/d37/classCIoMessenger.html#ab36a4e216bc7eef1d5d502de4e66c337" title="Initiate next step in message lifecycle. " alt="" coords="232,122,381,163"/><area shape="rect" id="node3" href="../../d2/d37/classCIoMessenger.html#a026a7f7c1befcf4593cee29a45a5e7e3" title="Execute the next I/O operation. " alt="" coords="444,65,617,92"/><area shape="rect" id="node8" href="../../d2/d37/classCIoMessenger.html#a0abacc71b0894aaf27ec27bf8ff19720" title="Callback function to handle incoming data (invoked by ASIO::async_read_some() ). " alt="" coords="430,247,631,273"/><area shape="rect" id="node11" href="../../d2/d37/classCIoMessenger.html#aa9a7d897f0c01957b1382c43c0590680" title="Callback function to handle a completed &quot;write&quot; operation (invoked by ASIO::async_write() )..." alt="" coords="448,357,613,398"/><area shape="rect" id="node6" href="../../d2/d37/classCIoMessenger.html#afd386d9e47947af9b049e0b8db6aa780" title="Callback function to handle a wait for interframe delay or its error return. " alt="" coords="690,122,870,163"/><area shape="rect" id="node7" href="../../d2/d37/classCIoMessenger.html#a9c8210395e9dbc12bbd21404e1eb95c9" title="Handle a timeout (inherited from px::asio::CTimedObject). " alt="" coords="694,188,866,215"/><area shape="rect" id="node4" href="../../d2/d37/classCIoMessenger.html#afa7b3b72c1c9415bfd06446ac9124516" title="Execute the next message. " alt="" coords="687,5,873,32"/><area shape="rect" id="node5" href="../../d2/d37/classCIoMessenger.html#a1938e35e8d22e17fd52ea0a577c7d31b" title="Callback function to handle a wait timeout or its error return. " alt="" coords="697,57,863,98"/><area shape="rect" id="node9" href="../../d5/daf/classCSerialConnection.html#ac4fa6e5723a3675d78b044372c753690" title="Read more data from the serial input channel. " alt="" coords="705,239,855,281"/><area shape="rect" id="node10" href="../../d6/d76/classCTcpMessenger.html#a409d72c824fb0c24235aadca1cbf40af" title="Read more data from the network input channel. " alt="" coords="680,305,880,332"/><area shape="rect" id="node12" href="../../d5/daf/classCSerialConnection.html#a8156126048d7ca669c3b10fa1c86d617" title="Write data to the serial output channel. " alt="" coords="705,357,855,398"/><area shape="rect" id="node13" href="../../d6/d76/classCTcpMessenger.html#a936d49dde6b492a826c173e5229fe46d" title="Write data to the network output channel. " alt="" coords="699,423,861,449"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a20269c52aa5c5d15c2f64d4be3e157b4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3">io_message_state</a> CIoMessage::on_send_complete </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notify message that send has completed. </p>

<p>Implemented in <a class="el" href="../../da/d20/classCSimpleMessage.html#a7ddcd0aba4d0585b28fd8908c52dabf7">CSimpleMessage</a>, and <a class="el" href="../../da/d56/classCProtocolMessage.html#aec85876e7a3b58acd8bfa06af2546b82">CProtocolMessage</a>.</p>

</div>
</div>
<a class="anchor" id="a29a4beaa8f95cbc2754d22603d3b962a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3">io_message_state</a> CIoMessage::on_read </td>
          <td>(</td>
          <td class="paramtype">const px::asio::io_buf_t &amp;&#160;</td>
          <td class="paramname"><em>bytes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const size_t&#160;</td>
          <td class="paramname"><em>nbytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Pass in incoming bytes from port read. </p>

<p>Implemented in <a class="el" href="../../da/d20/classCSimpleMessage.html#adad8659ce34d9b1c746e8b079959e35d">CSimpleMessage</a>, and <a class="el" href="../../da/d56/classCProtocolMessage.html#a6df29b414fef542855637271c718debe">CProtocolMessage</a>.</p>

</div>
</div>
<a class="anchor" id="a42e26bda92a4a011d15e6af64cda2a64"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3">io_message_state</a> CIoMessage::on_timeout </td>
          <td>(</td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>timeout_value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notify message that timeout occured. </p>

<p>Implemented in <a class="el" href="../../da/d20/classCSimpleMessage.html#a125f501d3c81a2dbda544337acf65ca8">CSimpleMessage</a>, <a class="el" href="../../da/d56/classCProtocolMessage.html#ad2a2856f3e68fb1030d93e257be25d20">CProtocolMessage</a>, and <a class="el" href="../../d2/df4/classCModbusProtocolMessage.html#a8924608c6f0e72a2f3166e660a804b27">CModbusProtocolMessage</a>.</p>

</div>
</div>
<a class="anchor" id="a2384ad830cb911d0923e49f85ec6d7ca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3">io_message_state</a> CIoMessage::on_err </td>
          <td>(</td>
          <td class="paramtype">const boost::system::error_code &amp;&#160;</td>
          <td class="paramname"><em>err</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Callback for when an error occurs (here, a pure virtual function). </p>
<p>This is invoked if the I/O messenger gets any sort of low-level error. Note that this is very rare in practice, we'll probably almost never see this actually getting invoked for serial transfers. Instead, errors will typically be in the form of timeouts or protocol-level errors, neither of which use this call.</p>
<p>Typically we'll handle this by performing any needed clean-up of our internal state, then calling done() to tell the I/O messenger to move on to another message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">err</td><td>The error_code returned by ASIO. </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="../../da/d20/classCSimpleMessage.html#ab52b9fdd00ad8c6607d37e960e7eae28">CSimpleMessage</a>, and <a class="el" href="../../da/d56/classCProtocolMessage.html#ae069091e5ac5b971d124949c63cb881c">CProtocolMessage</a>.</p>

</div>
</div>
<a class="anchor" id="a60fda24dbb33e35f0af6a2e1e29225e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3">io_message_state</a> CIoMessage::on_cancel_complete </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Notify message that cancel operation completed. </p>

<p>Implemented in <a class="el" href="../../da/d20/classCSimpleMessage.html#a15e36102350d872942459c546922af45">CSimpleMessage</a>, and <a class="el" href="../../da/d56/classCProtocolMessage.html#a4f67f9a6190b87fb70eb646e6c75b2d2">CProtocolMessage</a>.</p>

</div>
</div>
<a class="anchor" id="a7a52924c9eceecd4721ca5c5de124fae"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual uint32_t CIoMessage::get_interframe_delay </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get interframe delay. </p>

<p>Implemented in <a class="el" href="../../da/d20/classCSimpleMessage.html#afbe67429fb392114493e38cb3dfddf56">CSimpleMessage</a>, and <a class="el" href="../../d2/df4/classCModbusProtocolMessage.html#acd3f76627dd3d2cff8755ab5dc21fc76">CModbusProtocolMessage</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/ddf/classCIoMessage_a7a52924c9eceecd4721ca5c5de124fae_icgraph.png" border="0" usemap="#dc/ddf/classCIoMessage_a7a52924c9eceecd4721ca5c5de124fae_icgraph" alt=""/></div>
<map name="dc/ddf/classCIoMessage_a7a52924c9eceecd4721ca5c5de124fae_icgraph" id="dc/ddf/classCIoMessage_a7a52924c9eceecd4721ca5c5de124fae_icgraph">
<area shape="rect" id="node2" href="../../d2/d37/classCIoMessenger.html#ab36a4e216bc7eef1d5d502de4e66c337" title="Initiate next step in message lifecycle. " alt="" coords="259,122,408,163"/><area shape="rect" id="node3" href="../../d2/d37/classCIoMessenger.html#a026a7f7c1befcf4593cee29a45a5e7e3" title="Execute the next I/O operation. " alt="" coords="471,65,644,92"/><area shape="rect" id="node8" href="../../d2/d37/classCIoMessenger.html#a0abacc71b0894aaf27ec27bf8ff19720" title="Callback function to handle incoming data (invoked by ASIO::async_read_some() ). " alt="" coords="457,247,658,273"/><area shape="rect" id="node11" href="../../d2/d37/classCIoMessenger.html#aa9a7d897f0c01957b1382c43c0590680" title="Callback function to handle a completed &quot;write&quot; operation (invoked by ASIO::async_write() )..." alt="" coords="475,357,640,398"/><area shape="rect" id="node6" href="../../d2/d37/classCIoMessenger.html#afd386d9e47947af9b049e0b8db6aa780" title="Callback function to handle a wait for interframe delay or its error return. " alt="" coords="717,122,897,163"/><area shape="rect" id="node7" href="../../d2/d37/classCIoMessenger.html#a9c8210395e9dbc12bbd21404e1eb95c9" title="Handle a timeout (inherited from px::asio::CTimedObject). " alt="" coords="721,188,893,215"/><area shape="rect" id="node4" href="../../d2/d37/classCIoMessenger.html#afa7b3b72c1c9415bfd06446ac9124516" title="Execute the next message. " alt="" coords="714,5,899,32"/><area shape="rect" id="node5" href="../../d2/d37/classCIoMessenger.html#a1938e35e8d22e17fd52ea0a577c7d31b" title="Callback function to handle a wait timeout or its error return. " alt="" coords="724,57,889,98"/><area shape="rect" id="node9" href="../../d5/daf/classCSerialConnection.html#ac4fa6e5723a3675d78b044372c753690" title="Read more data from the serial input channel. " alt="" coords="732,239,881,281"/><area shape="rect" id="node10" href="../../d6/d76/classCTcpMessenger.html#a409d72c824fb0c24235aadca1cbf40af" title="Read more data from the network input channel. " alt="" coords="707,305,907,332"/><area shape="rect" id="node12" href="../../d5/daf/classCSerialConnection.html#a8156126048d7ca669c3b10fa1c86d617" title="Write data to the serial output channel. " alt="" coords="732,357,881,398"/><area shape="rect" id="node13" href="../../d6/d76/classCTcpMessenger.html#a936d49dde6b492a826c173e5229fe46d" title="Write data to the network output channel. " alt="" coords="725,423,888,449"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a74a5903a18fdd747a6829ac3e6877eb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CIoMessage::ok_to_prefetch </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tells whether this message will let the IO Messenger prefetch the next message from the Port. </p>
<dl class="section return"><dt>Returns</dt><dd>True if this message permits the next message to be prefetched. False if this message wants to wait until it has been completed before allowing the Messenger to fetch the next message from the Port; it might do this, eg, if the results of this message will determine what message needs to be sent next in an extended but indeterminate transaction series. </dd></dl>

<p>Definition at line <a class="el" href="../../d8/da7/io__message_8hpp_source.html#l00304">304</a> of file <a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="adaa58d5a1b4b0214bf1611bcd5870b75"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CIoMessage::set_connection_id </td>
          <td>(</td>
          <td class="paramtype">px::id_t&#160;</td>
          <td class="paramname"><em>conn_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the Connection ID of this message. </p>

<p>Definition at line <a class="el" href="../../d8/da7/io__message_8hpp_source.html#l00306">306</a> of file <a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6e1470d1056dc00b30b5fa4bf730e066"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void CIoMessage::parse </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Try to parse the read buffer, to see if we are done receiving. </p>
<p>This is called each time we receive more data. It will attempt to parse the valid portion of the read buffer (_rbuf[0] up to _rbuf[_offset]). A pure virtual here, it is the responsibility of the message sub-class to check and then perform the next action:</p>
<ul>
<li>If we don't need to perform any more I/O (for now), call done()</li>
<li>If there was a known error, provide an error code and call done()</li>
<li>If we need more data, call recv() to initiate another asynchronous read operation</li>
<li>If we need to write more data out, call <a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3a2541d938b0a58946090d7abdde0d3890">send()</a> to initiate an asynchronous write operation </li>
</ul>

<p>Implemented in <a class="el" href="../../da/d20/classCSimpleMessage.html#a975f0df58905a553865f89664ed704c4">CSimpleMessage</a>, and <a class="el" href="../../da/d56/classCProtocolMessage.html#ae5a1a65bdbb4c5d2a9bb092c6d28cbbb">CProtocolMessage</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a2172fe90f44e1e31cd7890b1602886a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t CIoMessage::_msg_num</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Internal message identifier (for logging) </p>

<p>Definition at line <a class="el" href="../../d8/da7/io__message_8hpp_source.html#l00155">155</a> of file <a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a226d566f41c35b8b33374d10660d0d12"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::asio::io_buf_t CIoMessage::_wbuf</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Write buffer. </p>
<p>This is a stream of bytes to be written/sent out via the messenger. The sub-class is responsible for assigning a value to this buffer prior to each <a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3a2541d938b0a58946090d7abdde0d3890">send()</a>. </p>

<p>Definition at line <a class="el" href="../../d8/da7/io__message_8hpp_source.html#l00195">195</a> of file <a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="afb251733dc7e72977b8f2ebc23fa6418"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::asio::io_buf_t CIoMessage::_rbuf</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Read buffer. </p>
<p>This is a stream of bytes to be written/sent out via the messenger. When <a class="el" href="../../dc/ddf/classCIoMessage.html#a6e1470d1056dc00b30b5fa4bf730e066" title="Try to parse the read buffer, to see if we are done receiving. ">parse()</a> is invoked, the contents of this buffer (up to _offset) constitute the data which has been received thus far. </p>

<p>Definition at line <a class="el" href="../../d8/da7/io__message_8hpp_source.html#l00204">204</a> of file <a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aff838e8d791d2f96898751d1db9e09eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t CIoMessage::_offset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Current offset into read buffer. </p>
<p>This is an index into _rbuf, indicating the size of the portion of the buffer which is valid. _rbuf.size() will always be &gt;= _offset. When the sub-class wishes to initiate a new sequence of recv()s, it must first reset this value to 0, so that newly received data will start filling the beginning of the buffer (rather than being tacked on to the end of a previous message). </p>

<p>Definition at line <a class="el" href="../../d8/da7/io__message_8hpp_source.html#l00216">216</a> of file <a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9f0f665d4e1c57c0a088ea6c815a26f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::CMonoTime CIoMessage::_start_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time at which this message was initiated. </p>
<p>This marks the time at which the message began execution. Typically a message will execute from start to finish while bound to the same I/O messenger, and it's useful to know how long it took to complete (e.g. to send a Modbus "read registers" command and receive a response). This forms the starting time used to measure that duration. </p>

<p>Definition at line <a class="el" href="../../d8/da7/io__message_8hpp_source.html#l00228">228</a> of file <a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af85b2c372faee80ccf15d924319d3fcb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::CMonoTime CIoMessage::_end_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Time at which this message finished performing I/O. </p>
<p>This is the timestamp that accompanies _start_time, but measures the end of our "active" duration. It gets updated every time I/O is performed on behalf of the message; once the message is finished, _end_time - _start_time tells us how long the entire exchange took to complete. </p>

<p>Definition at line <a class="el" href="../../d8/da7/io__message_8hpp_source.html#l00239">239</a> of file <a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7cd11c5804b2cfd8c1fe7668a98591e7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::id_t CIoMessage::_device_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ID of the Device which this message is for. </p>

<p>Definition at line <a class="el" href="../../d8/da7/io__message_8hpp_source.html#l00244">244</a> of file <a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae7b829cb6be46caa69f55e8584574ece"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::id_t CIoMessage::_port_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ID of the Port associated with the <a class="el" href="../../d2/d37/classCIoMessenger.html" title="I/O &quot;Messenger&quot; class. ">CIoMessenger</a> for this message. </p>

<p>Definition at line <a class="el" href="../../d8/da7/io__message_8hpp_source.html#l00249">249</a> of file <a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a91a0e3d080659b7d91dac9e21da6c231"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::id_t CIoMessage::_conn_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>ID of the Connection associated with the <a class="el" href="../../d2/d37/classCIoMessenger.html" title="I/O &quot;Messenger&quot; class. ">CIoMessenger</a> for this message. </p>

<p>Definition at line <a class="el" href="../../d8/da7/io__message_8hpp_source.html#l00254">254</a> of file <a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa6ef39a6cb374d76454370043cbb2069"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/daa/io__message__enums_8hpp.html#adee20581057d53cbe832a7ae3e5f76d3">io_message_state</a> CIoMessage::_message_state</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>State of message processing. </p>

<p>Definition at line <a class="el" href="../../d8/da7/io__message_8hpp_source.html#l00259">259</a> of file <a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2e0ca4d673516309d01c2235a8d1b50d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CIoMessage::_ok_to_prefetch_next_msg</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag which tells whether the next message is independent of the response to this one, ie, OK to prefetch the next message without regard to the results of this one. </p>

<p>Definition at line <a class="el" href="../../d8/da7/io__message_8hpp_source.html#l00270">270</a> of file <a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ade4bd2f545bd33394e9086b584bc6a29"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const size_t CIoMessage::_chunk_size = 256</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Chunk size for the internal read/write buffer. </p>
<p>This really doesn't matter. Seriously, just ignore it, unless you've actually profiled the running code and seen that it's hurting performance. </p>

<p>Definition at line <a class="el" href="../../d8/da7/io__message_8hpp_source.html#l00283">283</a> of file <a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3daf963ba5f232b7ec344b7801a06502"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">size_t CIoMessage::_next_msg_num = 100</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Keeps track of next internal message number. </p>

<p>Definition at line <a class="el" href="../../d8/da7/io__message_8hpp_source.html#l00288">288</a> of file <a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/src/product-ref1/px-toolkit/etn_source/modbus_device_handler/include/io/<a class="el" href="../../d8/da7/io__message_8hpp_source.html">io_message.hpp</a></li>
<li>/src/product-ref1/px-toolkit/etn_source/modbus_device_handler/source/io/<a class="el" href="../../d0/d9e/io__message_8cpp_source.html">io_message.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dc/ddf/classCIoMessage.html">CIoMessage</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:25:20 for ModbusDeviceHandler by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
