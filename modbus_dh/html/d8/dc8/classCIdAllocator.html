<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>ModbusDeviceHandler: CIdAllocator Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ModbusDeviceHandler
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d8/dc8/classCIdAllocator.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a> &#124;
<a href="../../da/d60/classCIdAllocator-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CIdAllocator Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Unique ID allocator class.  
 <a href="../../d8/dc8/classCIdAllocator.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d9/ddc/id__allocator_8hpp_source.html">id_allocator.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for CIdAllocator:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/dbe/classCIdAllocator__coll__graph.png" border="0" usemap="#CIdAllocator_coll__map" alt="Collaboration graph"/></div>
<map name="CIdAllocator_coll__map" id="CIdAllocator_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac37514d176bc197314c8ce9b880d90d5"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc8/classCIdAllocator.html#ac37514d176bc197314c8ce9b880d90d5">CIdAllocator</a> ()</td></tr>
<tr class="memdesc:ac37514d176bc197314c8ce9b880d90d5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default constructor.  <a href="#ac37514d176bc197314c8ce9b880d90d5">More...</a><br/></td></tr>
<tr class="separator:ac37514d176bc197314c8ce9b880d90d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af5c83511968f7f494e8d5e411a33f76f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc8/classCIdAllocator.html#af5c83511968f7f494e8d5e411a33f76f">init</a> (uint64_t starting_id)</td></tr>
<tr class="memdesc:af5c83511968f7f494e8d5e411a33f76f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize our transient ID area with the high value; subsequent calls to <a class="el" href="../../d8/dc8/classCIdAllocator.html#a0400d8deb5703217316fe605cd1a1657" title="Allocate a new internal unique ID. ">get()</a> will decrement from here.  <a href="#af5c83511968f7f494e8d5e411a33f76f">More...</a><br/></td></tr>
<tr class="separator:af5c83511968f7f494e8d5e411a33f76f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0400d8deb5703217316fe605cd1a1657"><td class="memItemLeft" align="right" valign="top">static uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc8/classCIdAllocator.html#a0400d8deb5703217316fe605cd1a1657">get</a> ()</td></tr>
<tr class="memdesc:a0400d8deb5703217316fe605cd1a1657"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocate a new internal unique ID.  <a href="#a0400d8deb5703217316fe605cd1a1657">More...</a><br/></td></tr>
<tr class="separator:a0400d8deb5703217316fe605cd1a1657"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a9ebc784a25730b2e2c3248ac16c55c9c"><td class="memItemLeft" align="right" valign="top">static uint64_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d8/dc8/classCIdAllocator.html#a9ebc784a25730b2e2c3248ac16c55c9c">_next_id</a> = 0</td></tr>
<tr class="separator:a9ebc784a25730b2e2c3248ac16c55c9c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Unique ID allocator class. </p>
<p>Several parts of the device handler and the Toolkit utilize unique 64-bit identifiers to track objects. Sometimes these identifiers are obtained in a "real" way &ndash; e.g. by having the CDS create a new device or channel. But in other cases, the device handler only needs an internal ID, which only needs to be valid for the lifetime of this process, and which will not be exposed to other parts of the Toolkit. This class provides a simple way to allocate such IDs. </p>

<p>Definition at line <a class="el" href="../../d9/ddc/id__allocator_8hpp_source.html#l00018">18</a> of file <a class="el" href="../../d9/ddc/id__allocator_8hpp_source.html">id_allocator.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac37514d176bc197314c8ce9b880d90d5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CIdAllocator::CIdAllocator </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Default constructor. </p>
<p>-----------&mdash; Member Functions ---------------------------&mdash; See <a class="el" href="../../d9/ddc/id__allocator_8hpp.html">id_allocator.hpp</a> </p>

<p>Definition at line <a class="el" href="../../dd/da6/id__allocator_8cpp_source.html#l00019">19</a> of file <a class="el" href="../../dd/da6/id__allocator_8cpp_source.html">id_allocator.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af5c83511968f7f494e8d5e411a33f76f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CIdAllocator::init </td>
          <td>(</td>
          <td class="paramtype">uint64_t&#160;</td>
          <td class="paramname"><em>starting_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initialize our transient ID area with the high value; subsequent calls to <a class="el" href="../../d8/dc8/classCIdAllocator.html#a0400d8deb5703217316fe605cd1a1657" title="Allocate a new internal unique ID. ">get()</a> will decrement from here. </p>
<p>Do this once at startup, perhaps with a persisted value. </p>

<p>Definition at line <a class="el" href="../../dd/da6/id__allocator_8cpp_source.html#l00024">24</a> of file <a class="el" href="../../dd/da6/id__allocator_8cpp_source.html">id_allocator.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dc8/classCIdAllocator_af5c83511968f7f494e8d5e411a33f76f_icgraph.png" border="0" usemap="#d8/dc8/classCIdAllocator_af5c83511968f7f494e8d5e411a33f76f_icgraph" alt=""/></div>
<map name="d8/dc8/classCIdAllocator_af5c83511968f7f494e8d5e411a33f76f_icgraph" id="d8/dc8/classCIdAllocator_af5c83511968f7f494e8d5e411a33f76f_icgraph">
<area shape="rect" id="node2" href="../../dc/de3/classCDeviceHandlerCore.html#a2f61bd2758f039bdf6fd36db67a0f7dd" title="This function sets up the configuration for the main loop(). " alt="" coords="184,5,341,46"/><area shape="rect" id="node4" href="../../db/d6b/perf____main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="main" alt="" coords="235,71,290,97"/><area shape="rect" id="node3" href="../../d0/da8/group__DH__Startup.html#ga0ddf1224851353fc92bfbff6f499fa97" title="The program entry point, main(). " alt="" coords="390,12,445,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0400d8deb5703217316fe605cd1a1657"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t CIdAllocator::get </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Allocate a new internal unique ID. </p>
<p>This returns the current value of _next_id, and decrements its value by 1, thus returning a new unique identifier suitable for use in any device-handler-internal objects.</p>
<p>These are known as "transient ID"s because they are not used as persistent IDs in the CDS. </p>

<p>Definition at line <a class="el" href="../../dd/da6/id__allocator_8cpp_source.html#l00032">32</a> of file <a class="el" href="../../dd/da6/id__allocator_8cpp_source.html">id_allocator.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/dc8/classCIdAllocator_a0400d8deb5703217316fe605cd1a1657_icgraph.png" border="0" usemap="#d8/dc8/classCIdAllocator_a0400d8deb5703217316fe605cd1a1657_icgraph" alt=""/></div>
<map name="d8/dc8/classCIdAllocator_a0400d8deb5703217316fe605cd1a1657_icgraph" id="d8/dc8/classCIdAllocator_a0400d8deb5703217316fe605cd1a1657_icgraph">
<area shape="rect" id="node2" href="../../d2/d76/classCDevice.html#a8bfd7e73284c3aad1c51fc3a393e59d8" title="Register conditional variable that we need to evaluate conditional (dependency) equations. " alt="" coords="184,194,397,235"/><area shape="rect" id="node12" href="../../d2/d76/classCDevice.html#a623f52fff7f402a7e9746e93e8996fc2" title="Create and initialize the Internal Parameters called for by the EDS. " alt="" coords="471,282,611,323"/><area shape="rect" id="node13" href="../../d2/d76/classCDevice.html#abb0416ff49a1b6f8ae4f418981c8e703" title="Create and add a new Internal Parameter to the given map, using its EDS description. " alt="" coords="213,340,369,382"/><area shape="rect" id="node16" href="../../d2/d76/classCDevice.html#a07f52c9e6e08da46ee2aa558105443d3" title="Create and initialize the device commands called for by the EDS. " alt="" coords="967,439,1118,480"/><area shape="rect" id="node6" href="../../d2/d76/classCDevice.html#a62fdb6fcd48d2afe1fa8f77acfb5028f" title="Initialize single channel from eds entry. " alt="" coords="973,100,1113,142"/><area shape="rect" id="node17" href="../../d2/d76/classCDevice.html#a6d11490791db78b5203472c94493a1f8" title="Builds and saves the metadata for cWriteSingleChannel in this device&#39;s command list, if it has writable channels. " alt="" coords="198,516,383,558"/><area shape="rect" id="node21" href="../../d2/d76/classCDevice.html#a1e68fed38fe8ea9144410fbc5f815962" title="Assign ID to block. " alt="" coords="197,589,384,616"/><area shape="rect" id="node3" href="../../df/d2c/classCParam.html#a70eedd125648b936b6036167ffad5fd9" title="Initialize the equation or direct xBlock transform for this parameter. " alt="" coords="473,166,609,207"/><area shape="rect" id="node4" href="../../d4/dab/classCChannel.html#a11e5afc5fa8cb59a139eafdc942299c9" title="Initialize this Channel, and its ChannelSettings, from its EDS information. " alt="" coords="723,35,871,76"/><area shape="rect" id="node5" href="../../d4/dab/classCChannel.html#a3149c9e47836222d82b3f3d4675922c0" title="RE&#45;Initialize this Channel, which is already in the CDS, from its EDS information. " alt="" coords="717,100,878,142"/><area shape="rect" id="node10" href="../../d9/d07/classCInternalParam.html#a41e8042ceef897236fbf50833c959cb9" title="Initialize this Internal Parameter from its EDS information. " alt="" coords="704,166,891,207"/><area shape="rect" id="node11" href="../../d1/ddc/classCCommand.html#a9768dea651078e9b57dd78ffe6083e16" title="Initialize this Command Parameter from its EDS information. " alt="" coords="716,231,879,272"/><area shape="rect" id="node7" href="../../d2/d76/classCDevice.html#a86e0d795f0cc71ab61e023d4213c36ab" title="Create and initialize the Channels called for by the EDS. " alt="" coords="1177,166,1317,207"/><area shape="rect" id="node8" href="../../d2/d76/classCDevice.html#a1d5a52000fc574354fb3548eb4dcae96" title="Call this function to initialize the Channels and Internal Parameters for this Device. " alt="" coords="1366,319,1506,360"/><area shape="rect" id="node9" href="../../d2/d76/classCDevice.html#accb14c1121791e295ac675fc99b36807" title="Initialize the Data Blocks, Channels, and Internal Parameters for this Device. " alt="" coords="1555,319,1695,360"/><area shape="rect" id="node14" href="../../d2/d76/classCDevice.html#acfa370a8a85e823aa7f28c0e7ebbee41" title="Create and initialize the Device attribute params called for by the EDS. " alt="" coords="1177,348,1317,390"/><area shape="rect" id="node15" href="../../d2/d76/classCDevice.html#a7a9d9f480e1d7c0ec102459c14a8076d" title="Use the subdevices parameters in the parsed device EDS, setup the subdevices for this device..." alt="" coords="471,399,611,440"/><area shape="rect" id="node18" href="../../d2/d76/classCDevice.html#a09a759293a18a047fb1294b3daf6d506" title="Add Device Commands to the CDS. " alt="" coords="462,516,621,558"/><area shape="rect" id="node19" href="../../d2/d76/classCDevice.html#a2b6500949396a4d972e94118dd4687e7" title="Cleanup any remaining junk, once profiling is complete. " alt="" coords="702,524,893,550"/><area shape="rect" id="node20" href="../../d2/d76/classCDevice.html#a00f0cf46dca1ac48b5f397b435ef867a" title="Called from the Data Block to handle its done state and manage received data. " alt="" coords="957,516,1128,558"/><area shape="rect" id="node22" href="../../d7/d46/classCModbusDevice.html#a7304d59a192d86c572c1e9b3ef1a8670" title="Call this function to initially populate the list of polled Data Blocks that may be managed by this D..." alt="" coords="446,582,637,623"/><area shape="rect" id="node23" href="../../d7/d46/classCModbusDevice.html#a302fad9aa3afb0faad6d32998ea03f37" title="Call this function to create a Block for the named command that may be issued to this Device..." alt="" coords="454,647,629,688"/><area shape="rect" id="node24" href="../../d7/d46/classCModbusDevice.html#a53f23722e476f1bd17a33a2ddcadf862" title="Call this function to create and execute the named command for this Device. " alt="" coords="704,582,891,623"/><area shape="rect" id="node25" href="../../dc/deb/classCModbusSerialDevice.html#a55303b3b178117fff9dfef0fd005b9a7" title="Creates the Modbus device waveform command block and messages and and writes them to the transaction_..." alt="" coords="685,647,909,688"/><area shape="rect" id="node26" href="../../dc/deb/classCModbusSerialDevice.html#a38d14199a95a6b96e4594c878f62a2a0" title="Creates the next command in the Modbus device multipart command transaction and writes it to the tran..." alt="" coords="692,713,903,769"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a9ebc784a25730b2e2c3248ac16c55c9c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t CIdAllocator::_next_id = 0</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/ddc/id__allocator_8hpp_source.html#l00068">68</a> of file <a class="el" href="../../d9/ddc/id__allocator_8hpp_source.html">id_allocator.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/src/product-ref1/px-toolkit/etn_source/modbus_device_handler/include/device/<a class="el" href="../../d9/ddc/id__allocator_8hpp_source.html">id_allocator.hpp</a></li>
<li>/src/product-ref1/px-toolkit/etn_source/modbus_device_handler/source/device/<a class="el" href="../../dd/da6/id__allocator_8cpp_source.html">id_allocator.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d8/dc8/classCIdAllocator.html">CIdAllocator</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:25:20 for ModbusDeviceHandler by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
