<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>mercury_server: CWebsocketListener Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">mercury_server
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dd/d8f/classCWebsocketListener.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d6/df8/classCWebsocketListener-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CWebsocketListener Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Class to handle listening on non-SSL and SSL Websockets.  
 <a href="../../dd/d8f/classCWebsocketListener.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d7/def/ws__listener_8hpp_source.html">ws_listener.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CWebsocketListener:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/d85/classCWebsocketListener__inherit__graph.png" border="0" usemap="#CWebsocketListener_inherit__map" alt="Inheritance graph"/></div>
<map name="CWebsocketListener_inherit__map" id="CWebsocketListener_inherit__map">
<area shape="rect" id="node2" href="../../dd/d60/classpx_1_1asio_1_1CIoActor.html" title="{CIoActor\n||}" alt="" coords="61,5,139,83"/></map>
</div>
<div class="dynheader">
Collaboration diagram for CWebsocketListener:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/da0/classCWebsocketListener__coll__graph.png" border="0" usemap="#CWebsocketListener_coll__map" alt="Collaboration graph"/></div>
<map name="CWebsocketListener_coll__map" id="CWebsocketListener_coll__map">
<area shape="rect" id="node2" href="../../dd/d60/classpx_1_1asio_1_1CIoActor.html" title="{CIoActor\n||}" alt="" coords="5,219,83,296"/><area shape="rect" id="node5" title="STL class. " alt="" coords="407,5,564,83"/><area shape="rect" id="node10" title="STL class. " alt="" coords="1083,5,1217,83"/></map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a89636e40a90f39668480a5d0f195836c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d8f/classCWebsocketListener.html#a89636e40a90f39668480a5d0f195836c">CWebsocketListener</a> (<a class="el" href="../../d6/d32/classpx_1_1asio_1_1CIoManager.html">px::asio::CIoManager</a> &amp;manager, const <a class="el" href="../../d7/d46/classCWsProtocolHandler.html">CWsProtocolHandler</a> &amp;prot)</td></tr>
<tr class="memdesc:a89636e40a90f39668480a5d0f195836c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a89636e40a90f39668480a5d0f195836c">More...</a><br/></td></tr>
<tr class="separator:a89636e40a90f39668480a5d0f195836c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebb7dc0814fe7fd5857353d7cf4b6606"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d8f/classCWebsocketListener.html#aebb7dc0814fe7fd5857353d7cf4b6606">~CWebsocketListener</a> ()</td></tr>
<tr class="memdesc:aebb7dc0814fe7fd5857353d7cf4b6606"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#aebb7dc0814fe7fd5857353d7cf4b6606">More...</a><br/></td></tr>
<tr class="separator:aebb7dc0814fe7fd5857353d7cf4b6606"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c3b28da5c0e3e38d845f48b60786fb4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d8f/classCWebsocketListener.html#a4c3b28da5c0e3e38d845f48b60786fb4">cleartext_listen</a> (uint16_t port)</td></tr>
<tr class="memdesc:a4c3b28da5c0e3e38d845f48b60786fb4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start listening on non-SSL port given.  <a href="#a4c3b28da5c0e3e38d845f48b60786fb4">More...</a><br/></td></tr>
<tr class="separator:a4c3b28da5c0e3e38d845f48b60786fb4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9925d7c6b7ab8563f76a8c0bef305069"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d8f/classCWebsocketListener.html#a9925d7c6b7ab8563f76a8c0bef305069">ssl_listen</a> (uint16_t port, std::shared_ptr&lt; boost::asio::ssl::context &gt; ctx)</td></tr>
<tr class="memdesc:a9925d7c6b7ab8563f76a8c0bef305069"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start listening on SSL port given, using given context.  <a href="#a9925d7c6b7ab8563f76a8c0bef305069">More...</a><br/></td></tr>
<tr class="separator:a9925d7c6b7ab8563f76a8c0bef305069"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cbdd3b4dba2220505bd7582df968502"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d8f/classCWebsocketListener.html#a7cbdd3b4dba2220505bd7582df968502">close</a> ()</td></tr>
<tr class="memdesc:a7cbdd3b4dba2220505bd7582df968502"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop all listeners, close connections, clean up.  <a href="#a7cbdd3b4dba2220505bd7582df968502">More...</a><br/></td></tr>
<tr class="separator:a7cbdd3b4dba2220505bd7582df968502"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a0ad315f2df7bdd61d857c17cb1fd0614"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="../../dd/d8f/classCWebsocketListener.html">CWebsocketListener</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d8f/classCWebsocketListener.html#a0ad315f2df7bdd61d857c17cb1fd0614">create</a> (<a class="el" href="../../d6/d32/classpx_1_1asio_1_1CIoManager.html">px::asio::CIoManager</a> &amp;manager, const <a class="el" href="../../d7/d46/classCWsProtocolHandler.html">CWsProtocolHandler</a> &amp;prot, uint16_t cleartext_port, uint16_t ssl_port, std::shared_ptr&lt; boost::asio::ssl::context &gt; ctx)</td></tr>
<tr class="memdesc:a0ad315f2df7bdd61d857c17cb1fd0614"><td class="mdescLeft">&#160;</td><td class="mdescRight">Factory function for I/O manager.  <a href="#a0ad315f2df7bdd61d857c17cb1fd0614">More...</a><br/></td></tr>
<tr class="separator:a0ad315f2df7bdd61d857c17cb1fd0614"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:afb582315e0568c55c0d36dc24b0cf20c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d8f/classCWebsocketListener.html#afb582315e0568c55c0d36dc24b0cf20c">on_open</a> (websocketpp::connection_hdl hdl)</td></tr>
<tr class="memdesc:afb582315e0568c55c0d36dc24b0cf20c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler for connection open - create <a class="el" href="../../de/d40/classCWsConnection.html" title="Class to handle one Websocket connection, SSL or non-SSL. ">CWsConnection</a> to manage it.  <a href="#afb582315e0568c55c0d36dc24b0cf20c">More...</a><br/></td></tr>
<tr class="separator:afb582315e0568c55c0d36dc24b0cf20c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a803fe75fbea105204f1888e353e7c33c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d8f/classCWebsocketListener.html#a803fe75fbea105204f1888e353e7c33c">on_ssl_open</a> (websocketpp::connection_hdl hdl)</td></tr>
<tr class="separator:a803fe75fbea105204f1888e353e7c33c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9e69fe7dccd2be1474c9d41ea475d0e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d8f/classCWebsocketListener.html#ab9e69fe7dccd2be1474c9d41ea475d0e">on_close</a> (websocketpp::connection_hdl hdl)</td></tr>
<tr class="memdesc:ab9e69fe7dccd2be1474c9d41ea475d0e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handler for connection close.  <a href="#ab9e69fe7dccd2be1474c9d41ea475d0e">More...</a><br/></td></tr>
<tr class="separator:ab9e69fe7dccd2be1474c9d41ea475d0e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23d3113b35c10657d0c0fbee125d2d36"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/def/ws__listener_8hpp.html#ab68ea3df896e32c1d2fb314a96c46a8f">context_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d8f/classCWebsocketListener.html#a23d3113b35c10657d0c0fbee125d2d36">on_tls_init</a> (websocketpp::connection_hdl hdl)</td></tr>
<tr class="memdesc:a23d3113b35c10657d0c0fbee125d2d36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return context pointer for SSL connections.  <a href="#a23d3113b35c10657d0c0fbee125d2d36">More...</a><br/></td></tr>
<tr class="separator:a23d3113b35c10657d0c0fbee125d2d36"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a77605ffcbabe9d6ab223a5a7df05f41c"><td class="memItemLeft" align="right" valign="top">std::map<br class="typebreak"/>
&lt; websocketpp::connection_hdl, <br class="typebreak"/>
std::shared_ptr&lt; <a class="el" href="../../de/d40/classCWsConnection.html">CWsConnection</a> &gt;<br class="typebreak"/>
, std::owner_less<br class="typebreak"/>
&lt; websocketpp::connection_hdl &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d8f/classCWebsocketListener.html#a77605ffcbabe9d6ab223a5a7df05f41c">_conns</a></td></tr>
<tr class="memdesc:a77605ffcbabe9d6ab223a5a7df05f41c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Per-connection object Can't use map because connection_hdl isn't hashable or comparable.  <a href="#a77605ffcbabe9d6ab223a5a7df05f41c">More...</a><br/></td></tr>
<tr class="separator:a77605ffcbabe9d6ab223a5a7df05f41c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99b03079ad9d24a2553a6d3ef511a160"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../d7/def/ws__listener_8hpp.html#a95865f3e7729218799b37e2d8e810186">server_plain</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d8f/classCWebsocketListener.html#a99b03079ad9d24a2553a6d3ef511a160">_ws_nonssl</a></td></tr>
<tr class="memdesc:a99b03079ad9d24a2553a6d3ef511a160"><td class="mdescLeft">&#160;</td><td class="mdescRight">Listening sockets.  <a href="#a99b03079ad9d24a2553a6d3ef511a160">More...</a><br/></td></tr>
<tr class="separator:a99b03079ad9d24a2553a6d3ef511a160"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7373ae81259e1baa0f50c09e3913e2ce"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../d7/def/ws__listener_8hpp.html#a8915c690a50d17997b4b5fabb2a5f06f">server_tls</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d8f/classCWebsocketListener.html#a7373ae81259e1baa0f50c09e3913e2ce">_ws_ssl</a></td></tr>
<tr class="separator:a7373ae81259e1baa0f50c09e3913e2ce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e332a2e74baff6e796b931eeef61f9d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/def/ws__listener_8hpp.html#ab68ea3df896e32c1d2fb314a96c46a8f">context_ptr</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d8f/classCWebsocketListener.html#a7e332a2e74baff6e796b931eeef61f9d">_ctx</a></td></tr>
<tr class="memdesc:a7e332a2e74baff6e796b931eeef61f9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">SSL context from <a class="el" href="../../dd/d8f/classCWebsocketListener.html#a9925d7c6b7ab8563f76a8c0bef305069" title="Start listening on SSL port given, using given context. ">ssl_listen()</a>  <a href="#a7e332a2e74baff6e796b931eeef61f9d">More...</a><br/></td></tr>
<tr class="separator:a7e332a2e74baff6e796b931eeef61f9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac3f78d2e19b6b6f97f1c050790337aa9"><td class="memItemLeft" align="right" valign="top">std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="../../d1/d20/classpx_1_1asio_1_1CProtocolHandler.html">px::asio::CProtocolHandler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d8f/classCWebsocketListener.html#ac3f78d2e19b6b6f97f1c050790337aa9">_prot</a></td></tr>
<tr class="separator:ac3f78d2e19b6b6f97f1c050790337aa9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a455e2f59c73b7252e3c4c73f1b887df9"><td class="memItemLeft" align="right" valign="top">std::mutex&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d8f/classCWebsocketListener.html#a455e2f59c73b7252e3c4c73f1b887df9">_close_mutex</a></td></tr>
<tr class="memdesc:a455e2f59c73b7252e3c4c73f1b887df9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Internal mutex to serialize access to <a class="el" href="../../de/d40/classCWsConnection.html" title="Class to handle one Websocket connection, SSL or non-SSL. ">CWsConnection</a> destructor by <a class="el" href="../../dd/d8f/classCWebsocketListener.html#a7cbdd3b4dba2220505bd7582df968502" title="Stop all listeners, close connections, clean up. ">CWebsocketListener::close</a> and <a class="el" href="../../dd/d8f/classCWebsocketListener.html#ab9e69fe7dccd2be1474c9d41ea475d0e" title="Handler for connection close. ">CWebsocketListener::on_close</a>.  <a href="#a455e2f59c73b7252e3c4c73f1b887df9">More...</a><br/></td></tr>
<tr class="separator:a455e2f59c73b7252e3c4c73f1b887df9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad8f5b72a82efc40b0e54ed72056bcff2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/d8f/classCWebsocketListener.html#ad8f5b72a82efc40b0e54ed72056bcff2">_shutdown</a></td></tr>
<tr class="memdesc:ad8f5b72a82efc40b0e54ed72056bcff2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag to synchronize closing websocket connections by <a class="el" href="../../dd/d8f/classCWebsocketListener.html#a7cbdd3b4dba2220505bd7582df968502" title="Stop all listeners, close connections, clean up. ">CWebsocketListener::close</a> and <a class="el" href="../../dd/d8f/classCWebsocketListener.html#ab9e69fe7dccd2be1474c9d41ea475d0e" title="Handler for connection close. ">CWebsocketListener::on_close</a>.  <a href="#ad8f5b72a82efc40b0e54ed72056bcff2">More...</a><br/></td></tr>
<tr class="separator:ad8f5b72a82efc40b0e54ed72056bcff2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Class to handle listening on non-SSL and SSL Websockets. </p>
<p>Interfaces to library, hands off incoming messages to ADU. </p>

<p>Definition at line <a class="el" href="../../d7/def/ws__listener_8hpp_source.html#l00027">27</a> of file <a class="el" href="../../d7/def/ws__listener_8hpp_source.html">ws_listener.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a89636e40a90f39668480a5d0f195836c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CWebsocketListener::CWebsocketListener </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d32/classpx_1_1asio_1_1CIoManager.html">px::asio::CIoManager</a> &amp;&#160;</td>
          <td class="paramname"><em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d7/d46/classCWsProtocolHandler.html">CWsProtocolHandler</a> &amp;&#160;</td>
          <td class="paramname"><em>prot</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>

<p>Definition at line <a class="el" href="../../d7/def/ws__listener_8hpp_source.html#l00044">44</a> of file <a class="el" href="../../d7/def/ws__listener_8hpp_source.html">ws_listener.hpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d8f/classCWebsocketListener_a89636e40a90f39668480a5d0f195836c_icgraph.png" border="0" usemap="#dd/d8f/classCWebsocketListener_a89636e40a90f39668480a5d0f195836c_icgraph" alt=""/></div>
<map name="dd/d8f/classCWebsocketListener_a89636e40a90f39668480a5d0f195836c_icgraph" id="dd/d8f/classCWebsocketListener_a89636e40a90f39668480a5d0f195836c_icgraph">
<area shape="rect" id="node2" href="../../dd/d8f/classCWebsocketListener.html#a0ad315f2df7bdd61d857c17cb1fd0614" title="Factory function for I/O manager. " alt="" coords="216,5,371,46"/><area shape="rect" id="node3" href="../../d4/d4a/classCMercuryServer.html#ae7be7e35958e9e89ee36b52f6451d956" title="Execute the server core&#39;s main loop. " alt="" coords="419,12,605,39"/><area shape="rect" id="node4" href="../../df/d0a/main_8cpp.html#a72dfe501a5b0c6d1753dc3bc888d33b9" title="&quot;Real&quot; main, used by the server code " alt="" coords="653,12,736,39"/><area shape="rect" id="node5" href="../../df/d0a/main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="Program entry point. " alt="" coords="785,12,839,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aebb7dc0814fe7fd5857353d7cf4b6606"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CWebsocketListener::~CWebsocketListener </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>

<p>Definition at line <a class="el" href="../../d7/def/ws__listener_8hpp_source.html#l00050">50</a> of file <a class="el" href="../../d7/def/ws__listener_8hpp_source.html">ws_listener.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a0ad315f2df7bdd61d857c17cb1fd0614"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="../../dd/d8f/classCWebsocketListener.html">CWebsocketListener</a> &gt; CWebsocketListener::create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d32/classpx_1_1asio_1_1CIoManager.html">px::asio::CIoManager</a> &amp;&#160;</td>
          <td class="paramname"><em>manager</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d7/d46/classCWsProtocolHandler.html">CWsProtocolHandler</a> &amp;&#160;</td>
          <td class="paramname"><em>prot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>cleartext_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>ssl_port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; boost::asio::ssl::context &gt;&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Factory function for I/O manager. </p>

<p>Definition at line <a class="el" href="../../d4/db9/ws__listener_8cpp_source.html#l00193">193</a> of file <a class="el" href="../../d4/db9/ws__listener_8cpp_source.html">ws_listener.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d8f/classCWebsocketListener_a0ad315f2df7bdd61d857c17cb1fd0614_cgraph.png" border="0" usemap="#dd/d8f/classCWebsocketListener_a0ad315f2df7bdd61d857c17cb1fd0614_cgraph" alt=""/></div>
<map name="dd/d8f/classCWebsocketListener_a0ad315f2df7bdd61d857c17cb1fd0614_cgraph" id="dd/d8f/classCWebsocketListener_a0ad315f2df7bdd61d857c17cb1fd0614_cgraph">
<area shape="rect" id="node2" href="../../dd/d8f/classCWebsocketListener.html#a89636e40a90f39668480a5d0f195836c" title="Constructor. " alt="" coords="208,5,371,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d8f/classCWebsocketListener_a0ad315f2df7bdd61d857c17cb1fd0614_icgraph.png" border="0" usemap="#dd/d8f/classCWebsocketListener_a0ad315f2df7bdd61d857c17cb1fd0614_icgraph" alt=""/></div>
<map name="dd/d8f/classCWebsocketListener_a0ad315f2df7bdd61d857c17cb1fd0614_icgraph" id="dd/d8f/classCWebsocketListener_a0ad315f2df7bdd61d857c17cb1fd0614_icgraph">
<area shape="rect" id="node2" href="../../d4/d4a/classCMercuryServer.html#ae7be7e35958e9e89ee36b52f6451d956" title="Execute the server core&#39;s main loop. " alt="" coords="209,12,394,39"/><area shape="rect" id="node3" href="../../df/d0a/main_8cpp.html#a72dfe501a5b0c6d1753dc3bc888d33b9" title="&quot;Real&quot; main, used by the server code " alt="" coords="443,12,525,39"/><area shape="rect" id="node4" href="../../df/d0a/main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="Program entry point. " alt="" coords="574,12,629,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4c3b28da5c0e3e38d845f48b60786fb4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CWebsocketListener::cleartext_listen </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start listening on non-SSL port given. </p>

<p>Definition at line <a class="el" href="../../d4/db9/ws__listener_8cpp_source.html#l00087">87</a> of file <a class="el" href="../../d4/db9/ws__listener_8cpp_source.html">ws_listener.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d8f/classCWebsocketListener_a4c3b28da5c0e3e38d845f48b60786fb4_cgraph.png" border="0" usemap="#dd/d8f/classCWebsocketListener_a4c3b28da5c0e3e38d845f48b60786fb4_cgraph" alt=""/></div>
<map name="dd/d8f/classCWebsocketListener_a4c3b28da5c0e3e38d845f48b60786fb4_cgraph" id="dd/d8f/classCWebsocketListener_a4c3b28da5c0e3e38d845f48b60786fb4_cgraph">
<area shape="rect" id="node2" href="../../dd/d8f/classCWebsocketListener.html#afb582315e0568c55c0d36dc24b0cf20c" title="Handler for connection open &#45; create CWsConnection to manage it. " alt="" coords="208,63,363,105"/><area shape="rect" id="node8" href="../../dd/d8f/classCWebsocketListener.html#ab9e69fe7dccd2be1474c9d41ea475d0e" title="Handler for connection close. " alt="" coords="208,129,363,170"/><area shape="rect" id="node9" href="../../d4/db9/ws__listener_8cpp.html#aeddfee9614fb14197eae368b842f0d58" title="get_alevel" alt="" coords="240,195,331,221"/><area shape="rect" id="node10" href="../../d4/db9/ws__listener_8cpp.html#aa3b3d2cff5795bec60f34bff61d5427c" title="get_elevel" alt="" coords="240,245,331,272"/><area shape="rect" id="node3" href="../../de/d40/classCWsConnection.html#a61234baa38a021ee7e970e76471e9b6e" title="Factory function. " alt="" coords="411,71,584,97"/><area shape="rect" id="node4" href="../../de/d40/classCWsConnection.html#ae0ba717c748c77a87dea543260d2d416" title="Constructor. " alt="" coords="632,71,867,97"/><area shape="rect" id="node5" href="../../de/d40/classCWsConnection.html#ac0cff03f49a7d6161e0fbcecee470c9f" title="Handle a received message, for SSL and non&#45;SSL websockets. " alt="" coords="936,5,1109,46"/><area shape="rect" id="node6" href="../../de/d40/classCWsConnection.html#aa7d4cf0069ab520775586b85ea660f4e" title="Handle a pong. " alt="" coords="929,71,1116,97"/><area shape="rect" id="node7" href="../../de/d40/classCWsConnection.html#a999d26d7bd99f941251d8fa52b9e559b" title="CWsConnection::on_message" alt="" coords="915,121,1130,148"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9925d7c6b7ab8563f76a8c0bef305069"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CWebsocketListener::ssl_listen </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>port</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::shared_ptr&lt; boost::asio::ssl::context &gt;&#160;</td>
          <td class="paramname"><em>ctx</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start listening on SSL port given, using given context. </p>

<p>Definition at line <a class="el" href="../../d4/db9/ws__listener_8cpp_source.html#l00108">108</a> of file <a class="el" href="../../d4/db9/ws__listener_8cpp_source.html">ws_listener.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d8f/classCWebsocketListener_a9925d7c6b7ab8563f76a8c0bef305069_cgraph.png" border="0" usemap="#dd/d8f/classCWebsocketListener_a9925d7c6b7ab8563f76a8c0bef305069_cgraph" alt=""/></div>
<map name="dd/d8f/classCWebsocketListener_a9925d7c6b7ab8563f76a8c0bef305069_cgraph" id="dd/d8f/classCWebsocketListener_a9925d7c6b7ab8563f76a8c0bef305069_cgraph">
<area shape="rect" id="node2" href="../../dd/d8f/classCWebsocketListener.html#a23d3113b35c10657d0c0fbee125d2d36" title="Return context pointer for SSL connections. " alt="" coords="208,5,363,46"/><area shape="rect" id="node3" href="../../dd/d8f/classCWebsocketListener.html#a803fe75fbea105204f1888e353e7c33c" title="CWebsocketListener\l::on_ssl_open" alt="" coords="208,70,363,111"/><area shape="rect" id="node9" href="../../dd/d8f/classCWebsocketListener.html#ab9e69fe7dccd2be1474c9d41ea475d0e" title="Handler for connection close. " alt="" coords="208,135,363,177"/><area shape="rect" id="node10" href="../../d4/db9/ws__listener_8cpp.html#aeddfee9614fb14197eae368b842f0d58" title="get_alevel" alt="" coords="240,201,331,228"/><area shape="rect" id="node11" href="../../d4/db9/ws__listener_8cpp.html#aa3b3d2cff5795bec60f34bff61d5427c" title="get_elevel" alt="" coords="240,252,331,279"/><area shape="rect" id="node4" href="../../de/d40/classCWsConnection.html#a61234baa38a021ee7e970e76471e9b6e" title="Factory function. " alt="" coords="411,77,584,104"/><area shape="rect" id="node5" href="../../de/d40/classCWsConnection.html#ae0ba717c748c77a87dea543260d2d416" title="Constructor. " alt="" coords="632,77,867,104"/><area shape="rect" id="node6" href="../../de/d40/classCWsConnection.html#ac0cff03f49a7d6161e0fbcecee470c9f" title="Handle a received message, for SSL and non&#45;SSL websockets. " alt="" coords="936,11,1109,53"/><area shape="rect" id="node7" href="../../de/d40/classCWsConnection.html#aa7d4cf0069ab520775586b85ea660f4e" title="Handle a pong. " alt="" coords="929,77,1116,104"/><area shape="rect" id="node8" href="../../de/d40/classCWsConnection.html#a999d26d7bd99f941251d8fa52b9e559b" title="CWsConnection::on_message" alt="" coords="915,128,1130,155"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7cbdd3b4dba2220505bd7582df968502"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CWebsocketListener::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Stop all listeners, close connections, clean up. </p>

<p>Definition at line <a class="el" href="../../d4/db9/ws__listener_8cpp_source.html#l00128">128</a> of file <a class="el" href="../../d4/db9/ws__listener_8cpp_source.html">ws_listener.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="afb582315e0568c55c0d36dc24b0cf20c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CWebsocketListener::on_open </td>
          <td>(</td>
          <td class="paramtype">websocketpp::connection_hdl&#160;</td>
          <td class="paramname"><em>hdl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handler for connection open - create <a class="el" href="../../de/d40/classCWsConnection.html" title="Class to handle one Websocket connection, SSL or non-SSL. ">CWsConnection</a> to manage it. </p>

<p>Definition at line <a class="el" href="../../d4/db9/ws__listener_8cpp_source.html#l00138">138</a> of file <a class="el" href="../../d4/db9/ws__listener_8cpp_source.html">ws_listener.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d8f/classCWebsocketListener_afb582315e0568c55c0d36dc24b0cf20c_cgraph.png" border="0" usemap="#dd/d8f/classCWebsocketListener_afb582315e0568c55c0d36dc24b0cf20c_cgraph" alt=""/></div>
<map name="dd/d8f/classCWebsocketListener_afb582315e0568c55c0d36dc24b0cf20c_cgraph" id="dd/d8f/classCWebsocketListener_afb582315e0568c55c0d36dc24b0cf20c_cgraph">
<area shape="rect" id="node2" href="../../de/d40/classCWsConnection.html#a61234baa38a021ee7e970e76471e9b6e" title="Factory function. " alt="" coords="208,71,381,97"/><area shape="rect" id="node3" href="../../de/d40/classCWsConnection.html#ae0ba717c748c77a87dea543260d2d416" title="Constructor. " alt="" coords="429,71,664,97"/><area shape="rect" id="node4" href="../../de/d40/classCWsConnection.html#ac0cff03f49a7d6161e0fbcecee470c9f" title="Handle a received message, for SSL and non&#45;SSL websockets. " alt="" coords="733,5,907,46"/><area shape="rect" id="node5" href="../../de/d40/classCWsConnection.html#aa7d4cf0069ab520775586b85ea660f4e" title="Handle a pong. " alt="" coords="727,71,913,97"/><area shape="rect" id="node6" href="../../de/d40/classCWsConnection.html#a999d26d7bd99f941251d8fa52b9e559b" title="CWsConnection::on_message" alt="" coords="713,121,927,148"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d8f/classCWebsocketListener_afb582315e0568c55c0d36dc24b0cf20c_icgraph.png" border="0" usemap="#dd/d8f/classCWebsocketListener_afb582315e0568c55c0d36dc24b0cf20c_icgraph" alt=""/></div>
<map name="dd/d8f/classCWebsocketListener_afb582315e0568c55c0d36dc24b0cf20c_icgraph" id="dd/d8f/classCWebsocketListener_afb582315e0568c55c0d36dc24b0cf20c_icgraph">
<area shape="rect" id="node2" href="../../dd/d8f/classCWebsocketListener.html#a4c3b28da5c0e3e38d845f48b60786fb4" title="Start listening on non&#45;SSL port given. " alt="" coords="208,5,363,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a803fe75fbea105204f1888e353e7c33c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CWebsocketListener::on_ssl_open </td>
          <td>(</td>
          <td class="paramtype">websocketpp::connection_hdl&#160;</td>
          <td class="paramname"><em>hdl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/db9/ws__listener_8cpp_source.html#l00157">157</a> of file <a class="el" href="../../d4/db9/ws__listener_8cpp_source.html">ws_listener.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d8f/classCWebsocketListener_a803fe75fbea105204f1888e353e7c33c_cgraph.png" border="0" usemap="#dd/d8f/classCWebsocketListener_a803fe75fbea105204f1888e353e7c33c_cgraph" alt=""/></div>
<map name="dd/d8f/classCWebsocketListener_a803fe75fbea105204f1888e353e7c33c_cgraph" id="dd/d8f/classCWebsocketListener_a803fe75fbea105204f1888e353e7c33c_cgraph">
<area shape="rect" id="node2" href="../../de/d40/classCWsConnection.html#a61234baa38a021ee7e970e76471e9b6e" title="Factory function. " alt="" coords="208,71,381,97"/><area shape="rect" id="node3" href="../../de/d40/classCWsConnection.html#ae0ba717c748c77a87dea543260d2d416" title="Constructor. " alt="" coords="429,71,664,97"/><area shape="rect" id="node4" href="../../de/d40/classCWsConnection.html#ac0cff03f49a7d6161e0fbcecee470c9f" title="Handle a received message, for SSL and non&#45;SSL websockets. " alt="" coords="733,5,907,46"/><area shape="rect" id="node5" href="../../de/d40/classCWsConnection.html#aa7d4cf0069ab520775586b85ea660f4e" title="Handle a pong. " alt="" coords="727,71,913,97"/><area shape="rect" id="node6" href="../../de/d40/classCWsConnection.html#a999d26d7bd99f941251d8fa52b9e559b" title="CWsConnection::on_message" alt="" coords="713,121,927,148"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d8f/classCWebsocketListener_a803fe75fbea105204f1888e353e7c33c_icgraph.png" border="0" usemap="#dd/d8f/classCWebsocketListener_a803fe75fbea105204f1888e353e7c33c_icgraph" alt=""/></div>
<map name="dd/d8f/classCWebsocketListener_a803fe75fbea105204f1888e353e7c33c_icgraph" id="dd/d8f/classCWebsocketListener_a803fe75fbea105204f1888e353e7c33c_icgraph">
<area shape="rect" id="node2" href="../../dd/d8f/classCWebsocketListener.html#a9925d7c6b7ab8563f76a8c0bef305069" title="Start listening on SSL port given, using given context. " alt="" coords="208,5,363,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab9e69fe7dccd2be1474c9d41ea475d0e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CWebsocketListener::on_close </td>
          <td>(</td>
          <td class="paramtype">websocketpp::connection_hdl&#160;</td>
          <td class="paramname"><em>hdl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handler for connection close. </p>

<p>Definition at line <a class="el" href="../../d4/db9/ws__listener_8cpp_source.html#l00175">175</a> of file <a class="el" href="../../d4/db9/ws__listener_8cpp_source.html">ws_listener.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d8f/classCWebsocketListener_ab9e69fe7dccd2be1474c9d41ea475d0e_icgraph.png" border="0" usemap="#dd/d8f/classCWebsocketListener_ab9e69fe7dccd2be1474c9d41ea475d0e_icgraph" alt=""/></div>
<map name="dd/d8f/classCWebsocketListener_ab9e69fe7dccd2be1474c9d41ea475d0e_icgraph" id="dd/d8f/classCWebsocketListener_ab9e69fe7dccd2be1474c9d41ea475d0e_icgraph">
<area shape="rect" id="node2" href="../../dd/d8f/classCWebsocketListener.html#a4c3b28da5c0e3e38d845f48b60786fb4" title="Start listening on non&#45;SSL port given. " alt="" coords="208,5,363,46"/><area shape="rect" id="node3" href="../../dd/d8f/classCWebsocketListener.html#a9925d7c6b7ab8563f76a8c0bef305069" title="Start listening on SSL port given, using given context. " alt="" coords="208,70,363,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a23d3113b35c10657d0c0fbee125d2d36"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/def/ws__listener_8hpp.html#ab68ea3df896e32c1d2fb314a96c46a8f">context_ptr</a> CWebsocketListener::on_tls_init </td>
          <td>(</td>
          <td class="paramtype">websocketpp::connection_hdl&#160;</td>
          <td class="paramname"><em>hdl</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return context pointer for SSL connections. </p>

<p>Definition at line <a class="el" href="../../d4/db9/ws__listener_8cpp_source.html#l00185">185</a> of file <a class="el" href="../../d4/db9/ws__listener_8cpp_source.html">ws_listener.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d8f/classCWebsocketListener_a23d3113b35c10657d0c0fbee125d2d36_icgraph.png" border="0" usemap="#dd/d8f/classCWebsocketListener_a23d3113b35c10657d0c0fbee125d2d36_icgraph" alt=""/></div>
<map name="dd/d8f/classCWebsocketListener_a23d3113b35c10657d0c0fbee125d2d36_icgraph" id="dd/d8f/classCWebsocketListener_a23d3113b35c10657d0c0fbee125d2d36_icgraph">
<area shape="rect" id="node2" href="../../dd/d8f/classCWebsocketListener.html#a9925d7c6b7ab8563f76a8c0bef305069" title="Start listening on SSL port given, using given context. " alt="" coords="208,5,363,46"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a77605ffcbabe9d6ab223a5a7df05f41c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;websocketpp::connection_hdl, std::shared_ptr&lt;<a class="el" href="../../de/d40/classCWsConnection.html">CWsConnection</a>&gt;, std::owner_less&lt;websocketpp::connection_hdl&gt; &gt; CWebsocketListener::_conns</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Per-connection object Can't use map because connection_hdl isn't hashable or comparable. </p>

<p>Definition at line <a class="el" href="../../d7/def/ws__listener_8hpp_source.html#l00090">90</a> of file <a class="el" href="../../d7/def/ws__listener_8hpp_source.html">ws_listener.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a99b03079ad9d24a2553a6d3ef511a160"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../d7/def/ws__listener_8hpp.html#a95865f3e7729218799b37e2d8e810186">server_plain</a>&gt; CWebsocketListener::_ws_nonssl</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Listening sockets. </p>

<p>Definition at line <a class="el" href="../../d7/def/ws__listener_8hpp_source.html#l00095">95</a> of file <a class="el" href="../../d7/def/ws__listener_8hpp_source.html">ws_listener.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7373ae81259e1baa0f50c09e3913e2ce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../d7/def/ws__listener_8hpp.html#a8915c690a50d17997b4b5fabb2a5f06f">server_tls</a>&gt; CWebsocketListener::_ws_ssl</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/def/ws__listener_8hpp_source.html#l00096">96</a> of file <a class="el" href="../../d7/def/ws__listener_8hpp_source.html">ws_listener.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7e332a2e74baff6e796b931eeef61f9d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/def/ws__listener_8hpp.html#ab68ea3df896e32c1d2fb314a96c46a8f">context_ptr</a> CWebsocketListener::_ctx</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SSL context from <a class="el" href="../../dd/d8f/classCWebsocketListener.html#a9925d7c6b7ab8563f76a8c0bef305069" title="Start listening on SSL port given, using given context. ">ssl_listen()</a> </p>

<p>Definition at line <a class="el" href="../../d7/def/ws__listener_8hpp_source.html#l00101">101</a> of file <a class="el" href="../../d7/def/ws__listener_8hpp_source.html">ws_listener.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac3f78d2e19b6b6f97f1c050790337aa9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="../../d1/d20/classpx_1_1asio_1_1CProtocolHandler.html">px::asio::CProtocolHandler</a>&gt; CWebsocketListener::_prot</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/def/ws__listener_8hpp_source.html#l00103">103</a> of file <a class="el" href="../../d7/def/ws__listener_8hpp_source.html">ws_listener.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a455e2f59c73b7252e3c4c73f1b887df9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::mutex CWebsocketListener::_close_mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Internal mutex to serialize access to <a class="el" href="../../de/d40/classCWsConnection.html" title="Class to handle one Websocket connection, SSL or non-SSL. ">CWsConnection</a> destructor by <a class="el" href="../../dd/d8f/classCWebsocketListener.html#a7cbdd3b4dba2220505bd7582df968502" title="Stop all listeners, close connections, clean up. ">CWebsocketListener::close</a> and <a class="el" href="../../dd/d8f/classCWebsocketListener.html#ab9e69fe7dccd2be1474c9d41ea475d0e" title="Handler for connection close. ">CWebsocketListener::on_close</a>. </p>

<p>Definition at line <a class="el" href="../../d7/def/ws__listener_8hpp_source.html#l00107">107</a> of file <a class="el" href="../../d7/def/ws__listener_8hpp_source.html">ws_listener.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad8f5b72a82efc40b0e54ed72056bcff2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CWebsocketListener::_shutdown</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag to synchronize closing websocket connections by <a class="el" href="../../dd/d8f/classCWebsocketListener.html#a7cbdd3b4dba2220505bd7582df968502" title="Stop all listeners, close connections, clean up. ">CWebsocketListener::close</a> and <a class="el" href="../../dd/d8f/classCWebsocketListener.html#ab9e69fe7dccd2be1474c9d41ea475d0e" title="Handler for connection close. ">CWebsocketListener::on_close</a>. </p>

<p>Definition at line <a class="el" href="../../d7/def/ws__listener_8hpp_source.html#l00112">112</a> of file <a class="el" href="../../d7/def/ws__listener_8hpp_source.html">ws_listener.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/src/product-ref1/px-toolkit/etn_source/mercury_server/include/hg/protocol/ws/<a class="el" href="../../d7/def/ws__listener_8hpp_source.html">ws_listener.hpp</a></li>
<li>/src/product-ref1/px-toolkit/etn_source/mercury_server/source/hg/protocol/ws/<a class="el" href="../../d4/db9/ws__listener_8cpp_source.html">ws_listener.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dd/d8f/classCWebsocketListener.html">CWebsocketListener</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:25:07 for mercury_server by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
