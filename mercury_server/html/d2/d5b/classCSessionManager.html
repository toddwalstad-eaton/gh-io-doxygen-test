<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>mercury_server: CSessionManager Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">mercury_server
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d2/d5b/classCSessionManager.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d1/d65/classCSessionManager-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CSessionManager Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Session manager used to track (CRUD) user sessions.  
 <a href="../../d2/d5b/classCSessionManager.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../da/d62/session__manager_8hpp_source.html">session_manager.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CSessionManager:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d1b/classCSessionManager__inherit__graph.png" border="0" usemap="#CSessionManager_inherit__map" alt="Inheritance graph"/></div>
<map name="CSessionManager_inherit__map" id="CSessionManager_inherit__map">
<area shape="rect" id="node2" href="../../dd/d60/classpx_1_1asio_1_1CIoActor.html" title="{px::asio::CIoActor\n||}" alt="" coords="43,5,179,83"/></map>
</div>
<div class="dynheader">
Collaboration diagram for CSessionManager:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d23/classCSessionManager__coll__graph.png" border="0" usemap="#CSessionManager_coll__map" alt="Collaboration graph"/></div>
<map name="CSessionManager_coll__map" id="CSessionManager_coll__map">
<area shape="rect" id="node2" href="../../dd/d60/classpx_1_1asio_1_1CIoActor.html" title="{px::asio::CIoActor\n||}" alt="" coords="5,171,141,248"/><area shape="rect" id="node5" title="STL class. " alt="" coords="381,6,533,98"/></map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa5fe90355656c0ed30d96c4ef8465555"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5b/classCSessionManager.html#aa5fe90355656c0ed30d96c4ef8465555">~CSessionManager</a> ()</td></tr>
<tr class="memdesc:aa5fe90355656c0ed30d96c4ef8465555"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#aa5fe90355656c0ed30d96c4ef8465555">More...</a><br/></td></tr>
<tr class="separator:aa5fe90355656c0ed30d96c4ef8465555"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ff17d8622c79fb672db86275eaed168"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5b/classCSessionManager.html#a0ff17d8622c79fb672db86275eaed168">close</a> ()</td></tr>
<tr class="memdesc:a0ff17d8622c79fb672db86275eaed168"><td class="mdescLeft">&#160;</td><td class="mdescRight">On a graceful close, clear our set of sessions.  <a href="#a0ff17d8622c79fb672db86275eaed168">More...</a><br/></td></tr>
<tr class="separator:a0ff17d8622c79fb672db86275eaed168"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa35a67433f332a5e2f16d2c1593df4f6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5b/classCSessionManager.html#aa35a67433f332a5e2f16d2c1593df4f6">add_session</a> (const px::string &amp;username, const px::string &amp;src_addr, const px::string &amp;protocol, const px::string &amp;session_token, const std::shared_ptr&lt; <a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html">CMercuryProtocolHandler</a> &gt; &amp;prot, const px::CUser &amp;user_info, px::CBitset&lt; px::permissions &gt; user_perms)</td></tr>
<tr class="memdesc:aa35a67433f332a5e2f16d2c1593df4f6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new session instance, and add it to our map of sessions.  <a href="#aa35a67433f332a5e2f16d2c1593df4f6">More...</a><br/></td></tr>
<tr class="separator:aa35a67433f332a5e2f16d2c1593df4f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f36ec0a7d6376a79f6ccd1c084c2116"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5b/classCSessionManager.html#a4f36ec0a7d6376a79f6ccd1c084c2116">track_session</a> (const px::string &amp;session_id)</td></tr>
<tr class="memdesc:a4f36ec0a7d6376a79f6ccd1c084c2116"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tracks that there is activity for the connection session identified by its session token.  <a href="#a4f36ec0a7d6376a79f6ccd1c084c2116">More...</a><br/></td></tr>
<tr class="separator:a4f36ec0a7d6376a79f6ccd1c084c2116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4119b773691274220f57365182fba4c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d62/session__manager_8hpp.html#a43e6cf49f32466f23dc12330765ad15d">session_map_itr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5b/classCSessionManager.html#a4119b773691274220f57365182fba4c9">lookup_session</a> (const px::string &amp;session_id)</td></tr>
<tr class="memdesc:a4119b773691274220f57365182fba4c9"><td class="mdescLeft">&#160;</td><td class="mdescRight">See if we have a session as identified by its Session ID string, and return a pointer to the session if found.  <a href="#a4119b773691274220f57365182fba4c9">More...</a><br/></td></tr>
<tr class="separator:a4119b773691274220f57365182fba4c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9946304c310e5c9cbb2f4c189e2f170f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5b/classCSessionManager.html#a9946304c310e5c9cbb2f4c189e2f170f">is_valid_tracker_instance</a> (<a class="el" href="../../da/d62/session__manager_8hpp.html#a43e6cf49f32466f23dc12330765ad15d">session_map_itr_t</a> &amp;tracker_itr)</td></tr>
<tr class="memdesc:a9946304c310e5c9cbb2f4c189e2f170f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if the provided map pointer (iterator) points to a valid <a class="el" href="../../d5/d4d/classCSessionTracker.html" title="Session container, with tracking, for one connection session. ">CSessionTracker</a> entry in our map.  <a href="#a9946304c310e5c9cbb2f4c189e2f170f">More...</a><br/></td></tr>
<tr class="separator:a9946304c310e5c9cbb2f4c189e2f170f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f0a8af28193a32b292e100f3ade9c13"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d62/session__manager_8hpp.html#a43e6cf49f32466f23dc12330765ad15d">session_map_itr_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5b/classCSessionManager.html#a6f0a8af28193a32b292e100f3ade9c13">close_session</a> (<a class="el" href="../../da/d62/session__manager_8hpp.html#a43e6cf49f32466f23dc12330765ad15d">session_map_itr_t</a> sess_itr)</td></tr>
<tr class="memdesc:a6f0a8af28193a32b292e100f3ade9c13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close one session, indicated by a pointer to that session in our tracked set of connections.  <a href="#a6f0a8af28193a32b292e100f3ade9c13">More...</a><br/></td></tr>
<tr class="separator:a6f0a8af28193a32b292e100f3ade9c13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadbedbf4badaeabd9328ad904a515acd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5b/classCSessionManager.html#aadbedbf4badaeabd9328ad904a515acd">remove_session</a> (const px::string &amp;session_id)</td></tr>
<tr class="memdesc:aadbedbf4badaeabd9328ad904a515acd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove (close) one session, indicated by its Session ID.  <a href="#aadbedbf4badaeabd9328ad904a515acd">More...</a><br/></td></tr>
<tr class="separator:aadbedbf4badaeabd9328ad904a515acd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6d1c5d53f02762076671033c885b68f3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5b/classCSessionManager.html#a6d1c5d53f02762076671033c885b68f3">close_protocol_sessions</a> (const px::string &amp;protocol)</td></tr>
<tr class="memdesc:a6d1c5d53f02762076671033c885b68f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Close all sessions associated with the given protocol and remove them from the list of CDS authentication sessions.  <a href="#a6d1c5d53f02762076671033c885b68f3">More...</a><br/></td></tr>
<tr class="separator:a6d1c5d53f02762076671033c885b68f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a995955457c3d8962c76043d931c349a3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5b/classCSessionManager.html#a995955457c3d8962c76043d931c349a3">close_handler</a> (const px::string &amp;session_id)</td></tr>
<tr class="memdesc:a995955457c3d8962c76043d931c349a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Remove all subscriptions of the protocol handler associated to the session, and close the session, indicated by its Session ID,.  <a href="#a995955457c3d8962c76043d931c349a3">More...</a><br/></td></tr>
<tr class="separator:a995955457c3d8962c76043d931c349a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47a009a482dbea5e678dbac8dfff6be2"><td class="memItemLeft" align="right" valign="top">px::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5b/classCSessionManager.html#a47a009a482dbea5e678dbac8dfff6be2">lookup_session_id_by_source</a> (const px::string &amp;source)</td></tr>
<tr class="memdesc:a47a009a482dbea5e678dbac8dfff6be2"><td class="mdescLeft">&#160;</td><td class="mdescRight">See if we have a session ID as identified by its source string, and return the string if found.  <a href="#a47a009a482dbea5e678dbac8dfff6be2">More...</a><br/></td></tr>
<tr class="separator:a47a009a482dbea5e678dbac8dfff6be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a667a6eac86699317affe06ef341a6ca8"><td class="memItemLeft" align="right" valign="top">static std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="../../d2/d5b/classCSessionManager.html">CSessionManager</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5b/classCSessionManager.html#a667a6eac86699317affe06ef341a6ca8">create</a> (<a class="el" href="../../d6/d32/classpx_1_1asio_1_1CIoManager.html">px::asio::CIoManager</a> &amp;manager)</td></tr>
<tr class="memdesc:a667a6eac86699317affe06ef341a6ca8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Factory function to create a new <a class="el" href="../../d2/d5b/classCSessionManager.html" title="Session manager used to track (CRUD) user sessions. ">CSessionManager</a> object.  <a href="#a667a6eac86699317affe06ef341a6ca8">More...</a><br/></td></tr>
<tr class="separator:a667a6eac86699317affe06ef341a6ca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a0eaa6cd494509c5c532aad2b7e6a3b9f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5b/classCSessionManager.html#a0eaa6cd494509c5c532aad2b7e6a3b9f">CSessionManager</a> (<a class="el" href="../../d6/d32/classpx_1_1asio_1_1CIoManager.html">px::asio::CIoManager</a> &amp;manager)</td></tr>
<tr class="memdesc:a0eaa6cd494509c5c532aad2b7e6a3b9f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#a0eaa6cd494509c5c532aad2b7e6a3b9f">More...</a><br/></td></tr>
<tr class="separator:a0eaa6cd494509c5c532aad2b7e6a3b9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a5adaf2b59cf126d5d7dbe3db7ebfe12b"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5b/classCSessionManager.html#a5adaf2b59cf126d5d7dbe3db7ebfe12b">set_led</a> (const bool on)</td></tr>
<tr class="memdesc:a5adaf2b59cf126d5d7dbe3db7ebfe12b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Static function to turn On / Off the "Web" LED light.  <a href="#a5adaf2b59cf126d5d7dbe3db7ebfe12b">More...</a><br/></td></tr>
<tr class="separator:a5adaf2b59cf126d5d7dbe3db7ebfe12b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affe649ab32639284418919fab2404ca3"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5b/classCSessionManager.html#affe649ab32639284418919fab2404ca3">exists</a> (const std::string &amp;file)</td></tr>
<tr class="memdesc:affe649ab32639284418919fab2404ca3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Determine if the given file exists.  <a href="#affe649ab32639284418919fab2404ca3">More...</a><br/></td></tr>
<tr class="separator:affe649ab32639284418919fab2404ca3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:ae5291ddf9f9d9a88a6b81c73e00ef748"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d62/session__manager_8hpp.html#a18a781e16589c16cff696a3fdbca5eb4">session_map_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5b/classCSessionManager.html#ae5291ddf9f9d9a88a6b81c73e00ef748">_session_map</a></td></tr>
<tr class="memdesc:ae5291ddf9f9d9a88a6b81c73e00ef748"><td class="mdescLeft">&#160;</td><td class="mdescRight">The map of sessions being tracked, keyed by their Session ID (token).  <a href="#ae5291ddf9f9d9a88a6b81c73e00ef748">More...</a><br/></td></tr>
<tr class="separator:ae5291ddf9f9d9a88a6b81c73e00ef748"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add390be6a00ec3df112ec95945645418"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/d62/session__manager_8hpp.html#a226be5cd010f7d8cf687019930944178">session_id_map_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5b/classCSessionManager.html#add390be6a00ec3df112ec95945645418">_session_id_map</a></td></tr>
<tr class="memdesc:add390be6a00ec3df112ec95945645418"><td class="mdescLeft">&#160;</td><td class="mdescRight">The map of session IDs being tracked, keyed by their source IP:port.  <a href="#add390be6a00ec3df112ec95945645418">More...</a><br/></td></tr>
<tr class="separator:add390be6a00ec3df112ec95945645418"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae32b5491448bb5efe04484afa36e7ac0"><td class="memItemLeft" align="right" valign="top">px::CBitset&lt; px::permissions &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5b/classCSessionManager.html#ae32b5491448bb5efe04484afa36e7ac0">_linux_perms</a></td></tr>
<tr class="memdesc:ae32b5491448bb5efe04484afa36e7ac0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Permissions associated with the Mercury server's Linux user ID.  <a href="#ae32b5491448bb5efe04484afa36e7ac0">More...</a><br/></td></tr>
<tr class="separator:ae32b5491448bb5efe04484afa36e7ac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49db222087ce515717308401298e6ba4"><td class="memItemLeft" align="right" valign="top">const px::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d5b/classCSessionManager.html#a49db222087ce515717308401298e6ba4">_web_led_protocol</a> = &quot;WebSocket&quot;</td></tr>
<tr class="memdesc:a49db222087ce515717308401298e6ba4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the name of the protocol used to determine whether to turn the "Web" LEDS ON or OFF.  <a href="#a49db222087ce515717308401298e6ba4">More...</a><br/></td></tr>
<tr class="separator:a49db222087ce515717308401298e6ba4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Session manager used to track (CRUD) user sessions. </p>
<p>The CDS is the real keeper of sessions; this manager just keeps our sense of existing sessions for our convenience.</p>
<p>A session lifetime has the following stages: # Creation: When a <a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html" title="Mercury Protocol Handler. ">CMercuryProtocolHandler</a> is spawned, initially it has no session information and so no entry in this manager's table. But when CDS Login is successful, then we create an entry using the session information. # Read: When we need to lookup a session, generally by its session ID (the unique identifier for a session, provided by the CDS at Login), we parse through this table to find it and the associated information. # Delete: When a <a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html" title="Mercury Protocol Handler. ">CMercuryProtocolHandler</a> is closed, then we remove its session. # Change Login: if there is an existing session but a new Login is issued, then we Delete the existing session and Create a new one. # Subsession Login: we will treat this here like a regular Login, and Create a session. </p>

<p>Definition at line <a class="el" href="../../da/d62/session__manager_8hpp_source.html#l00051">51</a> of file <a class="el" href="../../da/d62/session__manager_8hpp_source.html">session_manager.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa5fe90355656c0ed30d96c4ef8465555"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSessionManager::~CSessionManager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>

<p>Definition at line <a class="el" href="../../da/d5b/session__manager_8cpp_source.html#l00047">47</a> of file <a class="el" href="../../da/d5b/session__manager_8cpp_source.html">session_manager.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5b/classCSessionManager_aa5fe90355656c0ed30d96c4ef8465555_cgraph.png" border="0" usemap="#d2/d5b/classCSessionManager_aa5fe90355656c0ed30d96c4ef8465555_cgraph" alt=""/></div>
<map name="d2/d5b/classCSessionManager_aa5fe90355656c0ed30d96c4ef8465555_cgraph" id="d2/d5b/classCSessionManager_aa5fe90355656c0ed30d96c4ef8465555_cgraph">
<area shape="rect" id="node2" href="../../d2/d5b/classCSessionManager.html#a0ff17d8622c79fb672db86275eaed168" title="On a graceful close, clear our set of sessions. " alt="" coords="269,12,448,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0eaa6cd494509c5c532aad2b7e6a3b9f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CSessionManager::CSessionManager </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d32/classpx_1_1asio_1_1CIoManager.html">px::asio::CIoManager</a> &amp;&#160;</td>
          <td class="paramname"><em>manager</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">manager</td><td>The I/O manager object to which this object is to be bound</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">boost::system::system_error</td><td>The actor could not be initialized </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d5b/session__manager_8cpp_source.html#l00030">30</a> of file <a class="el" href="../../da/d5b/session__manager_8cpp_source.html">session_manager.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5b/classCSessionManager_a0eaa6cd494509c5c532aad2b7e6a3b9f_icgraph.png" border="0" usemap="#d2/d5b/classCSessionManager_a0eaa6cd494509c5c532aad2b7e6a3b9f_icgraph" alt=""/></div>
<map name="d2/d5b/classCSessionManager_a0eaa6cd494509c5c532aad2b7e6a3b9f_icgraph" id="d2/d5b/classCSessionManager_a0eaa6cd494509c5c532aad2b7e6a3b9f_icgraph">
<area shape="rect" id="node2" href="../../d2/d5b/classCSessionManager.html#a667a6eac86699317affe06ef341a6ca8" title="Factory function to create a new CSessionManager object. " alt="" coords="259,12,445,39"/><area shape="rect" id="node3" href="../../d4/d4a/classCMercuryServer.html#ae7be7e35958e9e89ee36b52f6451d956" title="Execute the server core&#39;s main loop. " alt="" coords="494,12,679,39"/><area shape="rect" id="node4" href="../../df/d0a/main_8cpp.html#a72dfe501a5b0c6d1753dc3bc888d33b9" title="&quot;Real&quot; main, used by the server code " alt="" coords="728,12,811,39"/><area shape="rect" id="node5" href="../../df/d0a/main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="Program entry point. " alt="" coords="859,12,914,39"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a667a6eac86699317affe06ef341a6ca8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="../../d2/d5b/classCSessionManager.html">CSessionManager</a> &gt; CSessionManager::create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d32/classpx_1_1asio_1_1CIoManager.html">px::asio::CIoManager</a> &amp;&#160;</td>
          <td class="paramname"><em>manager</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Factory function to create a new <a class="el" href="../../d2/d5b/classCSessionManager.html" title="Session manager used to track (CRUD) user sessions. ">CSessionManager</a> object. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">manager</td><td>The I/O manager object to which this object is to be bound</td></tr>
  </table>
  </dd>
</dl>
<dl class="exception"><dt>Exceptions</dt><dd>
  <table class="exception">
    <tr><td class="paramname">boost::system::system_error</td><td>The signal handler could not be initialized</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Shared pointer containing the new instance of <a class="el" href="../../d2/d5b/classCSessionManager.html" title="Session manager used to track (CRUD) user sessions. ">CSessionManager</a> as an CIoActor. </dd></dl>

<p>Definition at line <a class="el" href="../../da/d5b/session__manager_8cpp_source.html#l00020">20</a> of file <a class="el" href="../../da/d5b/session__manager_8cpp_source.html">session_manager.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5b/classCSessionManager_a667a6eac86699317affe06ef341a6ca8_cgraph.png" border="0" usemap="#d2/d5b/classCSessionManager_a667a6eac86699317affe06ef341a6ca8_cgraph" alt=""/></div>
<map name="d2/d5b/classCSessionManager_a667a6eac86699317affe06ef341a6ca8_cgraph" id="d2/d5b/classCSessionManager_a667a6eac86699317affe06ef341a6ca8_cgraph">
<area shape="rect" id="node2" href="../../d2/d5b/classCSessionManager.html#a0eaa6cd494509c5c532aad2b7e6a3b9f" title="Constructor. " alt="" coords="241,5,445,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5b/classCSessionManager_a667a6eac86699317affe06ef341a6ca8_icgraph.png" border="0" usemap="#d2/d5b/classCSessionManager_a667a6eac86699317affe06ef341a6ca8_icgraph" alt=""/></div>
<map name="d2/d5b/classCSessionManager_a667a6eac86699317affe06ef341a6ca8_icgraph" id="d2/d5b/classCSessionManager_a667a6eac86699317affe06ef341a6ca8_icgraph">
<area shape="rect" id="node2" href="../../d4/d4a/classCMercuryServer.html#ae7be7e35958e9e89ee36b52f6451d956" title="Execute the server core&#39;s main loop. " alt="" coords="241,5,426,32"/><area shape="rect" id="node3" href="../../df/d0a/main_8cpp.html#a72dfe501a5b0c6d1753dc3bc888d33b9" title="&quot;Real&quot; main, used by the server code " alt="" coords="475,5,557,32"/><area shape="rect" id="node4" href="../../df/d0a/main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="Program entry point. " alt="" coords="606,5,661,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0ff17d8622c79fb672db86275eaed168"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CSessionManager::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>On a graceful close, clear our set of sessions. </p>

<p>Definition at line <a class="el" href="../../da/d5b/session__manager_8cpp_source.html#l00066">66</a> of file <a class="el" href="../../da/d5b/session__manager_8cpp_source.html">session_manager.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5b/classCSessionManager_a0ff17d8622c79fb672db86275eaed168_icgraph.png" border="0" usemap="#d2/d5b/classCSessionManager_a0ff17d8622c79fb672db86275eaed168_icgraph" alt=""/></div>
<map name="d2/d5b/classCSessionManager_a0ff17d8622c79fb672db86275eaed168_icgraph" id="d2/d5b/classCSessionManager_a0ff17d8622c79fb672db86275eaed168_icgraph">
<area shape="rect" id="node2" href="../../d2/d5b/classCSessionManager.html#aa5fe90355656c0ed30d96c4ef8465555" title="Destructor. " alt="" coords="233,5,447,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa35a67433f332a5e2f16d2c1593df4f6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CSessionManager::add_session </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>src_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>session_token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html">CMercuryProtocolHandler</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>prot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::CUser &amp;&#160;</td>
          <td class="paramname"><em>user_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">px::CBitset&lt; px::permissions &gt;&#160;</td>
          <td class="paramname"><em>user_perms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new session instance, and add it to our map of sessions. </p>
<p>Uses the information for a connection session plus the session ID, user information, and permissions provided by the CDS.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">username</td><td>The username associated with this session </td></tr>
    <tr><td class="paramname">src_addr</td><td>The IP Address of the connection (source) associated with this session </td></tr>
    <tr><td class="paramname">protocol</td><td>The type of connection this sessions is associated with. We are particularly concerned with tracking the "CGI" connections so they can be timed out. </td></tr>
    <tr><td class="paramname">session_token</td><td>The unique session ID from the CDS for this session. This is also used as the key for the entry in the map. </td></tr>
    <tr><td class="paramname">user_info</td><td>The User information about the logged in user for this session, from the CDS. </td></tr>
    <tr><td class="paramname">user_perms</td><td>The set of user Permissions valid for this session</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if session created and added successfully. False on problems, such as a session already existing for this Session ID. </dd></dl>

<p>Definition at line <a class="el" href="../../da/d5b/session__manager_8cpp_source.html#l00113">113</a> of file <a class="el" href="../../da/d5b/session__manager_8cpp_source.html">session_manager.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5b/classCSessionManager_aa35a67433f332a5e2f16d2c1593df4f6_cgraph.png" border="0" usemap="#d2/d5b/classCSessionManager_aa35a67433f332a5e2f16d2c1593df4f6_cgraph" alt=""/></div>
<map name="d2/d5b/classCSessionManager_aa35a67433f332a5e2f16d2c1593df4f6_cgraph" id="d2/d5b/classCSessionManager_aa35a67433f332a5e2f16d2c1593df4f6_cgraph">
<area shape="rect" id="node2" href="../../d2/d5b/classCSessionManager.html#a6f0a8af28193a32b292e100f3ade9c13" title="Close one session, indicated by a pointer to that session in our tracked set of connections. " alt="" coords="224,5,403,46"/><area shape="rect" id="node3" href="../../d2/d5b/classCSessionManager.html#a5adaf2b59cf126d5d7dbe3db7ebfe12b" title="Static function to turn On / Off the &quot;Web&quot; LED light. " alt="" coords="451,41,643,68"/><area shape="rect" id="node4" href="../../d2/d5b/classCSessionManager.html#affe649ab32639284418919fab2404ca3" title="Determine if the given file exists. " alt="" coords="691,41,875,68"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4f36ec0a7d6376a79f6ccd1c084c2116"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CSessionManager::track_session </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>session_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tracks that there is activity for the connection session identified by its session token. </p>
<p>Called once per message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session_id</td><td>The ID for the Session to be tracked.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the session was found (is valid). </dd></dl>

</div>
</div>
<a class="anchor" id="a4119b773691274220f57365182fba4c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d62/session__manager_8hpp.html#a43e6cf49f32466f23dc12330765ad15d">session_map_itr_t</a> CSessionManager::lookup_session </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>session_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>See if we have a session as identified by its Session ID string, and return a pointer to the session if found. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session_id</td><td>The Session ID we should look up.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A valid iterator that points to the session's entry in our map, on success. Should follow up by checking with <a class="el" href="../../d2/d5b/classCSessionManager.html#a9946304c310e5c9cbb2f4c189e2f170f" title="Determine if the provided map pointer (iterator) points to a valid CSessionTracker entry in our map...">is_valid_tracker_instance()</a>. </dd></dl>

<p>Definition at line <a class="el" href="../../da/d5b/session__manager_8cpp_source.html#l00076">76</a> of file <a class="el" href="../../da/d5b/session__manager_8cpp_source.html">session_manager.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5b/classCSessionManager_a4119b773691274220f57365182fba4c9_icgraph.png" border="0" usemap="#d2/d5b/classCSessionManager_a4119b773691274220f57365182fba4c9_icgraph" alt=""/></div>
<map name="d2/d5b/classCSessionManager_a4119b773691274220f57365182fba4c9_icgraph" id="d2/d5b/classCSessionManager_a4119b773691274220f57365182fba4c9_icgraph">
<area shape="rect" id="node2" href="../../d2/d5b/classCSessionManager.html#aadbedbf4badaeabd9328ad904a515acd" title="Remove (close) one session, indicated by its Session ID. " alt="" coords="243,5,437,46"/><area shape="rect" id="node3" href="../../d2/d5b/classCSessionManager.html#a995955457c3d8962c76043d931c349a3" title="Remove all subscriptions of the protocol handler associated to the session, and close the session..." alt="" coords="251,70,429,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9946304c310e5c9cbb2f4c189e2f170f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CSessionManager::is_valid_tracker_instance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d62/session__manager_8hpp.html#a43e6cf49f32466f23dc12330765ad15d">session_map_itr_t</a> &amp;&#160;</td>
          <td class="paramname"><em>tracker_itr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Determine if the provided map pointer (iterator) points to a valid <a class="el" href="../../d5/d4d/classCSessionTracker.html" title="Session container, with tracking, for one connection session. ">CSessionTracker</a> entry in our map. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">tracker_itr</td><td>The iterator to evaluate. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if valid, else False </dd></dl>

<p>Definition at line <a class="el" href="../../da/d5b/session__manager_8cpp_source.html#l00106">106</a> of file <a class="el" href="../../da/d5b/session__manager_8cpp_source.html">session_manager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6f0a8af28193a32b292e100f3ade9c13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d62/session__manager_8hpp.html#a43e6cf49f32466f23dc12330765ad15d">session_map_itr_t</a> CSessionManager::close_session </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d62/session__manager_8hpp.html#a43e6cf49f32466f23dc12330765ad15d">session_map_itr_t</a>&#160;</td>
          <td class="paramname"><em>sess_itr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close one session, indicated by a pointer to that session in our tracked set of connections. </p>
<p>This function makes sure we properly close the session when that occurs, including removing the session from the list of CDS authentication sessions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sess_itr</td><td>Pointer to the session to be removed.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns the pointer to the next session, as returned by the erase() function. </dd></dl>

<p>Definition at line <a class="el" href="../../da/d5b/session__manager_8cpp_source.html#l00168">168</a> of file <a class="el" href="../../da/d5b/session__manager_8cpp_source.html">session_manager.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5b/classCSessionManager_a6f0a8af28193a32b292e100f3ade9c13_cgraph.png" border="0" usemap="#d2/d5b/classCSessionManager_a6f0a8af28193a32b292e100f3ade9c13_cgraph" alt=""/></div>
<map name="d2/d5b/classCSessionManager_a6f0a8af28193a32b292e100f3ade9c13_cgraph" id="d2/d5b/classCSessionManager_a6f0a8af28193a32b292e100f3ade9c13_cgraph">
<area shape="rect" id="node2" href="../../d2/d5b/classCSessionManager.html#a5adaf2b59cf126d5d7dbe3db7ebfe12b" title="Static function to turn On / Off the &quot;Web&quot; LED light. " alt="" coords="232,12,424,39"/><area shape="rect" id="node3" href="../../d2/d5b/classCSessionManager.html#affe649ab32639284418919fab2404ca3" title="Determine if the given file exists. " alt="" coords="472,12,656,39"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5b/classCSessionManager_a6f0a8af28193a32b292e100f3ade9c13_icgraph.png" border="0" usemap="#d2/d5b/classCSessionManager_a6f0a8af28193a32b292e100f3ade9c13_icgraph" alt=""/></div>
<map name="d2/d5b/classCSessionManager_a6f0a8af28193a32b292e100f3ade9c13_icgraph" id="d2/d5b/classCSessionManager_a6f0a8af28193a32b292e100f3ade9c13_icgraph">
<area shape="rect" id="node2" href="../../d2/d5b/classCSessionManager.html#aa35a67433f332a5e2f16d2c1593df4f6" title="Create a new session instance, and add it to our map of sessions. " alt="" coords="245,5,414,46"/><area shape="rect" id="node3" href="../../d2/d5b/classCSessionManager.html#aadbedbf4badaeabd9328ad904a515acd" title="Remove (close) one session, indicated by its Session ID. " alt="" coords="232,70,427,111"/><area shape="rect" id="node4" href="../../d2/d5b/classCSessionManager.html#a995955457c3d8962c76043d931c349a3" title="Remove all subscriptions of the protocol handler associated to the session, and close the session..." alt="" coords="240,135,419,177"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aadbedbf4badaeabd9328ad904a515acd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CSessionManager::remove_session </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>session_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove (close) one session, indicated by its Session ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session_id</td><td>The Session ID for the session we should remove. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d5b/session__manager_8cpp_source.html#l00225">225</a> of file <a class="el" href="../../da/d5b/session__manager_8cpp_source.html">session_manager.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5b/classCSessionManager_aadbedbf4badaeabd9328ad904a515acd_cgraph.png" border="0" usemap="#d2/d5b/classCSessionManager_aadbedbf4badaeabd9328ad904a515acd_cgraph" alt=""/></div>
<map name="d2/d5b/classCSessionManager_aadbedbf4badaeabd9328ad904a515acd_cgraph" id="d2/d5b/classCSessionManager_aadbedbf4badaeabd9328ad904a515acd_cgraph">
<area shape="rect" id="node2" href="../../d2/d5b/classCSessionManager.html#a4119b773691274220f57365182fba4c9" title="See if we have a session as identified by its Session ID string, and return a pointer to the session ..." alt="" coords="248,5,437,46"/><area shape="rect" id="node3" href="../../d2/d5b/classCSessionManager.html#a6f0a8af28193a32b292e100f3ade9c13" title="Close one session, indicated by a pointer to that session in our tracked set of connections. " alt="" coords="253,70,432,111"/><area shape="rect" id="node4" href="../../d2/d5b/classCSessionManager.html#a5adaf2b59cf126d5d7dbe3db7ebfe12b" title="Static function to turn On / Off the &quot;Web&quot; LED light. " alt="" coords="485,77,677,104"/><area shape="rect" id="node5" href="../../d2/d5b/classCSessionManager.html#affe649ab32639284418919fab2404ca3" title="Determine if the given file exists. " alt="" coords="725,77,909,104"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6d1c5d53f02762076671033c885b68f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CSessionManager::close_protocol_sessions </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>protocol</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Close all sessions associated with the given protocol and remove them from the list of CDS authentication sessions. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">protocol</td><td>The protocol whose sessions are to be closed. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d5b/session__manager_8cpp_source.html#l00241">241</a> of file <a class="el" href="../../da/d5b/session__manager_8cpp_source.html">session_manager.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5b/classCSessionManager_a6d1c5d53f02762076671033c885b68f3_cgraph.png" border="0" usemap="#d2/d5b/classCSessionManager_a6d1c5d53f02762076671033c885b68f3_cgraph" alt=""/></div>
<map name="d2/d5b/classCSessionManager_a6d1c5d53f02762076671033c885b68f3_cgraph" id="d2/d5b/classCSessionManager_a6d1c5d53f02762076671033c885b68f3_cgraph">
<area shape="rect" id="node2" href="../../d2/d5b/classCSessionManager.html#a5adaf2b59cf126d5d7dbe3db7ebfe12b" title="Static function to turn On / Off the &quot;Web&quot; LED light. " alt="" coords="232,12,424,39"/><area shape="rect" id="node3" href="../../d2/d5b/classCSessionManager.html#affe649ab32639284418919fab2404ca3" title="Determine if the given file exists. " alt="" coords="472,12,656,39"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a995955457c3d8962c76043d931c349a3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CSessionManager::close_handler </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>session_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Remove all subscriptions of the protocol handler associated to the session, and close the session, indicated by its Session ID,. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">session_id</td><td>The Session ID for the session we should remove. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d5b/session__manager_8cpp_source.html#l00275">275</a> of file <a class="el" href="../../da/d5b/session__manager_8cpp_source.html">session_manager.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5b/classCSessionManager_a995955457c3d8962c76043d931c349a3_cgraph.png" border="0" usemap="#d2/d5b/classCSessionManager_a995955457c3d8962c76043d931c349a3_cgraph" alt=""/></div>
<map name="d2/d5b/classCSessionManager_a995955457c3d8962c76043d931c349a3_cgraph" id="d2/d5b/classCSessionManager_a995955457c3d8962c76043d931c349a3_cgraph">
<area shape="rect" id="node2" href="../../d2/d5b/classCSessionManager.html#a4119b773691274220f57365182fba4c9" title="See if we have a session as identified by its Session ID string, and return a pointer to the session ..." alt="" coords="232,5,421,46"/><area shape="rect" id="node3" href="../../d2/d5b/classCSessionManager.html#a6f0a8af28193a32b292e100f3ade9c13" title="Close one session, indicated by a pointer to that session in our tracked set of connections. " alt="" coords="237,70,416,111"/><area shape="rect" id="node4" href="../../d2/d5b/classCSessionManager.html#a5adaf2b59cf126d5d7dbe3db7ebfe12b" title="Static function to turn On / Off the &quot;Web&quot; LED light. " alt="" coords="469,77,661,104"/><area shape="rect" id="node5" href="../../d2/d5b/classCSessionManager.html#affe649ab32639284418919fab2404ca3" title="Determine if the given file exists. " alt="" coords="709,77,893,104"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a47a009a482dbea5e678dbac8dfff6be2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">px::string CSessionManager::lookup_session_id_by_source </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>source</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>See if we have a session ID as identified by its source string, and return the string if found. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">source</td><td>The source string we should look up.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>session ID string, empty string if not found </dd></dl>

<p>Definition at line <a class="el" href="../../da/d5b/session__manager_8cpp_source.html#l00087">87</a> of file <a class="el" href="../../da/d5b/session__manager_8cpp_source.html">session_manager.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5adaf2b59cf126d5d7dbe3db7ebfe12b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CSessionManager::set_led </td>
          <td>(</td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>on</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Static function to turn On / Off the "Web" LED light. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">on</td><td>True to turn this LED ON, False for OFF. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d5b/session__manager_8cpp_source.html#l00290">290</a> of file <a class="el" href="../../da/d5b/session__manager_8cpp_source.html">session_manager.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5b/classCSessionManager_a5adaf2b59cf126d5d7dbe3db7ebfe12b_cgraph.png" border="0" usemap="#d2/d5b/classCSessionManager_a5adaf2b59cf126d5d7dbe3db7ebfe12b_cgraph" alt=""/></div>
<map name="d2/d5b/classCSessionManager_a5adaf2b59cf126d5d7dbe3db7ebfe12b_cgraph" id="d2/d5b/classCSessionManager_a5adaf2b59cf126d5d7dbe3db7ebfe12b_cgraph">
<area shape="rect" id="node2" href="../../d2/d5b/classCSessionManager.html#affe649ab32639284418919fab2404ca3" title="Determine if the given file exists. " alt="" coords="245,5,429,32"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5b/classCSessionManager_a5adaf2b59cf126d5d7dbe3db7ebfe12b_icgraph.png" border="0" usemap="#d2/d5b/classCSessionManager_a5adaf2b59cf126d5d7dbe3db7ebfe12b_icgraph" alt=""/></div>
<map name="d2/d5b/classCSessionManager_a5adaf2b59cf126d5d7dbe3db7ebfe12b_icgraph" id="d2/d5b/classCSessionManager_a5adaf2b59cf126d5d7dbe3db7ebfe12b_icgraph">
<area shape="rect" id="node2" href="../../d2/d5b/classCSessionManager.html#aa35a67433f332a5e2f16d2c1593df4f6" title="Create a new session instance, and add it to our map of sessions. " alt="" coords="485,5,654,46"/><area shape="rect" id="node3" href="../../d2/d5b/classCSessionManager.html#a6f0a8af28193a32b292e100f3ade9c13" title="Close one session, indicated by a pointer to that session in our tracked set of connections. " alt="" coords="245,69,424,110"/><area shape="rect" id="node6" href="../../d2/d5b/classCSessionManager.html#a6d1c5d53f02762076671033c885b68f3" title="Close all sessions associated with the given protocol and remove them from the list of CDS authentica..." alt="" coords="245,134,424,175"/><area shape="rect" id="node4" href="../../d2/d5b/classCSessionManager.html#aadbedbf4badaeabd9328ad904a515acd" title="Remove (close) one session, indicated by its Session ID. " alt="" coords="472,70,667,111"/><area shape="rect" id="node5" href="../../d2/d5b/classCSessionManager.html#a995955457c3d8962c76043d931c349a3" title="Remove all subscriptions of the protocol handler associated to the session, and close the session..." alt="" coords="480,135,659,177"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="affe649ab32639284418919fab2404ca3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CSessionManager::exists </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>file</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Determine if the given file exists. </p>
<p>Used in this class to determine if the shell script to turn the LED On or Off actually exists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">file</td><td>Name of the file to check. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../da/d5b/session__manager_8cpp_source.html#l00317">317</a> of file <a class="el" href="../../da/d5b/session__manager_8cpp_source.html">session_manager.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/d5b/classCSessionManager_affe649ab32639284418919fab2404ca3_icgraph.png" border="0" usemap="#d2/d5b/classCSessionManager_affe649ab32639284418919fab2404ca3_icgraph" alt=""/></div>
<map name="d2/d5b/classCSessionManager_affe649ab32639284418919fab2404ca3_icgraph" id="d2/d5b/classCSessionManager_affe649ab32639284418919fab2404ca3_icgraph">
<area shape="rect" id="node2" href="../../d2/d5b/classCSessionManager.html#a5adaf2b59cf126d5d7dbe3db7ebfe12b" title="Static function to turn On / Off the &quot;Web&quot; LED light. " alt="" coords="237,76,429,103"/><area shape="rect" id="node3" href="../../d2/d5b/classCSessionManager.html#aa35a67433f332a5e2f16d2c1593df4f6" title="Create a new session instance, and add it to our map of sessions. " alt="" coords="717,5,886,46"/><area shape="rect" id="node4" href="../../d2/d5b/classCSessionManager.html#a6f0a8af28193a32b292e100f3ade9c13" title="Close one session, indicated by a pointer to that session in our tracked set of connections. " alt="" coords="477,69,656,110"/><area shape="rect" id="node7" href="../../d2/d5b/classCSessionManager.html#a6d1c5d53f02762076671033c885b68f3" title="Close all sessions associated with the given protocol and remove them from the list of CDS authentica..." alt="" coords="477,134,656,175"/><area shape="rect" id="node5" href="../../d2/d5b/classCSessionManager.html#aadbedbf4badaeabd9328ad904a515acd" title="Remove (close) one session, indicated by its Session ID. " alt="" coords="704,70,899,111"/><area shape="rect" id="node6" href="../../d2/d5b/classCSessionManager.html#a995955457c3d8962c76043d931c349a3" title="Remove all subscriptions of the protocol handler associated to the session, and close the session..." alt="" coords="712,135,891,177"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="ae5291ddf9f9d9a88a6b81c73e00ef748"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d62/session__manager_8hpp.html#a18a781e16589c16cff696a3fdbca5eb4">session_map_t</a> CSessionManager::_session_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The map of sessions being tracked, keyed by their Session ID (token). </p>

<p>Definition at line <a class="el" href="../../da/d62/session__manager_8hpp_source.html#l00212">212</a> of file <a class="el" href="../../da/d62/session__manager_8hpp_source.html">session_manager.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="add390be6a00ec3df112ec95945645418"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/d62/session__manager_8hpp.html#a226be5cd010f7d8cf687019930944178">session_id_map_t</a> CSessionManager::_session_id_map</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The map of session IDs being tracked, keyed by their source IP:port. </p>

<p>Definition at line <a class="el" href="../../da/d62/session__manager_8hpp_source.html#l00217">217</a> of file <a class="el" href="../../da/d62/session__manager_8hpp_source.html">session_manager.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae32b5491448bb5efe04484afa36e7ac0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::CBitset&lt;px::permissions&gt; CSessionManager::_linux_perms</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Permissions associated with the Mercury server's Linux user ID. </p>

<p>Definition at line <a class="el" href="../../da/d62/session__manager_8hpp_source.html#l00236">236</a> of file <a class="el" href="../../da/d62/session__manager_8hpp_source.html">session_manager.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a49db222087ce515717308401298e6ba4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const px::string CSessionManager::_web_led_protocol = &quot;WebSocket&quot;</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Holds the name of the protocol used to determine whether to turn the "Web" LEDS ON or OFF. </p>

<p>Definition at line <a class="el" href="../../da/d62/session__manager_8hpp_source.html#l00242">242</a> of file <a class="el" href="../../da/d62/session__manager_8hpp_source.html">session_manager.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/src/product-ref1/px-toolkit/etn_source/mercury_server/include/<a class="el" href="../../da/d62/session__manager_8hpp_source.html">session_manager.hpp</a></li>
<li>/src/product-ref1/px-toolkit/etn_source/mercury_server/source/<a class="el" href="../../da/d5b/session__manager_8cpp_source.html">session_manager.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d2/d5b/classCSessionManager.html">CSessionManager</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:25:07 for mercury_server by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
