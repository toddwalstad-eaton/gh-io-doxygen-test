<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>mercury_server: CMercuryProtocolHandler Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">mercury_server
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d6/dee/classCMercuryProtocolHandler.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="../../d9/db2/classCMercuryProtocolHandler-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CMercuryProtocolHandler Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p>Mercury Protocol Handler.  
 <a href="../../d6/dee/classCMercuryProtocolHandler.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CMercuryProtocolHandler:</div>
<div class="dyncontent">
<div class="center"><img src="../../d8/d37/classCMercuryProtocolHandler__inherit__graph.png" border="0" usemap="#CMercuryProtocolHandler_inherit__map" alt="Inheritance graph"/></div>
<map name="CMercuryProtocolHandler_inherit__map" id="CMercuryProtocolHandler_inherit__map">
<area shape="rect" id="node4" href="../../db/dd8/classCTcpProtocolHandler.html" title="TCP Protocol Handler implements a protocol handler for TCP communication. " alt="" coords="5,645,197,869"/><area shape="rect" id="node5" href="../../d7/d46/classCWsProtocolHandler.html" title="CMercuryProtocolHandler subclass for websocket server. " alt="" coords="222,660,412,855"/><area shape="rect" id="node6" href="../../d9/dad/classMockMercuryProtocolHandler.html" title="{MockMercuryProtocolHandler\n|+ _mcds\l+ _mph_ptr\l|+ MockMercuryProtocolHandler()\l+ ~MockMercuryProtocolHandler()\l+ MockMercuryProtocolHandler()\l+ set_mock_transactor()\l+ get_cds_handle()\l+ MOCK_CONST_METHOD1()\l+ get_ptr()\l+ MOCK_METHOD0()\l+ MOCK_METHOD0()\l+ MOCK_METHOD0()\land 10 more...\l}" alt="" coords="437,638,685,877"/><area shape="rect" id="node2" href="../../d1/d20/classpx_1_1asio_1_1CProtocolHandler.html" title="{px::asio::CProtocolHandler\n||}" alt="" coords="105,20,300,97"/></map>
</div>
<div class="dynheader">
Collaboration diagram for CMercuryProtocolHandler:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/dea/classCMercuryProtocolHandler__coll__graph.png" border="0" usemap="#CMercuryProtocolHandler_coll__map" alt="Collaboration graph"/></div>
<map name="CMercuryProtocolHandler_coll__map" id="CMercuryProtocolHandler_coll__map">
<area shape="rect" id="node2" href="../../d1/d20/classpx_1_1asio_1_1CProtocolHandler.html" title="{px::asio::CProtocolHandler\n||}" alt="" coords="5,191,200,268"/><area shape="rect" id="node5" title="STL class. " alt="" coords="575,6,727,98"/><area shape="rect" id="node12" title="STL class. " alt="" coords="1492,13,1649,91"/><area shape="rect" id="node14" title="STL class. " alt="" coords="1674,13,1856,91"/></map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aeaeaaa64d2c4bfda2eb1ff0a87957c96"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#aeaeaaa64d2c4bfda2eb1ff0a87957c96">CMercuryProtocolHandler</a> (<a class="el" href="../../d2/d13/classpx_1_1asio_1_1CIoTransactor.html">px::asio::CIoTransactor</a> *transactor=nullptr)</td></tr>
<tr class="memdesc:aeaeaaa64d2c4bfda2eb1ff0a87957c96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor.  <a href="#aeaeaaa64d2c4bfda2eb1ff0a87957c96">More...</a><br/></td></tr>
<tr class="separator:aeaeaaa64d2c4bfda2eb1ff0a87957c96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2dfc6f3dfff3cc1c43898717c81fd3bf"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a2dfc6f3dfff3cc1c43898717c81fd3bf">~CMercuryProtocolHandler</a> ()</td></tr>
<tr class="memdesc:a2dfc6f3dfff3cc1c43898717c81fd3bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a2dfc6f3dfff3cc1c43898717c81fd3bf">More...</a><br/></td></tr>
<tr class="separator:a2dfc6f3dfff3cc1c43898717c81fd3bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e26acd17cdc13ec3b5d449f1d545ffa"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a7e26acd17cdc13ec3b5d449f1d545ffa">respond</a> (const px::proto::RequestResponse &amp;resp)=0</td></tr>
<tr class="memdesc:a7e26acd17cdc13ec3b5d449f1d545ffa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a Mercury response out for request responses.  <a href="#a7e26acd17cdc13ec3b5d449f1d545ffa">More...</a><br/></td></tr>
<tr class="separator:a7e26acd17cdc13ec3b5d449f1d545ffa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a413dbfa8069c634b058c0c09884e95d7"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a413dbfa8069c634b058c0c09884e95d7">publish</a> (const px::proto::PublishData &amp;push, px::mercury_msg_api_t msg_api)=0</td></tr>
<tr class="memdesc:a413dbfa8069c634b058c0c09884e95d7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a Mercury response out for published data.  <a href="#a413dbfa8069c634b058c0c09884e95d7">More...</a><br/></td></tr>
<tr class="separator:a413dbfa8069c634b058c0c09884e95d7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec585614d3be00c07e2db4ae158e7506"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#aec585614d3be00c07e2db4ae158e7506">err</a> (px::proto::ErrorCode err, uint32_t request_id, px::string err_msg)</td></tr>
<tr class="memdesc:aec585614d3be00c07e2db4ae158e7506"><td class="mdescLeft">&#160;</td><td class="mdescRight">Send a Mercury exception response.  <a href="#aec585614d3be00c07e2db4ae158e7506">More...</a><br/></td></tr>
<tr class="separator:aec585614d3be00c07e2db4ae158e7506"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9125075cb1ab62e3100b5f4f94fbeb72"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../db/d4f/classCMercuryCdsHandle.html">CMercuryCdsHandle</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a9125075cb1ab62e3100b5f4f94fbeb72">get_cds_handle</a> () const </td></tr>
<tr class="memdesc:a9125075cb1ab62e3100b5f4f94fbeb72"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a handle to the cds.  <a href="#a9125075cb1ab62e3100b5f4f94fbeb72">More...</a><br/></td></tr>
<tr class="separator:a9125075cb1ab62e3100b5f4f94fbeb72"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a538ffbdfe246ea924c377d8506b53a5f"><td class="memItemLeft" align="right" valign="top">virtual uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a538ffbdfe246ea924c377d8506b53a5f">cds_submit</a> (px::cds::CRequestResponse &amp;req)</td></tr>
<tr class="memdesc:a538ffbdfe246ea924c377d8506b53a5f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Submit work to be done by CDS.  <a href="#a538ffbdfe246ea924c377d8506b53a5f">More...</a><br/></td></tr>
<tr class="separator:a538ffbdfe246ea924c377d8506b53a5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ac47272d7db8ba1116c2ab89a1cb5a"><td class="memItemLeft" align="right" valign="top">virtual std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="../../d1/d20/classpx_1_1asio_1_1CProtocolHandler.html">px::asio::CProtocolHandler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a32ac47272d7db8ba1116c2ab89a1cb5a">clone</a> (<a class="el" href="../../d2/d13/classpx_1_1asio_1_1CIoTransactor.html">px::asio::CIoTransactor</a> *<a class="el" href="../../d2/d13/classpx_1_1asio_1_1CIoTransactor.html">CIoTransactor</a>) const =0</td></tr>
<tr class="memdesc:a32ac47272d7db8ba1116c2ab89a1cb5a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Supposed to Clone this protocol object from an existing one.  <a href="#a32ac47272d7db8ba1116c2ab89a1cb5a">More...</a><br/></td></tr>
<tr class="separator:a32ac47272d7db8ba1116c2ab89a1cb5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af22def049de0abd4b0ee74d4446c06e6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#af22def049de0abd4b0ee74d4446c06e6">clear_subscriptions</a> ()</td></tr>
<tr class="memdesc:af22def049de0abd4b0ee74d4446c06e6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clean up all subscriptions, prepare for user logout, initiated from CDS, or from end users.  <a href="#af22def049de0abd4b0ee74d4446c06e6">More...</a><br/></td></tr>
<tr class="separator:af22def049de0abd4b0ee74d4446c06e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d098d4dfc32011b0d1b6363ed22165e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a9d098d4dfc32011b0d1b6363ed22165e">close</a> ()</td></tr>
<tr class="memdesc:a9d098d4dfc32011b0d1b6363ed22165e"><td class="mdescLeft">&#160;</td><td class="mdescRight">inharited from CProtocolHandler.  <a href="#a9d098d4dfc32011b0d1b6363ed22165e">More...</a><br/></td></tr>
<tr class="separator:a9d098d4dfc32011b0d1b6363ed22165e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6662063a9ff8fde6290eeaa61f6fb13"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d7d/classCMercuryConfig.html">CMercuryConfig</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#af6662063a9ff8fde6290eeaa61f6fb13">get_config</a> () const </td></tr>
<tr class="memdesc:af6662063a9ff8fde6290eeaa61f6fb13"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a handle to the server core config object.  <a href="#af6662063a9ff8fde6290eeaa61f6fb13">More...</a><br/></td></tr>
<tr class="separator:af6662063a9ff8fde6290eeaa61f6fb13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6d206f3a6171980e968d070c9293c9d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d03/classCMercurySettings.html">CMercurySettings</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#aa6d206f3a6171980e968d070c9293c9d">get_settings</a> () const </td></tr>
<tr class="memdesc:aa6d206f3a6171980e968d070c9293c9d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get a handle to the server core settings object.  <a href="#aa6d206f3a6171980e968d070c9293c9d">More...</a><br/></td></tr>
<tr class="separator:aa6d206f3a6171980e968d070c9293c9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fe579b10f6da8a77fd82e972a285a8f"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../d2/d5b/classCSessionManager.html">CSessionManager</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a5fe579b10f6da8a77fd82e972a285a8f">get_session_manager</a> () const </td></tr>
<tr class="memdesc:a5fe579b10f6da8a77fd82e972a285a8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets access to the connection session manager in the core.  <a href="#a5fe579b10f6da8a77fd82e972a285a8f">More...</a><br/></td></tr>
<tr class="separator:a5fe579b10f6da8a77fd82e972a285a8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3dc6bfcdc5eebe6ebbfd739869f62362"><td class="memItemLeft" align="right" valign="top">boost::asio::io_service &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a3dc6bfcdc5eebe6ebbfd739869f62362">get_io_service</a> () const </td></tr>
<tr class="memdesc:a3dc6bfcdc5eebe6ebbfd739869f62362"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the I/O service associated with the owner of this protocol handler.  <a href="#a3dc6bfcdc5eebe6ebbfd739869f62362">More...</a><br/></td></tr>
<tr class="separator:a3dc6bfcdc5eebe6ebbfd739869f62362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb2e973cd642053374cf9165d43d85fe"><td class="memItemLeft" align="right" valign="top">const std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#afb2e973cd642053374cf9165d43d85fe">transactor_source</a> () const </td></tr>
<tr class="memdesc:afb2e973cd642053374cf9165d43d85fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Getter for the "source" embedded in the CIoTransactor (eg, CUdsListener)  <a href="#afb2e973cd642053374cf9165d43d85fe">More...</a><br/></td></tr>
<tr class="separator:afb2e973cd642053374cf9165d43d85fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bdae0623650a744ed35b4553eba16db"><td class="memItemLeft" align="right" valign="top">virtual px::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a4bdae0623650a744ed35b4553eba16db">whoAmI</a> ()</td></tr>
<tr class="memdesc:a4bdae0623650a744ed35b4553eba16db"><td class="mdescLeft">&#160;</td><td class="mdescRight">fetch the username currently registered with this handle  <a href="#a4bdae0623650a744ed35b4553eba16db">More...</a><br/></td></tr>
<tr class="separator:a4bdae0623650a744ed35b4553eba16db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a540d49f1ae1ef743978de6703be8a285"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a540d49f1ae1ef743978de6703be8a285">get_credentials</a> (px::CUser &amp;user_info, px::CBitset&lt; px::permissions &gt; &amp;permissions)</td></tr>
<tr class="memdesc:a540d49f1ae1ef743978de6703be8a285"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetch the user info and permissions for this user, based on the session information.  <a href="#a540d49f1ae1ef743978de6703be8a285">More...</a><br/></td></tr>
<tr class="separator:a540d49f1ae1ef743978de6703be8a285"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0b51fd9ebf739d366dd1bd939ca7210"><td class="memItemLeft" align="right" valign="top">const px::CBitset<br class="typebreak"/>
&lt; px::permissions &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#ac0b51fd9ebf739d366dd1bd939ca7210">get_session_privileges</a> () const </td></tr>
<tr class="memdesc:ac0b51fd9ebf739d366dd1bd939ca7210"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Privileges (permissions) already established for this session.  <a href="#ac0b51fd9ebf739d366dd1bd939ca7210">More...</a><br/></td></tr>
<tr class="separator:ac0b51fd9ebf739d366dd1bd939ca7210"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5be2e3b064f75ef69b3e0095a151def"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#aa5be2e3b064f75ef69b3e0095a151def">is_authorized</a> (px::permissions permission)</td></tr>
<tr class="memdesc:aa5be2e3b064f75ef69b3e0095a151def"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if the user (in this session) is authorized for this permission.  <a href="#aa5be2e3b064f75ef69b3e0095a151def">More...</a><br/></td></tr>
<tr class="separator:aa5be2e3b064f75ef69b3e0095a151def"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a028e1a22e47acfc7dd4e74abc354f36c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a028e1a22e47acfc7dd4e74abc354f36c">set_session_info</a> (const px::string &amp;username, const px::string &amp;src_addr, const px::string &amp;session_token, const px::CUser &amp;user_info, px::CBitset&lt; px::permissions &gt; user_perms)</td></tr>
<tr class="memdesc:a028e1a22e47acfc7dd4e74abc354f36c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the session information received from a successful Login.  <a href="#a028e1a22e47acfc7dd4e74abc354f36c">More...</a><br/></td></tr>
<tr class="separator:a028e1a22e47acfc7dd4e74abc354f36c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8cfdf40e656ee17196d38775e102031"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#ae8cfdf40e656ee17196d38775e102031">track_session</a> ()</td></tr>
<tr class="memdesc:ae8cfdf40e656ee17196d38775e102031"><td class="mdescLeft">&#160;</td><td class="mdescRight">Ping the session tracker for this connection's session.  <a href="#ae8cfdf40e656ee17196d38775e102031">More...</a><br/></td></tr>
<tr class="separator:ae8cfdf40e656ee17196d38775e102031"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a904a3afd80da264ad521f63c445bd8ad"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a904a3afd80da264ad521f63c445bd8ad">close_all_sessions</a> ()</td></tr>
<tr class="memdesc:a904a3afd80da264ad521f63c445bd8ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Closes any ongoing sessions for this protocol handler.  <a href="#a904a3afd80da264ad521f63c445bd8ad">More...</a><br/></td></tr>
<tr class="separator:a904a3afd80da264ad521f63c445bd8ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33bdc6ec4bdf775064104cec25b4c4bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d8a/classCMercuryPdu.html">CMercuryPdu</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a33bdc6ec4bdf775064104cec25b4c4bd">getPdu</a> ()</td></tr>
<tr class="memdesc:a33bdc6ec4bdf775064104cec25b4c4bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">simple getter for the underlying protocol data unit  <a href="#a33bdc6ec4bdf775064104cec25b4c4bd">More...</a><br/></td></tr>
<tr class="separator:a33bdc6ec4bdf775064104cec25b4c4bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94fb111e4565582a0d661d725dfbdb50"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d8a/classCMercuryPdu.html">CMercuryPdu</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a94fb111e4565582a0d661d725dfbdb50">getPublishPdu</a> ()</td></tr>
<tr class="memdesc:a94fb111e4565582a0d661d725dfbdb50"><td class="mdescLeft">&#160;</td><td class="mdescRight">simple getter for the underlying publishing protocol data unit  <a href="#a94fb111e4565582a0d661d725dfbdb50">More...</a><br/></td></tr>
<tr class="separator:a94fb111e4565582a0d661d725dfbdb50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ea832b69be0570eeea7783f69be880e"><td class="memItemLeft" align="right" valign="top">const px::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a0ea832b69be0570eeea7783f69be880e">session_user</a> ()</td></tr>
<tr class="memdesc:a0ea832b69be0570eeea7783f69be880e"><td class="mdescLeft">&#160;</td><td class="mdescRight">getter for the current session user (or implicit)  <a href="#a0ea832b69be0570eeea7783f69be880e">More...</a><br/></td></tr>
<tr class="separator:a0ea832b69be0570eeea7783f69be880e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a379b1403b86e7bd18ee5aaadef4a688d"><td class="memItemLeft" align="right" valign="top">const px::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a379b1403b86e7bd18ee5aaadef4a688d">session_source</a> ()</td></tr>
<tr class="memdesc:a379b1403b86e7bd18ee5aaadef4a688d"><td class="mdescLeft">&#160;</td><td class="mdescRight">getter for the current session source  <a href="#a379b1403b86e7bd18ee5aaadef4a688d">More...</a><br/></td></tr>
<tr class="separator:a379b1403b86e7bd18ee5aaadef4a688d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a190709c0f6c6d5f9cda2d89f24e50f74"><td class="memItemLeft" align="right" valign="top">const px::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a190709c0f6c6d5f9cda2d89f24e50f74">session_id</a> ()</td></tr>
<tr class="memdesc:a190709c0f6c6d5f9cda2d89f24e50f74"><td class="mdescLeft">&#160;</td><td class="mdescRight">getter for the current session ID  <a href="#a190709c0f6c6d5f9cda2d89f24e50f74">More...</a><br/></td></tr>
<tr class="separator:a190709c0f6c6d5f9cda2d89f24e50f74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a544aadce8c3ec046ebdddf611b4e61a2"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a544aadce8c3ec046ebdddf611b4e61a2">closed</a> ()</td></tr>
<tr class="memdesc:a544aadce8c3ec046ebdddf611b4e61a2"><td class="mdescLeft">&#160;</td><td class="mdescRight">getter for the _closed member  <a href="#a544aadce8c3ec046ebdddf611b4e61a2">More...</a><br/></td></tr>
<tr class="separator:a544aadce8c3ec046ebdddf611b4e61a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09b05399192db8b703cd8afd6c88a095"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a09b05399192db8b703cd8afd6c88a095">fill_out_user_info</a> (const px::CUser &amp;user_info, px::proto::User *proto_user)</td></tr>
<tr class="memdesc:a09b05399192db8b703cd8afd6c88a095"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill out the protobuf User fields with user info from the CDS.  <a href="#a09b05399192db8b703cd8afd6c88a095">More...</a><br/></td></tr>
<tr class="separator:a09b05399192db8b703cd8afd6c88a095"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb1b099efa035a0bf8749f5f382b168c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#aeb1b099efa035a0bf8749f5f382b168c">fill_out_role</a> (const px::string &amp;role_name, const px::CBitset&lt; px::permissions &gt; &amp;user_perms, px::proto::Role *proto_role)</td></tr>
<tr class="memdesc:aeb1b099efa035a0bf8749f5f382b168c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fill out the protobuf Role fields with the Permissions data from the CDS.  <a href="#aeb1b099efa035a0bf8749f5f382b168c">More...</a><br/></td></tr>
<tr class="separator:aeb1b099efa035a0bf8749f5f382b168c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9216d27f97114d390b9f98458e8db1cc"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a9216d27f97114d390b9f98458e8db1cc">print_adu_info</a> ()</td></tr>
<tr class="memdesc:a9216d27f97114d390b9f98458e8db1cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">For debugging, show the message and header information for the current ADU.  <a href="#a9216d27f97114d390b9f98458e8db1cc">More...</a><br/></td></tr>
<tr class="separator:a9216d27f97114d390b9f98458e8db1cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a2433fbdcd84f33f9d2460eabda48d325"><td class="memItemLeft" align="right" valign="top">std::unordered_set&lt; uint64_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a2433fbdcd84f33f9d2460eabda48d325">subscriptions</a></td></tr>
<tr class="memdesc:a2433fbdcd84f33f9d2460eabda48d325"><td class="mdescLeft">&#160;</td><td class="mdescRight">all known subscriptions for this handler  <a href="#a2433fbdcd84f33f9d2460eabda48d325">More...</a><br/></td></tr>
<tr class="separator:a2433fbdcd84f33f9d2460eabda48d325"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a8323c8380d627e3cf4aa37b03f4bb6de"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a8323c8380d627e3cf4aa37b03f4bb6de">parse_request</a> ()</td></tr>
<tr class="memdesc:a8323c8380d627e3cf4aa37b03f4bb6de"><td class="mdescLeft">&#160;</td><td class="mdescRight">Parse a Mercury request.  <a href="#a8323c8380d627e3cf4aa37b03f4bb6de">More...</a><br/></td></tr>
<tr class="separator:a8323c8380d627e3cf4aa37b03f4bb6de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d2d489c918fc8db2c725ef81de4fe0b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a2d2d489c918fc8db2c725ef81de4fe0b">handle_request</a> (<a class="el" href="../../d7/d8a/classCMercuryPdu.html">CMercuryPdu</a> &amp;pdu)</td></tr>
<tr class="memdesc:a2d2d489c918fc8db2c725ef81de4fe0b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Handle a Mercury request.  <a href="#a2d2d489c918fc8db2c725ef81de4fe0b">More...</a><br/></td></tr>
<tr class="separator:a2d2d489c918fc8db2c725ef81de4fe0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f13ebe3187ee291019263bc967accfb"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a8f13ebe3187ee291019263bc967accfb">add_new_adu</a> (uint32_t first_req_id)=0</td></tr>
<tr class="memdesc:a8f13ebe3187ee291019263bc967accfb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Add a <a class="el" href="../../d8/d4b/classCMercuryAdu.html" title="Mercury Application Data Unit. ">CMercuryAdu</a> to _adus.  <a href="#a8f13ebe3187ee291019263bc967accfb">More...</a><br/></td></tr>
<tr class="separator:a8f13ebe3187ee291019263bc967accfb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae046e02b952e5073e9655f359b3bc0c8"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#ae046e02b952e5073e9655f359b3bc0c8">execute</a> ()=0</td></tr>
<tr class="memdesc:ae046e02b952e5073e9655f359b3bc0c8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Execute the parsed request.  <a href="#ae046e02b952e5073e9655f359b3bc0c8">More...</a><br/></td></tr>
<tr class="separator:ae046e02b952e5073e9655f359b3bc0c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a5034c9f9f0e5beea4ff61adf9bb06ed1"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; uint32_t, <br class="typebreak"/>
uint32_t &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a5034c9f9f0e5beea4ff61adf9bb06ed1">_adu_req_ids</a></td></tr>
<tr class="memdesc:a5034c9f9f0e5beea4ff61adf9bb06ed1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map of request IDs to the first request ID in the ADU.  <a href="#a5034c9f9f0e5beea4ff61adf9bb06ed1">More...</a><br/></td></tr>
<tr class="separator:a5034c9f9f0e5beea4ff61adf9bb06ed1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a368ce5ed99fed5930187366cff3e0611"><td class="memItemLeft" align="right" valign="top">std::unordered_map&lt; uint32_t, <br class="typebreak"/>
std::shared_ptr&lt; <a class="el" href="../../d8/d4b/classCMercuryAdu.html">CMercuryAdu</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a368ce5ed99fed5930187366cff3e0611">_adus</a></td></tr>
<tr class="memdesc:a368ce5ed99fed5930187366cff3e0611"><td class="mdescLeft">&#160;</td><td class="mdescRight">Map of first request IDs of a mercury ADU to its corresponding ADU.  <a href="#a368ce5ed99fed5930187366cff3e0611">More...</a><br/></td></tr>
<tr class="separator:a368ce5ed99fed5930187366cff3e0611"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34348cf17fba4bd800a0e178b9ddb2b5"><td class="memItemLeft" align="right" valign="top">std::shared_ptr&lt; <a class="el" href="../../d8/d4b/classCMercuryAdu.html">CMercuryAdu</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a34348cf17fba4bd800a0e178b9ddb2b5">_adu</a></td></tr>
<tr class="memdesc:a34348cf17fba4bd800a0e178b9ddb2b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mercury ADU object used for parsing/handling Will be new with each received message - so don't reference this on the post CDS/respond side - this could cause unexpected behavior, including a crash, as the protocol handler could have a new incoming message to deal with.  <a href="#a34348cf17fba4bd800a0e178b9ddb2b5">More...</a><br/></td></tr>
<tr class="separator:a34348cf17fba4bd800a0e178b9ddb2b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fe6ded109a2a309c6b09b93678c0a7f"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../d8/d4b/classCMercuryAdu.html">CMercuryAdu</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a4fe6ded109a2a309c6b09b93678c0a7f">_publish_adu</a></td></tr>
<tr class="memdesc:a4fe6ded109a2a309c6b09b93678c0a7f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mercury ADU object used for publishing Will be new with each published message.  <a href="#a4fe6ded109a2a309c6b09b93678c0a7f">More...</a><br/></td></tr>
<tr class="separator:a4fe6ded109a2a309c6b09b93678c0a7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80c1688680c4f93ec5ceca2144ed08b5"><td class="memItemLeft" align="right" valign="top">px::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a80c1688680c4f93ec5ceca2144ed08b5">_username</a></td></tr>
<tr class="memdesc:a80c1688680c4f93ec5ceca2144ed08b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">The name of the user who created this session.  <a href="#a80c1688680c4f93ec5ceca2144ed08b5">More...</a><br/></td></tr>
<tr class="separator:a80c1688680c4f93ec5ceca2144ed08b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac02018b5c91eb594eb0f28f475581875"><td class="memItemLeft" align="right" valign="top">px::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#ac02018b5c91eb594eb0f28f475581875">_session_id</a></td></tr>
<tr class="memdesc:ac02018b5c91eb594eb0f28f475581875"><td class="mdescLeft">&#160;</td><td class="mdescRight">The session ID for this session (need for CDS requests)  <a href="#ac02018b5c91eb594eb0f28f475581875">More...</a><br/></td></tr>
<tr class="separator:ac02018b5c91eb594eb0f28f475581875"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2373940c35bac1e93705b70805f3eb04"><td class="memItemLeft" align="right" valign="top">px::CBitset&lt; px::permissions &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a2373940c35bac1e93705b70805f3eb04">_perms</a></td></tr>
<tr class="memdesc:a2373940c35bac1e93705b70805f3eb04"><td class="mdescLeft">&#160;</td><td class="mdescRight">The user_roles in place for this session.  <a href="#a2373940c35bac1e93705b70805f3eb04">More...</a><br/></td></tr>
<tr class="separator:a2373940c35bac1e93705b70805f3eb04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f6680e5c27e191e47f613cd62ec8921"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a5f6680e5c27e191e47f613cd62ec8921">_closed</a></td></tr>
<tr class="memdesc:a5f6680e5c27e191e47f613cd62ec8921"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating that handler has been closed.  <a href="#a5f6680e5c27e191e47f613cd62ec8921">More...</a><br/></td></tr>
<tr class="separator:a5f6680e5c27e191e47f613cd62ec8921"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4693f68b981890a07c16568b4c3c0845"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a4693f68b981890a07c16568b4c3c0845">cds_msg_posted</a></td></tr>
<tr class="memdesc:a4693f68b981890a07c16568b4c3c0845"><td class="mdescLeft">&#160;</td><td class="mdescRight">Flag indicating that message has beed submitted to the cds.  <a href="#a4693f68b981890a07c16568b4c3c0845">More...</a><br/></td></tr>
<tr class="separator:a4693f68b981890a07c16568b4c3c0845"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e7dd6f7c625428a6e47e8b0aa9b8753"><td class="memItemLeft" align="right" valign="top">px::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html#a6e7dd6f7c625428a6e47e8b0aa9b8753">_implicit_user</a></td></tr>
<tr class="memdesc:a6e7dd6f7c625428a6e47e8b0aa9b8753"><td class="mdescLeft">&#160;</td><td class="mdescRight">Default user (role) if not provided via login.  <a href="#a6e7dd6f7c625428a6e47e8b0aa9b8753">More...</a><br/></td></tr>
<tr class="separator:a6e7dd6f7c625428a6e47e8b0aa9b8753"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Mercury Protocol Handler. </p>
<p>This abstract class implements the base of a protocol handler for all common Mercury communications. Each of those derived types (TCP, HTTP/HTTPS, WebSocket) instantiates an initial instance of the Protocol Handler for its traffic. Then, as each connection is made, one instance will be provided for that connection. </p>

<p>Definition at line <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html#l00046">46</a> of file <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aeaeaaa64d2c4bfda2eb1ff0a87957c96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CMercuryProtocolHandler::CMercuryProtocolHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d13/classpx_1_1asio_1_1CIoTransactor.html">px::asio::CIoTransactor</a> *&#160;</td>
          <td class="paramname"><em>transactor</em> = <code>nullptr</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transactor</td><td>The messenger-type Actor which owns this protocol handler </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00034">34</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2dfc6f3dfff3cc1c43898717c81fd3bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">CMercuryProtocolHandler::~CMercuryProtocolHandler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destructor. </p>
<p>Needed when derived classes are freed or memory leak will occur. </p>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00044">44</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a7e26acd17cdc13ec3b5d449f1d545ffa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void CMercuryProtocolHandler::respond </td>
          <td>(</td>
          <td class="paramtype">const px::proto::RequestResponse &amp;&#160;</td>
          <td class="paramname"><em>resp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a Mercury response out for request responses. </p>

<p>Implemented in <a class="el" href="../../db/dd8/classCTcpProtocolHandler.html#a01a3c6d061f7e9bdc4d28c2b9c7dc4f1">CTcpProtocolHandler</a>, and <a class="el" href="../../d7/d46/classCWsProtocolHandler.html#abb63f6e987c89109aedec1f9468f180e">CWsProtocolHandler</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_a7e26acd17cdc13ec3b5d449f1d545ffa_icgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_a7e26acd17cdc13ec3b5d449f1d545ffa_icgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_a7e26acd17cdc13ec3b5d449f1d545ffa_icgraph" id="d6/dee/classCMercuryProtocolHandler_a7e26acd17cdc13ec3b5d449f1d545ffa_icgraph">
<area shape="rect" id="node2" href="../../d6/dee/classCMercuryProtocolHandler.html#aec585614d3be00c07e2db4ae158e7506" title="Send a Mercury exception response. " alt="" coords="240,111,453,137"/><area shape="rect" id="node3" href="../../d6/dee/classCMercuryProtocolHandler.html#a8323c8380d627e3cf4aa37b03f4bb6de" title="Parse a Mercury request. " alt="" coords="501,70,688,111"/><area shape="rect" id="node6" href="../../d6/dee/classCMercuryProtocolHandler.html#a2d2d489c918fc8db2c725ef81de4fe0b" title="Handle a Mercury request. " alt="" coords="501,135,688,177"/><area shape="rect" id="node4" href="../../db/dd8/classCTcpProtocolHandler.html#aecde16d7599c58ff0cae112c32ca8876" title="CTcpProtocolHandler\l::parse" alt="" coords="737,5,893,46"/><area shape="rect" id="node5" href="../../d7/d46/classCWsProtocolHandler.html#a35c205d69762001b460bd7ff9ba316b8" title="Parse the most&#45;recently&#45;received message. " alt="" coords="737,70,892,111"/><area shape="rect" id="node7" href="../../db/dd8/classCTcpProtocolHandler.html#a5df1e58dd987e13789e138e4c2f65172" title="Execute the parsed request. " alt="" coords="737,135,893,177"/><area shape="rect" id="node8" href="../../d7/d46/classCWsProtocolHandler.html#a8ba2f45385c311d209cb8925f4f56486" title="Process a parsed message. " alt="" coords="737,201,892,242"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a413dbfa8069c634b058c0c09884e95d7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void CMercuryProtocolHandler::publish </td>
          <td>(</td>
          <td class="paramtype">const px::proto::PublishData &amp;&#160;</td>
          <td class="paramname"><em>push</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">px::mercury_msg_api_t&#160;</td>
          <td class="paramname"><em>msg_api</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Send a Mercury response out for published data. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">push</td><td>The data to be published. </td></tr>
    <tr><td class="paramname">msg_api</td><td>The message api to be used in header (for ver 3 or up ) </td></tr>
  </table>
  </dd>
</dl>

<p>Implemented in <a class="el" href="../../db/dd8/classCTcpProtocolHandler.html#a1564d5f9587ca1dba96901749274a498">CTcpProtocolHandler</a>, and <a class="el" href="../../d7/d46/classCWsProtocolHandler.html#ab2215e6577532a36094c9f004bda22e6">CWsProtocolHandler</a>.</p>

</div>
</div>
<a class="anchor" id="aec585614d3be00c07e2db4ae158e7506"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CMercuryProtocolHandler::err </td>
          <td>(</td>
          <td class="paramtype">px::proto::ErrorCode&#160;</td>
          <td class="paramname"><em>err</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>request_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">px::string&#160;</td>
          <td class="paramname"><em>err_msg</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Send a Mercury exception response. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">err</td><td>The error code to be sent with this response</td></tr>
    <tr><td class="paramname">request_id</td><td>The request id associated with this error response</td></tr>
    <tr><td class="paramname">err_msg</td><td>The error message associated with this error response </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00101">101</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_aec585614d3be00c07e2db4ae158e7506_cgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_aec585614d3be00c07e2db4ae158e7506_cgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_aec585614d3be00c07e2db4ae158e7506_cgraph" id="d6/dee/classCMercuryProtocolHandler_aec585614d3be00c07e2db4ae158e7506_cgraph">
<area shape="rect" id="node2" href="../../d6/dee/classCMercuryProtocolHandler.html#a7e26acd17cdc13ec3b5d449f1d545ffa" title="Send a Mercury response out for request responses. " alt="" coords="267,5,453,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_aec585614d3be00c07e2db4ae158e7506_icgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_aec585614d3be00c07e2db4ae158e7506_icgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_aec585614d3be00c07e2db4ae158e7506_icgraph" id="d6/dee/classCMercuryProtocolHandler_aec585614d3be00c07e2db4ae158e7506_icgraph">
<area shape="rect" id="node2" href="../../d6/dee/classCMercuryProtocolHandler.html#a8323c8380d627e3cf4aa37b03f4bb6de" title="Parse a Mercury request. " alt="" coords="267,70,453,111"/><area shape="rect" id="node5" href="../../d6/dee/classCMercuryProtocolHandler.html#a2d2d489c918fc8db2c725ef81de4fe0b" title="Handle a Mercury request. " alt="" coords="267,135,453,177"/><area shape="rect" id="node3" href="../../db/dd8/classCTcpProtocolHandler.html#aecde16d7599c58ff0cae112c32ca8876" title="CTcpProtocolHandler\l::parse" alt="" coords="502,5,658,46"/><area shape="rect" id="node4" href="../../d7/d46/classCWsProtocolHandler.html#a35c205d69762001b460bd7ff9ba316b8" title="Parse the most&#45;recently&#45;received message. " alt="" coords="503,70,657,111"/><area shape="rect" id="node6" href="../../db/dd8/classCTcpProtocolHandler.html#a5df1e58dd987e13789e138e4c2f65172" title="Execute the parsed request. " alt="" coords="502,135,658,177"/><area shape="rect" id="node7" href="../../d7/d46/classCWsProtocolHandler.html#a8ba2f45385c311d209cb8925f4f56486" title="Process a parsed message. " alt="" coords="503,201,657,242"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9125075cb1ab62e3100b5f4f94fbeb72"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d4f/classCMercuryCdsHandle.html">CMercuryCdsHandle</a> &amp; CMercuryProtocolHandler::get_cds_handle </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get a handle to the cds. </p>
<p>Inheritable for testing purposes.</p>
<dl class="section return"><dt>Returns</dt><dd>The cds handle object </dd></dl>

<p>Reimplemented in <a class="el" href="../../d9/dad/classMockMercuryProtocolHandler.html#ae78582cf23b1fbe8c68a8184f7cfdd6e">MockMercuryProtocolHandler</a>.</p>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00388">388</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_a9125075cb1ab62e3100b5f4f94fbeb72_icgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_a9125075cb1ab62e3100b5f4f94fbeb72_icgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_a9125075cb1ab62e3100b5f4f94fbeb72_icgraph" id="d6/dee/classCMercuryProtocolHandler_a9125075cb1ab62e3100b5f4f94fbeb72_icgraph">
<area shape="rect" id="node2" href="../../d6/dee/classCMercuryProtocolHandler.html#af22def049de0abd4b0ee74d4446c06e6" title="Clean up all subscriptions, prepare for user logout, initiated from CDS, or from end users..." alt="" coords="240,5,427,46"/><area shape="rect" id="node6" href="../../d6/dee/classCMercuryProtocolHandler.html#a2d2d489c918fc8db2c725ef81de4fe0b" title="Handle a Mercury request. " alt="" coords="240,70,427,111"/><area shape="rect" id="node3" href="../../d6/dee/classCMercuryProtocolHandler.html#a9d098d4dfc32011b0d1b6363ed22165e" title="inharited from CProtocolHandler. " alt="" coords="475,5,661,46"/><area shape="rect" id="node4" href="../../db/dd8/classCTcpProtocolHandler.html#a40e77aab51a34219d6d7cd90c28203d8" title="inharited from CProtocolHandler. " alt="" coords="710,5,866,46"/><area shape="rect" id="node5" href="../../db/dd8/classCTcpProtocolHandler.html#aaa880972e795ea74b858be4ea2d2ea3f" title="Destructor. " alt="" coords="915,5,1090,46"/><area shape="rect" id="node7" href="../../db/dd8/classCTcpProtocolHandler.html#a5df1e58dd987e13789e138e4c2f65172" title="Execute the parsed request. " alt="" coords="490,70,646,111"/><area shape="rect" id="node8" href="../../d7/d46/classCWsProtocolHandler.html#a8ba2f45385c311d209cb8925f4f56486" title="Process a parsed message. " alt="" coords="491,135,645,177"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a538ffbdfe246ea924c377d8506b53a5f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t CMercuryProtocolHandler::cds_submit </td>
          <td>(</td>
          <td class="paramtype">px::cds::CRequestResponse &amp;&#160;</td>
          <td class="paramname"><em>req</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Submit work to be done by CDS. </p>
<p>CDS handler will call the post function once a response is ready to be processed from the CDS.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">req</td><td>The work request for the cds to process.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The transaction id of the cds request. </dd></dl>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00410">410</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_a538ffbdfe246ea924c377d8506b53a5f_icgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_a538ffbdfe246ea924c377d8506b53a5f_icgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_a538ffbdfe246ea924c377d8506b53a5f_icgraph" id="d6/dee/classCMercuryProtocolHandler_a538ffbdfe246ea924c377d8506b53a5f_icgraph">
<area shape="rect" id="node2" href="../../d9/dad/classMockMercuryProtocolHandler.html#aa5e8248caabcdb1c374375e3a99ae0c5" title="MockMercuryProtocolHandler\l::set_mock_transactor" alt="" coords="502,5,714,46"/><area shape="rect" id="node4" href="../../d9/dad/classMockMercuryProtocolHandler.html#aa2781a93541b897e0ebbd8e7ef299351" title="MockMercuryProtocolHandler\l::MPHcds_submit" alt="" coords="241,34,453,75"/><area shape="rect" id="node3" href="../../d0/dad/structmercury__mock__fixture.html#a5f1eba63521be2c0334321df9ad07a5c" title="mercury_mock_fixture\l::mercury_mock_fixture" alt="" coords="763,5,939,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a32ac47272d7db8ba1116c2ab89a1cb5a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::shared_ptr&lt;<a class="el" href="../../d1/d20/classpx_1_1asio_1_1CProtocolHandler.html">px::asio::CProtocolHandler</a>&gt; CMercuryProtocolHandler::clone </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d2/d13/classpx_1_1asio_1_1CIoTransactor.html">px::asio::CIoTransactor</a> *&#160;</td>
          <td class="paramname"><em>CIoTransactor</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Supposed to Clone this protocol object from an existing one. </p>
<p>Inherited from protocol handler in libpx asio</p>
<p>This is used to create another suitably-typed protocol object without having any knowledge of the specific kind of object already in use.</p>
<p>Note: in practice in this mercury_server, the clone implementations just create new instances and don't clone existing information, aside from the protocol type. If they ever do, we will have to be careful not to clone the security-related parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">transactor</td><td>The messenger-type actor instance for this clone.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A new protocol object whose type/configuration is identical to our own </dd></dl>

<p>Implemented in <a class="el" href="../../d7/d46/classCWsProtocolHandler.html#ae1d18096e861efb21a859886c1825023">CWsProtocolHandler</a>, and <a class="el" href="../../db/dd8/classCTcpProtocolHandler.html#ad84cc9af98161e9f18684fd43bfef45b">CTcpProtocolHandler</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_a32ac47272d7db8ba1116c2ab89a1cb5a_icgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_a32ac47272d7db8ba1116c2ab89a1cb5a_icgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_a32ac47272d7db8ba1116c2ab89a1cb5a_icgraph" id="d6/dee/classCMercuryProtocolHandler_a32ac47272d7db8ba1116c2ab89a1cb5a_icgraph">
<area shape="rect" id="node2" href="../../d9/dad/classMockMercuryProtocolHandler.html#ab84cde244cf4b5a9776e9f9076ff18e3" title="MockMercuryProtocolHandler\l::MockMercuryProtocolHandler" alt="" coords="241,5,461,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af22def049de0abd4b0ee74d4446c06e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CMercuryProtocolHandler::clear_subscriptions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Clean up all subscriptions, prepare for user logout, initiated from CDS, or from end users. </p>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00079">79</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_af22def049de0abd4b0ee74d4446c06e6_cgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_af22def049de0abd4b0ee74d4446c06e6_cgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_af22def049de0abd4b0ee74d4446c06e6_cgraph" id="d6/dee/classCMercuryProtocolHandler_af22def049de0abd4b0ee74d4446c06e6_cgraph">
<area shape="rect" id="node2" href="../../d6/dee/classCMercuryProtocolHandler.html#a9125075cb1ab62e3100b5f4f94fbeb72" title="Get a handle to the cds. " alt="" coords="240,5,427,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_af22def049de0abd4b0ee74d4446c06e6_icgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_af22def049de0abd4b0ee74d4446c06e6_icgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_af22def049de0abd4b0ee74d4446c06e6_icgraph" id="d6/dee/classCMercuryProtocolHandler_af22def049de0abd4b0ee74d4446c06e6_icgraph">
<area shape="rect" id="node2" href="../../d6/dee/classCMercuryProtocolHandler.html#a9d098d4dfc32011b0d1b6363ed22165e" title="inharited from CProtocolHandler. " alt="" coords="240,5,427,46"/><area shape="rect" id="node3" href="../../db/dd8/classCTcpProtocolHandler.html#a40e77aab51a34219d6d7cd90c28203d8" title="inharited from CProtocolHandler. " alt="" coords="475,5,631,46"/><area shape="rect" id="node4" href="../../db/dd8/classCTcpProtocolHandler.html#aaa880972e795ea74b858be4ea2d2ea3f" title="Destructor. " alt="" coords="681,5,855,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9d098d4dfc32011b0d1b6363ed22165e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CMercuryProtocolHandler::close </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>inharited from CProtocolHandler. </p>
<p>We clean up any on going msgs and subscriptions that are still existent in CDS handler so we don't go notifying connections that have long since been removed </p>

<p>Reimplemented in <a class="el" href="../../db/dd8/classCTcpProtocolHandler.html#a40e77aab51a34219d6d7cd90c28203d8">CTcpProtocolHandler</a>.</p>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00054">54</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_a9d098d4dfc32011b0d1b6363ed22165e_cgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_a9d098d4dfc32011b0d1b6363ed22165e_cgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_a9d098d4dfc32011b0d1b6363ed22165e_cgraph" id="d6/dee/classCMercuryProtocolHandler_a9d098d4dfc32011b0d1b6363ed22165e_cgraph">
<area shape="rect" id="node2" href="../../d6/dee/classCMercuryProtocolHandler.html#af22def049de0abd4b0ee74d4446c06e6" title="Clean up all subscriptions, prepare for user logout, initiated from CDS, or from end users..." alt="" coords="240,5,427,46"/><area shape="rect" id="node4" href="../../d6/dee/classCMercuryProtocolHandler.html#a5fe579b10f6da8a77fd82e972a285a8f" title="Gets access to the connection session manager in the core. " alt="" coords="240,70,427,111"/><area shape="rect" id="node3" href="../../d6/dee/classCMercuryProtocolHandler.html#a9125075cb1ab62e3100b5f4f94fbeb72" title="Get a handle to the cds. " alt="" coords="475,5,661,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_a9d098d4dfc32011b0d1b6363ed22165e_icgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_a9d098d4dfc32011b0d1b6363ed22165e_icgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_a9d098d4dfc32011b0d1b6363ed22165e_icgraph" id="d6/dee/classCMercuryProtocolHandler_a9d098d4dfc32011b0d1b6363ed22165e_icgraph">
<area shape="rect" id="node2" href="../../db/dd8/classCTcpProtocolHandler.html#a40e77aab51a34219d6d7cd90c28203d8" title="inharited from CProtocolHandler. " alt="" coords="241,5,397,46"/><area shape="rect" id="node3" href="../../db/dd8/classCTcpProtocolHandler.html#aaa880972e795ea74b858be4ea2d2ea3f" title="Destructor. " alt="" coords="446,5,621,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af6662063a9ff8fde6290eeaa61f6fb13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d7d/classCMercuryConfig.html">CMercuryConfig</a> &amp; CMercuryProtocolHandler::get_config </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a handle to the server core config object. </p>
<dl class="section return"><dt>Returns</dt><dd>The server core config object </dd></dl>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00430">430</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa6d206f3a6171980e968d070c9293c9d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/d03/classCMercurySettings.html">CMercurySettings</a> &amp; CMercuryProtocolHandler::get_settings </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get a handle to the server core settings object. </p>
<dl class="section return"><dt>Returns</dt><dd>The server core settings object </dd></dl>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00441">441</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_aa6d206f3a6171980e968d070c9293c9d_icgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_aa6d206f3a6171980e968d070c9293c9d_icgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_aa6d206f3a6171980e968d070c9293c9d_icgraph" id="d6/dee/classCMercuryProtocolHandler_aa6d206f3a6171980e968d070c9293c9d_icgraph">
<area shape="rect" id="node2" href="../../d7/d46/classCWsProtocolHandler.html#a35c205d69762001b460bd7ff9ba316b8" title="Parse the most&#45;recently&#45;received message. " alt="" coords="240,5,395,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5fe579b10f6da8a77fd82e972a285a8f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt; <a class="el" href="../../d2/d5b/classCSessionManager.html">CSessionManager</a> &gt; CMercuryProtocolHandler::get_session_manager </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets access to the connection session manager in the core. </p>
<dl class="section return"><dt>Returns</dt><dd>The server core session manager </dd></dl>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00462">462</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_a5fe579b10f6da8a77fd82e972a285a8f_icgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_a5fe579b10f6da8a77fd82e972a285a8f_icgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_a5fe579b10f6da8a77fd82e972a285a8f_icgraph" id="d6/dee/classCMercuryProtocolHandler_a5fe579b10f6da8a77fd82e972a285a8f_icgraph">
<area shape="rect" id="node2" href="../../d6/dee/classCMercuryProtocolHandler.html#a9d098d4dfc32011b0d1b6363ed22165e" title="inharited from CProtocolHandler. " alt="" coords="240,5,427,46"/><area shape="rect" id="node5" href="../../d6/dee/classCMercuryProtocolHandler.html#a540d49f1ae1ef743978de6703be8a285" title="Fetch the user info and permissions for this user, based on the session information. " alt="" coords="240,70,427,111"/><area shape="rect" id="node6" href="../../d6/dee/classCMercuryProtocolHandler.html#a028e1a22e47acfc7dd4e74abc354f36c" title="Sets the session information received from a successful Login. " alt="" coords="240,135,427,177"/><area shape="rect" id="node7" href="../../d6/dee/classCMercuryProtocolHandler.html#ae8cfdf40e656ee17196d38775e102031" title="Ping the session tracker for this connection&#39;s session. " alt="" coords="240,201,427,242"/><area shape="rect" id="node11" href="../../d6/dee/classCMercuryProtocolHandler.html#a904a3afd80da264ad521f63c445bd8ad" title="Closes any ongoing sessions for this protocol handler. " alt="" coords="240,266,427,307"/><area shape="rect" id="node3" href="../../db/dd8/classCTcpProtocolHandler.html#a40e77aab51a34219d6d7cd90c28203d8" title="inharited from CProtocolHandler. " alt="" coords="490,5,646,46"/><area shape="rect" id="node4" href="../../db/dd8/classCTcpProtocolHandler.html#aaa880972e795ea74b858be4ea2d2ea3f" title="Destructor. " alt="" coords="710,5,885,46"/><area shape="rect" id="node8" href="../../d6/dee/classCMercuryProtocolHandler.html#a2d2d489c918fc8db2c725ef81de4fe0b" title="Handle a Mercury request. " alt="" coords="475,201,661,242"/><area shape="rect" id="node9" href="../../db/dd8/classCTcpProtocolHandler.html#a5df1e58dd987e13789e138e4c2f65172" title="Execute the parsed request. " alt="" coords="719,167,875,209"/><area shape="rect" id="node10" href="../../d7/d46/classCWsProtocolHandler.html#a8ba2f45385c311d209cb8925f4f56486" title="Process a parsed message. " alt="" coords="720,233,875,274"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3dc6bfcdc5eebe6ebbfd739869f62362"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::asio::io_service &amp; CMercuryProtocolHandler::get_io_service </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the I/O service associated with the owner of this protocol handler. </p>
<dl class="section return"><dt>Returns</dt><dd>A reference to the I/O manager's service object </dd></dl>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00455">455</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="afb2e973cd642053374cf9165d43d85fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::string CMercuryProtocolHandler::transactor_source </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Getter for the "source" embedded in the CIoTransactor (eg, CUdsListener) </p>
<dl class="section return"><dt>Returns</dt><dd>Text for the source or path for the Transactor for this protocol handler. </dd></dl>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00725">725</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4bdae0623650a744ed35b4553eba16db"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::string CMercuryProtocolHandler::whoAmI </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>fetch the username currently registered with this handle </p>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00114">114</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a540d49f1ae1ef743978de6703be8a285"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CMercuryProtocolHandler::get_credentials </td>
          <td>(</td>
          <td class="paramtype">px::CUser &amp;&#160;</td>
          <td class="paramname"><em>user_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">px::CBitset&lt; px::permissions &gt; &amp;&#160;</td>
          <td class="paramname"><em>permissions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetch the user info and permissions for this user, based on the session information. </p>
<p>Will lookup the session credentials with our session manager.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">user_info</td><td>If successfully looked up, returns the information about the logged-in user </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">permissions</td><td>The Privileges established for this user / session.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if we succeeded in looking up this request and are returning valid user info and permissions. If False, lookup failed. </dd></dl>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00474">474</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_a540d49f1ae1ef743978de6703be8a285_cgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_a540d49f1ae1ef743978de6703be8a285_cgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_a540d49f1ae1ef743978de6703be8a285_cgraph" id="d6/dee/classCMercuryProtocolHandler_a540d49f1ae1ef743978de6703be8a285_cgraph">
<area shape="rect" id="node2" href="../../d6/dee/classCMercuryProtocolHandler.html#a5fe579b10f6da8a77fd82e972a285a8f" title="Gets access to the connection session manager in the core. " alt="" coords="240,5,427,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac0b51fd9ebf739d366dd1bd939ca7210"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const px::CBitset&lt; px::permissions &gt; &amp; CMercuryProtocolHandler::get_session_privileges </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the Privileges (permissions) already established for this session. </p>
<p>Essentially just a getter for _perms</p>
<dl class="section return"><dt>Returns</dt><dd>The Privileges established for this user and session. </dd></dl>

<p>Definition at line <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html#l00453">453</a> of file <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aa5be2e3b064f75ef69b3e0095a151def"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CMercuryProtocolHandler::is_authorized </td>
          <td>(</td>
          <td class="paramtype">px::permissions&#160;</td>
          <td class="paramname"><em>permission</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Checks if the user (in this session) is authorized for this permission. </p>
<p>Will check against this session's _user_perms.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">permission</td><td>One of the set of permission enums, which will be checked.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if authorized, else False </dd></dl>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00494">494</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a028e1a22e47acfc7dd4e74abc354f36c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CMercuryProtocolHandler::set_session_info </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>src_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>session_token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::CUser &amp;&#160;</td>
          <td class="paramname"><em>user_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">px::CBitset&lt; px::permissions &gt;&#160;</td>
          <td class="paramname"><em>user_perms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the session information received from a successful Login. </p>
<p>Will create a new session instance, and add it to our map of sessions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">username</td><td>The username associated with this session </td></tr>
    <tr><td class="paramname">src_addr</td><td>The IP Address of the connection (source) associated with this session </td></tr>
    <tr><td class="paramname">session_token</td><td>The unique session ID from the CDS for this session. This is also used as the key for the entry in the map. </td></tr>
    <tr><td class="paramname">user_info</td><td>The User information about the logged in user for this session, from the CDS. </td></tr>
    <tr><td class="paramname">user_perms</td><td>The set of user Permissions valid for this session</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if session created and added successfully. False on problems, such as a session already existing for this Session ID. </dd></dl>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00504">504</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_a028e1a22e47acfc7dd4e74abc354f36c_cgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_a028e1a22e47acfc7dd4e74abc354f36c_cgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_a028e1a22e47acfc7dd4e74abc354f36c_cgraph" id="d6/dee/classCMercuryProtocolHandler_a028e1a22e47acfc7dd4e74abc354f36c_cgraph">
<area shape="rect" id="node2" href="../../d6/dee/classCMercuryProtocolHandler.html#a5fe579b10f6da8a77fd82e972a285a8f" title="Gets access to the connection session manager in the core. " alt="" coords="240,5,427,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae8cfdf40e656ee17196d38775e102031"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CMercuryProtocolHandler::track_session </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Ping the session tracker for this connection's session. </p>
<p>Will use the stored session ID to lookup our session's entry in the map.</p>
<dl class="section return"><dt>Returns</dt><dd>True if the stored session ID is valid </dd></dl>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00538">538</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_ae8cfdf40e656ee17196d38775e102031_cgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_ae8cfdf40e656ee17196d38775e102031_cgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_ae8cfdf40e656ee17196d38775e102031_cgraph" id="d6/dee/classCMercuryProtocolHandler_ae8cfdf40e656ee17196d38775e102031_cgraph">
<area shape="rect" id="node2" href="../../d6/dee/classCMercuryProtocolHandler.html#a5fe579b10f6da8a77fd82e972a285a8f" title="Gets access to the connection session manager in the core. " alt="" coords="240,5,427,46"/><area shape="rect" id="node3" href="../../d6/dee/classCMercuryProtocolHandler.html#a0ea832b69be0570eeea7783f69be880e" title="getter for the current session user (or implicit) " alt="" coords="240,70,427,111"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_ae8cfdf40e656ee17196d38775e102031_icgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_ae8cfdf40e656ee17196d38775e102031_icgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_ae8cfdf40e656ee17196d38775e102031_icgraph" id="d6/dee/classCMercuryProtocolHandler_ae8cfdf40e656ee17196d38775e102031_icgraph">
<area shape="rect" id="node2" href="../../d6/dee/classCMercuryProtocolHandler.html#a2d2d489c918fc8db2c725ef81de4fe0b" title="Handle a Mercury request. " alt="" coords="240,38,427,79"/><area shape="rect" id="node3" href="../../db/dd8/classCTcpProtocolHandler.html#a5df1e58dd987e13789e138e4c2f65172" title="Execute the parsed request. " alt="" coords="475,5,631,46"/><area shape="rect" id="node4" href="../../d7/d46/classCWsProtocolHandler.html#a8ba2f45385c311d209cb8925f4f56486" title="Process a parsed message. " alt="" coords="476,70,631,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a904a3afd80da264ad521f63c445bd8ad"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CMercuryProtocolHandler::close_all_sessions </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Closes any ongoing sessions for this protocol handler. </p>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00567">567</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_a904a3afd80da264ad521f63c445bd8ad_cgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_a904a3afd80da264ad521f63c445bd8ad_cgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_a904a3afd80da264ad521f63c445bd8ad_cgraph" id="d6/dee/classCMercuryProtocolHandler_a904a3afd80da264ad521f63c445bd8ad_cgraph">
<area shape="rect" id="node2" href="../../d6/dee/classCMercuryProtocolHandler.html#a5fe579b10f6da8a77fd82e972a285a8f" title="Gets access to the connection session manager in the core. " alt="" coords="240,5,427,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a33bdc6ec4bdf775064104cec25b4c4bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d8a/classCMercuryPdu.html">CMercuryPdu</a>&amp; CMercuryProtocolHandler::getPdu </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>simple getter for the underlying protocol data unit </p>

<p>Definition at line <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html#l00257">257</a> of file <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_a33bdc6ec4bdf775064104cec25b4c4bd_icgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_a33bdc6ec4bdf775064104cec25b4c4bd_icgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_a33bdc6ec4bdf775064104cec25b4c4bd_icgraph" id="d6/dee/classCMercuryProtocolHandler_a33bdc6ec4bdf775064104cec25b4c4bd_icgraph">
<area shape="rect" id="node2" href="../../d9/dad/classMockMercuryProtocolHandler.html#aa5e8248caabcdb1c374375e3a99ae0c5" title="MockMercuryProtocolHandler\l::set_mock_transactor" alt="" coords="502,5,714,46"/><area shape="rect" id="node4" href="../../d9/dad/classMockMercuryProtocolHandler.html#ac451e9c4f01c528fdcaac9e65633afe5" title="MockMercuryProtocolHandler\l::PHgetPdu" alt="" coords="241,63,453,105"/><area shape="rect" id="node7" href="../../d2/d30/cancel__subscription__request_8cpp.html#a8e76d1da09a27736a651fbb915ea472c" title="BOOST_AUTO_TEST_CASE" alt="" coords="251,129,442,156"/><area shape="rect" id="node8" href="../../dc/df4/disable__device__request_8cpp.html#a29a3643433506617d41166c435c49175" title="testDisabelDeviceRequest" alt="" coords="250,231,443,257"/><area shape="rect" id="node6" href="../../d4/d7b/reboot__request_8cpp.html#a20529162f822c03450f24effcd6230c8" title="BOOST_AUTO_TEST_SUITE" alt="" coords="511,151,705,177"/><area shape="rect" id="node3" href="../../d0/dad/structmercury__mock__fixture.html#a5f1eba63521be2c0334321df9ad07a5c" title="mercury_mock_fixture\l::mercury_mock_fixture" alt="" coords="763,5,939,46"/><area shape="rect" id="node5" href="../../dc/df4/disable__device__request_8cpp.html#a536af7c542b31414534cf582a7c7de44" title="BOOST_AUTO_TEST_CASE" alt="" coords="513,71,703,97"/><area shape="rect" id="node9" href="../../dc/df4/disable__device__request_8cpp.html#ae44840f862298ac63bad1cb0827c5663" title="BOOST_AUTO_TEST_CASE" alt="" coords="513,231,703,257"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a94fb111e4565582a0d661d725dfbdb50"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/d8a/classCMercuryPdu.html">CMercuryPdu</a>&amp; CMercuryProtocolHandler::getPublishPdu </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>simple getter for the underlying publishing protocol data unit </p>

<p>Definition at line <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html#l00265">265</a> of file <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0ea832b69be0570eeea7783f69be880e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const px::string &amp; CMercuryProtocolHandler::session_user </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>getter for the current session user (or implicit) </p>

<p>Definition at line <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html#l00442">442</a> of file <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_a0ea832b69be0570eeea7783f69be880e_icgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_a0ea832b69be0570eeea7783f69be880e_icgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_a0ea832b69be0570eeea7783f69be880e_icgraph" id="d6/dee/classCMercuryProtocolHandler_a0ea832b69be0570eeea7783f69be880e_icgraph">
<area shape="rect" id="node2" href="../../d6/dee/classCMercuryProtocolHandler.html#a2d2d489c918fc8db2c725ef81de4fe0b" title="Handle a Mercury request. " alt="" coords="475,38,661,79"/><area shape="rect" id="node5" href="../../d6/dee/classCMercuryProtocolHandler.html#ae8cfdf40e656ee17196d38775e102031" title="Ping the session tracker for this connection&#39;s session. " alt="" coords="240,67,427,109"/><area shape="rect" id="node3" href="../../db/dd8/classCTcpProtocolHandler.html#a5df1e58dd987e13789e138e4c2f65172" title="Execute the parsed request. " alt="" coords="710,5,866,46"/><area shape="rect" id="node4" href="../../d7/d46/classCWsProtocolHandler.html#a8ba2f45385c311d209cb8925f4f56486" title="Process a parsed message. " alt="" coords="711,70,865,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a379b1403b86e7bd18ee5aaadef4a688d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const px::string&amp; CMercuryProtocolHandler::session_source </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>getter for the current session source </p>

<p>Definition at line <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html#l00278">278</a> of file <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a190709c0f6c6d5f9cda2d89f24e50f74"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const px::string&amp; CMercuryProtocolHandler::session_id </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>getter for the current session ID </p>

<p>Definition at line <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html#l00286">286</a> of file <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a544aadce8c3ec046ebdddf611b4e61a2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CMercuryProtocolHandler::closed </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>getter for the _closed member </p>

<p>Definition at line <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html#l00294">294</a> of file <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a09b05399192db8b703cd8afd6c88a095"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CMercuryProtocolHandler::fill_out_user_info </td>
          <td>(</td>
          <td class="paramtype">const px::CUser &amp;&#160;</td>
          <td class="paramname"><em>user_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">px::proto::User *&#160;</td>
          <td class="paramname"><em>proto_user</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fill out the protobuf User fields with user info from the CDS. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">user_info</td><td>The user information provided by the CDS </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Pointer</td><td>to a mutable protobuf User structure, which is returned after it is filled out. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True on success (normal case), False if there were any problems </dd></dl>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00575">575</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aeb1b099efa035a0bf8749f5f382b168c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CMercuryProtocolHandler::fill_out_role </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>role_name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::CBitset&lt; px::permissions &gt; &amp;&#160;</td>
          <td class="paramname"><em>user_perms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">px::proto::Role *&#160;</td>
          <td class="paramname"><em>proto_role</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fill out the protobuf Role fields with the Permissions data from the CDS. </p>
<p>This includes the list of Mercury Request APIs that are enabled by these Permissions.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">role_name</td><td>The name for this Role. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">user_perms</td><td>The set of Permissions, provided by the CDS </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">Pointer</td><td>to a mutable protobuf Role structure, which is returned after it is filled out. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00676">676</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_aeb1b099efa035a0bf8749f5f382b168c_cgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_aeb1b099efa035a0bf8749f5f382b168c_cgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_aeb1b099efa035a0bf8749f5f382b168c_cgraph" id="d6/dee/classCMercuryProtocolHandler_aeb1b099efa035a0bf8749f5f382b168c_cgraph">
<area shape="rect" id="node2" href="../../df/df1/classCHandleApiIds.html#a6e1e3a33a956d7faf3f2024c6b8207b7" title="Lookups which APIs are allowed for the given Permissions. " alt="" coords="241,5,421,46"/><area shape="rect" id="node3" href="../../df/df1/classCHandleApiIds.html#aab39d6c7b421b503be86a459c59fc1a6" title="Checks if the given API is permitted (possibly) for the given Permissions. " alt="" coords="469,5,632,46"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9216d27f97114d390b9f98458e8db1cc"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CMercuryProtocolHandler::print_adu_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>For debugging, show the message and header information for the current ADU. </p>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00707">707</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8323c8380d627e3cf4aa37b03f4bb6de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CMercuryProtocolHandler::parse_request </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Parse a Mercury request. </p>
<p>This is utilized by the sub-classes' implementations of parse() to do most of the (transport-independent) parsing work.</p>
<dl class="section return"><dt>Returns</dt><dd>True if parsing is complete (whether it was successful or an error occurred); false if more data is needed before parsing can proceed. </dd></dl>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00122">122</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_a8323c8380d627e3cf4aa37b03f4bb6de_cgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_a8323c8380d627e3cf4aa37b03f4bb6de_cgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_a8323c8380d627e3cf4aa37b03f4bb6de_cgraph" id="d6/dee/classCMercuryProtocolHandler_a8323c8380d627e3cf4aa37b03f4bb6de_cgraph">
<area shape="rect" id="node2" href="../../d6/dee/classCMercuryProtocolHandler.html#aec585614d3be00c07e2db4ae158e7506" title="Send a Mercury exception response. " alt="" coords="240,12,453,39"/><area shape="rect" id="node4" href="../../d6/dee/classCMercuryProtocolHandler.html#ae046e02b952e5073e9655f359b3bc0c8" title="Execute the parsed request. " alt="" coords="253,63,440,105"/><area shape="rect" id="node3" href="../../d6/dee/classCMercuryProtocolHandler.html#a7e26acd17cdc13ec3b5d449f1d545ffa" title="Send a Mercury response out for request responses. " alt="" coords="501,5,688,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_a8323c8380d627e3cf4aa37b03f4bb6de_icgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_a8323c8380d627e3cf4aa37b03f4bb6de_icgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_a8323c8380d627e3cf4aa37b03f4bb6de_icgraph" id="d6/dee/classCMercuryProtocolHandler_a8323c8380d627e3cf4aa37b03f4bb6de_icgraph">
<area shape="rect" id="node2" href="../../db/dd8/classCTcpProtocolHandler.html#aecde16d7599c58ff0cae112c32ca8876" title="CTcpProtocolHandler\l::parse" alt="" coords="241,5,397,46"/><area shape="rect" id="node3" href="../../d7/d46/classCWsProtocolHandler.html#a35c205d69762001b460bd7ff9ba316b8" title="Parse the most&#45;recently&#45;received message. " alt="" coords="241,70,396,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a2d2d489c918fc8db2c725ef81de4fe0b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void CMercuryProtocolHandler::handle_request </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d7/d8a/classCMercuryPdu.html">CMercuryPdu</a> &amp;&#160;</td>
          <td class="paramname"><em>pdu</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Handle a Mercury request. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pdu</td><td>The relevant Mercury Msg for this request </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html#l00184">184</a> of file <a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_a2d2d489c918fc8db2c725ef81de4fe0b_cgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_a2d2d489c918fc8db2c725ef81de4fe0b_cgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_a2d2d489c918fc8db2c725ef81de4fe0b_cgraph" id="d6/dee/classCMercuryProtocolHandler_a2d2d489c918fc8db2c725ef81de4fe0b_cgraph">
<area shape="rect" id="node2" href="../../d6/dee/classCMercuryProtocolHandler.html#a0ea832b69be0570eeea7783f69be880e" title="getter for the current session user (or implicit) " alt="" coords="501,91,688,133"/><area shape="rect" id="node3" href="../../d6/dee/classCMercuryProtocolHandler.html#aec585614d3be00c07e2db4ae158e7506" title="Send a Mercury exception response. " alt="" coords="240,12,453,39"/><area shape="rect" id="node5" href="../../d6/dee/classCMercuryProtocolHandler.html#a8f13ebe3187ee291019263bc967accfb" title="Add a CMercuryAdu to _adus. " alt="" coords="253,114,440,155"/><area shape="rect" id="node6" href="../../df/df1/classCHandleApiIds.html#a6ddb8a322721885e1bdeedafb5f91fd1" title="Determine if the message in this request, given by its API ID, is actually present. " alt="" coords="505,405,684,446"/><area shape="rect" id="node7" href="../../df/df1/classCHandleApiIds.html#a0fd93f37284fe4c7d8cdecd2c15d3411" title="Determine what the message API ID is by exhaustively checking through the supported messages until we..." alt="" coords="273,245,420,286"/><area shape="rect" id="node8" href="../../d6/dee/classCMercuryProtocolHandler.html#ae8cfdf40e656ee17196d38775e102031" title="Ping the session tracker for this connection&#39;s session. " alt="" coords="253,179,440,221"/><area shape="rect" id="node10" href="../../df/df1/classCHandleApiIds.html#aab39d6c7b421b503be86a459c59fc1a6" title="Checks if the given API is permitted (possibly) for the given Permissions. " alt="" coords="265,375,428,417"/><area shape="rect" id="node11" href="../../df/df1/classCHandleApiIds.html#ae8d29409edda6b3ef628375b3afa9f48" title="Utility to lookup the name for this message from its API ID. " alt="" coords="273,441,420,482"/><area shape="rect" id="node12" href="../../df/df1/classCHandleApiIds.html#aeabc1a1d22a69fe558711d5a28120b9d" title="Create a Message Handler instance for the given Request, using its API ID for lookup. " alt="" coords="265,310,428,351"/><area shape="rect" id="node13" href="../../d6/dee/classCMercuryProtocolHandler.html#a9125075cb1ab62e3100b5f4f94fbeb72" title="Get a handle to the cds. " alt="" coords="253,558,440,599"/><area shape="rect" id="node4" href="../../d6/dee/classCMercuryProtocolHandler.html#a7e26acd17cdc13ec3b5d449f1d545ffa" title="Send a Mercury response out for request responses. " alt="" coords="501,5,688,46"/><area shape="rect" id="node9" href="../../d6/dee/classCMercuryProtocolHandler.html#a5fe579b10f6da8a77fd82e972a285a8f" title="Gets access to the connection session manager in the core. " alt="" coords="501,179,688,221"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_a2d2d489c918fc8db2c725ef81de4fe0b_icgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_a2d2d489c918fc8db2c725ef81de4fe0b_icgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_a2d2d489c918fc8db2c725ef81de4fe0b_icgraph" id="d6/dee/classCMercuryProtocolHandler_a2d2d489c918fc8db2c725ef81de4fe0b_icgraph">
<area shape="rect" id="node2" href="../../db/dd8/classCTcpProtocolHandler.html#a5df1e58dd987e13789e138e4c2f65172" title="Execute the parsed request. " alt="" coords="241,5,397,46"/><area shape="rect" id="node3" href="../../d7/d46/classCWsProtocolHandler.html#a8ba2f45385c311d209cb8925f4f56486" title="Process a parsed message. " alt="" coords="241,70,396,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8f13ebe3187ee291019263bc967accfb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void CMercuryProtocolHandler::add_new_adu </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>first_req_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Add a <a class="el" href="../../d8/d4b/classCMercuryAdu.html" title="Mercury Application Data Unit. ">CMercuryAdu</a> to _adus. </p>

<p>Implemented in <a class="el" href="../../db/dd8/classCTcpProtocolHandler.html#a2e0d06d036af45a9f41b92c7ff18d98c">CTcpProtocolHandler</a>, and <a class="el" href="../../d7/d46/classCWsProtocolHandler.html#ac432b4f40bc984306686d2e70e3bd3d5">CWsProtocolHandler</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_a8f13ebe3187ee291019263bc967accfb_icgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_a8f13ebe3187ee291019263bc967accfb_icgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_a8f13ebe3187ee291019263bc967accfb_icgraph" id="d6/dee/classCMercuryProtocolHandler_a8f13ebe3187ee291019263bc967accfb_icgraph">
<area shape="rect" id="node2" href="../../d6/dee/classCMercuryProtocolHandler.html#a2d2d489c918fc8db2c725ef81de4fe0b" title="Handle a Mercury request. " alt="" coords="240,38,427,79"/><area shape="rect" id="node3" href="../../db/dd8/classCTcpProtocolHandler.html#a5df1e58dd987e13789e138e4c2f65172" title="Execute the parsed request. " alt="" coords="475,5,631,46"/><area shape="rect" id="node4" href="../../d7/d46/classCWsProtocolHandler.html#a8ba2f45385c311d209cb8925f4f56486" title="Process a parsed message. " alt="" coords="476,70,631,111"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae046e02b952e5073e9655f359b3bc0c8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void CMercuryProtocolHandler::execute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Execute the parsed request. </p>

<p>Implemented in <a class="el" href="../../db/dd8/classCTcpProtocolHandler.html#a5df1e58dd987e13789e138e4c2f65172">CTcpProtocolHandler</a>, and <a class="el" href="../../d7/d46/classCWsProtocolHandler.html#a8ba2f45385c311d209cb8925f4f56486">CWsProtocolHandler</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/dee/classCMercuryProtocolHandler_ae046e02b952e5073e9655f359b3bc0c8_icgraph.png" border="0" usemap="#d6/dee/classCMercuryProtocolHandler_ae046e02b952e5073e9655f359b3bc0c8_icgraph" alt=""/></div>
<map name="d6/dee/classCMercuryProtocolHandler_ae046e02b952e5073e9655f359b3bc0c8_icgraph" id="d6/dee/classCMercuryProtocolHandler_ae046e02b952e5073e9655f359b3bc0c8_icgraph">
<area shape="rect" id="node2" href="../../d6/dee/classCMercuryProtocolHandler.html#a8323c8380d627e3cf4aa37b03f4bb6de" title="Parse a Mercury request. " alt="" coords="240,38,427,79"/><area shape="rect" id="node3" href="../../db/dd8/classCTcpProtocolHandler.html#aecde16d7599c58ff0cae112c32ca8876" title="CTcpProtocolHandler\l::parse" alt="" coords="475,5,631,46"/><area shape="rect" id="node4" href="../../d7/d46/classCWsProtocolHandler.html#a35c205d69762001b460bd7ff9ba316b8" title="Parse the most&#45;recently&#45;received message. " alt="" coords="476,70,631,111"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a2433fbdcd84f33f9d2460eabda48d325"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_set&lt;uint64_t&gt; CMercuryProtocolHandler::subscriptions</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>all known subscriptions for this handler </p>

<p>Definition at line <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html#l00331">331</a> of file <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5034c9f9f0e5beea4ff61adf9bb06ed1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;uint32_t, uint32_t&gt; CMercuryProtocolHandler::_adu_req_ids</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map of request IDs to the first request ID in the ADU. </p>
<p>The first request ID will map to itself, and subsequent request IDs will map to the first request ID. This allows us to retrieve the first request ID of any mercury message not yet responded to, such that the protocol handler can build bundled response messages. </p>

<p>Definition at line <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html#l00383">383</a> of file <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a368ce5ed99fed5930187366cff3e0611"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unordered_map&lt;uint32_t, std::shared_ptr&lt;<a class="el" href="../../d8/d4b/classCMercuryAdu.html">CMercuryAdu</a>&gt; &gt; CMercuryProtocolHandler::_adus</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Map of first request IDs of a mercury ADU to its corresponding ADU. </p>
<p>This allows the protocol handler to retrieve an ADU given its first request ID so that bundled messages can be built, and when all requests have been answered by the CDS, send the message back to the client. </p>

<p>Definition at line <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html#l00392">392</a> of file <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a34348cf17fba4bd800a0e178b9ddb2b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="../../d8/d4b/classCMercuryAdu.html">CMercuryAdu</a>&gt; CMercuryProtocolHandler::_adu</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mercury ADU object used for parsing/handling Will be new with each received message - so don't reference this on the post CDS/respond side - this could cause unexpected behavior, including a crash, as the protocol handler could have a new incoming message to deal with. </p>

<p>Definition at line <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html#l00401">401</a> of file <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4fe6ded109a2a309c6b09b93678c0a7f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../d8/d4b/classCMercuryAdu.html">CMercuryAdu</a>&gt; CMercuryProtocolHandler::_publish_adu</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Mercury ADU object used for publishing Will be new with each published message. </p>

<p>Definition at line <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html#l00407">407</a> of file <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a80c1688680c4f93ec5ceca2144ed08b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::string CMercuryProtocolHandler::_username</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The name of the user who created this session. </p>

<p>Definition at line <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html#l00415">415</a> of file <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac02018b5c91eb594eb0f28f475581875"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::string CMercuryProtocolHandler::_session_id</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The session ID for this session (need for CDS requests) </p>

<p>Definition at line <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html#l00420">420</a> of file <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2373940c35bac1e93705b70805f3eb04"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::CBitset&lt;px::permissions&gt; CMercuryProtocolHandler::_perms</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The user_roles in place for this session. </p>

<p>Definition at line <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html#l00425">425</a> of file <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5f6680e5c27e191e47f613cd62ec8921"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CMercuryProtocolHandler::_closed</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag indicating that handler has been closed. </p>

<p>Definition at line <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html#l00429">429</a> of file <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4693f68b981890a07c16568b4c3c0845"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool CMercuryProtocolHandler::cds_msg_posted</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Flag indicating that message has beed submitted to the cds. </p>

<p>Definition at line <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html#l00432">432</a> of file <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6e7dd6f7c625428a6e47e8b0aa9b8753"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::string CMercuryProtocolHandler::_implicit_user</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Default user (role) if not provided via login. </p>

<p>Definition at line <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html#l00437">437</a> of file <a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/src/product-ref1/px-toolkit/etn_source/mercury_server/include/hg/protocol/<a class="el" href="../../d2/dcc/mercury__protocol__handler_8hpp_source.html">mercury_protocol_handler.hpp</a></li>
<li>/src/product-ref1/px-toolkit/etn_source/mercury_server/source/hg/protocol/<a class="el" href="../../d7/d13/mercury__protocol__handler_8cpp_source.html">mercury_protocol_handler.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html">CMercuryProtocolHandler</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:25:06 for mercury_server by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
