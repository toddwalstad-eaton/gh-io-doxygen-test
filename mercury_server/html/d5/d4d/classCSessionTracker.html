<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>mercury_server: CSessionTracker Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">mercury_server
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d5/d4d/classCSessionTracker.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d6/d1c/classCSessionTracker-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CSessionTracker Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Session container, with tracking, for one connection session.  
 <a href="../../d5/d4d/classCSessionTracker.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="../../df/dae/session__tracker_8hpp_source.html">session_tracker.hpp</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for CSessionTracker:</div>
<div class="dyncontent">
<div class="center"><img src="../../d9/d42/classCSessionTracker__coll__graph.png" border="0" usemap="#CSessionTracker_coll__map" alt="Collaboration graph"/></div>
<map name="CSessionTracker_coll__map" id="CSessionTracker_coll__map">
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:af57a4c4aa749375c745c497084e39f1a"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classCSessionTracker.html#af57a4c4aa749375c745c497084e39f1a">CSessionTracker</a> (const px::string &amp;username, const px::string &amp;src_addr, const px::string &amp;<a class="el" href="../../d5/d4d/classCSessionTracker.html#a84180fb5c2d32dfd682577d823b3cd2c">protocol</a>, const px::string &amp;<a class="el" href="../../d5/d4d/classCSessionTracker.html#ae6f9e4b11ef6350b61ee60517171d421">session_token</a>, const std::shared_ptr&lt; <a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html">CMercuryProtocolHandler</a> &gt; &amp;prot, const px::CUser &amp;<a class="el" href="../../d5/d4d/classCSessionTracker.html#a447e01468b86d36e37c63526d41a6968">user_info</a>, px::CBitset&lt; px::permissions &gt; <a class="el" href="../../d5/d4d/classCSessionTracker.html#a5fe72ba68047b1ad5e4b89de4dda3236">user_perms</a>)</td></tr>
<tr class="memdesc:af57a4c4aa749375c745c497084e39f1a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Constructor for one session instance.  <a href="#af57a4c4aa749375c745c497084e39f1a">More...</a><br/></td></tr>
<tr class="separator:af57a4c4aa749375c745c497084e39f1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a453011479eae099cfce833e5fcba348e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classCSessionTracker.html#a453011479eae099cfce833e5fcba348e">~CSessionTracker</a> ()</td></tr>
<tr class="memdesc:a453011479eae099cfce833e5fcba348e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a453011479eae099cfce833e5fcba348e">More...</a><br/></td></tr>
<tr class="separator:a453011479eae099cfce833e5fcba348e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae24d659b5d435c049bbed3706b5e5d51"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classCSessionTracker.html#ae24d659b5d435c049bbed3706b5e5d51">ping</a> () const </td></tr>
<tr class="memdesc:ae24d659b5d435c049bbed3706b5e5d51"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tracks the last time this session was accessed.  <a href="#ae24d659b5d435c049bbed3706b5e5d51">More...</a><br/></td></tr>
<tr class="separator:ae24d659b5d435c049bbed3706b5e5d51"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adc67721058b788ae51817ede6e39c1ee"><td class="memItemLeft" align="right" valign="top">const px::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classCSessionTracker.html#adc67721058b788ae51817ede6e39c1ee">who</a> () const </td></tr>
<tr class="memdesc:adc67721058b788ae51817ede6e39c1ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple getter for the login name of this user.  <a href="#adc67721058b788ae51817ede6e39c1ee">More...</a><br/></td></tr>
<tr class="separator:adc67721058b788ae51817ede6e39c1ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a85b2d1899fc93c4850d8da3051768358"><td class="memItemLeft" align="right" valign="top">const px::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classCSessionTracker.html#a85b2d1899fc93c4850d8da3051768358">source</a> () const </td></tr>
<tr class="memdesc:a85b2d1899fc93c4850d8da3051768358"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple getter for source IP address.  <a href="#a85b2d1899fc93c4850d8da3051768358">More...</a><br/></td></tr>
<tr class="separator:a85b2d1899fc93c4850d8da3051768358"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84180fb5c2d32dfd682577d823b3cd2c"><td class="memItemLeft" align="right" valign="top">const px::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classCSessionTracker.html#a84180fb5c2d32dfd682577d823b3cd2c">protocol</a> () const </td></tr>
<tr class="memdesc:a84180fb5c2d32dfd682577d823b3cd2c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple getter for the protocol used for this session.  <a href="#a84180fb5c2d32dfd682577d823b3cd2c">More...</a><br/></td></tr>
<tr class="separator:a84180fb5c2d32dfd682577d823b3cd2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fe72ba68047b1ad5e4b89de4dda3236"><td class="memItemLeft" align="right" valign="top">const px::CBitset<br class="typebreak"/>
&lt; px::permissions &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classCSessionTracker.html#a5fe72ba68047b1ad5e4b89de4dda3236">user_perms</a> () const </td></tr>
<tr class="memdesc:a5fe72ba68047b1ad5e4b89de4dda3236"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple getter for the user Permissions for this session.  <a href="#a5fe72ba68047b1ad5e4b89de4dda3236">More...</a><br/></td></tr>
<tr class="separator:a5fe72ba68047b1ad5e4b89de4dda3236"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6f9e4b11ef6350b61ee60517171d421"><td class="memItemLeft" align="right" valign="top">const px::string &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classCSessionTracker.html#ae6f9e4b11ef6350b61ee60517171d421">session_token</a> () const </td></tr>
<tr class="memdesc:ae6f9e4b11ef6350b61ee60517171d421"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple getter for this session's token (ID), which uniquely identifies it among the CDS-held sessions.  <a href="#ae6f9e4b11ef6350b61ee60517171d421">More...</a><br/></td></tr>
<tr class="separator:ae6f9e4b11ef6350b61ee60517171d421"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1105e274b352ecddaefb0afd92708ea1"><td class="memItemLeft" align="right" valign="top">const std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html">CMercuryProtocolHandler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classCSessionTracker.html#a1105e274b352ecddaefb0afd92708ea1">protocol_handler</a> () const </td></tr>
<tr class="separator:a1105e274b352ecddaefb0afd92708ea1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a447e01468b86d36e37c63526d41a6968"><td class="memItemLeft" align="right" valign="top">const px::CUser &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classCSessionTracker.html#a447e01468b86d36e37c63526d41a6968">user_info</a> () const </td></tr>
<tr class="memdesc:a447e01468b86d36e37c63526d41a6968"><td class="mdescLeft">&#160;</td><td class="mdescRight">Simple getter for the session's user information (from the CDS).  <a href="#a447e01468b86d36e37c63526d41a6968">More...</a><br/></td></tr>
<tr class="separator:a447e01468b86d36e37c63526d41a6968"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f00fda43be3dc9e10fabbb76c73af79"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classCSessionTracker.html#a2f00fda43be3dc9e10fabbb76c73af79">expired</a> (int deadline) const </td></tr>
<tr class="memdesc:a2f00fda43be3dc9e10fabbb76c73af79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Indicates if this session has expired and should be removed from tracking.  <a href="#a2f00fda43be3dc9e10fabbb76c73af79">More...</a><br/></td></tr>
<tr class="separator:a2f00fda43be3dc9e10fabbb76c73af79"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a00fb0b313e23b957b086daaee4543516"><td class="memItemLeft" align="right" valign="top">const px::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classCSessionTracker.html#a00fb0b313e23b957b086daaee4543516">_timed_protocol</a> = &quot;CGI&quot;</td></tr>
<tr class="memdesc:a00fb0b313e23b957b086daaee4543516"><td class="mdescLeft">&#160;</td><td class="mdescRight">Holds the name of the protocol whose sessions are closed mostly by the timer activity timing them out.  <a href="#a00fb0b313e23b957b086daaee4543516">More...</a><br/></td></tr>
<tr class="separator:a00fb0b313e23b957b086daaee4543516"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a06a12239519c37335461ff4c04a1c923"><td class="memItemLeft" align="right" valign="top">px::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classCSessionTracker.html#a06a12239519c37335461ff4c04a1c923">_who</a></td></tr>
<tr class="memdesc:a06a12239519c37335461ff4c04a1c923"><td class="mdescLeft">&#160;</td><td class="mdescRight">The Login name of the user who is connecting.  <a href="#a06a12239519c37335461ff4c04a1c923">More...</a><br/></td></tr>
<tr class="separator:a06a12239519c37335461ff4c04a1c923"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35317035dff5b87dd188de26a5e50d68"><td class="memItemLeft" align="right" valign="top">px::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classCSessionTracker.html#a35317035dff5b87dd188de26a5e50d68">_source</a></td></tr>
<tr class="memdesc:a35317035dff5b87dd188de26a5e50d68"><td class="mdescLeft">&#160;</td><td class="mdescRight">The IP address of who owns this connection.  <a href="#a35317035dff5b87dd188de26a5e50d68">More...</a><br/></td></tr>
<tr class="separator:a35317035dff5b87dd188de26a5e50d68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6585ed1b912178da453470912a6c04b"><td class="memItemLeft" align="right" valign="top">const px::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classCSessionTracker.html#af6585ed1b912178da453470912a6c04b">_protocol</a></td></tr>
<tr class="memdesc:af6585ed1b912178da453470912a6c04b"><td class="mdescLeft">&#160;</td><td class="mdescRight">We need to know the protocol type to determine whether we can tell automatically if they have logged off yet (ie, everything but TCP connections).  <a href="#af6585ed1b912178da453470912a6c04b">More...</a><br/></td></tr>
<tr class="separator:af6585ed1b912178da453470912a6c04b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4a60ab3b8b268bda278838e1c5ca81d"><td class="memItemLeft" align="right" valign="top">px::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classCSessionTracker.html#ae4a60ab3b8b268bda278838e1c5ca81d">_session_token</a></td></tr>
<tr class="memdesc:ae4a60ab3b8b268bda278838e1c5ca81d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Session token provided by the CDS for tracking this session.  <a href="#ae4a60ab3b8b268bda278838e1c5ca81d">More...</a><br/></td></tr>
<tr class="separator:ae4a60ab3b8b268bda278838e1c5ca81d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6313757014f72829da9faa87328282aa"><td class="memItemLeft" align="right" valign="top">std::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html">CMercuryProtocolHandler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classCSessionTracker.html#a6313757014f72829da9faa87328282aa">_prot</a></td></tr>
<tr class="memdesc:a6313757014f72829da9faa87328282aa"><td class="mdescLeft">&#160;</td><td class="mdescRight">the Mercury protocol handler associates to this session  <a href="#a6313757014f72829da9faa87328282aa">More...</a><br/></td></tr>
<tr class="separator:a6313757014f72829da9faa87328282aa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d6b2e37e6b1c46fdeb0cc8e0b4a0f4e"><td class="memItemLeft" align="right" valign="top">px::CUser&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classCSessionTracker.html#a8d6b2e37e6b1c46fdeb0cc8e0b4a0f4e">_user_info</a></td></tr>
<tr class="memdesc:a8d6b2e37e6b1c46fdeb0cc8e0b4a0f4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The information about the logged-in user for this session.  <a href="#a8d6b2e37e6b1c46fdeb0cc8e0b4a0f4e">More...</a><br/></td></tr>
<tr class="separator:a8d6b2e37e6b1c46fdeb0cc8e0b4a0f4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9a9029d27cc1f9c7fc0e6e160032aa4"><td class="memItemLeft" align="right" valign="top">px::CBitset&lt; px::permissions &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classCSessionTracker.html#ac9a9029d27cc1f9c7fc0e6e160032aa4">_perms</a></td></tr>
<tr class="memdesc:ac9a9029d27cc1f9c7fc0e6e160032aa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">The bitset of permissions provided by the CDS for this session.  <a href="#ac9a9029d27cc1f9c7fc0e6e160032aa4">More...</a><br/></td></tr>
<tr class="separator:ac9a9029d27cc1f9c7fc0e6e160032aa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9598351939db0d6eaa1fd256ed20bb99"><td class="memItemLeft" align="right" valign="top">time_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d5/d4d/classCSessionTracker.html#a9598351939db0d6eaa1fd256ed20bb99">_latest_time</a></td></tr>
<tr class="memdesc:a9598351939db0d6eaa1fd256ed20bb99"><td class="mdescLeft">&#160;</td><td class="mdescRight">The last time this session was connected to or updated with <a class="el" href="../../d5/d4d/classCSessionTracker.html#ae24d659b5d435c049bbed3706b5e5d51" title="Tracks the last time this session was accessed. ">ping()</a>.  <a href="#a9598351939db0d6eaa1fd256ed20bb99">More...</a><br/></td></tr>
<tr class="separator:a9598351939db0d6eaa1fd256ed20bb99"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Session container, with tracking, for one connection session. </p>
<p>This class also holds the triplet of username, source IP address, and protocol, plus the session id (hash) and permissions provided by the CDS at Login for this session. </p>

<p>Definition at line <a class="el" href="../../df/dae/session__tracker_8hpp_source.html#l00020">20</a> of file <a class="el" href="../../df/dae/session__tracker_8hpp_source.html">session_tracker.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="af57a4c4aa749375c745c497084e39f1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSessionTracker::CSessionTracker </td>
          <td>(</td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>username</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>src_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>protocol</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::string &amp;&#160;</td>
          <td class="paramname"><em>session_token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::shared_ptr&lt; <a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html">CMercuryProtocolHandler</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>prot</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const px::CUser &amp;&#160;</td>
          <td class="paramname"><em>user_info</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">px::CBitset&lt; px::permissions &gt;&#160;</td>
          <td class="paramname"><em>user_perms</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Constructor for one session instance. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">username</td><td>The username associated with this session </td></tr>
    <tr><td class="paramname">src_addr</td><td>The IP Address of the connection (source) associated with this session </td></tr>
    <tr><td class="paramname">protocol</td><td>The type of connection this sessions is associated with. We are particularly concerned with tracking the "CGI" connections so they can be timed out. </td></tr>
    <tr><td class="paramname">session_token</td><td>The unique session ID from the CDS for this session. </td></tr>
    <tr><td class="paramname">user_info</td><td>The User information about the logged in user for this session, from the CDS. </td></tr>
    <tr><td class="paramname">user_perms</td><td>The set of user Permissions valid for this session </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../de/df6/session__tracker_8cpp_source.html#l00008">8</a> of file <a class="el" href="../../de/df6/session__tracker_8cpp_source.html">session_tracker.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a453011479eae099cfce833e5fcba348e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CSessionTracker::~CSessionTracker </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>

<p>Definition at line <a class="el" href="../../df/dae/session__tracker_8hpp_source.html#l00048">48</a> of file <a class="el" href="../../df/dae/session__tracker_8hpp_source.html">session_tracker.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae24d659b5d435c049bbed3706b5e5d51"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void CSessionTracker::ping </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Tracks the last time this session was accessed. </p>

<p>Definition at line <a class="el" href="../../de/df6/session__tracker_8cpp_source.html#l00018">18</a> of file <a class="el" href="../../de/df6/session__tracker_8cpp_source.html">session_tracker.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="adc67721058b788ae51817ede6e39c1ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const px::string&amp; CSessionTracker::who </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple getter for the login name of this user. </p>

<p>Definition at line <a class="el" href="../../df/dae/session__tracker_8hpp_source.html#l00058">58</a> of file <a class="el" href="../../df/dae/session__tracker_8hpp_source.html">session_tracker.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a85b2d1899fc93c4850d8da3051768358"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const px::string&amp; CSessionTracker::source </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple getter for source IP address. </p>

<p>Definition at line <a class="el" href="../../df/dae/session__tracker_8hpp_source.html#l00066">66</a> of file <a class="el" href="../../df/dae/session__tracker_8hpp_source.html">session_tracker.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a84180fb5c2d32dfd682577d823b3cd2c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const px::string&amp; CSessionTracker::protocol </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple getter for the protocol used for this session. </p>

<p>Definition at line <a class="el" href="../../df/dae/session__tracker_8hpp_source.html#l00074">74</a> of file <a class="el" href="../../df/dae/session__tracker_8hpp_source.html">session_tracker.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5fe72ba68047b1ad5e4b89de4dda3236"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const px::CBitset&lt;px::permissions&gt; CSessionTracker::user_perms </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple getter for the user Permissions for this session. </p>

<p>Definition at line <a class="el" href="../../df/dae/session__tracker_8hpp_source.html#l00082">82</a> of file <a class="el" href="../../df/dae/session__tracker_8hpp_source.html">session_tracker.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae6f9e4b11ef6350b61ee60517171d421"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const px::string&amp; CSessionTracker::session_token </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple getter for this session's token (ID), which uniquely identifies it among the CDS-held sessions. </p>

<p>Definition at line <a class="el" href="../../df/dae/session__tracker_8hpp_source.html#l00091">91</a> of file <a class="el" href="../../df/dae/session__tracker_8hpp_source.html">session_tracker.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a1105e274b352ecddaefb0afd92708ea1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const std::shared_ptr&lt;<a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html">CMercuryProtocolHandler</a>&gt; CSessionTracker::protocol_handler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/dae/session__tracker_8hpp_source.html#l00096">96</a> of file <a class="el" href="../../df/dae/session__tracker_8hpp_source.html">session_tracker.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a447e01468b86d36e37c63526d41a6968"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const px::CUser&amp; CSessionTracker::user_info </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Simple getter for the session's user information (from the CDS). </p>

<p>Definition at line <a class="el" href="../../df/dae/session__tracker_8hpp_source.html#l00104">104</a> of file <a class="el" href="../../df/dae/session__tracker_8hpp_source.html">session_tracker.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2f00fda43be3dc9e10fabbb76c73af79"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CSessionTracker::expired </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>deadline</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Indicates if this session has expired and should be removed from tracking. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deadline</td><td>How many seconds since last update before we declare "expired" </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if this session has expired (not been updated in deadline seconds) Most protocol types, aside from CGI, never expire based on time (always return False here), but will be closed by their protocol handlers. </dd></dl>

<p>Definition at line <a class="el" href="../../de/df6/session__tracker_8cpp_source.html#l00024">24</a> of file <a class="el" href="../../de/df6/session__tracker_8cpp_source.html">session_tracker.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a00fb0b313e23b957b086daaee4543516"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const px::string CSessionTracker::_timed_protocol = &quot;CGI&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Holds the name of the protocol whose sessions are closed mostly by the timer activity timing them out. </p>
<p>This is for the now-little-used CGI connections, which don't have an inherent close() or logout. </p>

<p>Definition at line <a class="el" href="../../df/dae/session__tracker_8hpp_source.html#l00124">124</a> of file <a class="el" href="../../df/dae/session__tracker_8hpp_source.html">session_tracker.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a06a12239519c37335461ff4c04a1c923"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::string CSessionTracker::_who</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The Login name of the user who is connecting. </p>

<p>Definition at line <a class="el" href="../../df/dae/session__tracker_8hpp_source.html#l00135">135</a> of file <a class="el" href="../../df/dae/session__tracker_8hpp_source.html">session_tracker.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a35317035dff5b87dd188de26a5e50d68"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::string CSessionTracker::_source</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The IP address of who owns this connection. </p>

<p>Definition at line <a class="el" href="../../df/dae/session__tracker_8hpp_source.html#l00140">140</a> of file <a class="el" href="../../df/dae/session__tracker_8hpp_source.html">session_tracker.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="af6585ed1b912178da453470912a6c04b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const px::string CSessionTracker::_protocol</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>We need to know the protocol type to determine whether we can tell automatically if they have logged off yet (ie, everything but TCP connections). </p>
<p>For CGI connections, we have to see how recently they updated the session with <a class="el" href="../../d5/d4d/classCSessionTracker.html#ae24d659b5d435c049bbed3706b5e5d51" title="Tracks the last time this session was accessed. ">ping()</a>. </p>

<p>Definition at line <a class="el" href="../../df/dae/session__tracker_8hpp_source.html#l00148">148</a> of file <a class="el" href="../../df/dae/session__tracker_8hpp_source.html">session_tracker.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae4a60ab3b8b268bda278838e1c5ca81d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::string CSessionTracker::_session_token</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Session token provided by the CDS for tracking this session. </p>

<p>Definition at line <a class="el" href="../../df/dae/session__tracker_8hpp_source.html#l00153">153</a> of file <a class="el" href="../../df/dae/session__tracker_8hpp_source.html">session_tracker.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6313757014f72829da9faa87328282aa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::shared_ptr&lt;<a class="el" href="../../d6/dee/classCMercuryProtocolHandler.html">CMercuryProtocolHandler</a>&gt; CSessionTracker::_prot</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>the Mercury protocol handler associates to this session </p>

<p>Definition at line <a class="el" href="../../df/dae/session__tracker_8hpp_source.html#l00158">158</a> of file <a class="el" href="../../df/dae/session__tracker_8hpp_source.html">session_tracker.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8d6b2e37e6b1c46fdeb0cc8e0b4a0f4e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::CUser CSessionTracker::_user_info</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The information about the logged-in user for this session. </p>

<p>Definition at line <a class="el" href="../../df/dae/session__tracker_8hpp_source.html#l00163">163</a> of file <a class="el" href="../../df/dae/session__tracker_8hpp_source.html">session_tracker.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="ac9a9029d27cc1f9c7fc0e6e160032aa4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">px::CBitset&lt;px::permissions&gt; CSessionTracker::_perms</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The bitset of permissions provided by the CDS for this session. </p>

<p>Definition at line <a class="el" href="../../df/dae/session__tracker_8hpp_source.html#l00168">168</a> of file <a class="el" href="../../df/dae/session__tracker_8hpp_source.html">session_tracker.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a9598351939db0d6eaa1fd256ed20bb99"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">time_t CSessionTracker::_latest_time</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The last time this session was connected to or updated with <a class="el" href="../../d5/d4d/classCSessionTracker.html#ae24d659b5d435c049bbed3706b5e5d51" title="Tracks the last time this session was accessed. ">ping()</a>. </p>
<p>This member has to be mutable to be updatable in the const <a class="el" href="../../d5/d4d/classCSessionTracker.html#ae24d659b5d435c049bbed3706b5e5d51" title="Tracks the last time this session was accessed. ">ping()</a> function. </p>

<p>Definition at line <a class="el" href="../../df/dae/session__tracker_8hpp_source.html#l00174">174</a> of file <a class="el" href="../../df/dae/session__tracker_8hpp_source.html">session_tracker.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/src/product-ref1/px-toolkit/etn_source/mercury_server/include/<a class="el" href="../../df/dae/session__tracker_8hpp_source.html">session_tracker.hpp</a></li>
<li>/src/product-ref1/px-toolkit/etn_source/mercury_server/source/<a class="el" href="../../de/df6/session__tracker_8cpp_source.html">session_tracker.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d5/d4d/classCSessionTracker.html">CSessionTracker</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:25:07 for mercury_server by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
