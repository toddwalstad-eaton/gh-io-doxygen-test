<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.5"/>
<title>opcua_server: /src/product-ref1/px-toolkit/etn_source/opcua_server/source/main.cpp File Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">opcua_server
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.5 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="../../files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../files.html"><span>File&#160;List</span></a></li>
      <li><a href="../../globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('df/d0a/main_8cpp.html','../../');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">main.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;signal.h&gt;</code><br/>
<code>#include &lt;sys/stat.h&gt;</code><br/>
<code>#include &quot;<a class="el" href="../../da/d8c/opcua__server_8hpp_source.html">opcua_server.hpp</a>&quot;</code><br/>
<code>#include &quot;<a class="el" href="../../db/d95/options_8hpp_source.html">options.hpp</a>&quot;</code><br/>
<code>#include &quot;pcd_syslog.h&quot;</code><br/>
<code>#include &quot;px/cds/client.hpp&quot;</code><br/>
<code>#include &quot;px/exception.hpp&quot;</code><br/>
<code>#include &quot;px/type/string.hpp&quot;</code><br/>
<code>#include &quot;boost/thread.hpp&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for main.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/dce/main_8cpp__incl.png" border="0" usemap="#_2src_2product-ref1_2px-toolkit_2etn__source_2opcua__server_2source_2main_8cpp" alt=""/></div>
<map name="_2src_2product-ref1_2px-toolkit_2etn__source_2opcua__server_2source_2main_8cpp" id="_2src_2product-ref1_2px-toolkit_2etn__source_2opcua__server_2source_2main_8cpp">
<area shape="rect" id="node4" href="../../da/d8c/opcua__server_8hpp.html" title="OPC UA Server implementation. " alt="" coords="1000,109,1136,136"/><area shape="rect" id="node21" href="../../db/d95/options_8hpp.html" title="options.hpp" alt="" coords="1636,109,1735,136"/><area shape="rect" id="node6" href="../../d5/db4/opcua__cds__map_8hpp.html" title="Map of CDS devices and channels to OPC UA nodes. " alt="" coords="259,184,413,211"/><area shape="rect" id="node12" href="../../d0/d23/opcua__stack__wrapper_8hpp.html" title="Open62541 OPC UA Server stack wrapper. " alt="" coords="719,184,909,211"/><area shape="rect" id="node22" href="../../d4/d3d/log_8hpp.html" title="log.hpp" alt="" coords="1842,184,1912,211"/></map>
</div>
</div>
<p><a href="../../df/d0a/main_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ab2fbd998e3734eb76ba96bfef22d0903"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#ab2fbd998e3734eb76ba96bfef22d0903">SVR_LOG_SUBSYSTEM</a>&#160;&#160;&#160;<a class="el" href="../../d4/d3d/log_8hpp.html#a63c0d5db879d072af3574eee592ce9b6a4db89ae4a27d99356b474061c812f9fe">SVR_LOG_TOPLEVEL_APP</a></td></tr>
<tr class="separator:ab2fbd998e3734eb76ba96bfef22d0903"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a2d967eed409413b06a8450ff977ab52a"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#a2d967eed409413b06a8450ff977ab52a">exit_code_t</a> { <br/>
&#160;&#160;<a class="el" href="../../df/d0a/main_8cpp.html#a2d967eed409413b06a8450ff977ab52aac7f69f7c9e5aea9b8f54cf02870e2bf8">SUCCESS</a>, 
<a class="el" href="../../df/d0a/main_8cpp.html#a2d967eed409413b06a8450ff977ab52aad94f94d72e61853e6c729e8046470e47">EXIT_ERR_SRV_INIT</a>, 
<a class="el" href="../../df/d0a/main_8cpp.html#a2d967eed409413b06a8450ff977ab52aa125026d3a883519e41b6a7e0ba342e23">EXIT_ERR_CDS_CONNECTION</a>, 
<a class="el" href="../../df/d0a/main_8cpp.html#a2d967eed409413b06a8450ff977ab52aad7e0403927b4f2cf0db7c10c1ca2de87">EXIT_ERR_CDS_DATA</a>, 
<br/>
&#160;&#160;<a class="el" href="../../df/d0a/main_8cpp.html#a2d967eed409413b06a8450ff977ab52aa8ffd8e1662d116d2ebbf64c7339a7157">EXIT_ERR_BROWSING</a>, 
<a class="el" href="../../df/d0a/main_8cpp.html#a2d967eed409413b06a8450ff977ab52aaa3da029c404700342039b2701b112e44">EXIT_ERR_OPEN62541_STACK</a>, 
<a class="el" href="../../df/d0a/main_8cpp.html#a2d967eed409413b06a8450ff977ab52aa840550ac03d33884b3627374951d174f">EXIT_ERR_CMD_LINE_OPTIONS_PARSING</a>, 
<a class="el" href="../../df/d0a/main_8cpp.html#a2d967eed409413b06a8450ff977ab52aa677d1c86b4747a8229ed94c65e5ef91f">EXIT_ERR_UNEXPECTED_ERROR</a>
<br/>
 }</td></tr>
<tr class="separator:a2d967eed409413b06a8450ff977ab52a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:af609bfc109371cac8911c2bf1622085c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#af609bfc109371cac8911c2bf1622085c">config_log</a> (std::shared_ptr&lt; <a class="el" href="../../dc/d9e/classCOptions.html">COptions</a> &gt; &amp;options)</td></tr>
<tr class="memdesc:af609bfc109371cac8911c2bf1622085c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Configure the syslog debugging options and levels for this application and the libpx library subsystems.  <a href="#af609bfc109371cac8911c2bf1622085c">More...</a><br/></td></tr>
<tr class="separator:af609bfc109371cac8911c2bf1622085c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08068bc4e4e54ac750b524f2019910f7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#a08068bc4e4e54ac750b524f2019910f7">stop_handler</a> (int sig)</td></tr>
<tr class="memdesc:a08068bc4e4e54ac750b524f2019910f7"><td class="mdescLeft">&#160;</td><td class="mdescRight">POSIX signal handler.  <a href="#a08068bc4e4e54ac750b524f2019910f7">More...</a><br/></td></tr>
<tr class="separator:a08068bc4e4e54ac750b524f2019910f7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a98485430586dbfd0ac7b261808396a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#a8a98485430586dbfd0ac7b261808396a">register_handlers</a> (<a class="el" href="../../dc/dec/classopcua_1_1server_1_1COPCUaServer.html">COPCUaServer</a> *srv_ptr)</td></tr>
<tr class="memdesc:a8a98485430586dbfd0ac7b261808396a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register handler to POSIX signals for applicatino termination.  <a href="#a8a98485430586dbfd0ac7b261808396a">More...</a><br/></td></tr>
<tr class="separator:a8a98485430586dbfd0ac7b261808396a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af9fa431253586c10384ea7a2c8df7504"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#af9fa431253586c10384ea7a2c8df7504">deregister_handlers</a> ()</td></tr>
<tr class="memdesc:af9fa431253586c10384ea7a2c8df7504"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deregister POSIX signals handler.  <a href="#af9fa431253586c10384ea7a2c8df7504">More...</a><br/></td></tr>
<tr class="separator:af9fa431253586c10384ea7a2c8df7504"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72dfe501a5b0c6d1753dc3bc888d33b9"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#a72dfe501a5b0c6d1753dc3bc888d33b9">svr_main</a> (std::shared_ptr&lt; <a class="el" href="../../dc/d9e/classCOptions.html">COptions</a> &gt; options)</td></tr>
<tr class="memdesc:a72dfe501a5b0c6d1753dc3bc888d33b9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Server code body function.  <a href="#a72dfe501a5b0c6d1753dc3bc888d33b9">More...</a><br/></td></tr>
<tr class="separator:a72dfe501a5b0c6d1753dc3bc888d33b9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0ddf1224851353fc92bfbff6f499fa97"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97">main</a> (int argc, char *argv[])</td></tr>
<tr class="memdesc:a0ddf1224851353fc92bfbff6f499fa97"><td class="mdescLeft">&#160;</td><td class="mdescRight">Program entry point.  <a href="#a0ddf1224851353fc92bfbff6f499fa97">More...</a><br/></td></tr>
<tr class="separator:a0ddf1224851353fc92bfbff6f499fa97"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a753be691e23f7e512c65084011edc6e6"><td class="memItemLeft" align="right" valign="top">boost::thread_specific_ptr<br class="typebreak"/>
&lt; toolkit::CSysLog &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#a753be691e23f7e512c65084011edc6e6">_thr_local_syslog</a></td></tr>
<tr class="separator:a753be691e23f7e512c65084011edc6e6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad17fd6598e0c094961ed3bc87c44a56"><td class="memItemLeft" align="right" valign="top">std::array&lt; unsigned int, <br class="typebreak"/>
<a class="el" href="../../d4/d3d/log_8hpp.html#a63c0d5db879d072af3574eee592ce9b6a013a0b3697e858402e96d6c54ce616a1">SVR_LOG_LIST_END</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#aad17fd6598e0c094961ed3bc87c44a56">_svr_verb_array</a></td></tr>
<tr class="memdesc:aad17fd6598e0c094961ed3bc87c44a56"><td class="mdescLeft">&#160;</td><td class="mdescRight">An external map of verbosity levels for the different subsystems defined by svr_log_lvl_t.  <a href="#aad17fd6598e0c094961ed3bc87c44a56">More...</a><br/></td></tr>
<tr class="separator:aad17fd6598e0c094961ed3bc87c44a56"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f084a8f33f3fc71f76bb5e9cc7baae0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/dec/classopcua_1_1server_1_1COPCUaServer.html">COPCUaServer</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../df/d0a/main_8cpp.html#a0f084a8f33f3fc71f76bb5e9cc7baae0">opcua_srv_ptr</a> = NULL</td></tr>
<tr class="memdesc:a0f084a8f33f3fc71f76bb5e9cc7baae0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Pointer to OPC UA server instance, used by POSIX signals handler.  <a href="#a0f084a8f33f3fc71f76bb5e9cc7baae0">More...</a><br/></td></tr>
<tr class="separator:a0f084a8f33f3fc71f76bb5e9cc7baae0"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ab2fbd998e3734eb76ba96bfef22d0903"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SVR_LOG_SUBSYSTEM&#160;&#160;&#160;<a class="el" href="../../d4/d3d/log_8hpp.html#a63c0d5db879d072af3574eee592ce9b6a4db89ae4a27d99356b474061c812f9fe">SVR_LOG_TOPLEVEL_APP</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d0a/main_8cpp_source.html#l00011">11</a> of file <a class="el" href="../../df/d0a/main_8cpp_source.html">main.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="a2d967eed409413b06a8450ff977ab52a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../df/d0a/main_8cpp.html#a2d967eed409413b06a8450ff977ab52a">exit_code_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a2d967eed409413b06a8450ff977ab52aac7f69f7c9e5aea9b8f54cf02870e2bf8"></a>SUCCESS</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a2d967eed409413b06a8450ff977ab52aad94f94d72e61853e6c729e8046470e47"></a>EXIT_ERR_SRV_INIT</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a2d967eed409413b06a8450ff977ab52aa125026d3a883519e41b6a7e0ba342e23"></a>EXIT_ERR_CDS_CONNECTION</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a2d967eed409413b06a8450ff977ab52aad7e0403927b4f2cf0db7c10c1ca2de87"></a>EXIT_ERR_CDS_DATA</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a2d967eed409413b06a8450ff977ab52aa8ffd8e1662d116d2ebbf64c7339a7157"></a>EXIT_ERR_BROWSING</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a2d967eed409413b06a8450ff977ab52aaa3da029c404700342039b2701b112e44"></a>EXIT_ERR_OPEN62541_STACK</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a2d967eed409413b06a8450ff977ab52aa840550ac03d33884b3627374951d174f"></a>EXIT_ERR_CMD_LINE_OPTIONS_PARSING</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a2d967eed409413b06a8450ff977ab52aa677d1c86b4747a8229ed94c65e5ef91f"></a>EXIT_ERR_UNEXPECTED_ERROR</em>&nbsp;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="../../df/d0a/main_8cpp_source.html#l00013">13</a> of file <a class="el" href="../../df/d0a/main_8cpp_source.html">main.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="af609bfc109371cac8911c2bf1622085c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void config_log </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../dc/d9e/classCOptions.html">COptions</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Configure the syslog debugging options and levels for this application and the libpx library subsystems. </p>
<p>Normally outputs to the system's syslog, unless the -Ns option is requested. (Except for DEBUG builds, when this syslogging option is turned off.) If not daemonized, will also output to stderr (for development debugging).</p>
<p>The global syslog members may be set or changed: _svr_verb_array[], _libpx_verb_array[], _thr_local_syslog (aka SYSLOG_PTR)</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">options</td><td>The parsed options, from which this function gets the requested default and subsystem verbosities. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../df/d0a/main_8cpp_source.html#l00048">48</a> of file <a class="el" href="../../df/d0a/main_8cpp_source.html">main.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d0a/main_8cpp_af609bfc109371cac8911c2bf1622085c_icgraph.png" border="0" usemap="#df/d0a/main_8cpp_af609bfc109371cac8911c2bf1622085c_icgraph" alt=""/></div>
<map name="df/d0a/main_8cpp_af609bfc109371cac8911c2bf1622085c_icgraph" id="df/d0a/main_8cpp_af609bfc109371cac8911c2bf1622085c_icgraph">
<area shape="rect" id="node2" href="../../df/d0a/main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="Program entry point. " alt="" coords="142,5,197,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a08068bc4e4e54ac750b524f2019910f7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void stop_handler </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sig</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>POSIX signal handler. </p>
<p>This handler is registered by sigaction system call. The handler is responsible for graceful termination of the OPC UA server, which is running in its infinite loop, until external signals stops it.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sig</td><td>The caught POSIX signal ID. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../df/d0a/main_8cpp_source.html#l00127">127</a> of file <a class="el" href="../../df/d0a/main_8cpp_source.html">main.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d0a/main_8cpp_a08068bc4e4e54ac750b524f2019910f7_cgraph.png" border="0" usemap="#df/d0a/main_8cpp_a08068bc4e4e54ac750b524f2019910f7_cgraph" alt=""/></div>
<map name="df/d0a/main_8cpp_a08068bc4e4e54ac750b524f2019910f7_cgraph" id="df/d0a/main_8cpp_a08068bc4e4e54ac750b524f2019910f7_cgraph">
<area shape="rect" id="node2" href="../../dc/dec/classopcua_1_1server_1_1COPCUaServer.html#a19a8aa9215fbb59268e14096d0591546" title="Stop the server main loop. " alt="" coords="161,5,375,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d0a/main_8cpp_a08068bc4e4e54ac750b524f2019910f7_icgraph.png" border="0" usemap="#df/d0a/main_8cpp_a08068bc4e4e54ac750b524f2019910f7_icgraph" alt=""/></div>
<map name="df/d0a/main_8cpp_a08068bc4e4e54ac750b524f2019910f7_icgraph" id="df/d0a/main_8cpp_a08068bc4e4e54ac750b524f2019910f7_icgraph">
<area shape="rect" id="node2" href="../../df/d0a/main_8cpp.html#a8a98485430586dbfd0ac7b261808396a" title="Register handler to POSIX signals for applicatino termination. " alt="" coords="161,5,295,32"/><area shape="rect" id="node3" href="../../df/d0a/main_8cpp.html#a72dfe501a5b0c6d1753dc3bc888d33b9" title="Server code body function. " alt="" coords="344,5,427,32"/><area shape="rect" id="node4" href="../../df/d0a/main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="Program entry point. " alt="" coords="475,5,530,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8a98485430586dbfd0ac7b261808396a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void register_handlers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dc/dec/classopcua_1_1server_1_1COPCUaServer.html">COPCUaServer</a> *&#160;</td>
          <td class="paramname"><em>srv_ptr</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register handler to POSIX signals for applicatino termination. </p>
<p>This register function intentionally overwrites previously set handlers. Signals SIGINT and SIGTERM are registered to be handled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">srv_ptr</td><td>Pointer to the OPC UA server instance. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../df/d0a/main_8cpp_source.html#l00153">153</a> of file <a class="el" href="../../df/d0a/main_8cpp_source.html">main.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d0a/main_8cpp_a8a98485430586dbfd0ac7b261808396a_cgraph.png" border="0" usemap="#df/d0a/main_8cpp_a8a98485430586dbfd0ac7b261808396a_cgraph" alt=""/></div>
<map name="df/d0a/main_8cpp_a8a98485430586dbfd0ac7b261808396a_cgraph" id="df/d0a/main_8cpp_a8a98485430586dbfd0ac7b261808396a_cgraph">
<area shape="rect" id="node2" href="../../df/d0a/main_8cpp.html#a08068bc4e4e54ac750b524f2019910f7" title="POSIX signal handler. " alt="" coords="189,12,296,39"/><area shape="rect" id="node3" href="../../dc/dec/classopcua_1_1server_1_1COPCUaServer.html#a19a8aa9215fbb59268e14096d0591546" title="Stop the server main loop. " alt="" coords="345,5,559,46"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d0a/main_8cpp_a8a98485430586dbfd0ac7b261808396a_icgraph.png" border="0" usemap="#df/d0a/main_8cpp_a8a98485430586dbfd0ac7b261808396a_icgraph" alt=""/></div>
<map name="df/d0a/main_8cpp_a8a98485430586dbfd0ac7b261808396a_icgraph" id="df/d0a/main_8cpp_a8a98485430586dbfd0ac7b261808396a_icgraph">
<area shape="rect" id="node2" href="../../df/d0a/main_8cpp.html#a72dfe501a5b0c6d1753dc3bc888d33b9" title="Server code body function. " alt="" coords="189,5,272,32"/><area shape="rect" id="node3" href="../../df/d0a/main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="Program entry point. " alt="" coords="321,5,375,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af9fa431253586c10384ea7a2c8df7504"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void deregister_handlers </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deregister POSIX signals handler. </p>
<p>This function deregisters signals registered by <a class="el" href="../../df/d0a/main_8cpp.html#a8a98485430586dbfd0ac7b261808396a">register_handlers</a> function. No handlers are registered to SIGINT and SIGTERM signals after this method is called. </p>

<p>Definition at line <a class="el" href="../../df/d0a/main_8cpp_source.html#l00175">175</a> of file <a class="el" href="../../df/d0a/main_8cpp_source.html">main.cpp</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d0a/main_8cpp_af9fa431253586c10384ea7a2c8df7504_icgraph.png" border="0" usemap="#df/d0a/main_8cpp_af9fa431253586c10384ea7a2c8df7504_icgraph" alt=""/></div>
<map name="df/d0a/main_8cpp_af9fa431253586c10384ea7a2c8df7504_icgraph" id="df/d0a/main_8cpp_af9fa431253586c10384ea7a2c8df7504_icgraph">
<area shape="rect" id="node2" href="../../df/d0a/main_8cpp.html#a72dfe501a5b0c6d1753dc3bc888d33b9" title="Server code body function. " alt="" coords="205,5,288,32"/><area shape="rect" id="node3" href="../../df/d0a/main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="Program entry point. " alt="" coords="337,5,391,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a72dfe501a5b0c6d1753dc3bc888d33b9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int svr_main </td>
          <td>(</td>
          <td class="paramtype">std::shared_ptr&lt; <a class="el" href="../../dc/d9e/classCOptions.html">COptions</a> &gt;&#160;</td>
          <td class="paramname"><em>options</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Server code body function. </p>
<p>This function will block the thread, until INT or TERM signal is caught or error occures.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">options</td><td>Parsed command line options. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or error code. </dd></dl>

<p>Definition at line <a class="el" href="../../df/d0a/main_8cpp_source.html#l00194">194</a> of file <a class="el" href="../../df/d0a/main_8cpp_source.html">main.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d0a/main_8cpp_a72dfe501a5b0c6d1753dc3bc888d33b9_cgraph.png" border="0" usemap="#df/d0a/main_8cpp_a72dfe501a5b0c6d1753dc3bc888d33b9_cgraph" alt=""/></div>
<map name="df/d0a/main_8cpp_a72dfe501a5b0c6d1753dc3bc888d33b9_cgraph" id="df/d0a/main_8cpp_a72dfe501a5b0c6d1753dc3bc888d33b9_cgraph">
<area shape="rect" id="node2" href="../../df/d0a/main_8cpp.html#a8a98485430586dbfd0ac7b261808396a" title="Register handler to POSIX signals for applicatino termination. " alt="" coords="177,91,311,117"/><area shape="rect" id="node5" href="../../dc/dec/classopcua_1_1server_1_1COPCUaServer.html#a981ff5731dd750bbbdac9be229e78fbf" title="Map the CDS device tree to OPC UA node structure. " alt="" coords="137,179,351,221"/><area shape="rect" id="node19" href="../../dc/dec/classopcua_1_1server_1_1COPCUaServer.html#a8dbdf65fbeb6e6469b613c024d825acf" title="Execute the server core&#39;s main loop. " alt="" coords="137,245,351,286"/><area shape="rect" id="node20" href="../../df/d0a/main_8cpp.html#af9fa431253586c10384ea7a2c8df7504" title="Deregister POSIX signals handler. " alt="" coords="169,311,319,337"/><area shape="rect" id="node3" href="../../df/d0a/main_8cpp.html#a08068bc4e4e54ac750b524f2019910f7" title="POSIX signal handler. " alt="" coords="455,21,561,48"/><area shape="rect" id="node4" href="../../dc/dec/classopcua_1_1server_1_1COPCUaServer.html#a19a8aa9215fbb59268e14096d0591546" title="Stop the server main loop. " alt="" coords="665,5,879,46"/><area shape="rect" id="node6" href="../../d6/d82/namespaceopcua_1_1utils_1_1debug.html#a90e3350f7fa03064b760572ce715c503" title="Convert CDS Device into string, formated to fit into tree print format. " alt="" coords="419,147,597,189"/><area shape="rect" id="node8" href="../../dc/dec/classopcua_1_1server_1_1COPCUaServer.html#a92157786c7fcd77c1395400700c8169d" title="Create new OPC UA object node from CDS device. " alt="" coords="401,213,615,254"/><area shape="rect" id="node9" href="../../dc/dec/classopcua_1_1server_1_1COPCUaServer.html#a2f4afe003ac488ba3bb834be50fd0856" title="Update the CDS&#45;OPC UA map. " alt="" coords="401,278,615,319"/><area shape="rect" id="node10" href="../../dc/dec/classopcua_1_1server_1_1COPCUaServer.html#a7d254a4f0326eca566b22bbb5459714c" title="Create new OPC UA Variable node from CDS channel. " alt="" coords="401,343,615,385"/><area shape="rect" id="node17" href="../../d6/d82/namespaceopcua_1_1utils_1_1debug.html#a39852ab77ad4ee491b94019da92a896c" title="Convert CDS Channel into string, formated to fit into tree print format. " alt="" coords="415,82,601,123"/><area shape="rect" id="node7" href="../../d6/d82/namespaceopcua_1_1utils_1_1debug.html#a30e16b80b036d2678dea21ffdcede8ed" title="Create indent string for Device tree print. " alt="" coords="693,151,851,193"/><area shape="rect" id="node11" href="../../d1/dc8/namespaceopcua_1_1utils_1_1conv.html#a3aef0263f42a96bb5e55c016eef85c14" title="Convert CDS value data type to OPC UA value data type. " alt="" coords="677,343,867,385"/><area shape="rect" id="node12" href="../../d6/d82/namespaceopcua_1_1utils_1_1debug.html#a37fa3deafc2d64d72ea74a10c5e4fef0" title="Convert UA Node Id into C++ string. " alt="" coords="929,343,1074,385"/><area shape="rect" id="node13" href="../../d6/d82/namespaceopcua_1_1utils_1_1debug.html#a45947abfce3ebaccb18fd6ed4325c57d" title="Convert UA 32bit UInt into C++ string. " alt="" coords="1123,255,1282,297"/><area shape="rect" id="node14" href="../../d6/d82/namespaceopcua_1_1utils_1_1debug.html#a3a4902bfb2de53188ba133212588b397" title="Convert UA String into C++ string. " alt="" coords="1331,381,1485,422"/><area shape="rect" id="node15" href="../../d6/d82/namespaceopcua_1_1utils_1_1debug.html#a41626791ae48055c6efb627e668f38eb" title="Convert UA GUID into C++ string. " alt="" coords="1130,373,1275,414"/><area shape="rect" id="node16" href="../../d6/d82/namespaceopcua_1_1utils_1_1debug.html#a39a6de0cfc1686662e0a4bf73248871b" title="Convert UA ByteString into C++ string. " alt="" coords="1129,439,1276,495"/><area shape="rect" id="node18" href="../../d6/d82/namespaceopcua_1_1utils_1_1debug.html#a83b66f5071021d3a0d11c392a4f2aa46" title="Convert realtime channel state into string. " alt="" coords="697,71,847,127"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d0a/main_8cpp_a72dfe501a5b0c6d1753dc3bc888d33b9_icgraph.png" border="0" usemap="#df/d0a/main_8cpp_a72dfe501a5b0c6d1753dc3bc888d33b9_icgraph" alt=""/></div>
<map name="df/d0a/main_8cpp_a72dfe501a5b0c6d1753dc3bc888d33b9_icgraph" id="df/d0a/main_8cpp_a72dfe501a5b0c6d1753dc3bc888d33b9_icgraph">
<area shape="rect" id="node2" href="../../df/d0a/main_8cpp.html#a0ddf1224851353fc92bfbff6f499fa97" title="Program entry point. " alt="" coords="137,5,191,32"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0ddf1224851353fc92bfbff6f499fa97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>argv</em>[]&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Program entry point. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>Number of command line arguments </td></tr>
    <tr><td class="paramname">argv</td><td>Command line arguments </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 on success or error code. </dd></dl>

<p>Definition at line <a class="el" href="../../df/d0a/main_8cpp_source.html#l00278">278</a> of file <a class="el" href="../../df/d0a/main_8cpp_source.html">main.cpp</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../df/d0a/main_8cpp_a0ddf1224851353fc92bfbff6f499fa97_cgraph.png" border="0" usemap="#df/d0a/main_8cpp_a0ddf1224851353fc92bfbff6f499fa97_cgraph" alt=""/></div>
<map name="df/d0a/main_8cpp_a0ddf1224851353fc92bfbff6f499fa97_cgraph" id="df/d0a/main_8cpp_a0ddf1224851353fc92bfbff6f499fa97_cgraph">
<area shape="rect" id="node2" href="../../df/d0a/main_8cpp.html#af609bfc109371cac8911c2bf1622085c" title="Configure the syslog debugging options and levels for this application and the libpx library subsyste..." alt="" coords="109,169,197,196"/><area shape="rect" id="node3" href="../../df/d0a/main_8cpp.html#a72dfe501a5b0c6d1753dc3bc888d33b9" title="Server code body function. " alt="" coords="112,220,195,247"/><area shape="rect" id="node4" href="../../df/d0a/main_8cpp.html#a8a98485430586dbfd0ac7b261808396a" title="Register handler to POSIX signals for applicatino termination. " alt="" coords="286,91,421,117"/><area shape="rect" id="node7" href="../../dc/dec/classopcua_1_1server_1_1COPCUaServer.html#a981ff5731dd750bbbdac9be229e78fbf" title="Map the CDS device tree to OPC UA node structure. " alt="" coords="246,179,461,221"/><area shape="rect" id="node21" href="../../dc/dec/classopcua_1_1server_1_1COPCUaServer.html#a8dbdf65fbeb6e6469b613c024d825acf" title="Execute the server core&#39;s main loop. " alt="" coords="246,245,461,286"/><area shape="rect" id="node22" href="../../df/d0a/main_8cpp.html#af9fa431253586c10384ea7a2c8df7504" title="Deregister POSIX signals handler. " alt="" coords="278,311,429,337"/><area shape="rect" id="node5" href="../../df/d0a/main_8cpp.html#a08068bc4e4e54ac750b524f2019910f7" title="POSIX signal handler. " alt="" coords="564,21,671,48"/><area shape="rect" id="node6" href="../../dc/dec/classopcua_1_1server_1_1COPCUaServer.html#a19a8aa9215fbb59268e14096d0591546" title="Stop the server main loop. " alt="" coords="774,5,989,46"/><area shape="rect" id="node8" href="../../d6/d82/namespaceopcua_1_1utils_1_1debug.html#a90e3350f7fa03064b760572ce715c503" title="Convert CDS Device into string, formated to fit into tree print format. " alt="" coords="528,147,707,189"/><area shape="rect" id="node10" href="../../dc/dec/classopcua_1_1server_1_1COPCUaServer.html#a92157786c7fcd77c1395400700c8169d" title="Create new OPC UA object node from CDS device. " alt="" coords="510,213,725,254"/><area shape="rect" id="node11" href="../../dc/dec/classopcua_1_1server_1_1COPCUaServer.html#a2f4afe003ac488ba3bb834be50fd0856" title="Update the CDS&#45;OPC UA map. " alt="" coords="510,278,725,319"/><area shape="rect" id="node12" href="../../dc/dec/classopcua_1_1server_1_1COPCUaServer.html#a7d254a4f0326eca566b22bbb5459714c" title="Create new OPC UA Variable node from CDS channel. " alt="" coords="510,343,725,385"/><area shape="rect" id="node19" href="../../d6/d82/namespaceopcua_1_1utils_1_1debug.html#a39852ab77ad4ee491b94019da92a896c" title="Convert CDS Channel into string, formated to fit into tree print format. " alt="" coords="524,82,711,123"/><area shape="rect" id="node9" href="../../d6/d82/namespaceopcua_1_1utils_1_1debug.html#a30e16b80b036d2678dea21ffdcede8ed" title="Create indent string for Device tree print. " alt="" coords="803,151,960,193"/><area shape="rect" id="node13" href="../../d1/dc8/namespaceopcua_1_1utils_1_1conv.html#a3aef0263f42a96bb5e55c016eef85c14" title="Convert CDS value data type to OPC UA value data type. " alt="" coords="786,343,977,385"/><area shape="rect" id="node14" href="../../d6/d82/namespaceopcua_1_1utils_1_1debug.html#a37fa3deafc2d64d72ea74a10c5e4fef0" title="Convert UA Node Id into C++ string. " alt="" coords="1038,343,1183,385"/><area shape="rect" id="node15" href="../../d6/d82/namespaceopcua_1_1utils_1_1debug.html#a45947abfce3ebaccb18fd6ed4325c57d" title="Convert UA 32bit UInt into C++ string. " alt="" coords="1233,255,1391,297"/><area shape="rect" id="node16" href="../../d6/d82/namespaceopcua_1_1utils_1_1debug.html#a3a4902bfb2de53188ba133212588b397" title="Convert UA String into C++ string. " alt="" coords="1440,381,1595,422"/><area shape="rect" id="node17" href="../../d6/d82/namespaceopcua_1_1utils_1_1debug.html#a41626791ae48055c6efb627e668f38eb" title="Convert UA GUID into C++ string. " alt="" coords="1239,373,1385,414"/><area shape="rect" id="node18" href="../../d6/d82/namespaceopcua_1_1utils_1_1debug.html#a39a6de0cfc1686662e0a4bf73248871b" title="Convert UA ByteString into C++ string. " alt="" coords="1239,439,1385,495"/><area shape="rect" id="node20" href="../../d6/d82/namespaceopcua_1_1utils_1_1debug.html#a83b66f5071021d3a0d11c392a4f2aa46" title="Convert realtime channel state into string. " alt="" coords="806,71,957,127"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a753be691e23f7e512c65084011edc6e6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">boost::thread_specific_ptr&lt;toolkit::CSysLog&gt; _thr_local_syslog</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d0a/main_8cpp_source.html#l00028">28</a> of file <a class="el" href="../../df/d0a/main_8cpp_source.html">main.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aad17fd6598e0c094961ed3bc87c44a56"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::array&lt;unsigned int, <a class="el" href="../../d4/d3d/log_8hpp.html#a63c0d5db879d072af3574eee592ce9b6a013a0b3697e858402e96d6c54ce616a1">SVR_LOG_LIST_END</a>&gt; _svr_verb_array</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>An external map of verbosity levels for the different subsystems defined by svr_log_lvl_t. </p>
<p>Matches the array of substrings in <a class="el" href="../../dc/d9e/classCOptions.html#a3021c4cb65a49ed26a1e5ee37392e212" title="Array of strings used to identify server subsystems. ">COptions::subsystem_strings</a> </p>

<p>Definition at line <a class="el" href="../../df/d0a/main_8cpp_source.html#l00031">31</a> of file <a class="el" href="../../df/d0a/main_8cpp_source.html">main.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a0f084a8f33f3fc71f76bb5e9cc7baae0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/dec/classopcua_1_1server_1_1COPCUaServer.html">COPCUaServer</a>* opcua_srv_ptr = NULL</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pointer to OPC UA server instance, used by POSIX signals handler. </p>

<p>Definition at line <a class="el" href="../../df/d0a/main_8cpp_source.html#l00034">34</a> of file <a class="el" href="../../df/d0a/main_8cpp_source.html">main.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../dir_b2f33c71d4aa5e7af42a1ca61ff5af1b.html">source</a></li><li class="navelem"><a class="el" href="../../df/d0a/main_8cpp.html">main.cpp</a></li>
    <li class="footer">Generated on Fri May 7 2021 20:26:20 for opcua_server by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.5 </li>
  </ul>
</div>
</body>
</html>
